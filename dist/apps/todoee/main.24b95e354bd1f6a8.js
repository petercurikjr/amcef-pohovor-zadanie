"use strict";(self.webpackChunktodoee=self.webpackChunktodoee||[]).push([[179],{2011:(se,K,M)=>{M.d(K,{Dh:()=>oe,GT:()=>X,cc:()=>Me,hO:()=>ve,on:()=>G,pX:()=>Y,xv:()=>ee});var u=M(2223),V=M(9260),O=M(8405);se=M.hmd(se);const ne=["ngOnDestroy"],Y=(Ae,Fe,Le,Re={})=>new Proxy(Ae,{get:(Se,je)=>Le.runOutsideAngular(()=>{var We;if(Ae[je])return!(null===(We=Re?.spy)||void 0===We)&&We.get&&Re.spy.get(je,Ae[je]),Ae[je];if(ne.indexOf(je)>-1)return()=>{};const Ue=Fe.toPromise().then(de=>{const ft=de&&de[je];return"function"==typeof ft?ft.bind(de):ft&&ft.then?ft.then(ct=>Le.run(()=>ct)):Le.run(()=>ft)});return new Proxy(()=>{},{get:(de,ft)=>Ue[ft],apply:(de,ft,ct)=>Ue.then(Dn=>{var Zn;const Pi=Dn&&Dn(...ct);return!(null===(Zn=Re?.spy)||void 0===Zn)&&Zn.apply&&Re.spy.apply(je,ct,Pi),Pi})})})}),X=(Ae,Fe)=>{Fe.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Re=>{Object.defineProperty(Ae.prototype,Re,Object.getOwnPropertyDescriptor(Le.prototype||Le,Re))})})};class re{constructor(Fe){return Fe}}const oe=new u.OlP("angularfire2.app.options"),ee=new u.OlP("angularfire2.app.name");function G(Ae,Fe,Le){const Se="object"==typeof Le&&Le||{};Se.name=Se.name||"string"==typeof Le&&Le||"[DEFAULT]";const We=V.Z.apps.filter(Ue=>Ue&&Ue.name===Se.name)[0]||Fe.runOutsideAngular(()=>V.Z.initializeApp(Ae,Se));try{JSON.stringify(Ae)!==JSON.stringify(We.options)&&z("error",`${We.name} Firebase App already initialized with different options${se.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(We)}const z=(Ae,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ae](...Fe)},q={provide:re,useFactory:G,deps:[oe,u.R0b,[new u.FiY,ee]]};let ve=(()=>{class Ae{constructor(Le){V.Z.registerVersion("angularfire",O.q4.full,"core"),V.Z.registerVersion("angularfire",O.q4.full,"app-compat"),V.Z.registerVersion("angular",u.q4F.full,Le.toString())}static initializeApp(Le,Re){return{ngModule:Ae,providers:[{provide:oe,useValue:Le},{provide:ee,useValue:Re}]}}}return Ae.\u0275fac=function(Le){return new(Le||Ae)(u.LFG(u.Lbi))},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[q]}),Ae})();function Me(Ae,Fe,Le,Re,Se){const[,je,We]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===Ae)||[];if(je)return function Ze(Ae,Fe){try{return Ae.toString()===Fe.toString()}catch{return Ae===Fe}}(Se,We)||(be("error",`${Fe} was already initialized on the ${Le} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Se,was:We})),je;{const Ue=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Ue,Se]),Ue}}const st=!!se.hot,be=(Ae,...Fe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ae](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(se,K,M)=>{M.d(K,{q4:()=>pu,iC:()=>Ms,HU:()=>nc,vb:()=>fm,JM:()=>il});var u=M(2223),V=M(259),O=M(9671),ne=M(6881),Y=M(2090),X=M(4859),re=M(1877);const oe=(D,I)=>I.some(R=>D instanceof R);let ee,G;const ve=new WeakMap,Me=new WeakMap,Ze=new WeakMap,st=new WeakMap,be=new WeakMap;let Le={get(D,I,R){if(D instanceof IDBTransaction){if("done"===I)return Me.get(D);if("objectStoreNames"===I)return D.objectStoreNames||Ze.get(D);if("store"===I)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return We(D[I])},set:(D,I,R)=>(D[I]=R,!0),has:(D,I)=>D instanceof IDBTransaction&&("done"===I||"store"===I)||I in D};function je(D){return"function"==typeof D?function Se(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...I){return D.apply(Ue(this),I),We(ve.get(this))}:function(...I){return We(D.apply(Ue(this),I))}:function(I,...R){const j=D.call(Ue(this),I,...R);return Ze.set(j,I.sort?I.sort():[I]),We(j)}}(D):(D instanceof IDBTransaction&&function Fe(D){if(Me.has(D))return;const I=new Promise((R,j)=>{const ie=()=>{D.removeEventListener("complete",pe),D.removeEventListener("error",Oe),D.removeEventListener("abort",Oe)},pe=()=>{R(),ie()},Oe=()=>{j(D.error||new DOMException("AbortError","AbortError")),ie()};D.addEventListener("complete",pe),D.addEventListener("error",Oe),D.addEventListener("abort",Oe)});Me.set(D,I)}(D),oe(D,function z(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Le):D)}function We(D){if(D instanceof IDBRequest)return function Ae(D){const I=new Promise((R,j)=>{const ie=()=>{D.removeEventListener("success",pe),D.removeEventListener("error",Oe)},pe=()=>{R(We(D.result)),ie()},Oe=()=>{j(D.error),ie()};D.addEventListener("success",pe),D.addEventListener("error",Oe)});return I.then(R=>{R instanceof IDBCursor&&ve.set(R,D)}).catch(()=>{}),be.set(I,D),I}(D);if(st.has(D))return st.get(D);const I=je(D);return I!==D&&(st.set(D,I),be.set(I,D)),I}const Ue=D=>be.get(D),ct=["get","getKey","getAll","getAllKeys","count"],Dn=["put","add","delete","clear"],Zn=new Map;function Pi(D,I){if(!(D instanceof IDBDatabase)||I in D||"string"!=typeof I)return;if(Zn.get(I))return Zn.get(I);const R=I.replace(/FromIndex$/,""),j=I!==R,ie=Dn.includes(R);if(!(R in(j?IDBIndex:IDBObjectStore).prototype)||!ie&&!ct.includes(R))return;const pe=function(){var Oe=(0,O.Z)(function*(gt,...ht){const Pt=this.transaction(gt,ie?"readwrite":"readonly");let tn=Pt.store;return j&&(tn=tn.index(ht.shift())),(yield Promise.all([tn[R](...ht),ie&&Pt.done]))[0]});return function(ht){return Oe.apply(this,arguments)}}();return Zn.set(I,pe),pe}!function Re(D){Le=D(Le)}(D=>({...D,get:(I,R,j)=>Pi(I,R)||D.get(I,R,j),has:(I,R)=>!!Pi(I,R)||D.has(I,R)}));const lo="@firebase/installations",Ie="0.6.4",Ve=1e4,$e=`w:${Ie}`,Qe="FIS_v2",at="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Pe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(D){return D instanceof Y.ZR&&D.code.includes("request-failed")}function Rt({projectId:D}){return`${at}/projects/${D}/installations`}function zt(D){return{token:D.token,requestStatus:2,expiresIn:kr(D.expiresIn),creationTime:Date.now()}}function vn(D,I){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(D,I){const j=(yield I.json()).error;return Pe.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Qn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ni(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,O.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function kr(D){return Number(D.replace("s","000"))}function kt(){return(kt=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:R}){const j=Rt(D),ie=Qn(D),pe=I.getImmediate({optional:!0});if(pe){const Pt=yield pe.getHeartbeatsHeader();Pt&&ie.append("x-firebase-client",Pt)}const gt={method:"POST",headers:ie,body:JSON.stringify({fid:R,authVersion:Qe,appId:D.appId,sdkVersion:$e})},ht=yield Ni(()=>fetch(j,gt));if(ht.ok){const Pt=yield ht.json();return{fid:Pt.fid||R,registrationStatus:2,refreshToken:Pt.refreshToken,authToken:zt(Pt.authToken)}}throw yield vn("Create Installation",ht)})).apply(this,arguments)}function qn(D){return new Promise(I=>{setTimeout(I,D)})}const ti=/^[cdef][\w-]{21}$/,fn="";function Ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function pt(D){return function Ji(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ti.test(R)?R:fn}catch{return fn}}function ui(D){return`${D.appName}!${D.appId}`}const Ii=new Map;function dr(D,I){const R=ui(D);ji(R,I),function kn(D,I){const R=function Zt(){return!Rr&&"BroadcastChannel"in self&&(Rr=new BroadcastChannel("[Firebase] FID Change"),Rr.onmessage=D=>{ji(D.data.key,D.data.fid)}),Rr}();R&&R.postMessage({key:D,fid:I}),function vi(){0===Ii.size&&Rr&&(Rr.close(),Rr=null)}()}(R,I)}function ji(D,I){const R=Ii.get(D);if(R)for(const j of R)j(I)}let Rr=null;const er="firebase-installations-database",bo=1,ri="firebase-installations-store";let bi=null;function _n(){return bi||(bi=function de(D,I,{blocked:R,upgrade:j,blocking:ie,terminated:pe}={}){const Oe=indexedDB.open(D,I),gt=We(Oe);return j&&Oe.addEventListener("upgradeneeded",ht=>{j(We(Oe.result),ht.oldVersion,ht.newVersion,We(Oe.transaction))}),R&&Oe.addEventListener("blocked",()=>R()),gt.then(ht=>{pe&&ht.addEventListener("close",()=>pe()),ie&&ht.addEventListener("versionchange",()=>ie())}).catch(()=>{}),gt}(er,bo,{upgrade:(D,I)=>{0===I&&D.createObjectStore(ri)}})),bi}function di(D,I){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(D,I){const R=ui(D),ie=(yield _n()).transaction(ri,"readwrite"),pe=ie.objectStore(ri),Oe=yield pe.get(R);return yield pe.put(I,R),yield ie.done,(!Oe||Oe.fid!==I.fid)&&dr(D,I.fid),I})).apply(this,arguments)}function oi(D){return Or.apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(D){const I=ui(D),j=(yield _n()).transaction(ri,"readwrite");yield j.objectStore(ri).delete(I),yield j.done})).apply(this,arguments)}function Hi(D,I){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,O.Z)(function*(D,I){const R=ui(D),ie=(yield _n()).transaction(ri,"readwrite"),pe=ie.objectStore(ri),Oe=yield pe.get(R),gt=I(Oe);return void 0===gt?yield pe.delete(R):yield pe.put(gt,R),yield ie.done,gt&&(!Oe||Oe.fid!==gt.fid)&&dr(D,gt.fid),gt})).apply(this,arguments)}function te(D){return J.apply(this,arguments)}function J(){return J=(0,O.Z)(function*(D){let I;const R=yield Hi(D.appConfig,j=>{const ie=function L(D){return $t(D||{fid:Ot(),registrationStatus:0})}(j),pe=function B(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Pe.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},j=function N(D,I){return he.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:j}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:we(D)}:{installationEntry:I}}(D,ie);return I=pe.registrationPromise,pe.installationEntry});return R.fid===fn?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}}),J.apply(this,arguments)}function he(){return he=(0,O.Z)(function*(D,I){try{const R=yield function co(D,I){return kt.apply(this,arguments)}(D,I);return di(D.appConfig,R)}catch(R){throw tt(R)&&409===R.customData.serverCode?yield oi(D.appConfig):yield di(D.appConfig,{fid:I.fid,registrationStatus:0}),R}}),he.apply(this,arguments)}function we(D){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(D){let I=yield Gt(D.appConfig);for(;1===I.registrationStatus;)yield qn(100),I=yield Gt(D.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:j}=yield te(D);return j||R}return I})).apply(this,arguments)}function Gt(D){return Hi(D,I=>{if(!I)throw Pe.create("installation-not-found");return $t(I)})}function $t(D){return function En(D){return 1===D.registrationStatus&&D.registrationTime+Ve<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Rn(){return(Rn=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:I},R){const j=function ln(D,{fid:I}){return`${Rt(D)}/${I}/authTokens:generate`}(D,R),ie=function Ui(D,{refreshToken:I}){const R=Qn(D);return R.append("Authorization",function Ho(D){return`${Qe} ${D}`}(I)),R}(D,R),pe=I.getImmediate({optional:!0});if(pe){const Pt=yield pe.getHeartbeatsHeader();Pt&&ie.append("x-firebase-client",Pt)}const gt={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:$e,appId:D.appId}})},ht=yield Ni(()=>fetch(j,gt));if(ht.ok)return zt(yield ht.json());throw yield vn("Generate Auth Token",ht)})).apply(this,arguments)}function zi(D){return uo.apply(this,arguments)}function uo(){return uo=(0,O.Z)(function*(D,I=!1){let R;const j=yield Hi(D.appConfig,pe=>{if(!un(pe))throw Pe.create("not-registered");const Oe=pe.authToken;if(!I&&function In(D){return 2===D.requestStatus&&!function Fi(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+Je}(D)}(Oe))return pe;if(1===Oe.requestStatus)return R=function Ne(D,I){return ge.apply(this,arguments)}(D,I),pe;{if(!navigator.onLine)throw Pe.create("app-offline");const gt=function wi(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}(pe);return R=function At(D,I){return Wt.apply(this,arguments)}(D,gt),gt}});return R?yield R:j.authToken}),uo.apply(this,arguments)}function ge(){return(ge=(0,O.Z)(function*(D,I){let R=yield et(D.appConfig);for(;1===R.authToken.requestStatus;)yield qn(100),R=yield et(D.appConfig);const j=R.authToken;return 0===j.requestStatus?zi(D,I):j})).apply(this,arguments)}function et(D){return Hi(D,I=>{if(!un(I))throw Pe.create("not-registered");return function Ti(D){return 1===D.requestStatus&&D.requestTime+Ve<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Wt(){return Wt=(0,O.Z)(function*(D,I){try{const R=yield function Vt(D,I){return Rn.apply(this,arguments)}(D,I),j=Object.assign(Object.assign({},I),{authToken:R});return yield di(D.appConfig,j),R}catch(R){if(!tt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const j=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield di(D.appConfig,j)}else yield oi(D.appConfig);throw R}}),Wt.apply(this,arguments)}function un(D){return void 0!==D&&2===D.registrationStatus}function Vs(){return(Vs=(0,O.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:j}=yield te(I);return j?j.catch(console.error):zi(I).catch(console.error),R.fid})).apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(D,I=!1){const R=D;return yield function ts(D){return ns.apply(this,arguments)}(R),(yield zi(R,I)).token}),Bs.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(D){const{registrationPromise:I}=yield te(D);I&&(yield I)})).apply(this,arguments)}function wo(D){return Pe.create("missing-app-config-values",{valueName:D})}const ya="installations",Us=D=>{const I=D.getProvider("app").getImmediate(),R=function ja(D){if(!D||!D.options)throw wo("App Configuration");if(!D.name)throw wo("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw wo(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ne._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ba=D=>{const I=D.getProvider("app").getImmediate(),R=(0,ne._getProvider)(I,ya).getImmediate();return{getId:()=>function Ls(D){return Vs.apply(this,arguments)}(R),getToken:ie=>function Pc(D){return Bs.apply(this,arguments)}(R,ie)}};(function yn(){(0,ne._registerComponent)(new X.wA(ya,Us,"PUBLIC")),(0,ne._registerComponent)(new X.wA("installations-internal",ba,"PRIVATE"))})(),(0,ne.registerVersion)(lo,Ie),(0,ne.registerVersion)(lo,Ie,"esm2017");const Mi="@firebase/remote-config",_e=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tl{constructor(I,R,j,ie){this.client=I,this.storage=R,this.storageCache=j,this.logger=ie}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-R,ie=j<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ie}.`),ie}fetch(I){var R=this;return(0,O.Z)(function*(){const[j,ie]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ie&&R.isCachedDataFresh(I.cacheMaxAgeMillis,j))return ie;I.eTag=ie&&ie.eTag;const pe=yield R.client.fetch(I),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Oe),pe})()}}function zs(D=navigator){return D.languages&&D.languages[0]||D.language}class Eo{constructor(I,R,j,ie,pe,Oe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=j,this.projectId=ie,this.apiKey=pe,this.appId=Oe}fetch(I){var R=this;return(0,O.Z)(function*(){const[j,ie]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ht={sdk_version:R.sdkVersion,app_instance_id:j,app_instance_id_token:ie,app_id:R.appId,language_code:zs()},Pt={method:"POST",headers:gt,body:JSON.stringify(ht)},tn=fetch(Oe,Pt),nn=new Promise((mn,sr)=>{I.signal.addEventListener(()=>{const mu=new Error("The operation was aborted.");mu.name="AbortError",sr(mu)})});let Kr;try{yield Promise.race([tn,nn]),Kr=yield tn}catch(mn){let sr="fetch-client-network";throw"AbortError"===mn?.name&&(sr="fetch-timeout"),_e.create(sr,{originalErrorMessage:mn?.message})}let Zi=Kr.status;const ic=Kr.headers.get("ETag")||void 0;let rl,Nt;if(200===Kr.status){let mn;try{mn=yield Kr.json()}catch(sr){throw _e.create("fetch-client-parse",{originalErrorMessage:sr?.message})}rl=mn.entries,Nt=mn.state}if("INSTANCE_STATE_UNSPECIFIED"===Nt?Zi=500:"NO_CHANGE"===Nt?Zi=304:("NO_TEMPLATE"===Nt||"EMPTY_CONFIG"===Nt)&&(rl={}),304!==Zi&&200!==Zi)throw _e.create("fetch-status",{httpStatus:Zi});return{status:Zi,eTag:ic,config:rl}})()}}class vs{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const j=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,j)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:j}){var ie=this;return(0,O.Z)(function*(){yield function _s(D,I){return new Promise((R,j)=>{const ie=Math.max(I-Date.now(),0),pe=setTimeout(R,ie);D.addEventListener(()=>{clearTimeout(pe),j(_e.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const pe=yield ie.client.fetch(I);return yield ie.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function qp(D){if(!(D instanceof Y.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(pe))throw pe;const Oe={throttleEndTimeMillis:Date.now()+(0,Y.$s)(j),backoffCount:j+1};return yield ie.storage.setThrottleMetadata(Oe),ie.attemptFetch(I,Oe)}})()}}class za{constructor(I,R,j,ie,pe){this.app=I,this._client=R,this._storageCache=j,this._storage=ie,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function en(D,I){const R=D.target.error||void 0;return _e.create(I,{originalErrorMessage:R&&R?.message})}const $a="app_namespace_store";class Sl{constructor(I,R,j,ie=function $s(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=j=>{I(en(j,"storage-open"))},R.onsuccess=j=>{D(j.target.result)},R.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore($a,{keyPath:"compositeKey"})}}catch(R){I(_e.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=I,this.appName=R,this.namespace=j,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ie,pe)=>{const gt=j.transaction([$a],"readonly").objectStore($a),ht=R.createCompositeKey(I);try{const Pt=gt.get(ht);Pt.onerror=tn=>{pe(en(tn,"storage-get"))},Pt.onsuccess=tn=>{const nn=tn.target.result;ie(nn?nn.value:void 0)}}catch(Pt){pe(_e.create("storage-get",{originalErrorMessage:Pt?.message}))}})})()}set(I,R){var j=this;return(0,O.Z)(function*(){const ie=yield j.openDbPromise;return new Promise((pe,Oe)=>{const ht=ie.transaction([$a],"readwrite").objectStore($a),Pt=j.createCompositeKey(I);try{const tn=ht.put({compositeKey:Pt,value:R});tn.onerror=nn=>{Oe(en(nn,"storage-set"))},tn.onsuccess=()=>{pe()}}catch(tn){Oe(_e.create("storage-set",{originalErrorMessage:tn?.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const j=yield R.openDbPromise;return new Promise((ie,pe)=>{const gt=j.transaction([$a],"readwrite").objectStore($a),ht=R.createCompositeKey(I);try{const Pt=gt.delete(ht);Pt.onerror=tn=>{pe(en(tn,"storage-delete"))},Pt.onsuccess=()=>{ie()}}catch(Pt){pe(_e.create("storage-delete",{originalErrorMessage:Pt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ho{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),j=I.storage.getLastSuccessfulFetchTimestampMillis(),ie=I.storage.getActiveConfig(),pe=yield R;pe&&(I.lastFetchStatus=pe);const Oe=yield j;Oe&&(I.lastSuccessfulFetchTimestampMillis=Oe);const gt=yield ie;gt&&(I.activeConfig=gt)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function fo(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function rs(){(0,ne._registerComponent)(new X.wA("remote-config",function D(I,{instanceIdentifier:R}){const j=I.getProvider("app").getImmediate(),ie=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _e.create("registration-window");if(!(0,Y.hl)())throw _e.create("indexed-db-unavailable");const{projectId:pe,apiKey:Oe,appId:gt}=j.options;if(!pe)throw _e.create("registration-project-id");if(!Oe)throw _e.create("registration-api-key");if(!gt)throw _e.create("registration-app-id");const ht=new Sl(gt,j.name,R=R||"firebase"),Pt=new ho(ht),tn=new re.Yd(Mi);tn.logLevel=re.in.ERROR;const nn=new Eo(ie,ne.SDK_VERSION,R,pe,Oe,gt),Kr=new vs(nn,ht),Zi=new Tl(Kr,ht,Pt,tn),ic=new za(j,Zi,Pt,ht,tn);return function Bn(D){const I=(0,Y.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ic),ic},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Mi,"0.4.4"),(0,ne.registerVersion)(Mi,"0.4.4","esm2017")}();const cd=(D,I)=>I.some(R=>D instanceof R);let Co,Ea;const Al=new WeakMap,Lc=new WeakMap,br=new WeakMap,Vc=new WeakMap,kl=new WeakMap;let af={get(D,I,R){if(D instanceof IDBTransaction){if("done"===I)return Lc.get(D);if("objectStoreNames"===I)return D.objectStoreNames||br.get(D);if("store"===I)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return os(D[I])},set:(D,I,R)=>(D[I]=R,!0),has:(D,I)=>D instanceof IDBTransaction&&("done"===I||"store"===I)||I in D};function lf(D){return"function"==typeof D?function u_(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ud(){return Ea||(Ea=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...I){return D.apply(hd(this),I),os(Al.get(this))}:function(...I){return os(D.apply(hd(this),I))}:function(I,...R){const j=D.call(hd(this),I,...R);return br.set(j,I.sort?I.sort():[I]),os(j)}}(D):(D instanceof IDBTransaction&&function dd(D){if(Lc.has(D))return;const I=new Promise((R,j)=>{const ie=()=>{D.removeEventListener("complete",pe),D.removeEventListener("error",Oe),D.removeEventListener("abort",Oe)},pe=()=>{R(),ie()},Oe=()=>{j(D.error||new DOMException("AbortError","AbortError")),ie()};D.addEventListener("complete",pe),D.addEventListener("error",Oe),D.addEventListener("abort",Oe)});Lc.set(D,I)}(D),cd(D,function po(){return Co||(Co=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,af):D)}function os(D){if(D instanceof IDBRequest)return function sf(D){const I=new Promise((R,j)=>{const ie=()=>{D.removeEventListener("success",pe),D.removeEventListener("error",Oe)},pe=()=>{R(os(D.result)),ie()},Oe=()=>{j(D.error),ie()};D.addEventListener("success",pe),D.addEventListener("error",Oe)});return I.then(R=>{R instanceof IDBCursor&&Al.set(R,D)}).catch(()=>{}),kl.set(I,D),I}(D);if(Vc.has(D))return Vc.get(D);const I=lf(D);return I!==D&&(Vc.set(D,I),kl.set(I,D)),I}const hd=D=>kl.get(D);function Bc(D,I,{blocked:R,upgrade:j,blocking:ie,terminated:pe}={}){const Oe=indexedDB.open(D,I),gt=os(Oe);return j&&Oe.addEventListener("upgradeneeded",ht=>{j(os(Oe.result),ht.oldVersion,ht.newVersion,os(Oe.transaction))}),R&&Oe.addEventListener("blocked",()=>R()),gt.then(ht=>{pe&&ht.addEventListener("close",()=>pe()),ie&&ht.addEventListener("versionchange",()=>ie())}).catch(()=>{}),gt}function Uc(D,{blocked:I}={}){const R=indexedDB.deleteDatabase(D);return I&&R.addEventListener("blocked",()=>I()),os(R).then(()=>{})}const Kp=["get","getKey","getAll","getAllKeys","count"],jc=["put","add","delete","clear"],Hc=new Map;function fd(D,I){if(!(D instanceof IDBDatabase)||I in D||"string"!=typeof I)return;if(Hc.get(I))return Hc.get(I);const R=I.replace(/FromIndex$/,""),j=I!==R,ie=jc.includes(R);if(!(R in(j?IDBIndex:IDBObjectStore).prototype)||!ie&&!Kp.includes(R))return;const pe=function(){var Oe=(0,O.Z)(function*(gt,...ht){const Pt=this.transaction(gt,ie?"readwrite":"readonly");let tn=Pt.store;return j&&(tn=tn.index(ht.shift())),(yield Promise.all([tn[R](...ht),ie&&Pt.done]))[0]});return function(ht){return Oe.apply(this,arguments)}}();return Hc.set(I,pe),pe}!function Yp(D){af=D(af)}(D=>({...D,get:(I,R,j)=>fd(I,R)||D.get(I,R,j),has:(I,R)=>!!fd(I,R)||D.has(I,R)}));const pd="/firebase-messaging-sw.js",cf="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",md="https://fcmregistrations.googleapis.com/v1",uf="google.c.a.c_id",hi="google.c.a.c_l",Zp="google.c.a.ts";var ws=(()=>((ws=ws||{}).PUSH_RECEIVED="push-received",ws.NOTIFICATION_CLICKED="notification-clicked",ws))();function $o(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hf(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(R),ie=new Uint8Array(j.length);for(let pe=0;pe<j.length;++pe)ie[pe]=j.charCodeAt(pe);return ie}const Gr="fcm_token_details_db",Gs=5,ir="fcm_token_object_Store";function zc(){return zc=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Gr))return null;let I=null;return(yield Bc(Gr,Gs,{upgrade:(j=(0,O.Z)(function*(ie,pe,Oe,gt){var ht;if(pe<2||!ie.objectStoreNames.contains(ir))return;const Pt=gt.objectStore(ir),tn=yield Pt.index("fcmSenderId").get(D);if(yield Pt.clear(),tn)if(2===pe){const nn=tn;if(!nn.auth||!nn.p256dh||!nn.endpoint)return;I={token:nn.fcmToken,createTime:null!==(ht=nn.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:nn.auth,p256dh:nn.p256dh,endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:"string"==typeof nn.vapidKey?nn.vapidKey:$o(nn.vapidKey)}}}else if(3===pe){const nn=tn;I={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:$o(nn.auth),p256dh:$o(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:$o(nn.vapidKey)}}}else if(4===pe){const nn=tn;I={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:$o(nn.auth),p256dh:$o(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:$o(nn.vapidKey)}}}}),function(pe,Oe,gt,ht){return j.apply(this,arguments)})})).close(),yield Uc(Gr),yield Uc("fcm_vapid_details_db"),yield Uc("undefined"),function Ol(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var j}),zc.apply(this,arguments)}const gd="firebase-messaging-database",Ws=1,xo="firebase-messaging-store";let $c=null;function _d(){return $c||($c=Bc(gd,Ws,{upgrade:(D,I)=>{0===I&&D.createObjectStore(xo)}})),$c}function Ca(D){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,O.Z)(function*(D){const I=Xp(D),j=yield(yield _d()).transaction(xo).objectStore(xo).get(I);if(j)return j;{const ie=yield function Rl(D){return zc.apply(this,arguments)}(D.appConfig.senderId);if(ie)return yield xa(D,ie),ie}}),Gc.apply(this,arguments)}function xa(D,I){return ff.apply(this,arguments)}function ff(){return(ff=(0,O.Z)(function*(D,I){const R=Xp(D),ie=(yield _d()).transaction(xo,"readwrite");return yield ie.objectStore(xo).put(I,R),yield ie.done,I})).apply(this,arguments)}function Pl(){return(Pl=(0,O.Z)(function*(D){const I=Xp(D),j=(yield _d()).transaction(xo,"readwrite");yield j.objectStore(xo).delete(I),yield j.done})).apply(this,arguments)}function Xp({appConfig:D}){return D.appId}const rr=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function d_(D,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(D,I){const R=yield Fl(D),j=Yc(I),ie={method:"POST",headers:R,body:JSON.stringify(j)};let pe;try{pe=yield(yield fetch(vd(D.appConfig),ie)).json()}catch(Oe){throw rr.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(pe.error)throw rr.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw rr.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Wc(){return(Wc=(0,O.Z)(function*(D,I){const R=yield Fl(D),j=Yc(I.subscriptionOptions),ie={method:"PATCH",headers:R,body:JSON.stringify(j)};let pe;try{pe=yield(yield fetch(`${vd(D.appConfig)}/${I.token}`,ie)).json()}catch(Oe){throw rr.create("token-update-failed",{errorInfo:Oe?.toString()})}if(pe.error)throw rr.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw rr.create("token-update-no-token");return pe.token})).apply(this,arguments)}function tm(D,I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,O.Z)(function*(D,I){const j={method:"DELETE",headers:yield Fl(D)};try{const pe=yield(yield fetch(`${vd(D.appConfig)}/${I}`,j)).json();if(pe.error)throw rr.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(ie){throw rr.create("token-unsubscribe-failed",{errorInfo:ie?.toString()})}})).apply(this,arguments)}function vd({projectId:D}){return`${md}/projects/${D}/registrations`}function Fl(D){return qc.apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Yc({p256dh:D,auth:I,endpoint:R,vapidKey:j}){const ie={web:{endpoint:R,auth:I,p256dh:D}};return j!==bs&&(ie.web.applicationPubKey=j),ie}const ss=6048e5;function bd(){return bd=(0,O.Z)(function*(D){const I=yield function Vl(D,I){return Lr.apply(this,arguments)}(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:$o(I.getKey("auth")),p256dh:$o(I.getKey("p256dh"))},j=yield Ca(D.firebaseDependencies);if(j){if(function Zc(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}(j.subscriptionOptions,R))return Date.now()>=j.createTime+ss?function Ll(D,I){return Fr.apply(this,arguments)}(D,{token:j.token,createTime:Date.now(),subscriptionOptions:R}):j.token;try{yield tm(D.firebaseDependencies,j.token)}catch(ie){console.warn(ie)}return Wa(D.firebaseDependencies,R)}return Wa(D.firebaseDependencies,R)}),bd.apply(this,arguments)}function wd(){return wd=(0,O.Z)(function*(D){const I=yield Ca(D.firebaseDependencies);I&&(yield tm(D.firebaseDependencies,I.token),yield function Qp(D){return Pl.apply(this,arguments)}(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),wd.apply(this,arguments)}function Fr(){return Fr=(0,O.Z)(function*(D,I){try{const R=yield function em(D,I){return Wc.apply(this,arguments)}(D.firebaseDependencies,I),j=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield xa(D.firebaseDependencies,j),R}catch(R){throw yield function fi(D){return wd.apply(this,arguments)}(D),R}}),Fr.apply(this,arguments)}function Wa(D,I){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,O.Z)(function*(D,I){const j={token:yield d_(D,I),createTime:Date.now(),subscriptionOptions:I};return yield xa(D,j),j.token})).apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hf(I)})})).apply(this,arguments)}function Bl(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Dd(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const j=I.notification.body;j&&(D.notification.body=j);const ie=I.notification.image;ie&&(D.notification.image=ie);const pe=I.notification.icon;pe&&(D.notification.icon=pe)}(I,D),function Go(D,I){I.data&&(D.data=I.data)}(I,D),function nm(D,I){var R,j,ie,pe,Oe;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;D.fcmOptions={};const gt=null!==(ie=null===(j=I.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==ie?ie:null===(pe=I.notification)||void 0===pe?void 0:pe.click_action;gt&&(D.fcmOptions.link=gt);const ht=null===(Oe=I.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;ht&&(D.fcmOptions.analyticsLabel=ht)}(I,D),I}function Ed(D,I){const R=[];for(let j=0;j<D.length;j++)R.push(D.charAt(j)),j<I.length&&R.push(I.charAt(j));return R.join("")}function Cd(D){return rr.create("missing-app-config-values",{valueName:D})}Ed("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ed("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pf{constructor(I,R,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function im(D){if(!D||!D.options)throw Cd("App Configuration Object");if(!D.name)throw Cd("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const j of I)if(!R[j])throw Cd(j);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ie,installations:R,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Xc(){return(Xc=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(pd,{scope:cf}),D.swRegistration.update().catch(()=>{})}catch(I){throw rr.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function as(){return(as=(0,O.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield function Yt(D){return Xc.apply(this,arguments)}(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw rr.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function jl(){return(jl=(0,O.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=bs)})).apply(this,arguments)}function qs(){return qs=(0,O.Z)(function*(D,I){if(!navigator)throw rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rr.create("permission-blocked");return yield function Ul(D,I){return jl.apply(this,arguments)}(D,I?.vapidKey),yield function Jc(D,I){return as.apply(this,arguments)}(D,I?.serviceWorkerRegistration),function yd(D){return bd.apply(this,arguments)}(D)}),qs.apply(this,arguments)}function xd(){return(xd=(0,O.Z)(function*(D,I,R){const j=function rm(D){switch(D){case ws.NOTIFICATION_CLICKED:return"notification_open";case ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:R[uf],message_name:R[hi],message_time:R[Zp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hl(){return Hl=(0,O.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===ws.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Bl(R)):D.onMessageHandler.next(Bl(R)));const j=R.data;(function Qc(D){return"object"==typeof D&&!!D&&uf in D})(j)&&"1"===j["google.c.a.e"]&&(yield function h_(D,I,R){return xd.apply(this,arguments)}(D,R.messageType,j))}),Hl.apply(this,arguments)}const Ke="@firebase/messaging",zl=D=>{const I=new pf(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Id(D,I){return Hl.apply(this,arguments)}(I,R)),I},mf=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:j=>function eu(D,I){return qs.apply(this,arguments)}(I,j)}};function tu(){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wr(){(0,ne._registerComponent)(new X.wA("messaging",zl,"PUBLIC")),(0,ne._registerComponent)(new X.wA("messaging-internal",mf,"PRIVATE")),(0,ne.registerVersion)(Ke,"0.12.4"),(0,ne.registerVersion)(Ke,"0.12.4","esm2017")}();const nu="analytics",Ds="firebase_id",Ks="origin",Td=6e4,gf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Md="https://www.googletagmanager.com/gtag/js",Wi=new re.Yd("@firebase/analytics"),qi=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function iu(D){if(!D.startsWith(Md)){const I=qi.create("invalid-gtag-resource",{gtagURL:D});return Wi.warn(I.message),""}return D}function Es(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function Ya(){return(Ya=(0,O.Z)(function*(D,I,R,j,ie,pe){const Oe=j[ie];try{if(Oe)yield I[Oe];else{const ht=(yield Es(R)).find(Pt=>Pt.measurementId===ie);ht&&(yield I[ht.appId])}}catch(gt){Wi.error(gt)}D("config",ie,pe)})).apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(D,I,R,j,ie){try{let pe=[];if(ie&&ie.send_to){let Oe=ie.send_to;Array.isArray(Oe)||(Oe=[Oe]);const gt=yield Es(R);for(const ht of Oe){const Pt=gt.find(nn=>nn.measurementId===ht),tn=Pt&&I[Pt.appId];if(!tn){pe=[];break}pe.push(tn)}}0===pe.length&&(pe=Object.values(I)),yield Promise.all(pe),D("event",j,ie||{})}catch(pe){Wi.error(pe)}})).apply(this,arguments)}const Dr=30,vf=new class Si{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function f_(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function bf(){return(bf=(0,O.Z)(function*(D){var I;const{appId:R,apiKey:j}=D,ie={method:"GET",headers:f_(j)},pe=gf.replace("{app-id}",R),Oe=yield fetch(pe,ie);if(200!==Oe.status&&304!==Oe.status){let gt="";try{const ht=yield Oe.json();null!==(I=ht.error)&&void 0!==I&&I.message&&(gt=ht.error.message)}catch{}throw qi.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:gt})}return Oe.json()})).apply(this,arguments)}function kd(){return(kd=(0,O.Z)(function*(D,I=vf,R){const{appId:j,apiKey:ie,measurementId:pe}=D.options;if(!j)throw qi.create("no-app-id");if(!ie){if(pe)return{measurementId:pe,appId:j};throw qi.create("no-api-key")}const Oe=I.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gt=new Od;return setTimeout((0,O.Z)(function*(){gt.abort()}),void 0!==R?R:Td),ou({appId:j,apiKey:ie,measurementId:pe},Oe,gt,I)})).apply(this,arguments)}function ou(D,I,R){return xs.apply(this,arguments)}function xs(){return xs=(0,O.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},j,ie=vf){var pe;const{appId:Oe,measurementId:gt}=D;try{yield function wf(D,I){return new Promise((R,j)=>{const ie=Math.max(I-Date.now(),0),pe=setTimeout(R,ie);D.addEventListener(()=>{clearTimeout(pe),j(qi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(j,I)}catch(ht){if(gt)return Wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:Oe,measurementId:gt};throw ht}try{const ht=yield function yf(D){return bf.apply(this,arguments)}(D);return ie.deleteThrottleMetadata(Oe),ht}catch(ht){const Pt=ht;if(!function Rd(D){if(!(D instanceof Y.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Pt)){if(ie.deleteThrottleMetadata(Oe),gt)return Wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Oe,measurementId:gt};throw ht}const tn=503===Number(null===(pe=Pt?.customData)||void 0===pe?void 0:pe.httpStatus)?(0,Y.$s)(R,ie.intervalMillis,Dr):(0,Y.$s)(R,ie.intervalMillis),nn={throttleEndTimeMillis:Date.now()+tn,backoffCount:R+1};return ie.setThrottleMetadata(Oe,nn),Wi.debug(`Calling attemptFetch again in ${tn} millis`),ou(D,nn,j,ie)}}),xs.apply(this,arguments)}class Od{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ka,Kl;function Pd(){return(Pd=(0,O.Z)(function*(D,I,R,j,ie){if(ie&&ie.global)D("event",R,j);else{const pe=yield I;D("event",R,Object.assign(Object.assign({},j),{send_to:pe}))}})).apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(){if(!(0,Y.hl)())return Wi.warn(qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(D){return Wi.warn(qi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function fr(){return fr=(0,O.Z)(function*(D,I,R,j,ie,pe,Oe){var gt;const ht=function ru(D){return kd.apply(this,arguments)}(D);ht.then(Zi=>{R[Zi.measurementId]=Zi.appId,D.options.measurementId&&Zi.measurementId!==D.options.measurementId&&Wi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zi=>Wi.error(Zi)),I.push(ht);const Pt=function lu(){return Qa.apply(this,arguments)}().then(Zi=>{if(Zi)return j.getId()}),[tn,nn]=yield Promise.all([ht,Pt]);(function lm(D){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(Md)&&R.src.includes(D))return R;return null})(pe)||function sm(D,I){const R=function Wl(D,I){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(D,I)),R}("firebase-js-sdk-policy",{createScriptURL:iu}),j=document.createElement("script"),ie=`${Md}?l=${D}&id=${I}`;j.src=R?R?.createScriptURL(ie):ie,j.async=!0,document.head.appendChild(j)}(pe,tn.measurementId),Kl&&(ie("consent","default",Kl),function au(D){Kl=D}(void 0)),ie("js",new Date);const Kr=null!==(gt=Oe?.config)&&void 0!==gt?gt:{};return Kr[Ks]="firebase",Kr.update=!0,null!=nn&&(Kr[Ds]=nn),ie("config",tn.measurementId,Kr),Ka&&(ie("set",Ka),function Zl(D){Ka=D}(void 0)),tn.measurementId}),fr.apply(this,arguments)}class Li{constructor(I){this.app=I}_delete(){return delete cn[this.app.options.appId],Promise.resolve()}}let cn={},Cr=[];const tr={};let cs,It,Xa="dataLayer",or=!1;function qo(D,I,R){!function cu(){const D=[];if((0,Y.ru)()&&D.push("This is a browser extension environment."),(0,Y.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((j,ie)=>`(${ie+1}) ${j}`).join(" "),R=qi.create("invalid-analytics-context",{errorInfo:I});Wi.warn(R.message)}}();const j=D.options.appId;if(!j)throw qi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw qi.create("no-api-key");Wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cn[j])throw qi.create("already-exists",{id:j});if(!or){!function ql(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Xa);const{wrappedGtag:pe,gtagCore:Oe}=function am(D,I,R,j,ie){let pe=function(...Oe){window[j].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(pe=window[ie]),window[ie]=function Wo(D,I,R,j){function pe(){return pe=(0,O.Z)(function*(Oe,...gt){try{if("event"===Oe){const[ht,Pt]=gt;yield function Ad(D,I,R,j,ie){return Ia.apply(this,arguments)}(D,I,R,ht,Pt)}else if("config"===Oe){const[ht,Pt]=gt;yield function _f(D,I,R,j,ie,pe){return Ya.apply(this,arguments)}(D,I,R,j,ht,Pt)}else if("consent"===Oe){const[ht]=gt;D("consent","update",ht)}else if("get"===Oe){const[ht,Pt,tn]=gt;D("get",ht,Pt,tn)}else if("set"===Oe){const[ht]=gt;D("set",ht)}else D(Oe,...gt)}catch(ht){Wi.error(ht)}}),pe.apply(this,arguments)}return function ie(Oe){return pe.apply(this,arguments)}}(pe,D,I,R),{gtagCore:pe,wrappedGtag:window[ie]}}(cn,Cr,tr,Xa,"gtag");It=pe,cs=Oe,or=!0}return cn[j]=function hn(D,I,R,j,ie,pe,Oe){return fr.apply(this,arguments)}(D,Cr,tr,I,cs,Xa,R),new Li(D)}function qt(){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}const tl="@firebase/analytics";!function xf(){(0,ne._registerComponent)(new X.wA(nu,(I,{options:R})=>qo(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ne._registerComponent)(new X.wA("analytics-internal",function D(I){try{const R=I.getProvider(nu).getImmediate();return{logEvent:(j,ie,pe)=>function Ta(D,I,R,j){D=(0,Y.m9)(D),function su(D,I,R,j,ie){return Pd.apply(this,arguments)}(It,cn[D.app.options.appId],I,R,j).catch(ie=>Wi.error(ie))}(R,j,ie,pe)}}catch(R){throw qi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ne.registerVersion)(tl,"0.10.0"),(0,ne.registerVersion)(tl,"0.10.0","esm2017")}();var Ld=M(233),fu=M(4986),Zs=M(8505),Qs=M(9468),Xs=M(5363);const pu=new u.GfV("7.6.1"),Ql="__angularfire_symbol__analyticsIsSupportedValue",us="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",Jl="__angularfire_symbol__remoteConfigIsSupported",nl="__angularfire_symbol__messagingIsSupportedValue",ec="__angularfire_symbol__messagingIsSupported";function il(D,I,R){if(I){if(1===I.length)return I[0];const pe=I.filter(Oe=>Oe.app===R);if(1===pe.length)return pe[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[us]||(globalThis[us]=qt().then(D=>globalThis[Ql]=D).catch(()=>globalThis[Ql]=!1)),globalThis[ec]||(globalThis[ec]=tu().then(D=>globalThis[nl]=D).catch(()=>globalThis[nl]=!1)),globalThis[Jl]||(globalThis[Jl]=fo().then(D=>globalThis[Xl]=D).catch(()=>globalThis[Xl]=!1));const fm=(D,I)=>{const R=I?[I]:(0,V.C6)(),j=[];return R.forEach(ie=>{ie.container.getProvider(D).instances.forEach(Oe=>{j.includes(Oe)||j.push(Oe)})}),j};function Js(){}class Ki{constructor(I,R=Ld.N){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,j){const ie=this.zone;return this.delegate.schedule(function(Oe){ie.runGuarded(()=>{I.apply(this,[Oe])})},R,j)}}class pm{constructor(I){this.zone=I,this.task=null}call(I,R){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),R.pipe((0,Zs.b)({next:j,complete:j,error:j})).subscribe(I).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nc=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ki(Zone.current)),this.insideAngular=R.run(()=>new Ki(Zone.current,fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ts(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ms(D){return Ts(),function mm(D){return function(R){return(R=R.lift(new pm(D.ngZone))).pipe((0,Qs.R)(D.outsideAngular),(0,Xs.Q)(D.insideAngular))}}(Ts())(D)}},1389:(se,K,M)=>{M.d(K,{$:()=>pd,A:()=>z,D:()=>Me,I:()=>Il,J:()=>Us,L:()=>zn,N:()=>Hi,P:()=>hn,Q:()=>Sl,R:()=>Yl,U:()=>ld,V:()=>fo,W:()=>Nr,X:()=>Gi,Y:()=>po,Z:()=>ud,_:()=>kl,a:()=>Gl,a0:()=>bs,a1:()=>uf,a2:()=>ab,a3:()=>ir,a4:()=>zc,a5:()=>gd,a6:()=>xo,a7:()=>_d,a8:()=>Gc,a9:()=>ff,aA:()=>de,aB:()=>If,aC:()=>oi,aD:()=>Pr,aE:()=>Xl,aF:()=>Yr,aG:()=>um,aH:()=>yi,aL:()=>Ys,aO:()=>Co,aa:()=>Qp,ab:()=>Xp,ac:()=>Jp,ad:()=>em,ae:()=>tm,af:()=>vd,ai:()=>ss,aj:()=>bd,ak:()=>fi,an:()=>u_,ao:()=>Dd,aq:()=>jl,ar:()=>Ke,as:()=>ct,at:()=>$t,au:()=>we,av:()=>Re,aw:()=>mn,ax:()=>fm,ay:()=>En,az:()=>Se,b:()=>mo,c:()=>It,d:()=>qo,e:()=>Ja,f:()=>tl,g:()=>Qs,h:()=>Ld,i:()=>Cs,j:()=>Ql,k:()=>m_,l:()=>ls,m:()=>rc,p:()=>oe,r:()=>Xn,s:()=>cm,u:()=>lu});var u=M(9671),V=M(2090),O=M(6881),ne=M(655),Y=M(1877),X=M(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new Y.Yd("@firebase/auth");function Le(b,...m){Ae.logLevel<=Y.in.ERROR&&Ae.error(`Auth (${O.SDK_VERSION}): ${b}`,...m)}function Re(b,...m){throw Ue(b,...m)}function Se(b,...m){return Ue(b,...m)}function je(b,m,_){const E=Object.assign(Object.assign({},Ze()),{[m]:_});return new V.LL("auth","Firebase",E).create(m,{appName:b.name})}function We(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Re(b,"argument-error"),je(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(b,...m){if("string"!=typeof b){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return st.create(b,...m)}function de(b,m,..._){if(!b)throw Ue(m,..._)}function ft(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Le(m),new Error(m)}function ct(b,m){b||ft(m)}function Dn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Zn(){return"http:"===Pi()||"https:"===Pi()}function Pi(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ve{constructor(m,_){this.shortDelay=m,this.longDelay=_,ct(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function lo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zn()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(b,m){ct(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Qe{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new Ve(3e4,6e4);function qe(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function vt(b,m,_,E){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(b,m,_,E,k={}){return Pe(b,k,(0,u.Z)(function*(){let F={},ae={};E&&("GET"===m?ae=E:F={body:JSON.stringify(E)});const Te=(0,V.xO)(Object.assign({key:b.config.apiKey},ae)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),Qe.fetch()(vn(b,b.config.apiHost,_,Te),Object.assign({method:m,headers:lt,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Pe(b,m,_){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(b,m,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},at),m);try{const k=new xn(b),F=yield Promise.race([_(),k.promise]);k.clearNetworkTimeout();const ae=yield F.json();if("needConfirmation"in ae)throw Qn(b,"account-exists-with-different-credential",ae);if(F.ok&&!("errorMessage"in ae))return ae;{const Te=F.ok?ae.errorMessage:ae.error.message,[lt,Dt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Qn(b,"credential-already-in-use",ae);if("EMAIL_EXISTS"===lt)throw Qn(b,"email-already-in-use",ae);if("USER_DISABLED"===lt)throw Qn(b,"user-disabled",ae);const Tt=E[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw je(b,Tt,Dt);Re(b,Tt)}}catch(k){if(k instanceof V.ZR)throw k;Re(b,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function Rt(b,m,_,E){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(b,m,_,E,k={}){const F=yield vt(b,m,_,E,k);return"mfaPendingCredential"in F&&Re(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function vn(b,m,_,E){const k=`${m}${_}?${E}`;return b.config.emulator?$e(b.config,k):`${b.config.apiScheme}://${k}`}class xn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(b,m,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const k=Se(b,m,E);return k.customData._tokenResponse=_,k}function Ni(){return(Ni=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function kt(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ti(){return(ti=(0,u.Z)(function*(b,m=!1){const _=(0,V.m9)(b),E=yield _.getIdToken(m),k=Ot(E);de(k&&k.exp&&k.auth_time&&k.iat,_.auth,"internal-error");const F="object"==typeof k.firebase?k.firebase:void 0,ae=F?.sign_in_provider;return{claims:k,token:E,authTime:kt(fn(k.auth_time)),issuedAtTime:kt(fn(k.iat)),expirationTime:kt(fn(k.exp)),signInProvider:ae||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(b){return 1e3*Number(b)}function Ot(b){const[m,_,E]=b.split(".");if(void 0===m||void 0===_||void 0===E)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,V.tV)(_);return k?JSON.parse(k):(Le("Failed to decode base64 JWT payload"),null)}catch(k){return Le("Caught error parsing JWT payload as JSON",k?.toString()),null}}function ui(b,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof V.ZR&&function dr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}class ni{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const k=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class ii{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ji(b){return kn.apply(this,arguments)}function kn(){return kn=(0,u.Z)(function*(b){var m;const _=b.auth,E=yield b.getIdToken(),k=yield ui(b,function Ho(b,m){return co.apply(this,arguments)}(_,{idToken:E}));de(k?.users.length,_,"internal-error");const F=k.users[0];b._notifyReloadListener(F);const ae=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?function er(b){return b.map(m=>{var{providerId:_}=m,E=(0,ne._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],Te=function vi(b,m){return[...b.filter(E=>!m.some(k=>k.providerId===E.providerId)),...m]}(b.providerData,ae),Tt=!!b.isAnonymous&&!(b.email&&F.passwordHash||Te?.length),Mn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Te,metadata:new ii(F.createdAt,F.lastLoginAt),isAnonymous:Tt};Object.assign(b,Mn)}),kn.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(b){const m=(0,V.m9)(b);yield ji(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(b,m){const _=yield Pe(b,{},(0,u.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:k,apiKey:F}=b.config,ae=vn(b,k,"/v1/token",`key=${F}`),Te=yield b._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(ae,{method:"POST",headers:Te,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){de(m.idToken,"internal-error"),de(typeof m.idToken<"u","internal-error"),de(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function pt(b){const m=Ot(b);return de(m,"internal-error"),de(typeof m.exp<"u","internal-error"),de(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,u.Z)(function*(){return de(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,u.Z)(function*(){const{accessToken:k,refreshToken:F,expiresIn:ae}=yield function bo(b,m){return ri.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(k,F,Number(ae))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:k,expirationTime:F}=_,ae=new bi;return E&&(de("string"==typeof E,"internal-error",{appName:m}),ae.refreshToken=E),k&&(de("string"==typeof k,"internal-error",{appName:m}),ae.accessToken=k),F&&(de("number"==typeof F,"internal-error",{appName:m}),ae.expirationTime=F),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return ft("not implemented")}}function _n(b,m){de("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class di{constructor(m){var{uid:_,auth:E,stsTokenManager:k}=m,F=(0,ne._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new ii(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const E=yield ui(_,_.stsTokenManager.getToken(_.auth,m));return de(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function Ji(b){return ti.apply(this,arguments)}(this,m)}reload(){return function Rr(b){return Zt.apply(this,arguments)}(this)}_assign(m){this!==m&&(de(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new di(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,u.Z)(function*(){let k=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),k=!0),_&&(yield ji(E)),yield E.auth._persistUserIfCurrent(E),k&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield ui(m,function Ui(b,m){return Ni.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,k,F,ae,Te,lt,Dt,Tt;const Mn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Ko=null!==(k=_.email)&&void 0!==k?k:void 0,Be=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,oc=null!==(ae=_.photoURL)&&void 0!==ae?ae:void 0,Mo=null!==(Te=_.tenantId)&&void 0!==Te?Te:void 0,yt=null!==(lt=_._redirectEventId)&&void 0!==lt?lt:void 0,Ud=null!==(Dt=_.createdAt)&&void 0!==Dt?Dt:void 0,rn=null!==(Tt=_.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Ss,emailVerified:sc,isAnonymous:jd,providerData:sl,stsTokenManager:As}=_;de(Ss&&As,m,"internal-error");const db=bi.fromJSON(this.name,As);de("string"==typeof Ss,m,"internal-error"),_n(Mn,m.name),_n(Ko,m.name),de("boolean"==typeof sc,m,"internal-error"),de("boolean"==typeof jd,m,"internal-error"),_n(Be,m.name),_n(oc,m.name),_n(Mo,m.name),_n(yt,m.name),_n(Ud,m.name),_n(rn,m.name);const gm=new di({uid:Ss,auth:m,email:Ko,emailVerified:sc,displayName:Mn,isAnonymous:jd,photoURL:oc,phoneNumber:Be,tenantId:Mo,stsTokenManager:db,createdAt:Ud,lastLoginAt:rn});return sl&&Array.isArray(sl)&&(gm.providerData=sl.map(Zr=>Object.assign({},Zr))),yt&&(gm._redirectEventId=yt),gm}static _fromIdTokenResponse(m,_,E=!1){return(0,u.Z)(function*(){const k=new bi;k.updateFromServerResponse(_);const F=new di({uid:_.localId,auth:m,stsTokenManager:k,isAnonymous:E});return yield ji(F),F})()}}const an=new Map;function oi(b){ct(b instanceof Function,"Expected a class definition");let m=an.get(b);return m?(ct(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,an.set(b,m),m)}const Hi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var k=this;return(0,u.Z)(function*(){k.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const k=E.storage[_];return void 0===k?null:k})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function Pr(b,m,_){return`firebase:${b}:${m}:${_}`}class te{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:k,name:F}=this.auth;this.fullUserKey=Pr(this.userKey,k.apiKey,F),this.fullPersistenceKey=Pr("persistence",k.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?di._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,u.Z)(function*(){if(!_.length)return new te(oi(Hi),m,E);const k=(yield Promise.all(_.map(function(){var Dt=(0,u.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let F=k[0]||oi(Hi);const ae=Pr(E,m.config.apiKey,m.name);let Te=null;for(const Dt of _)try{const Tt=yield Dt._get(ae);if(Tt){const Mn=di._fromJSON(m,Tt);Dt!==F&&(Te=Mn),F=Dt;break}}catch{}const lt=k.filter(Dt=>Dt._shouldAllowMigration);return F._shouldAllowMigration&&lt.length?(F=lt[0],Te&&(yield F._set(ae,Te.toJSON())),yield Promise.all(_.map(function(){var Dt=(0,u.Z)(function*(Tt){if(Tt!==F)try{yield Tt._remove(ae)}catch{}});return function(Tt){return Dt.apply(this,arguments)}}())),new te(F,m,E)):new te(F,m,E)})()}}function J(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(he(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(L(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mt(m))return"Blackberry";if(Gt(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||N(m))&&!m.includes("edge/"))return"Chrome";if(we(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function L(b=(0,V.z$)()){return/firefox\//i.test(b)}function B(b=(0,V.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function N(b=(0,V.z$)()){return/crios\//i.test(b)}function he(b=(0,V.z$)()){return/iemobile/i.test(b)}function we(b=(0,V.z$)()){return/android/i.test(b)}function mt(b=(0,V.z$)()){return/blackberry/i.test(b)}function Gt(b=(0,V.z$)()){return/webos/i.test(b)}function $t(b=(0,V.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function En(b=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ln(b=(0,V.z$)()){return $t(b)||we(b)||Gt(b)||mt(b)||/windows phone/i.test(b)||he(b)}function uo(b,m=[]){let _;switch(b){case"Browser":_=J((0,V.z$)());break;case"Worker":_=`${J((0,V.z$)())}-${b}`;break;default:_=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${E}`}function ge(){return(ge=(0,u.Z)(function*(b){return(yield vt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function et(b,m){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(b,m){return vt(b,"GET","/v2/recaptchaConfig",qe(b,m))})).apply(this,arguments)}function Wt(b){return void 0!==b&&void 0!==b.getResponse}function un(b){return void 0!==b&&void 0!==b.enterprise}class In{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function wi(b){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=k=>{const F=Se("internal-error");F.customData=k,_(F)},E.type="text/javascript",E.charset="UTF-8",function Fi(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Ti(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Bs{constructor(m){this.type="recaptcha-enterprise",this.auth=yi(m)}verify(m="verify",_=!1){var E=this;return(0,u.Z)(function*(){function F(){return F=(0,u.Z)(function*(Te){if(!_){if(null==Te.tenantId&&null!=Te._agentRecaptchaConfig)return Te._agentRecaptchaConfig.siteKey;if(null!=Te.tenantId&&void 0!==Te._tenantRecaptchaConfigs[Te.tenantId])return Te._tenantRecaptchaConfigs[Te.tenantId].siteKey}return new Promise(function(){var lt=(0,u.Z)(function*(Dt,Tt){et(Te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mn=>{if(void 0!==Mn.recaptchaKey){const Ko=new In(Mn);return null==Te.tenantId?Te._agentRecaptchaConfig=Ko:Te._tenantRecaptchaConfigs[Te.tenantId]=Ko,Dt(Ko.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(Mn=>{Tt(Mn)})});return function(Dt,Tt){return lt.apply(this,arguments)}}())}),F.apply(this,arguments)}function ae(Te,lt,Dt){const Tt=window.grecaptcha;un(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(Te,{action:m}).then(Mn=>{lt(Mn)}).catch(()=>{lt("NO_RECAPTCHA")})}):Dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Te,lt)=>{(function k(Te){return F.apply(this,arguments)})(E.auth).then(Dt=>{if(!_&&un(window.grecaptcha))ae(Dt,Te,lt);else{if(typeof window>"u")return void lt(new Error("RecaptchaVerifier is only supported in browser"));wi("https://www.google.com/recaptcha/enterprise.js?render="+Dt).then(()=>{ae(Dt,Te,lt)}).catch(Tt=>{lt(Tt)})}}).catch(Dt=>{lt(Dt)})})})()}}function ts(b,m,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(b,m,_,E=!1){const k=new Bs(b);let F;try{F=yield k.verify(_)}catch{F=yield k.verify(_,!0)}const ae=Object.assign({},m);return Object.assign(ae,E?{captchaResp:F}:{captchaResponse:F}),Object.assign(ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ae})).apply(this,arguments)}class Nc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=F=>new Promise((ae,Te)=>{try{ae(m(F))}catch(lt){Te(lt)}});E.onAbort=_,this.queue.push(E);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===m)return;const E=[];try{for(const k of _.queue)yield k(m),k.onAbort&&E.push(k.onAbort)}catch(k){E.reverse();for(const F of E)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class Ua{constructor(m,_,E,k){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new Nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=oi(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var k,F;if(!E._deleted&&(E.persistenceManager=yield te.create(E,m),!E._deleted)){if(null!==(k=E._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var E;const k=yield _.assertedPersistence.getCurrentUser();let F=k,ae=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Te=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,lt=F?._redirectEventId,Dt=yield _.tryRedirectSignIn(m);(!Te||Te===lt)&&Dt?.user&&(F=Dt.user,ae=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(ae)try{yield _.beforeStateQueue.runMiddleware(F)}catch(Te){F=k,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Te))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return de(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield ji(m)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const E=m?(0,V.m9)(m):null;return E&&de(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return m&&de(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(oi(m))}))}initializeRecaptchaConfig(){var m=this;return(0,u.Z)(function*(){const _=yield et(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new In(_);null==m.tenantId?m._agentRecaptchaConfig=E:m._tenantRecaptchaConfigs[m.tenantId]=E,E.emailPasswordEnabled&&new Bs(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new V.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,u.Z)(function*(){const k=yield E.getOrInitRedirectPersistenceManager(_);return null===m?k.removeCurrentUser():k.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&oi(m)||_._popupRedirectResolver;de(E,_,"argument-error"),_.redirectPersistenceManager=yield te.create(_,[oi(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var E,k;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,k){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ae,this,"internal-error"),ae.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,E,k):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=uo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const k=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();k&&(E["X-Firebase-Client"]=k);const F=yield m._getAppCheckToken();return F&&(E["X-Firebase-AppCheck"]=F),E})()}_getAppCheckToken(){var m=this;return(0,u.Z)(function*(){var _;const E=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function Fe(b,...m){Ae.logLevel<=Y.in.WARN&&Ae.warn(`Auth (${O.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function yi(b){return(0,V.m9)(b)}class rf{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Il(b,m,_){const E=yi(b);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const k=!!_?.disableWarnings,F=ja(m),{host:ae,port:Te}=function wo(b){const m=ja(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(E);if(k){const F=k[1];return{host:F,port:ya(E.substr(F.length+1))}}{const[F,ae]=E.split(":");return{host:F,port:ya(ae)}}}(m);E.config.emulator={url:`${F}//${ae}${null===Te?"":`:${Te}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ae,port:Te,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Fc(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ja(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ya(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Us{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ft("not implemented")}_getIdTokenResponse(m){return ft("not implemented")}_linkToIdToken(m,_){return ft("not implemented")}_getReauthenticationResolver(m){return ft("not implemented")}}function ba(b,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:resetPassword",qe(b,m))})).apply(this,arguments)}function Mi(b,m){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:update",qe(b,m))})).apply(this,arguments)}function $(b,m){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithPassword",qe(b,m))})).apply(this,arguments)}function fe(b,m){return ke.apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:sendOobCode",qe(b,m))})).apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(b,m){return fe(b,m)})).apply(this,arguments)}function Ye(b,m){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(b,m){return fe(b,m)})).apply(this,arguments)}function Jt(b,m){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(b,m){return fe(b,m)})).apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(b,m){return fe(b,m)})).apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,m))})).apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,m))})).apply(this,arguments)}class Qt extends Us{constructor(m,_,E,k=null){super("password",E),this._email=m,this._password=_,this._tenantId=k}static _fromEmailAndPassword(m,_){return new Qt(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new Qt(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){var E;switch(_.signInMethod){case"password":const k={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=m._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const F=yield ts(m,k,"signInWithPassword");return $(m,F)}return $(m,k).catch(function(){var F=(0,u.Z)(function*(ae){if("auth/missing-recaptcha-token"===ae.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Te=yield ts(m,k,"signInWithPassword");return $(m,Te)}return Promise.reject(ae)});return function(ae){return F.apply(this,arguments)}}());case"emailLink":return function is(b,m){return Hn.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Re(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Mi(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function js(b,m){return Hs.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:Re(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Do(b,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithIdp",qe(b,m))})).apply(this,arguments)}class zn extends Us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new zn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:k}=_,F=(0,ne._T)(_,["providerId","signInMethod"]);if(!E||!k)return null;const ae=new zn(E,k);return ae.idToken=F.idToken||void 0,ae.accessToken=F.accessToken||void 0,ae.secret=F.secret,ae.nonce=F.nonce,ae.pendingToken=F.pendingToken||null,ae}_getIdTokenResponse(m){return Do(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Do(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Do(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,V.xO)(_)}return m}}function zs(){return(zs=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:sendVerificationCode",qe(b,m))})).apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,m))})).apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(b,m){const _=yield Rt(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,m));if(_.temporaryProof)throw Qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const hr={USER_NOT_FOUND:"user-not-found"};function za(){return(za=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),hr)})).apply(this,arguments)}class en extends Us{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new en({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new en({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Eo(b,m){return _s.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function qp(b,m){return vs.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ml(b,m){return za.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:k}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:k}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:k,temporaryProof:F}=m;return E||_||k||F?new en({verificationId:_,verificationCode:E,phoneNumber:k,temporaryProof:F}):null}}class ys{constructor(m){var _,E,k,F,ae,Te;const lt=(0,V.zd)((0,V.pd)(m)),Dt=null!==(_=lt.apiKey)&&void 0!==_?_:null,Tt=null!==(E=lt.oobCode)&&void 0!==E?E:null,Mn=function $a(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=lt.mode)&&void 0!==k?k:null);de(Dt&&Tt&&Mn,"argument-error"),this.apiKey=Dt,this.operation=Mn,this.code=Tt,this.continueUrl=null!==(F=lt.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ae=lt.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Te=lt.tenantId)&&void 0!==Te?Te:null}static parseLink(m){const _=function ad(b){const m=(0,V.zd)((0,V.pd)(b)).link,_=m?(0,V.zd)((0,V.pd)(m)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(b)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||_||m||b}(m);try{return new ys(_)}catch{return null}}}let Sl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return Qt._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const k=ys.parseLink(E);return de(k,"argument-error"),Qt._fromEmailAndCode(_,k.code,k.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ho{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class rs extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Gi extends rs{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return de("providerId"in _&&"signInMethod"in _,"argument-error"),zn._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return de(m.idToken||m.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Gi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Gi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:k,pendingToken:F,nonce:ae,providerId:Te}=m;if(!E&&!k&&!_&&!F||!Te)return null;try{return new Gi(Te)._credential({idToken:_,accessToken:E,nonce:ae,pendingToken:F})}catch{return null}}}let ld=(()=>{class b extends rs{constructor(){super("facebook.com")}static credential(_){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),fo=(()=>{class b extends rs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:k}=_;if(!E&&!k)return null;try{return b.credential(E,k)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Nr=(()=>{class b extends rs{constructor(){super("github.com")}static credential(_){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Co extends Us{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Do(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Do(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Do(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:k,pendingToken:F}=_;return E&&k&&F&&E===k?new Co(E,F):null}static _create(m,_){return new Co(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends ho{constructor(m){de(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return po.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return po.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Co.fromJSON(m);return de(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return Co._create(E,_)}catch{return null}}}let ud=(()=>{class b extends rs{constructor(){super("twitter.com")}static credential(_,E){return zn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:k}=_;if(!E||!k)return null;try{return b.credential(E,k)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Al(b,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signUp",qe(b,m))})).apply(this,arguments)}class br{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,k=!1){return(0,u.Z)(function*(){const F=yield di._fromIdTokenResponse(m,E,k),ae=Vc(E);return new br({user:F,providerId:ae,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const k=Vc(E);return new br({user:m,providerId:k,_tokenResponse:E,operationType:_})})()}}function Vc(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function kl(b){return sf.apply(this,arguments)}function sf(){return(sf=(0,u.Z)(function*(b){var m;const _=yi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new br({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Al(_,{returnSecureToken:!0}),k=yield br._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class dd extends V.ZR{constructor(m,_,E,k){var F;super(_.code,_.message),this.operationType=E,this.user=k,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,k){return new dd(m,_,E,k)}}function af(b,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?dd._fromErrorAndOperation(b,F,m,E):F})}function Yp(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function u_(b,m){return lf.apply(this,arguments)}function lf(){return lf=(0,u.Z)(function*(b,m){const _=(0,V.m9)(b);yield Bc(!0,_,m);const{providerUserInfo:E}=yield function jn(b,m){return kr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),k=Yp(E||[]);return _.providerData=_.providerData.filter(F=>k.has(F.providerId)),k.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),lf.apply(this,arguments)}function os(b,m){return hd.apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(b,m,_=!1){const E=yield ui(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return br._forOperation(b,"link",E)})).apply(this,arguments)}function Bc(b,m,_){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(b,m,_){yield ji(m);const k=!1===b?"provider-already-linked":"no-such-provider";de(Yp(m.providerData).has(_)===b,m.auth,k)})).apply(this,arguments)}function Kp(b,m){return jc.apply(this,arguments)}function jc(){return(jc=(0,u.Z)(function*(b,m,_=!1){const{auth:E}=b,k="reauthenticate";try{const F=yield ui(b,af(E,k,m,b),_);de(F.idToken,E,"internal-error");const ae=Ot(F.idToken);de(ae,E,"internal-error");const{sub:Te}=ae;return de(b.uid===Te,E,"user-mismatch"),br._forOperation(b,k,F)}catch(F){throw"auth/user-not-found"===F?.code&&Re(E,"user-mismatch"),F}})).apply(this,arguments)}function Hc(b,m){return fd.apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(b,m,_=!1){const E="signIn",k=yield af(b,E,m),F=yield br._fromIdTokenResponse(b,E,k);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function pd(b,m){return cf.apply(this,arguments)}function cf(){return(cf=(0,u.Z)(function*(b,m){return Hc(yi(b),m)})).apply(this,arguments)}function bs(b,m){return md.apply(this,arguments)}function md(){return(md=(0,u.Z)(function*(b,m){const _=(0,V.m9)(b);return yield Bc(!1,_,m.providerId),os(_,m)})).apply(this,arguments)}function uf(b,m){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(b,m){return Kp((0,V.m9)(b),m)})).apply(this,arguments)}function df(){return(df=(0,u.Z)(function*(b,m){return Rt(b,"POST","/v1/accounts:signInWithCustomToken",qe(b,m))})).apply(this,arguments)}function ab(b,m){return ws.apply(this,arguments)}function ws(){return ws=(0,u.Z)(function*(b,m){const _=yi(b),E=yield function Zp(b,m){return df.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),k=yield br._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(k.user),k}),ws.apply(this,arguments)}class $o{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?hf._fromServerResponse(m,_):"totpInfo"in _?Gr._fromServerResponse(m,_):Re(m,"internal-error")}}class hf extends $o{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new hf(_)}}class Gr extends $o{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Gr(_)}}function Gs(b,m,_){var E;de((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),de(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(de(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(de(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function ir(b,m,_){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,u.Z)(function*(b,m,_){var E;const k=yi(b),F={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ae=yield ts(k,F,"getOobCode",!0);_&&Gs(k,ae,_),yield Ye(k,ae)}else _&&Gs(k,F,_),yield Ye(k,F).catch(function(){var ae=(0,u.Z)(function*(Te){if("auth/missing-recaptcha-token"!==Te.code)return Promise.reject(Te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const lt=yield ts(k,F,"getOobCode",!0);_&&Gs(k,lt,_),yield Ye(k,lt)}});return function(Te){return ae.apply(this,arguments)}}())}),Rl.apply(this,arguments)}function zc(b,m,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(b,m,_){yield ba((0,V.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function gd(b,m){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,u.Z)(function*(b,m){yield function wa(b,m){return Yn.apply(this,arguments)}((0,V.m9)(b),{oobCode:m})}),Ws.apply(this,arguments)}function xo(b,m){return $c.apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(b,m){const _=(0,V.m9)(b),E=yield ba(_,{oobCode:m}),k=E.requestType;switch(de(k,_,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(E.mfaInfo,_,"internal-error");default:de(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=$o._fromServerResponse(yi(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:k}})).apply(this,arguments)}function _d(b,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(b,m){const{data:_}=yield xo((0,V.m9)(b),m);return _.email})).apply(this,arguments)}function Gc(b,m,_){return xa.apply(this,arguments)}function xa(){return xa=(0,u.Z)(function*(b,m,_){var E;const k=yi(b),F={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let ae;if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Dt=yield ts(k,F,"signUpPassword");ae=Al(k,Dt)}else ae=Al(k,F).catch(function(){var Dt=(0,u.Z)(function*(Tt){if("auth/missing-recaptcha-token"===Tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Mn=yield ts(k,F,"signUpPassword");return Al(k,Mn)}return Promise.reject(Tt)});return function(Tt){return Dt.apply(this,arguments)}}());const Te=yield ae.catch(Dt=>Promise.reject(Dt)),lt=yield br._fromIdTokenResponse(k,"signIn",Te);return yield k._updateCurrentUser(lt.user),lt}),xa.apply(this,arguments)}function ff(b,m,_){return pd((0,V.m9)(b),Sl.credential(m,_))}function Qp(b,m,_){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,u.Z)(function*(b,m,_){var E;const k=yi(b),F={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function ae(Te,lt){de(lt.handleCodeInApp,k,"argument-error"),lt&&Gs(k,Te,lt)}if(null!==(E=k._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Te=yield ts(k,F,"getOobCode",!0);ae(Te,_),yield Jt(k,Te)}else ae(F,_),yield Jt(k,F).catch(function(){var Te=(0,u.Z)(function*(lt){if("auth/missing-recaptcha-token"!==lt.code)return Promise.reject(lt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Dt=yield ts(k,F,"getOobCode",!0);ae(Dt,_),yield Jt(k,Dt)}});return function(lt){return Te.apply(this,arguments)}}())}),Pl.apply(this,arguments)}function Xp(b,m){const _=ys.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function Jp(b,m,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b),k=Sl.credentialWithLink(m,_||Dn());return de(k._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),pd(E,k)})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:createAuthUri",qe(b,m))})).apply(this,arguments)}function em(b,m){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,u.Z)(function*(b,m){const E={identifier:m,continueUri:Zn()?Dn():"http://localhost"},{signinMethods:k}=yield function d_(b,m){return Ga.apply(this,arguments)}((0,V.m9)(b),E);return k||[]}),Wc.apply(this,arguments)}function tm(b,m){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,u.Z)(function*(b,m){const _=(0,V.m9)(b),k={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Gs(_.auth,k,m);const{email:F}=yield function dt(b,m){return nt.apply(this,arguments)}(_.auth,k);F!==b.email&&(yield b.reload())}),Nl.apply(this,arguments)}function vd(b,m,_){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Gs(E.auth,F,_);const{email:ae}=yield function Cn(b,m){return Bn.apply(this,arguments)}(E.auth,F);ae!==b.email&&(yield b.reload())}),Fl.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ss(b,m){return yd.apply(this,arguments)}function yd(){return yd=(0,u.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,V.m9)(b),F={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ae=yield ui(E,function qc(b,m){return Yc.apply(this,arguments)}(E.auth,F));E.displayName=ae.displayName||null,E.photoURL=ae.photoUrl||null;const Te=E.providerData.find(({providerId:lt})=>"password"===lt);Te&&(Te.displayName=E.displayName,Te.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ae)}),yd.apply(this,arguments)}function bd(b,m){return wd((0,V.m9)(b),m,null)}function fi(b,m){return wd((0,V.m9)(b),null,m)}function wd(b,m,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(b,m,_){const{auth:E}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const ae=yield ui(b,Mi(E,F));yield b._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class Wa{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class Kc extends Wa{constructor(m,_,E,k){super(m,_,E),this.username=k}}class Vl extends Wa{constructor(m,_){super(m,"facebook.com",_)}}class Lr extends Kc{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Zc extends Wa{constructor(m,_){super(m,"google.com",_)}}class Bl extends Kc{constructor(m,_,E){super(m,"twitter.com",_,E)}}function Dd(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Fr(b){var m,_;if(!b)return null;const{providerId:E}=b,k=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const ae=null===(_=null===(m=Ot(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ae)return new Wa(F,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!E)return null;switch(E){case"facebook.com":return new Vl(F,k);case"github.com":return new Lr(F,k);case"google.com":return new Zc(F,k);case"twitter.com":return new Bl(F,k,b.screenName||null);case"custom":case"anonymous":return new Wa(F,null);default:return new Wa(F,E,k)}}(_)}class as{constructor(m,_,E){this.type=m,this.credential=_,this.auth=E}static _fromIdtoken(m,_){return new as("enroll",m,_)}static _fromMfaPendingCredential(m){return new as("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return as._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return as._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ul{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=yi(m),k=_.customData._serverResponse,F=(k.mfaInfo||[]).map(Te=>$o._fromServerResponse(E,Te));de(k.mfaPendingCredential,E,"internal-error");const ae=as._fromMfaPendingCredential(k.mfaPendingCredential);return new Ul(ae,F,function(){var Te=(0,u.Z)(function*(lt){const Dt=yield lt._process(E,ae);delete k.mfaInfo,delete k.mfaPendingCredential;const Tt=Object.assign(Object.assign({},k),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(_.operationType){case"signIn":const Mn=yield br._fromIdTokenResponse(E,_.operationType,Tt);return yield E._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return de(_.user,E,"internal-error"),br._forOperation(_.user,_.operationType,Tt);default:Re(E,"internal-error")}});return function(lt){return Te.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function jl(b,m){var _;const E=(0,V.m9)(b),k=m;return de(m.customData.operationType,E,"argument-error"),de(null===(_=k.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Ul._fromError(E,k)}class Id{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>$o._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new Id(m)}getSession(){var m=this;return(0,u.Z)(function*(){return as._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var E=this;return(0,u.Z)(function*(){const k=m,F=yield E.getSession(),ae=yield ui(E.user,k._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(ae),E.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const E="string"==typeof m?m:m.uid,k=yield _.user.getIdToken();try{const F=yield ui(_.user,function rm(b,m){return vt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(b,m))}(_.user.auth,{idToken:k,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ae})=>ae!==E),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const Hl=new WeakMap;function Ke(b){const m=(0,V.m9)(b);return Hl.has(m)||Hl.set(m,Id._fromUser(m)),Hl.get(m)}const pn="__sak";class zl{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(pn,"1"),this.storage.removeItem(pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const mo=(()=>{class b extends zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mf(){const b=(0,V.z$)();return B(b)||$t(b)}()&&function zi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const k=this.storage.getItem(E),F=this.localCache[E];k!==F&&_(E,F,k)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Te,lt,Dt)=>{this.notifyListeners(Te,Dt)});const k=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(k);if(_.newValue!==Te)null!==_.newValue?this.storage.setItem(k,_.newValue):this.storage.removeItem(k);else if(this.localCache[k]===_.newValue&&!E)return}const F=()=>{const Te=this.storage.getItem(k);!E&&this.localCache[k]===Te||this.notifyListeners(k,Te)},ae=this.storage.getItem(k);!function Rn(){return(0,V.w1)()&&10===document.documentMode}()||ae===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const k=this.listeners[_];if(k)for(const F of Array.from(k))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var k=()=>super._set,F=this;return(0,u.Z)(function*(){yield k().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,k=this;return(0,u.Z)(function*(){const F=yield E().call(k,_);return k.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,k=this;return(0,u.Z)(function*(){yield E().call(k,_),delete k.localCache[_]})()}}return b.type="LOCAL",b})(),Gl=(()=>{class b extends zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let lb=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const k=new b(_);return this.receivers.push(k),k}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const k=_,{eventId:F,eventType:ae,data:Te}=k.data,lt=E.handlersMap[ae];if(!lt?.size)return;k.ports[0].postMessage({status:"ack",eventId:F,eventType:ae});const Dt=Array.from(lt).map(function(){var Mn=(0,u.Z)(function*(Ko){return Ko(k.origin,Te)});return function(Ko){return Mn.apply(this,arguments)}}()),Tt=yield function om(b){return Promise.all(b.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(Dt);k.ports[0].postMessage({status:"done",eventId:F,eventType:ae,response:Tt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ys(b="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return b+_}class Wr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var k=this;return(0,u.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ae,Te;return new Promise((lt,Dt)=>{const Tt=Ys("",20);F.port1.start();const Mn=setTimeout(()=>{Dt(new Error("unsupported_event"))},E);Te={messageChannel:F,onMessage(Ko){const Be=Ko;if(Be.data.eventId===Tt)switch(Be.data.status){case"ack":clearTimeout(Mn),ae=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),lt(Be.data.response);break;default:clearTimeout(Mn),clearTimeout(ae),Dt(new Error("invalid_response"))}}},k.handlers.add(Te),F.port1.addEventListener("message",Te.onMessage),k.target.postMessage({eventType:m,eventId:Tt,data:_},[F.port2])}).finally(()=>{Te&&k.removeMessageHandler(Te)})})()}}function ai(){return window}function Ds(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Td(){return(Td=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wi="firebaseLocalStorageDb",qi="firebaseLocalStorage",iu="fbase_key";class Es{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Wl(b,m){return b.transaction([qi],m?"readwrite":"readonly").objectStore(qi)}function ql(){const b=indexedDB.open(Wi,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(qi,{keyPath:iu})}catch(k){_(k)}}),b.addEventListener("success",(0,u.Z)(function*(){const E=b.result;E.objectStoreNames.contains(qi)?m(E):(E.close(),yield function sm(){const b=indexedDB.deleteDatabase(Wi);return new Es(b).toPromise()}(),m(yield ql()))}))})}function _f(b,m,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(b,m,_){const E=Wl(b,!0).put({[iu]:m,value:_});return new Es(E).toPromise()})).apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(b,m){const _=Wl(b,!1).get(m),E=yield new Es(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Wo(b,m){const _=Wl(b,!0).delete(m);return new Es(_).toPromise()}const Cs=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield ql()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let k=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(k++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Ds()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=lb._getInstance(function Md(){return Ds()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(k,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(k,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(k,F){return["keyChanged"]});return function(k,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,k;if(_.activeServiceWorker=yield function Ks(){return Td.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Wr(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(k=F[0])&&void 0!==k&&k.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gf(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ql();return yield _f(_,pn,"1"),yield Wo(_,pn),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var k=this;return(0,u.Z)(function*(){return k._withPendingWrite((0,u.Z)(function*(){return yield k._withRetries(F=>_f(F,_,E)),k.localCache[_]=E,k.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const k=yield E._withRetries(F=>function Ad(b,m){return Ia.apply(this,arguments)}(F,_));return E.localCache[_]=k,k})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(k=>Wo(k,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(ae=>{const Te=Wl(ae,!1).getAll();return new Es(Te).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const k=[],F=new Set;for(const{fbase_key:ae,value:Te}of E)F.add(ae),JSON.stringify(_.localCache[ae])!==JSON.stringify(Te)&&(_.notifyListeners(ae,Te),k.push(ae));for(const ae of Object.keys(_.localCache))_.localCache[ae]&&!F.has(ae)&&(_.notifyListeners(ae,null),k.push(ae));return k})()}notifyListeners(_,E){this.localCache[_]=E;const k=this.listeners[_];if(k)for(const F of Array.from(k))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),ru=1e12;class kd{constructor(m){this.auth=m,this.counter=ru,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new ou(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||ru;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||ru))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(m||ru))||void 0===E||E.execute(),""})()}}class ou{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof m?document.getElementById(m):m;de(k,"argument-error",{appName:_}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xs(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wf=Ti("rcb"),Rd=new Ve(3e4,6e4);class Ka{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ai().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return de(function su(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Wt(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((E,k)=>{const F=ai().setTimeout(()=>{k(Se(m,"network-request-failed"))},Rd.get());ai()[wf]=()=>{ai().clearTimeout(F),delete ai()[wf];const Te=ai().grecaptcha;if(!Te||!Wt(Te))return void k(Se(m,"internal-error"));const lt=Te.render;Te.render=(Dt,Tt)=>{const Mn=lt(Dt,Tt);return this.counter++,Mn},this.hostLanguage=_,E(Te)},wi(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:wf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),k(Se(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=ai().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pd{load(m){return(0,u.Z)(function*(){return new kd(m)})()}clearedOneInstance(){}}const Df="recaptcha",Ef={theme:"light",type:"image"};class Yl{constructor(m,_=Object.assign({},Ef),E){this.parameters=_,this.type=Df,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(E),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof m?document.getElementById(m):m;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pd:new Ka,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const ae=Te=>{Te&&(m.tokenChangeListeners.delete(ae),F(Te))};m.tokenChangeListeners.add(ae),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=ai()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){de(Zn()&&!Ds(),m.auth,"internal-error"),yield function Za(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Ne(b){return ge.apply(this,arguments)}(m.auth);de(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cf{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=en._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function cm(b,m,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(b,m,_){const E=yi(b),k=yield au(E,m,(0,V.m9)(_));return new Cf(k,F=>pd(E,F))})).apply(this,arguments)}function ls(b,m,_){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b);yield Bc(!1,E,"phone");const k=yield au(E.auth,m,(0,V.m9)(_));return new Cf(k,F=>bs(E,F))})).apply(this,arguments)}function Xn(b,m,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b),k=yield au(E.auth,m,(0,V.m9)(_));return new Cf(k,F=>uf(E,F))})).apply(this,arguments)}function au(b,m,_){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,u.Z)(function*(b,m,_){var E;const k=yield _.verify();try{let F;if(de("string"==typeof k,b,"argument-error"),de(_.type===Df,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const ae=F.session;if("phoneNumber"in F)return de("enroll"===ae.type,b,"internal-error"),(yield function eu(b,m){return vt(b,"POST","/v2/accounts/mfaEnrollment:start",qe(b,m))}(b,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===ae.type,b,"internal-error");const Te=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return de(Te,b,"missing-multi-factor-info"),(yield function Si(b,m){return vt(b,"POST","/v2/accounts/mfaSignIn:start",qe(b,m))}(b,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield function Tl(b,m){return zs.apply(this,arguments)}(b,{phoneNumber:F.phoneNumber,recaptchaToken:k});return ae}}finally{_._reset()}}),Zl.apply(this,arguments)}function lu(b,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(b,m){yield os((0,V.m9)(b),m)})).apply(this,arguments)}let hn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yi(_)}verifyPhoneNumber(_,E){return au(this.auth,_,(0,V.m9)(E))}static credential(_,E){return en._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:k}=_;return E&&k?en._fromTokenResponse(E,k):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function fr(b,m){return m?oi(m):(de(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Li extends Us{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Do(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Do(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Do(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function cn(b){return Hc(b.auth,new Li(b),b.bypassAuthState)}function Cr(b){const{auth:m,user:_}=b;return de(_,m,"internal-error"),Kp(_,new Li(b),b.bypassAuthState)}function tr(b){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(b){const{auth:m,user:_}=b;return de(_,m,"internal-error"),os(_,new Li(b),b.bypassAuthState)})).apply(this,arguments)}class Io{constructor(m,_,E,k,F=!1){this.auth=m,this.resolver=E,this.user=k,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(E,k){m.pendingPromise={resolve:E,reject:k};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(E,k){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:k,postBody:F,tenantId:ae,error:Te,type:lt}=m;if(Te)return void _.reject(Te);const Dt={auth:_.auth,requestUri:E,sessionId:k,tenantId:ae||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(lt)(Dt))}catch(Tt){_.reject(Tt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return cn;case"linkViaPopup":case"linkViaRedirect":return tr;case"reauthViaPopup":case"reauthViaRedirect":return Cr;default:Re(this.auth,"internal-error")}}resolve(m){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cs=new Ve(2e3,1e4);function It(b,m,_){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(b,m,_){const E=yi(b);We(b,m,ho);const k=fr(E,_);return new uu(E,"signInViaPopup",m,k).executeNotNull()})).apply(this,arguments)}function Ja(b,m,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b);We(E.auth,m,ho);const k=fr(E.auth,_);return new uu(E.auth,"reauthViaPopup",m,k,E).executeNotNull()})).apply(this,arguments)}function qo(b,m,_){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b);We(E.auth,m,ho);const k=fr(E.auth,_);return new uu(E.auth,"linkViaPopup",m,k,E).executeNotNull()})).apply(this,arguments)}let uu=(()=>{class b extends Io{constructor(_,E,k,F,ae){super(_,E,F,ae),this.provider=k,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return de(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){ct(1===_.filter.length,"Popup operations only handle one event");const E=Ys();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(k=>{_.reject(k)}),_.resolver._isIframeWebStorageSupported(_.auth,k=>{k||_.reject(Se(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,k;this.pollId=null!==(k=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,cs.get())};_()}}return b.currentPopupAction=null,b})();const qt="pendingRedirect",qr=new Map;class Yi extends Io{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=qr.get(_.auth._key());if(!E){try{const F=(yield function el(b,m){return Is.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(F)}catch(k){E=()=>Promise.reject(k)}qr.set(_.auth._key(),E)}return _.bypassAuthState||qr.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const k=yield E.auth._redirectUserForId(m.eventId);if(k)return E.user=k,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Is(){return(Is=(0,u.Z)(function*(b,m){const _=du(m),E=Ta(b);if(!(yield E._isAvailable()))return!1;const k="true"===(yield E._get(_));return yield E._remove(_),k})).apply(this,arguments)}function li(b,m){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,u.Z)(function*(b,m){return Ta(b)._set(du(m),"true")})).apply(this,arguments)}function um(){qr.clear()}function Yr(b,m){qr.set(b._key(),m)}function Ta(b){return oi(b._redirectPersistence)}function du(b){return Pr(qt,b.config.apiKey,b.name)}function tl(b,m,_){return function hu(b,m,_){return xf.apply(this,arguments)}(b,m,_)}function xf(){return(xf=(0,u.Z)(function*(b,m,_){const E=yi(b);We(b,m,ho),yield E._initializationPromise;const k=fr(E,_);return yield li(k,E),k._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Ld(b,m,_){return function fu(b,m,_){return Zs.apply(this,arguments)}(b,m,_)}function Zs(){return(Zs=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b);We(E.auth,m,ho),yield E.auth._initializationPromise;const k=fr(E.auth,_);yield li(k,E.auth);const F=yield nl(E);return k._openRedirect(E.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function Qs(b,m,_){return function Xs(b,m,_){return pu.apply(this,arguments)}(b,m,_)}function pu(){return(pu=(0,u.Z)(function*(b,m,_){const E=(0,V.m9)(b);We(E.auth,m,ho),yield E.auth._initializationPromise;const k=fr(E.auth,_);yield Bc(!1,E,m.providerId),yield li(k,E.auth);const F=yield nl(E);return k._openRedirect(E.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Ql(b,m){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(b,m){return yield yi(b)._initializationPromise,Xl(b,m,!1)})).apply(this,arguments)}function Xl(b,m){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(b,m,_=!1){const E=yi(b),k=fr(E,m),ae=yield new Yi(E,k,_).execute();return ae&&!_&&(delete ae.user._redirectEventId,yield E._persistUserIfCurrent(ae.user),yield E._setRedirectUser(null,m)),ae})).apply(this,arguments)}function nl(b){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(b){const m=Ys(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class If{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function il(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hm(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!hm(m)){const k=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Se(this.auth,k))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dm(m))}saveEventToCache(m){this.cachedEventUids.add(dm(m)),this.lastProcessedEventTime=Date.now()}}function dm(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function hm({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function fm(b){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(b,m={}){return vt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ki=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pm=/^https?/;function Ts(){return(Ts=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield fm(b);for(const _ of m)try{if(To(_))return}catch{}Re(b,"unauthorized-domain")})).apply(this,arguments)}function To(b){const m=Dn(),{protocol:_,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const ae=new URL(b);return""===ae.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ae.hostname===E}if(!pm.test(_))return!1;if(Ki.test(b))return E===b;const k=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(E)}const Yo=new Ve(3e4,6e4);function Tf(){const b=ai().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ms=null;const p_=new Ve(5e3,15e3),Mf="__/auth/iframe",D="emulator/auth/iframe",I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j(b){const m=b.config;de(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?$e(m,D):`https://${b.config.authDomain}/${Mf}`,E={apiKey:m.apiKey,appName:b.name,v:O.SDK_VERSION},k=R.get(b.config.apiHost);k&&(E.eid=k);const F=b._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,V.xO)(E).slice(1)}`}function pe(){return pe=(0,u.Z)(function*(b){const m=yield function mm(b){return Ms=Ms||function Vd(b){return new Promise((m,_)=>{var E,k,F;function ae(){Tf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Tf(),_(Se(b,"network-request-failed"))},timeout:Yo.get()})}if(null!==(k=null===(E=ai().gapi)||void 0===E?void 0:E.iframes)&&void 0!==k&&k.Iframe)m(gapi.iframes.getContext());else{if(null===(F=ai().gapi)||void 0===F||!F.load){const Te=Ti("iframefcb");return ai()[Te]=()=>{gapi.load?ae():_(Se(b,"network-request-failed"))},wi(`https://apis.google.com/js/api.js?onload=${Te}`).catch(lt=>_(lt))}ae()}}).catch(m=>{throw Ms=null,m})}(b),Ms}(b),_=ai().gapi;return de(_,b,"internal-error"),m.open({where:document.body,url:j(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I,dontclear:!0},E=>new Promise(function(){var k=(0,u.Z)(function*(F,ae){yield E.restyle({setHideOnLeave:!1});const Te=Se(b,"network-request-failed"),lt=ai().setTimeout(()=>{ae(Te)},p_.get());function Dt(){ai().clearTimeout(lt),F(E)}E.ping(Dt).then(Dt,()=>{ae(Te)})});return function(F,ae){return k.apply(this,arguments)}}()))}),pe.apply(this,arguments)}const Oe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nn{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ic="__/auth/handler",rl="emulator/auth/handler",Nt=encodeURIComponent("fac");function mn(b,m,_,E,k,F){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(b,m,_,E,k,F){de(b.config.authDomain,b,"auth-domain-config-required"),de(b.config.apiKey,b,"invalid-api-key");const ae={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:O.SDK_VERSION,eventId:k};if(m instanceof ho){m.setDefaultLanguage(b.languageCode),ae.providerId=m.providerId||"",(0,V.xb)(m.getCustomParameters())||(ae.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Tt,Mn]of Object.entries(F||{}))ae[Tt]=Mn}if(m instanceof rs){const Tt=m.getScopes().filter(Mn=>""!==Mn);Tt.length>0&&(ae.scopes=Tt.join(","))}b.tenantId&&(ae.tid=b.tenantId);const Te=ae;for(const Tt of Object.keys(Te))void 0===Te[Tt]&&delete Te[Tt];const lt=yield b._getAppCheckToken(),Dt=lt?`#${Nt}=${encodeURIComponent(lt)}`:"";return`${function mu({config:b}){return b.emulator?$e(b,rl):`https://${b.authDomain}/${ic}`}(b)}?${(0,V.xO)(Te).slice(1)}${Dt}`})).apply(this,arguments)}const Bd="webStorageSupport",m_=class Sf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gl,this._completeRedirectFn=Xl,this._overrideRedirectResult=Yr}_openPopup(m,_,E,k){var F=this;return(0,u.Z)(function*(){var ae;ct(null===(ae=F.eventManagers[m._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Te=yield mn(m,_,E,Dn(),k);return function Kr(b,m,_,E=500,k=600){const F=Math.max((window.screen.availHeight-k)/2,0).toString(),ae=Math.max((window.screen.availWidth-E)/2,0).toString();let Te="";const lt=Object.assign(Object.assign({},Oe),{width:E.toString(),height:k.toString(),top:F,left:ae}),Dt=(0,V.z$)().toLowerCase();_&&(Te=N(Dt)?"_blank":_),L(Dt)&&(m=m||"http://localhost",lt.scrollbars="yes");const Tt=Object.entries(lt).reduce((Ko,[Be,oc])=>`${Ko}${Be}=${oc},`,"");if(function Vt(b=(0,V.z$)()){var m;return $t(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Dt)&&"_self"!==Te)return function Zi(b,m){const _=document.createElement("a");_.href=b,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",Te),new nn(null);const Mn=window.open(m||"",Te,Tt);de(Mn,b,"popup-blocked");try{Mn.focus()}catch{}return new nn(Mn)}(m,Te,Ys())})()}_openRedirect(m,_,E,k){var F=this;return(0,u.Z)(function*(){return yield F._originValidation(m),function nu(b){ai().location.href=b}(yield mn(m,_,E,Dn(),k)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:k,promise:F}=this.eventManagers[_];return k?Promise.resolve(k):(ct(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const E=yield function ie(b){return pe.apply(this,arguments)}(m),k=new If(m);return E.register("authEvent",F=>(de(F?.authEvent,m,"invalid-auth-event"),{status:k.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:k},_.iframes[m._key()]=E,k})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Bd,{type:Bd},k=>{var F;const ae=null===(F=k?.[0])||void 0===F?void 0:F[Bd];void 0!==ae&&_(!!ae),Re(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function nc(b){return Ts.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ln()||B()||$t()}};class g_{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return ft("unexpected MultiFactorSessionType")}}}class Af extends g_{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Af(m)}_finalizeEnroll(m,_,E){return function qs(b,m){return vt(b,"POST","/v2/accounts/mfaEnrollment:finalize",qe(b,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function vf(b,m){return vt(b,"POST","/v2/accounts/mfaSignIn:finalize",qe(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rc=(()=>{class b{constructor(){}static assertion(_){return Af._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var v_="@firebase/auth";class cb{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{m(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Ai(b){(0,O._registerComponent)(new X.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),k=m.getProvider("heartbeat"),F=m.getProvider("app-check-internal"),{apiKey:ae,authDomain:Te}=E.options;de(ae&&!ae.includes(":"),"invalid-api-key",{appName:E.name});const lt={apiKey:ae,authDomain:Te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uo(b)},Dt=new Ua(E,k,F,lt);return function Wp(b,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(oi);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,m?.popupRedirectResolver)}(Dt,_),Dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new X.wA("auth-internal",m=>{const _=yi(m.getProvider("auth").getImmediate());return new cb(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(v_,"0.23.2",function ub(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(v_,"0.23.2","esm2017")}("Browser")},2090:(se,K,M)=>{M.d(K,{$s:()=>oi,BH:()=>je,G6:()=>$e,L:()=>ee,LL:()=>Et,Pz:()=>Se,Sg:()=>We,UG:()=>ft,US:()=>X,ZB:()=>q,ZR:()=>vt,aH:()=>Re,b$:()=>Zn,eu:()=>at,hl:()=>Qe,jU:()=>ct,m9:()=>Pr,ne:()=>ui,pd:()=>Ot,r3:()=>jn,ru:()=>Dn,tV:()=>G,uI:()=>de,vZ:()=>kt,w1:()=>lo,xO:()=>ti,xb:()=>Ho,z$:()=>Ue,zI:()=>Je,zd:()=>fn});const ne=function(te){const J=[];let L=0;for(let B=0;B<te.length;B++){let N=te.charCodeAt(B);N<128?J[L++]=N:N<2048?(J[L++]=N>>6|192,J[L++]=63&N|128):55296==(64512&N)&&B+1<te.length&&56320==(64512&te.charCodeAt(B+1))?(N=65536+((1023&N)<<10)+(1023&te.charCodeAt(++B)),J[L++]=N>>18|240,J[L++]=N>>12&63|128,J[L++]=N>>6&63|128,J[L++]=63&N|128):(J[L++]=N>>12|224,J[L++]=N>>6&63|128,J[L++]=63&N|128)}return J},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,J){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let N=0;N<te.length;N+=3){const he=te[N],we=N+1<te.length,mt=we?te[N+1]:0,Gt=N+2<te.length,$t=Gt?te[N+2]:0;let Rn=(15&mt)<<2|$t>>6,ln=63&$t;Gt||(ln=64,we||(Rn=64)),B.push(L[he>>2],L[(3&he)<<4|mt>>4],L[Rn],L[ln])}return B.join("")},encodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(te):this.encodeByteArray(ne(te),J)},decodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(te):function(te){const J=[];let L=0,B=0;for(;L<te.length;){const N=te[L++];if(N<128)J[B++]=String.fromCharCode(N);else if(N>191&&N<224){const he=te[L++];J[B++]=String.fromCharCode((31&N)<<6|63&he)}else if(N>239&&N<365){const Gt=((7&N)<<18|(63&te[L++])<<12|(63&te[L++])<<6|63&te[L++])-65536;J[B++]=String.fromCharCode(55296+(Gt>>10)),J[B++]=String.fromCharCode(56320+(1023&Gt))}else{const he=te[L++],we=te[L++];J[B++]=String.fromCharCode((15&N)<<12|(63&he)<<6|63&we)}}return J.join("")}(this.decodeStringToByteArray(te,J))},decodeStringToByteArray(te,J){this.init_();const L=J?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let N=0;N<te.length;){const he=L[te.charAt(N++)],mt=N<te.length?L[te.charAt(N)]:0;++N;const $t=N<te.length?L[te.charAt(N)]:64;++N;const Vt=N<te.length?L[te.charAt(N)]:64;if(++N,null==he||null==mt||null==$t||null==Vt)throw new re;B.push(he<<2|mt>>4),64!==$t&&(B.push(mt<<4&240|$t>>2),64!==Vt&&B.push($t<<6&192|Vt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ee=function(te){return function(te){const J=ne(te);return X.encodeByteArray(J,!0)}(te).replace(/\./g,"")},G=function(te){try{return X.decodeString(te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function q(te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return J}for(const L in J)!J.hasOwnProperty(L)||!ve(L)||(te[L]=q(te[L],J[L]));return te}function ve(te){return"__proto__"!==te}const Ae=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=te&&G(te[1]);return J&&JSON.parse(J)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Re=()=>{var te;return null===(te=Ae())||void 0===te?void 0:te.config},Se=te=>{var J;return null===(J=Ae())||void 0===J?void 0:J[`_${te}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,L)=>{this.resolve=J,this.reject=L})}wrapCallback(J){return(L,B)=>{L?this.reject(L):this.resolve(B),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(L):J(L,B))}}}function We(te,J){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=J||"demo-project",N=te.iat||0,he=te.sub||te.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:N,exp:N+3600,auth_time:N,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(we)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function ft(){var te;const J=null===(te=Ae())||void 0===te?void 0:te.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ct(){return"object"==typeof self&&self.self===self}function Dn(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Zn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lo(){const te=Ue();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function $e(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){try{return"object"==typeof indexedDB}catch{return!1}}function at(){return new Promise((te,J)=>{try{let L=!0;const B="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(B);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(B),te(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var he;J((null===(he=N.error)||void 0===he?void 0:he.message)||"")}}catch(L){J(L)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vt extends Error{constructor(J,L,B){super(L),this.code=J,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(J,L,B){this.service=J,this.serviceName=L,this.errors=B}create(J,...L){const B=L[0]||{},N=`${this.service}/${J}`,he=this.errors[J],we=he?function Pe(te,J){return te.replace(tt,(L,B)=>{const N=J[B];return null!=N?String(N):`<${B}?>`})}(he,B):"Error";return new vt(N,`${this.serviceName}: ${we} (${N}).`,B)}}const tt=/\{\$([^}]+)}/g;function jn(te,J){return Object.prototype.hasOwnProperty.call(te,J)}function Ho(te){for(const J in te)if(Object.prototype.hasOwnProperty.call(te,J))return!1;return!0}function kt(te,J){if(te===J)return!0;const L=Object.keys(te),B=Object.keys(J);for(const N of L){if(!B.includes(N))return!1;const he=te[N],we=J[N];if(qn(he)&&qn(we)){if(!kt(he,we))return!1}else if(he!==we)return!1}for(const N of B)if(!L.includes(N))return!1;return!0}function qn(te){return null!==te&&"object"==typeof te}function ti(te){const J=[];for(const[L,B]of Object.entries(te))Array.isArray(B)?B.forEach(N=>{J.push(encodeURIComponent(L)+"="+encodeURIComponent(N))}):J.push(encodeURIComponent(L)+"="+encodeURIComponent(B));return J.length?"&"+J.join("&"):""}function fn(te){const J={};return te.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[N,he]=B.split("=");J[decodeURIComponent(N)]=decodeURIComponent(he)}}),J}function Ot(te){const J=te.indexOf("?");if(!J)return"";const L=te.indexOf("#",J);return te.substring(J,L>0?L:void 0)}function ui(te,J){const L=new Ii(te,J);return L.subscribe.bind(L)}class Ii{constructor(J,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{J(this)}).catch(B=>{this.error(B)})}next(J){this.forEachObserver(L=>{L.next(J)})}error(J){this.forEachObserver(L=>{L.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,L,B){let N;if(void 0===J&&void 0===L&&void 0===B)throw new Error("Missing Observer.");N=function ni(te,J){if("object"!=typeof te||null===te)return!1;for(const L of J)if(L in te&&"function"==typeof te[L])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:L,complete:B},void 0===N.next&&(N.next=ii),void 0===N.error&&(N.error=ii),void 0===N.complete&&(N.complete=ii);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),he}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,J)}sendOne(J,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{L(this.observers[J])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}const bi=1e3,_n=2,di=144e5,an=.5;function oi(te,J=bi,L=_n){const B=J*Math.pow(L,te),N=Math.round(an*B*(Math.random()-.5)*2);return Math.min(di,B+N)}function Pr(te){return te&&te._delegate?te._delegate:te}},8802:(se,K,M)=>{var u=M(2223);let V=null;function O(){return V}class Y{}const X=new u.OlP("DocumentToken");let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ee)},providedIn:"platform"}),n})();const oe=new u.OlP("Location Initialized");let ee=(()=>{class n extends re{constructor(){super(),this._doc=(0,u.f3M)(X),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function G(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function q(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ze)},providedIn:"root"}),n})();const Me=new u.OlP("appBaseHref");let Ze=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return G(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+q(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+q(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+q(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=G(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+q(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+q(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(z(Le(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+q(i))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Le(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=q,n.joinWithSlash=G,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(u.LFG(ve))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return new be((0,u.LFG)(ve))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),ft=(()=>((ft=ft||{})[ft.Short=0]="Short",ft[ft.Medium=1]="Medium",ft[ft.Long=2]="Long",ft[ft.Full=3]="Full",ft))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function at(n,e){return jn((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Je(n,e){return jn((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function qe(n,e){return jn((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function vt(n,e){const t=(0,u.cg1)(n),i=t[u.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ct.CurrencyDecimal)return t[u.wAp.NumberSymbols][ct.Decimal];if(e===ct.CurrencyGroup)return t[u.wAp.NumberSymbols][ct.Group]}return i}function xn(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function kr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const qn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ji={},ti=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fn=(()=>((fn=fn||{})[fn.Short=0]="Short",fn[fn.ShortGMT=1]="ShortGMT",fn[fn.Long=2]="Long",fn[fn.Extended=3]="Extended",fn))(),Ot=(()=>((Ot=Ot||{})[Ot.FullYear=0]="FullYear",Ot[Ot.Month=1]="Month",Ot[Ot.Date=2]="Date",Ot[Ot.Hours=3]="Hours",Ot[Ot.Minutes=4]="Minutes",Ot[Ot.Seconds=5]="Seconds",Ot[Ot.FractionalSeconds=6]="FractionalSeconds",Ot[Ot.Day=7]="Day",Ot))(),pt=(()=>((pt=pt||{})[pt.DayPeriods=0]="DayPeriods",pt[pt.Days=1]="Days",pt[pt.Months=2]="Months",pt[pt.Eras=3]="Eras",pt))();function ui(n,e,t,i){let r=function J(n){if(B(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(f=>+f);return Ii(r,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(qn))return function L(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-i,g=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,f,g,y),e}(i)}const e=new Date(n);if(!B(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=dr(t,e)||e;let f,l=[];for(;e;){if(f=ti.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let g=r.getTimezoneOffset();i&&(g=Hi(i,g),r=function te(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Pr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Hi(e,r)-r))}(r,i,!0));let y="";return l.forEach(C=>{const T=function Or(n){if(oi[n])return oi[n];let e;switch(n){case"G":case"GG":case"GGG":e=Zt(pt.Eras,de.Abbreviated);break;case"GGGG":e=Zt(pt.Eras,de.Wide);break;case"GGGGG":e=Zt(pt.Eras,de.Narrow);break;case"y":e=kn(Ot.FullYear,1,0,!1,!0);break;case"yy":e=kn(Ot.FullYear,2,0,!0,!0);break;case"yyy":e=kn(Ot.FullYear,3,0,!1,!0);break;case"yyyy":e=kn(Ot.FullYear,4,0,!1,!0);break;case"Y":e=an(1);break;case"YY":e=an(2,!0);break;case"YYY":e=an(3);break;case"YYYY":e=an(4);break;case"M":case"L":e=kn(Ot.Month,1,1);break;case"MM":case"LL":e=kn(Ot.Month,2,1);break;case"MMM":e=Zt(pt.Months,de.Abbreviated);break;case"MMMM":e=Zt(pt.Months,de.Wide);break;case"MMMMM":e=Zt(pt.Months,de.Narrow);break;case"LLL":e=Zt(pt.Months,de.Abbreviated,Ue.Standalone);break;case"LLLL":e=Zt(pt.Months,de.Wide,Ue.Standalone);break;case"LLLLL":e=Zt(pt.Months,de.Narrow,Ue.Standalone);break;case"w":e=di(1);break;case"ww":e=di(2);break;case"W":e=di(1,!0);break;case"d":e=kn(Ot.Date,1);break;case"dd":e=kn(Ot.Date,2);break;case"c":case"cc":e=kn(Ot.Day,1);break;case"ccc":e=Zt(pt.Days,de.Abbreviated,Ue.Standalone);break;case"cccc":e=Zt(pt.Days,de.Wide,Ue.Standalone);break;case"ccccc":e=Zt(pt.Days,de.Narrow,Ue.Standalone);break;case"cccccc":e=Zt(pt.Days,de.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":e=Zt(pt.Days,de.Abbreviated);break;case"EEEE":e=Zt(pt.Days,de.Wide);break;case"EEEEE":e=Zt(pt.Days,de.Narrow);break;case"EEEEEE":e=Zt(pt.Days,de.Short);break;case"a":case"aa":case"aaa":e=Zt(pt.DayPeriods,de.Abbreviated);break;case"aaaa":e=Zt(pt.DayPeriods,de.Wide);break;case"aaaaa":e=Zt(pt.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":e=Zt(pt.DayPeriods,de.Abbreviated,Ue.Standalone,!0);break;case"bbbb":e=Zt(pt.DayPeriods,de.Wide,Ue.Standalone,!0);break;case"bbbbb":e=Zt(pt.DayPeriods,de.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":e=Zt(pt.DayPeriods,de.Abbreviated,Ue.Format,!0);break;case"BBBB":e=Zt(pt.DayPeriods,de.Wide,Ue.Format,!0);break;case"BBBBB":e=Zt(pt.DayPeriods,de.Narrow,Ue.Format,!0);break;case"h":e=kn(Ot.Hours,1,-12);break;case"hh":e=kn(Ot.Hours,2,-12);break;case"H":e=kn(Ot.Hours,1);break;case"HH":e=kn(Ot.Hours,2);break;case"m":e=kn(Ot.Minutes,1);break;case"mm":e=kn(Ot.Minutes,2);break;case"s":e=kn(Ot.Seconds,1);break;case"ss":e=kn(Ot.Seconds,2);break;case"S":e=kn(Ot.FractionalSeconds,1);break;case"SS":e=kn(Ot.FractionalSeconds,2);break;case"SSS":e=kn(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=er(fn.Short);break;case"ZZZZZ":e=er(fn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=er(fn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=er(fn.Long);break;default:return null}return oi[n]=e,e}(C);y+=T?T(r,t,g):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Ii(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function dr(n,e){const t=function Zn(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Ji[t]=Ji[t]||{},Ji[t][e])return Ji[t][e];let i="";switch(e){case"shortDate":i=at(n,ft.Short);break;case"mediumDate":i=at(n,ft.Medium);break;case"longDate":i=at(n,ft.Long);break;case"fullDate":i=at(n,ft.Full);break;case"shortTime":i=Je(n,ft.Short);break;case"mediumTime":i=Je(n,ft.Medium);break;case"longTime":i=Je(n,ft.Long);break;case"fullTime":i=Je(n,ft.Full);break;case"short":const r=dr(n,"shortTime"),s=dr(n,"shortDate");i=ni(qe(n,ft.Short),[r,s]);break;case"medium":const l=dr(n,"mediumTime"),f=dr(n,"mediumDate");i=ni(qe(n,ft.Medium),[l,f]);break;case"long":const g=dr(n,"longTime"),y=dr(n,"longDate");i=ni(qe(n,ft.Long),[g,y]);break;case"full":const C=dr(n,"fullTime"),T=dr(n,"fullDate");i=ni(qe(n,ft.Full),[C,T])}return i&&(Ji[t][e]=i),i}function ni(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function ii(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return i&&(l=l.slice(l.length-e)),s+l}function kn(n,e,t=0,i=!1,r=!1){return function(s,l){let f=function Rr(n,e){switch(n){case Ot.FullYear:return e.getFullYear();case Ot.Month:return e.getMonth();case Ot.Date:return e.getDate();case Ot.Hours:return e.getHours();case Ot.Minutes:return e.getMinutes();case Ot.Seconds:return e.getSeconds();case Ot.FractionalSeconds:return e.getMilliseconds();case Ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===Ot.Hours)0===f&&-12===t&&(f=12);else if(n===Ot.FractionalSeconds)return function ji(n,e){return ii(n,3).substring(0,e)}(f,e);const g=vt(l,ct.MinusSign);return ii(f,e,g,i,r)}}function Zt(n,e,t=Ue.Format,i=!1){return function(r,s){return function vi(n,e,t,i,r,s){switch(t){case pt.Months:return function Ie(n,e,t){const i=(0,u.cg1)(n),s=jn([i[u.wAp.MonthsFormat],i[u.wAp.MonthsStandalone]],e);return jn(s,t)}(e,r,i)[n.getMonth()];case pt.Days:return function lo(n,e,t){const i=(0,u.cg1)(n),s=jn([i[u.wAp.DaysFormat],i[u.wAp.DaysStandalone]],e);return jn(s,t)}(e,r,i)[n.getDay()];case pt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(s){const y=function Qn(n){const e=(0,u.cg1)(n);return xn(e),(e[u.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?kr(i):[kr(i[0]),kr(i[1])])}(e),C=function Ui(n,e,t){const i=(0,u.cg1)(n);xn(i);const s=jn([i[u.wAp.ExtraData][0],i[u.wAp.ExtraData][1]],e)||[];return jn(s,t)||[]}(e,r,i),T=y.findIndex(U=>{if(Array.isArray(U)){const[W,Q]=U,ce=l>=W.hours&&f>=W.minutes,ue=l<Q.hours||l===Q.hours&&f<Q.minutes;if(W.hours<Q.hours){if(ce&&ue)return!0}else if(ce||ue)return!0}else if(U.hours===l&&U.minutes===f)return!0;return!1});if(-1!==T)return C[T]}return function Pi(n,e,t){const i=(0,u.cg1)(n),s=jn([i[u.wAp.DayPeriodsFormat],i[u.wAp.DayPeriodsStandalone]],e);return jn(s,t)}(e,r,i)[l<12?0:1];case pt.Eras:return function Ve(n,e){return jn((0,u.cg1)(n)[u.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function er(n){return function(e,t,i){const r=-1*i,s=vt(t,ct.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case fn.Short:return(r>=0?"+":"")+ii(l,2,s)+ii(Math.abs(r%60),2,s);case fn.ShortGMT:return"GMT"+(r>=0?"+":"")+ii(l,1,s);case fn.Long:return"GMT"+(r>=0?"+":"")+ii(l,2,s)+":"+ii(Math.abs(r%60),2,s);case fn.Extended:return 0===i?"Z":(r>=0?"+":"")+ii(l,2,s)+":"+ii(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const bo=0,ri=4;function _n(n){return Ii(n.getFullYear(),n.getMonth(),n.getDate()+(ri-n.getDay()))}function di(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+s)/7)}else{const s=_n(t),l=function bi(n){const e=Ii(n,bo,1).getDay();return Ii(n,0,1+(e<=ri?ri:ri+7)-e)}(s.getFullYear()),f=s.getTime()-l.getTime();r=1+Math.round(f/6048e5)}return ii(r,n,vt(i,ct.MinusSign))}}function an(n,e=!1){return function(t,i){return ii(_n(t).getFullYear(),n,vt(i,ct.MinusSign),e)}}const oi={};function Hi(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function B(n){return n instanceof Date&&!isNaN(n.valueOf())}const Vs=/\s+/,Pc=[];let Bs=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Pc,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Vs):Pc}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Vs):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Vs).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Nc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ua=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Nc(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,l),yi(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{yi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function yi(n,e){n.context.$implicit=e.item}let zo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Wp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Il("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Il("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wp{constructor(){this.$implicit=null,this.ngIf=null}}function Il(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class ja{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let wo=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ya=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ja(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(wo,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),$i=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})();const Cn=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Bn=new u.OlP("DATE_PIPE_DEFAULT_OPTIONS");let is=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return ui(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function Yn(n,e){return new u.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16),u.Y36(Cn,24),u.Y36(Bn,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),hr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ml="browser";function ys(n){return"server"===n}let rs=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Gi((0,u.LFG)(X),window)}),n})();class Gi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function fo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ld(this.window.history)||ld(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ld(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bl extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dd extends Bl{static makeCurrent(){!function ne(n){V||(V=n)}(new Dd)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nm(){return Go=Go||document.querySelector("base"),Go?Go.getAttribute("href"):null}();return null==t?null:function Ed(n){Qc=Qc||document.createElement("a"),Qc.setAttribute("href",n);const e=Qc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ls(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Qc,Go=null,Cd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pf=new u.OlP("EventManagerPlugins");let Yt=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pf),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Xc{constructor(e){this._doc=e}}const Jc="ng-app-id";let as=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ys(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Jc}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Jc),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Jc,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ul={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jl=/%COMP%/g,rm=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ke(n,e){return e.map(t=>t.replace(jl,n))}let pn=(()=>{class n{constructor(t,i,r,s,l,f,g,y=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.doc=l,this.platformId=f,this.ngZone=g,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=ys(f),this.defaultRenderer=new zl(t,l,g,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.ifc.ShadowDom&&(i={...i,encapsulation:u.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof $l?r.applyToHost(t):r instanceof mo&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,f=this.ngZone,g=this.eventManager,y=this.sharedStylesHost,C=this.removeStylesOnCompDestory,T=this.platformIsServer;switch(i.encapsulation){case u.ifc.Emulated:s=new $l(g,y,i,this.appId,C,l,f,T);break;case u.ifc.ShadowDom:return new qa(g,y,t,i,l,f,this.nonce,T);default:s=new mo(g,y,i,C,l,f,T)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yt),u.LFG(as),u.LFG(u.AFp),u.LFG(rm),u.LFG(X),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class zl{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ul[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tu(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(tu(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new u.vHH(5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ul[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ul[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function tu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qa extends zl{constructor(e,t,i,r,s,l,f,g){super(e,s,l,g),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=Ke(r.id,r.styles);for(const C of y){const T=document.createElement("style");f&&T.setAttribute("nonce",f),T.textContent=C,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mo extends zl{constructor(e,t,i,r,s,l,f,g){super(e,s,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=g?Ke(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $l extends mo{constructor(e,t,i,r,s,l,f,g){const y=r+"-"+i.id;super(e,t,i,s,l,f,g,y),this.contentAttr=function Id(n){return"_ngcontent-%COMP%".replace(jl,n)}(y),this.hostAttr=function Hl(n){return"_nghost-%COMP%".replace(jl,n)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Gl=(()=>{class n extends Xc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const om=["alt","control","meta","shift"],lb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ys={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wr=(()=>{class n extends Xc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),om.forEach(y=>{const C=i.indexOf(y);C>-1&&(i.splice(C,1),l+=y+".")}),l+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=l,g}static matchEventFullKeyCode(t,i){let r=lb[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),om.forEach(l=>{l!==r&&(0,Ys[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Sd=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ml},{provide:u.g9A,useValue:function Td(){Dd.makeCurrent()},multi:!0},{provide:X,useFactory:function Md(){return(0,u.RDi)(document),document},deps:[]}]),qi=new u.OlP(""),iu=[{provide:u.rWj,useClass:class im{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new u.vHH(5103,!1);return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const f=function(g){l=l||g,s--,0==s&&i(l)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Es=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function gf(){return new u.qLn},deps:[]},{provide:pf,useClass:Gl,multi:!0,deps:[X,u.R0b,u.Lbi]},{provide:pf,useClass:Wr,multi:!0,deps:[X]},pn,as,Yt,{provide:u.FYo,useExisting:pn},{provide:class cd{},useClass:Cd,deps:[]},[]];let Wl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qi,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Es,...iu],imports:[hr,u.hGG]}),n})(),Ad=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ya(){return new Ad((0,u.LFG)(X))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var Er=(()=>((Er=Er||{}).FULL="dd.MM.yyyy, HH:mm",Er.DATE="dd.MM.yyyy",Er.DAY_MONTH="dd.MM.",Er.TIME="HH:mm",Er.COMMENT="COMMENT",Er))();function ls(n){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function bn(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Xn(n){bn(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"===ls(n)&&"[object Date]"===e?new Date(n.getTime()):"number"==typeof n||"[object Number]"===e?new Date(n):(("string"==typeof n||"[object String]"===e)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Kl(n){bn(1,arguments);var e=Xn(n);return e.setHours(0,0,0,0),e}let lu=(()=>{class n{constructor(t){this.angularDatePipe=t}transform(t,i=Er.FULL){if(!t)return"";const r=t.toDate();return i===Er.COMMENT?function Zl(n){return bn(1,arguments),function au(n,e){bn(2,arguments);var t=Kl(n),i=Kl(e);return t.getTime()===i.getTime()}(n,Date.now())}(r)?this.angularDatePipe.transform(r,Er.TIME):this.angularDatePipe.transform(r,Er.FULL):this.angularDatePipe.transform(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,16))},n.\u0275pipe=u.Yjl({name:"formatDate",type:n,pure:!0}),n})(),Qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[is,lu],imports:[hr]}),n})();var hn=M(8784),fr=M(6451),Li=M(9751),cn=M(7579),Cr=M(4482),tr=M(5403),Xa=M(5032),cs=M(515),It=M(9646),or=M(576);function Ja(n,e){const t=(0,or.m)(n)?n:()=>n,i=r=>r.error(t());return new Li.y(e?r=>e.schedule(i,0,r):i)}class qo{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return Nd(this,e)}do(e,t,i){const{kind:r,value:s,error:l}=this;return"N"===r?e?.(s):"E"===r?t?.(l):i?.()}accept(e,t,i){var r;return(0,or.m)(null===(r=e)||void 0===r?void 0:r.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,r="N"===e?(0,It.of)(t):"E"===e?Ja(()=>i):"C"===e?cs.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new qo("N",e)}static createError(e){return new qo("E",void 0,e)}static createComplete(){return qo.completeNotification}}function Nd(n,e){var t,i,r;const{kind:s,value:l,error:f}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(t=e.next)||void 0===t||t.call(e,l):"E"===s?null===(i=e.error)||void 0===i||i.call(e,f):null===(r=e.complete)||void 0===r||r.call(e)}qo.completeNotification=new qo("C");var qt=M(4004),qr=M(262),Yi=M(9300),el=M(8421);function Is(n,e,t,i){return(0,Cr.e)((r,s)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:i}=e):l=e;const f=new Map,g=Q=>{f.forEach(Q),Q(s)},y=Q=>g(ce=>ce.error(Q));let C=0,T=!1;const U=new tr.Q(s,Q=>{try{const ce=n(Q);let ue=f.get(ce);if(!ue){f.set(ce,ue=i?i():new cn.x);const ye=function W(Q,ce){const ue=new Li.y(ye=>{C++;const Ce=ce.subscribe(ye);return()=>{Ce.unsubscribe(),0==--C&&T&&U.unsubscribe()}});return ue.key=Q,ue}(ce,ue);if(s.next(ye),t){const Ce=(0,tr.x)(ue,()=>{ue.complete(),Ce?.unsubscribe()},void 0,void 0,()=>f.delete(ce));U.add((0,el.Xf)(t(ye)).subscribe(Ce))}}ue.next(l?l(Q):Q)}catch(ce){y(ce)}},()=>g(Q=>Q.complete()),y,()=>f.clear(),()=>(T=!0,0===C));r.subscribe(U)})}var li=M(5577);function Fd(n,e){return e?t=>t.pipe(Fd((i,r)=>(0,el.Xf)(n(i,r)).pipe((0,qt.U)((s,l)=>e(i,s,r,l))))):(0,Cr.e)((t,i)=>{let r=0,s=null,l=!1;t.subscribe((0,tr.x)(i,f=>{s||(s=(0,tr.x)(i,void 0,()=>{s=null,l&&i.complete()}),(0,el.Xf)(n(f,r++)).subscribe(s))},()=>{l=!0,!s&&i.complete()}))})}var Yr=M(5698);const Ta={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},du="__@ngrx/effects_create__";function tl(n,e={}){const t=e.functional?n:n(),i={...Ta,...e};return Object.defineProperty(t,du,{value:i}),t}function fu(n){return Object.getPrototypeOf(n)}function Qs(n){return"function"==typeof n}function Xs(n){return n.filter(Qs)}function Ql(n,e,t){const i=fu(n).constructor.name,r=function Ld(n){return function hu(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(du))&&n[i][du].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][du]}))}(n)}(n).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:f})=>{const g="function"==typeof n[s]?n[s]():n[s],y=f?t(g,e):g;return!1===l?y.pipe(function Io(){return(0,Cr.e)((n,e)=>{n.subscribe((0,tr.x)(e,Xa.Z))})}()):y.pipe(function uu(){return(0,Cr.e)((n,e)=>{n.subscribe((0,tr.x)(e,t=>{e.next(qo.createNext(t))},()=>{e.next(qo.createComplete()),e.complete()},t=>{e.next(qo.createError(t)),e.complete()}))})}()).pipe((0,qt.U)(T=>({effect:n[s],notification:T,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,fr.T)(...r)}function Xl(n,e,t=10){return n.pipe((0,qr.K)(i=>(e&&e.handleError(i),t<=1?n:Xl(n,e,t-1))))}let Jl=(()=>{class n extends Li.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hn.Y$))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nl(...n){return(0,Yi.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}const ec=new u.OlP("@ngrx/effects Internal Root Guard"),tc=new u.OlP("@ngrx/effects User Provided Effects"),If=new u.OlP("@ngrx/effects Internal Root Effects"),dm=new u.OlP("@ngrx/effects Internal Root Effects Instances"),hm=new u.OlP("@ngrx/effects Internal Feature Effects"),il=new u.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),fm=new u.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Xl}),Js="@ngrx/effects/init";(0,hn.PH)(Js);function p_(n){return Mf(n,"ngrxOnInitEffects")}function Mf(n,e){return n&&e in n&&"function"==typeof n[e]}let D=(()=>{class n extends cn.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Is(t=>function Zs(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?fu(t):t),(0,li.z)(t=>t.pipe(Is(I))),(0,li.z)(t=>{const i=t.pipe(Fd(s=>function R(n,e){return t=>{const i=Ql(t,n,e);return function Ms(n){return Mf(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,qt.U)(s=>(function pm(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function nc(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function Ts({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function To(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(s,this.errorHandler),s.notification)),(0,Yi.h)(s=>"N"===s.kind&&null!=s.value),function um(){return(0,Cr.e)((n,e)=>{n.subscribe((0,tr.x)(e,t=>Nd(t,e)))})}()),r=t.pipe((0,Yr.q)(1),(0,Yi.h)(p_),(0,qt.U)(s=>s.ngrxOnInitEffects()));return(0,fr.T)(i,r)}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.qLn),u.LFG(fm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I(n){return function Tf(n){return Mf(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let j=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D),u.LFG(hn.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ie=(()=>{class n{constructor(t,i,r,s,l,f,g){this.sources=t,i.start();for(const y of s)t.addEffects(y);r.dispatch({type:Js})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D),u.LFG(j),u.LFG(hn.yh),u.LFG(dm),u.LFG(hn.cr,8),u.LFG(hn.CK,8),u.LFG(ec,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),pe=(()=>{class n{constructor(t,i,r,s){const l=i.flat();for(const f of l)t.addEffects(f)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(il),u.LFG(hn.cr,8),u.LFG(hn.CK,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Oe=(()=>{class n{static forFeature(...t){const i=t.flat(),r=Xs(i);return{ngModule:pe,providers:[r,{provide:hm,multi:!0,useValue:i},{provide:tc,multi:!0,useValue:[]},{provide:il,multi:!0,useFactory:gt,deps:[hm,tc]}]}}static forRoot(...t){const i=t.flat(),r=Xs(i);return{ngModule:ie,providers:[r,{provide:If,useValue:[i]},{provide:ec,useFactory:ht},{provide:tc,multi:!0,useValue:[]},{provide:dm,useFactory:gt,deps:[If,tc]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function gt(n,e){const t=[];for(const i of n)t.push(...i);for(const i of e)t.push(...i);return t.map(i=>function pu(n){return n instanceof u.OlP||Qs(n)}(i)?(0,u.f3M)(i):i)}function ht(){const n=(0,u.f3M)(j,{optional:!0,skipSelf:!0}),e=(0,u.f3M)(If,{self:!0});if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Kr=M(5366),Nt=(()=>((Nt=Nt||{})[Nt.EntitiesOnly=0]="EntitiesOnly",Nt[Nt.Both=1]="Both",Nt[Nt.None=2]="None",Nt))();function mn(n){return function(t,i){const r={ids:[...i.ids],entities:{...i.entities}},s=n(t,r);return s===Nt.Both?Object.assign({},i,r):s===Nt.EntitiesOnly?{...i,entities:r.entities}:i}}function sr(n,e){const t=e(n);return(0,u.X6Q)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function mu(n){function e(ue,ye){const Ce=sr(ue,n);return Ce in ye.entities?Nt.None:(ye.ids.push(Ce),ye.entities[Ce]=ue,Nt.Both)}function t(ue,ye){let Ce=!1;for(const Ee of ue)Ce=e(Ee,ye)!==Nt.None||Ce;return Ce?Nt.Both:Nt.None}function r(ue,ye){const Ce=sr(ue,n);return Ce in ye.entities?(ye.entities[Ce]=ue,Nt.EntitiesOnly):(ye.ids.push(Ce),ye.entities[Ce]=ue,Nt.Both)}function f(ue,ye){const Ee=(ue instanceof Array?ue:ye.ids.filter(He=>ue(ye.entities[He]))).filter(He=>He in ye.entities).map(He=>delete ye.entities[He]).length>0;return Ee&&(ye.ids=ye.ids.filter(He=>He in ye.entities)),Ee?Nt.Both:Nt.None}function C(ue,ye){return T([ue],ye)}function T(ue,ye){const Ce={};return(ue=ue.filter(He=>He.id in ye.entities)).length>0?ue.filter(ot=>function y(ue,ye,Ce){const He=Object.assign({},Ce.entities[ye.id],ye.changes),ot=sr(He,n),ut=ot!==ye.id;return ut&&(ue[ye.id]=ot,delete Ce.entities[ye.id]),Ce.entities[ot]=He,ut}(Ce,ot,ye)).length>0?(ye.ids=ye.ids.map(ot=>Ce[ot]||ot),Nt.Both):Nt.EntitiesOnly:Nt.None}function ce(ue,ye){const Ce=[],Ee=[];for(const ut of ue){const Lt=sr(ut,n);Lt in ye.entities?Ee.push({id:Lt,changes:ut}):Ce.push(ut)}const He=T(Ee,ye),ot=t(Ce,ye);switch(!0){case ot===Nt.None&&He===Nt.None:return Nt.None;case ot===Nt.Both||He===Nt.Both:return Nt.Both;default:return Nt.EntitiesOnly}}return{removeAll:function g(ue){return Object.assign({},ue,{ids:[],entities:{}})},addOne:mn(e),addMany:mn(t),setAll:mn(function i(ue,ye){return ye.ids=[],ye.entities={},t(ue,ye),Nt.Both}),setOne:mn(r),setMany:mn(function s(ue,ye){const Ce=ue.map(Ee=>r(Ee,ye));switch(!0){case Ce.some(Ee=>Ee===Nt.Both):return Nt.Both;case Ce.some(Ee=>Ee===Nt.EntitiesOnly):return Nt.EntitiesOnly;default:return Nt.None}}),updateOne:mn(C),updateMany:mn(T),upsertOne:mn(function Q(ue,ye){return ce([ue],ye)}),upsertMany:mn(ce),removeOne:mn(function l(ue,ye){return f([ue],ye)}),removeMany:mn(f),map:mn(function U(ue,ye){return T(ye.ids.reduce((He,ot)=>{const ut=ue(ye.entities[ot]);return ut!==ye.entities[ot]&&He.push({id:ot,changes:ut}),He},[]).filter(({id:He})=>He in ye.entities),ye)}),mapOne:mn(function W({map:ue,id:ye},Ce){const Ee=Ce.entities[ye];return Ee?C({id:ye,changes:ue(Ee)},Ce):Nt.None})}}function Bd(n,e){const{removeOne:t,removeMany:i,removeAll:r}=mu(n);function s(Ce,Ee){return l([Ce],Ee)}function l(Ce,Ee){const He=Ce.filter(ot=>!(sr(ot,n)in Ee.entities));return 0===He.length?Nt.None:(ye(He,Ee),Nt.Both)}function g(Ce,Ee){const He=sr(Ce,n);return He in Ee.entities?(Ee.ids=Ee.ids.filter(ot=>ot!==He),ye([Ce],Ee),Nt.Both):s(Ce,Ee)}function C(Ce,Ee){return U([Ce],Ee)}function U(Ce,Ee){const He=[],ot=Ce.filter(ut=>function T(Ce,Ee,He){if(!(Ee.id in He.entities))return!1;const ut=Object.assign({},He.entities[Ee.id],Ee.changes),Lt=sr(ut,n);return delete He.entities[Ee.id],Ce.push(ut),Lt!==Ee.id}(He,ut,Ee)).length>0;if(0===He.length)return Nt.None;{const ut=Ee.ids,Lt=[];return Ee.ids=Ee.ids.filter((Sn,xi)=>Sn in Ee.entities||(Lt.push(xi),!1)),ye(He,Ee),!ot&&Lt.every(Sn=>Ee.ids[Sn]===ut[Sn])?Nt.EntitiesOnly:Nt.Both}}function ue(Ce,Ee){const He=[],ot=[];for(const Sn of Ce){const xi=sr(Sn,n);xi in Ee.entities?ot.push({id:xi,changes:Sn}):He.push(Sn)}const ut=U(ot,Ee),Lt=l(He,Ee);switch(!0){case Lt===Nt.None&&ut===Nt.None:return Nt.None;case Lt===Nt.Both||ut===Nt.Both:return Nt.Both;default:return Nt.EntitiesOnly}}function ye(Ce,Ee){Ce.sort(e);const He=[];let ot=0,ut=0;for(;ot<Ce.length&&ut<Ee.ids.length;){const Lt=Ce[ot],Sn=sr(Lt,n),xi=Ee.ids[ut];e(Lt,Ee.entities[xi])<=0?(He.push(Sn),ot++):(He.push(xi),ut++)}Ee.ids=He.concat(ot<Ce.length?Ce.slice(ot).map(n):Ee.ids.slice(ut)),Ce.forEach((Lt,Sn)=>{Ee.entities[n(Lt)]=Lt})}return{removeOne:t,removeMany:i,removeAll:r,addOne:mn(s),updateOne:mn(C),upsertOne:mn(function ce(Ce,Ee){return ue([Ce],Ee)}),setAll:mn(function f(Ce,Ee){return Ee.entities={},Ee.ids=[],l(Ce,Ee),Nt.Both}),setOne:mn(g),setMany:mn(function y(Ce,Ee){const He=Ce.map(ot=>g(ot,Ee));switch(!0){case He.some(ot=>ot===Nt.Both):return Nt.Both;case He.some(ot=>ot===Nt.EntitiesOnly):return Nt.EntitiesOnly;default:return Nt.None}}),addMany:mn(l),updateMany:mn(U),upsertMany:mn(ue),map:mn(function W(Ce,Ee){return U(Ee.ids.reduce((ot,ut)=>{const Lt=Ce(Ee.entities[ut]);return Lt!==Ee.entities[ut]&&ot.push({id:ut,changes:Lt}),ot},[]),Ee)}),mapOne:mn(function Q({map:Ce,id:Ee},He){const ot=He.entities[Ee];return ot?C({id:Ee,changes:Ce(ot)},He):Nt.None})}}const g_=(0,hn.PH)("[AUTH] sign in with google request action"),Af=(0,hn.PH)("[AUTH] sign in with google response action",(0,hn.Ky)()),rc=(0,hn.PH)("[AUTH] google auth state changed action",(0,hn.Ky)()),gu=(0,hn.PH)("[AUTH] sign out with google action"),kf=(0,hn.PH)("[TODO] fetch todo lists request action"),__=(0,hn.PH)("[TODO] fetch todo lists response action",(0,hn.Ky)()),_u=(0,hn.PH)("[TODO] create todo list request action",(0,hn.Ky)()),v_=(0,hn.PH)("[TODO] create todo list response action"),cb=function Sf(n={}){const{selectId:e,sortComparer:t}={selectId:n.selectId??(l=>l.id),sortComparer:n.sortComparer??!1},i=function ic(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),r=function rl(){return{getSelectors:function n(e){const t=l=>l.ids,i=l=>l.entities,r=(0,hn.P1)(t,i,(l,f)=>l.map(g=>f[g])),s=(0,hn.P1)(t,l=>l.length);return e?{selectIds:(0,hn.P1)(e,t),selectEntities:(0,hn.P1)(e,i),selectAll:(0,hn.P1)(e,r),selectTotal:(0,hn.P1)(e,s)}:{selectIds:t,selectEntities:i,selectAll:r,selectTotal:s}}}}();return{selectId:e,sortComparer:t,...i,...r,...t?Bd(e,t):mu(e)}}().getInitialState({}),ub=(0,hn.Lq)(cb,(0,hn.on)(Af,(n,{user:e})=>({...n,googleSignedInUser:e})),(0,hn.on)(rc,(n,{user:e})=>({...n,googleSignedInUser:{...n.googleSignedInUser,user:e}})),(0,hn.on)(gu,n=>({...n,googleSignedInUser:void 0})),(0,hn.on)(__,(n,{todoLists:e})=>({...n,todoLists:e})));var Ai=M(8996),Rf=M(1389),Nn=M(2090),ol=M(6881),Ma=M(1877),y_=M(4859),b=M(4986),m=M(8405),_=M(8189),k=M(3269);function F(...n){return function E(){return(0,_.J)(1)}()((0,Ai.D)(n,(0,k.yG)(n)))}function ae(...n){const e=(0,k.yG)(n);return(0,Cr.e)((t,i)=>{(e?F(n,t,e):F(n,t)).subscribe(i)})}function Te(){return(0,Cr.e)((n,e)=>{let t,i=!1;n.subscribe((0,tr.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var yt,lt=M(5026),Dt=M(1884),Tt=M(2011),Ko=(M(9568),M(3942)),Be=M(9671),oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mo={},Ud=Ud||{},rn=oc||self;function Ss(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sl="closure_uid_"+(1e9*Math.random()>>>0),As=0;function db(n,e,t){return n.call.apply(n.bind,arguments)}function gm(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?db:gm).apply(null,arguments)}function _m(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function vu(){this.s=this.s,this.o=this.o}vu.prototype.s=!1,vu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jd(n){Object.prototype.hasOwnProperty.call(n,sl)&&n[sl]||(n[sl]=++As)}(this)},vu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function b_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function bE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Ss(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function So(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}So.prototype.h=function(){this.defaultPrevented=!0};var ds=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},e),rn.removeEventListener("test",()=>{},e)}catch{}return n}();function Hd(n){return/^[\s\xa0]*$/.test(n)}function vm(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function ea(n){return-1!=vm().indexOf(n)}function Qr(n){return Qr[" "](n),n}Qr[" "]=function(){};var D_,n,wE=ea("Opera"),zd=ea("Trident")||ea("MSIE"),DE=ea("Edge"),w_=DE||zd,EE=ea("Gecko")&&!(-1!=vm().toLowerCase().indexOf("webkit")&&!ea("Edge"))&&!(ea("Trident")||ea("MSIE"))&&!ea("Edge"),CE=-1!=vm().toLowerCase().indexOf("webkit")&&!ea("Edge");function xE(){var n=rn.document;return n?n.documentMode:void 0}e:{var hb="",fb=(n=vm(),EE?/rv:([^\);]+)(\)|;)/.exec(n):DE?/Edge\/([\d\.]+)/.exec(n):zd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CE?/WebKit\/(\S+)/.exec(n):wE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fb&&(hb=fb?fb[1]:""),zd){var bm=xE();if(null!=bm&&bm>parseFloat(hb)){D_=String(bm);break e}}D_=hb}var Dm=rn.document&&zd&&(xE()||parseInt(D_,10))||void 0;function Em(n,e){if(So.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(EE){e:{try{Qr(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Em.$.h.call(this)}}xr(Em,So);var bM={2:"touch",3:"pen",4:"mouse"};Em.prototype.h=function(){Em.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $d="closure_listenable_"+(1e6*Math.random()|0),pb=0;function TE(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++pb,this.fa=this.ia=!1}function ac(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Of(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function E_(n){const e={};for(const t in n)e[t]=n[t];return e}const Cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Cm.length;s++)t=Cm[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function C_(n){this.src=n,this.g={},this.h=0}function mb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=yE(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ac(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gb(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}C_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=gb(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new TE(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var _b="closure_lm_"+(1e6*Math.random()|0),vb={};function yb(n,e,t,i,r){if(i&&i.once)return I_(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yb(n,e[s],t,i,r);return null}return t=S_(t),n&&n[$d]?n.O(e,t,sc(i)?!!i.capture:!!i,r):x_(n,e,t,!1,i,r)}function x_(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=sc(r)?!!r.capture:!!r,f=lc(n);if(f||(n[_b]=f=new C_(n)),(t=f.add(e,t,i,l,s)).proxy)return t;if(i=function AE(){const e=RE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ds||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(T_(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function I_(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)I_(n,e[s],t,i,r);return null}return t=S_(t),n&&n[$d]?n.P(e,t,sc(i)?!!i.capture:!!i,r):x_(n,e,t,!0,i,r)}function kE(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)kE(n,e[s],t,i,r);else i=sc(i)?!!i.capture:!!i,t=S_(t),n&&n[$d]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gb(s=n.g[e],t,i,r))&&(ac(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=lc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gb(e,t,i,r)),(t=-1<n?e[n]:null)&&bb(t))}function bb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[$d])mb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(T_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=lc(e))?(mb(t,n),0==t.h&&(t.src=null,e[_b]=null)):ac(n)}}}function T_(n){return n in vb?vb[n]:vb[n]="on"+n}function RE(n,e){if(n.fa)n=!0;else{e=new Em(e,this);var t=n.listener,i=n.la||n.src;n.ia&&bb(n),n=t.call(i,e)}return n}function lc(n){return(n=n[_b])instanceof C_?n:null}var M_="__closure_events_fn_"+(1e9*Math.random()>>>0);function S_(n){return"function"==typeof n?n:(n[M_]||(n[M_]=function(e){return n.handleEvent(e)}),n[M_])}function Xr(){vu.call(this),this.i=new C_(this),this.S=this,this.J=null}function Ao(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new So(e,n);else if(e instanceof So)e.target=e.target||n;else{var r=e;SE(e=new So(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=Gd(l,i,!0,e)&&r}if(r=Gd(l=e.g=n,i,!0,e)&&r,r=Gd(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Gd(l=e.g=t[s],i,!1,e)&&r}function Gd(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var f=l.listener,g=l.la||l.src;l.ia&&mb(n.i,l),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}xr(Xr,vu),Xr.prototype[$d]=!0,Xr.prototype.removeEventListener=function(n,e,t,i){kE(this,n,e,t,i)},Xr.prototype.N=function(){if(Xr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ac(t[i]);delete n.g[e],n.h--}}this.J=null},Xr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Xr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var wb=rn.JSON.stringify;function PE(){var n=Nf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var A_=new class OE{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new FE,n=>n.reset());class FE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function k_(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xm(n){rn.setTimeout(()=>{throw n},0)}let Pf,Wd=!1,Nf=new class NE{constructor(){this.h=this.g=null}add(e,t){const i=A_.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Db=()=>{const n=rn.Promise.resolve(void 0);Pf=()=>{n.then(Eb)}};var Eb=()=>{for(var n;n=PE();){try{n.h.call(n.g)}catch(t){xm(t)}var e=A_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wd=!1};function yu(n,e){Xr.call(this),this.h=n||1,this.g=e||rn,this.j=Zr(this.qb,this),this.l=Date.now()}function Cb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function R_(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:rn.setTimeout(n,e||0)}function LE(n){n.g=R_(()=>{n.g=null,n.i&&(n.i=!1,LE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xr(yu,Xr),(yt=yu.prototype).ga=!1,yt.T=null,yt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ao(this,"tick"),this.ga&&(Cb(this),this.start()))}},yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.N=function(){yu.$.N.call(this),Cb(this),delete this.g};class wM extends vu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LE(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Im(n){vu.call(this),this.h=n,this.g={}}xr(Im,vu);var xb=[];function Ib(n,e,t,i){Array.isArray(t)||(t&&(xb[0]=t.toString()),t=xb);for(var r=0;r<t.length;r++){var s=yb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Tm(n){Of(n.g,function(e,t){this.g.hasOwnProperty(t)&&bb(e)},n),n.g={}}function Ff(){this.g=!0}function Vf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return wb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Im.prototype.N=function(){Im.$.N.call(this),Tm(this)},Im.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ff.prototype.Ea=function(){this.g=!1},Ff.prototype.info=function(){};var cc={},VE=null;function bu(){return VE=VE||new Xr}function Mm(n){So.call(this,cc.Ta,n)}function qd(n){const e=bu();Ao(e,new Mm(e))}function Tb(n,e){So.call(this,cc.STAT_EVENT,n),this.stat=e}function ko(n){const e=bu();Ao(e,new Tb(e,n))}function Mb(n,e){So.call(this,cc.Ua,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},e)}cc.Ta="serverreachability",xr(Mm,So),cc.STAT_EVENT="statevent",xr(Tb,So),cc.Ua="timingevent",xr(Mb,So);var O_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sb(){}function jE(){}Sb.prototype.h=null;var HE,ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yd(){So.call(this,"d")}function Ab(){So.call(this,"c")}function kb(){}function P_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Im(this),this.P=yO,this.V=new yu(n=w_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CM}function CM(){this.i=null,this.g="",this.h=!1}xr(Yd,So),xr(Ab,So),xr(kb,Sb),kb.prototype.g=function(){return new XMLHttpRequest},kb.prototype.i=function(){return{}},HE=new kb;var yO=45e3,N_={},F_={};function Rb(n,e,t){n.L=1,n.v=Kd(hc(e)),n.s=t,n.S=!0,zE(n,null)}function zE(n,e){n.G=Date.now(),dc(n),n.A=hc(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Fb(t.i,"t",i),n.C=0,t=n.l.J,n.h=new CM,n.g=J_(n.l,t?e:null,!n.s),0<n.O&&(n.M=new wM(Zr(n.Pa,n,n.g),n.O)),Ib(n.U,n.g,"readystatechange",n.nb),e=n.I?E_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),qd(),function Lf(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",f=s.split("&"),g=0;g<f.length;g++){var y=f[g].split("=");if(1<y.length){var C=y[0];y=y[1];var T=C.split("_");l=2<=T.length&&"type"==T[1]?l+(C+"=")+y+"&":l+(C+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function $E(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function L_(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=uc(n,t),r==F_){4==e&&(n.o=4,ko(14),i=!1),Vf(n.j,n.m,null,"[Incomplete Response]");break}if(r==N_){n.o=4,ko(15),Vf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Vf(n.j,n.m,r,null),GE(n,r)}$E(n)&&r!=F_&&r!=N_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ko(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),zm(e),e.M=!0,ko(11))):(Vf(n.j,n.m,t,"[Invalid Chunked Response]"),jf(n),Uf(n))}function uc(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?F_:(t=Number(e.substring(t,i)),isNaN(t)?N_:(i+=1)+t>e.length?F_:(e=e.slice(i,i+t),n.C=i+t,e))}function dc(n){n.Y=Date.now()+n.P,Ob(n,n.P)}function Ob(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(Zr(n.lb,n),e)}function Sm(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function Uf(n){0==n.l.H||n.J||X_(n.l,n)}function jf(n){Sm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Cb(n.V),Tm(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function GE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||j_(t.i,n)))if(!n.K&&j_(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;zf(t),$b(t)}Hm(t),ko(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Bf(Zr(t.ib,t),6e3));if(1>=Vb(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ll(t,11)}else if((n.K||t.g==n)&&zf(t),!Hd(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const C=y[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const T=y[4];null!=T&&(t.Ga=T,t.l.info("SVER="+t.Ga));const U=y[5];null!=U&&"number"==typeof U&&0<U&&(t.L=i=1.5*U,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const W=n.g;if(W){const Q=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var s=i.i;s.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Nm(s,s.h),s.h=null))}if(i.F){const ce=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.Da=ce,ki(i.I,i.F,ce))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=Gb(i,i.J?i.pa:null,i.Y),l.K){ZE(i.i,l);var f=l,g=i.L;g&&f.setTimeout(g),f.B&&(Sm(f),dc(f)),i.g=l}else nC(i);0<t.j.length&&Z_(t)}else"stop"!=y[0]&&"close"!=y[0]||ll(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ll(t,7):Um(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}qd()}catch{}}function V_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ss(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Pb(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ss(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function bO(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ss(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(yt=P_.prototype).setTimeout=function(n){this.P=n},yt.nb=function(n){n=n.target;const e=this.M;e&&3==al(n)?e.l():this.Pa(n)},yt.Pa=function(n){try{if(n==this.g)e:{const C=al(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||w_||this.g&&(this.h.h||this.g.ja()||eC(this.g)))){this.J||4!=C||7==e||qd(),Sm(this);var t=this.g.da();this.ca=t;t:if($E(this)){var i=eC(this.g);n="";var r=i.length,s=4==al(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jf(this),Uf(this);var l="";break t}this.h.i=new rn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function DM(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hd(f)){var y=f;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,ko(12),jf(this),Uf(this);break e}Vf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GE(this,t)}this.S?(L_(this,C,l),w_&&this.i&&3==C&&(Ib(this.U,this.V,"tick",this.mb),this.V.start())):(Vf(this.j,this.m,l,null),GE(this,l)),4==C&&jf(this),this.i&&!this.J&&(4==C?X_(this.l,this):(this.i=!1,dc(this)))}else(function SM(n){const e={};n=(n.g&&2<=al(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Hd(n[i]))continue;var t=k_(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function ME(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),jf(this),Uf(this)}}}catch{}},yt.mb=function(){if(this.g){var n=al(this.g),e=this.g.ja();this.C<e.length&&(Sm(this),L_(this,n,e),this.i&&4!=n&&dc(this))}},yt.cancel=function(){this.J=!0,jf(this)},yt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qd(),ko(17)),jf(this),this.o=2,Uf(this)):Ob(this,this.Y-n)};var xM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wu){this.h=n.h,B_(this,n.j),this.s=n.s,this.g=n.g,U_(this,n.m),this.l=n.l;var e=n.i,t=new km;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),WE(this,t),this.o=n.o}else n&&(e=String(n).match(xM))?(this.h=!1,B_(this,e[1]||"",!0),this.s=Am(e[2]||""),this.g=Am(e[3]||"",!0),U_(this,e[4]),this.l=Am(e[5]||"",!0),WE(this,e[6]||"",!0),this.o=Am(e[7]||"")):(this.h=!1,this.i=new km(null,this.h))}function hc(n){return new wu(n)}function B_(n,e,t){n.j=t?Am(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function U_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function WE(n,e,t){e instanceof km?(n.i=e,function DO(n,e){e&&!n.j&&(Du(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(YE(this,i),Fb(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Zd(e,Nb)),n.i=new km(e,n.h))}function ki(n,e,t){n.i.set(e,t)}function Kd(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Am(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zd(e,pr,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zd(e,pr,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zd(t,"/"==t.charAt(0)?MM:TM,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zd(t,qE)),n.join("")};var pr=/[#\/\?@]/g,TM=/[#\?:]/g,MM=/[#\?]/g,Nb=/[#\?@]/g,qE=/#/g;function km(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Du(n){n.g||(n.g=new Map,n.h=0,n.i&&function wO(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function YE(n,e){Du(n),e=Rm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function KE(n,e){return Du(n),e=Rm(n,e),n.g.has(e)}function Fb(n,e,t){YE(n,e),0<t.length&&(n.i=null,n.g.set(Rm(n,e),b_(t)),n.h+=t.length)}function Rm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kn(n){this.l=n||Pm,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=km.prototype).add=function(n,e){Du(this),this.i=null,n=Rm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){Du(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},yt.ta=function(){Du(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},yt.Z=function(n){Du(this);let e=[];if("string"==typeof n)KE(this,n)&&(e=e.concat(this.g.get(Rm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return Du(this),this.i=null,KE(this,n=Rm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var Pm=10;function Lb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Vb(n){return n.h?1:n.g?n.g.size:0}function j_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nm(n,e){n.g?n.g.add(e):n.h=e}function ZE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bb(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return b_(n.i)}Kn.prototype.cancel=function(){if(this.i=Bb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var QE=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function Ub(){this.g=new QE}function EO(n,e,t){const i=t||"";try{V_(n,function(r,s){let l=r;sc(r)&&(l=wb(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function H_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qd(n){this.l=n.fc||null,this.j=n.ob||!1}function Fm(n,e){Xr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=z_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xr(Qd,Sb),Qd.prototype.g=function(){return new Fm(this.l,this.j)},Qd.prototype.i=function(n){return function(){return n}}({}),xr(Fm,Xr);var z_=0;function Eu(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Lm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xd(n)}function Xd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=Fm.prototype).open=function(n,e){if(this.readyState!=z_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Xd(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||rn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lm(this)),this.readyState=z_},yt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eu(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},yt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lm(this):Xd(this),3==this.readyState&&Eu(this)}},yt.Za=function(n){this.g&&(this.response=this.responseText=n,Lm(this))},yt.Ya=function(n){this.g&&(this.response=n,Lm(this))},yt.ka=function(){this.g&&Lm(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $_=rn.JSON.parse;function ar(n){Xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G_,this.L=this.M=!1}xr(ar,Xr);var G_="",W_=/^https?$/i,Jd=["POST","PUT"];function q_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,XE(n),Vm(n)}function XE(n){n.F||(n.F=!0,Ao(n,"complete"),Ao(n,"error"))}function JE(n){if(n.h&&typeof Ud<"u"&&(!n.C[1]||4!=al(n)||2!=n.da()))if(n.v&&4==al(n))R_(n.La,0,n);else if(Ao(n,"readystatechange"),4==al(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(xM)[1]||null;!r&&rn.self&&rn.self.location&&(r=rn.self.location.protocol.slice(0,-1)),i=!W_.test(r?r.toLowerCase():"")}t=i}if(t)Ao(n,"complete"),Ao(n,"success");else{n.m=6;try{var s=2<al(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",XE(n)}}finally{Vm(n)}}}function Vm(n,e){if(n.g){eh(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ao(n,"ready");try{t.onreadystatechange=i}catch{}}}function eh(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function al(n){return n.g?n.g.readyState:0}function eC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case G_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Y_(n){let e="";return Of(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function K_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Y_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ki(n,e,t))}function Bm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zb(n){this.Ga=0,this.j=[],this.l=new Ff,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bm("baseRetryDelayMs",5e3,n),this.hb=Bm("retryDelaySeedMs",1e4,n),this.eb=Bm("forwardChannelMaxRetries",2,n),this.xa=Bm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Kn(n&&n.concurrentRequestLimit),this.Ja=new Ub,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Um(n){if(tC(n),3==n.H){var e=n.W++,t=hc(n.I);if(ki(t,"SID",n.K),ki(t,"RID",e),ki(t,"TYPE","terminate"),Q_(n,t),(e=new P_(n,n.l,e)).L=2,e.v=Kd(hc(t)),t=!1,rn.navigator&&rn.navigator.sendBeacon)try{t=rn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&rn.Image&&((new Image).src=e.v,t=!0),t||(e.g=J_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dc(e)}Gf(n)}function $b(n){n.g&&(zm(n),n.g.cancel(),n.g=null)}function tC(n){$b(n),n.u&&(rn.clearTimeout(n.u),n.u=null),zf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function Z_(n){if(!Lb(n.i)&&!n.m){n.m=!0;var e=n.Na;Pf||Db(),Wd||(Pf(),Wd=!0),Nf.add(e,n),n.C=0}}function kM(n,e){var t;t=e?e.m:n.W++;const i=hc(n.I);ki(i,"SID",n.K),ki(i,"RID",t),ki(i,"AID",n.V),Q_(n,i),n.o&&n.s&&K_(i,n.o,n.s),t=new P_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=jm(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Nm(n.i,t),Rb(t,i,e)}function Q_(n,e){n.na&&Of(n.na,function(t,i){ki(e,i,t)}),n.h&&V_({},function(t,i){ki(e,i,t)})}function jm(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Zr(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let f=!0;for(let g=0;g<t;g++){let y=r[g].g;const C=r[g].map;if(y-=s,0>y)s=Math.max(0,r[g].g-100),f=!1;else try{EO(C,l,"req"+y+"_")}catch{i&&i(C)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function nC(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Pf||Db(),Wd||(Pf(),Wd=!0),Nf.add(e,n),n.A=0}}function Hm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Bf(Zr(n.Ma,n),$f(n,n.A)),n.A++,0))}function zm(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function Hf(n){n.g=new P_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=hc(n.wa);ki(e,"RID","rpc"),ki(e,"SID",n.K),ki(e,"AID",n.V),ki(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ki(e,"TO",n.qa),ki(e,"TYPE","xmlhttp"),Q_(n,e),n.o&&n.s&&K_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Kd(hc(e)),t.s=null,t.S=!0,zE(t,n)}function zf(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function X_(n,e){var t=null;if(n.g==e){zf(n),zm(n),n.g=null;var i=2}else{if(!j_(n.i,e))return;t=e.F,ZE(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Ao(i=bu(),new Mb(i,t)),Z_(n)}else nC(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function AM(n,e){return!(Vb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Bf(Zr(n.Na,n,e),$f(n,n.C)),n.C++,0)))}(n,e)||2==i&&Hm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ll(n,5);break;case 4:ll(n,10);break;case 3:ll(n,6);break;default:ll(n,2)}}function $f(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ll(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Zr(n.pb,n);t||(t=new wu("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||B_(t,"https"),Kd(t)),function jb(n,e){const t=new Ff;if(rn.Image){const i=new Image;i.onload=_m(H_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=_m(H_,t,i,"TestLoadImage: error",!1,e),i.onabort=_m(H_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=_m(H_,t,i,"TestLoadImage: timeout",!1,e),rn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ko(2);n.H=0,n.h&&n.h.za(e),Gf(n),tC(n)}function Gf(n){if(n.H=0,n.ma=[],n.h){const e=Bb(n.i);(0!=e.length||0!=n.j.length)&&(bE(n.ma,e),bE(n.ma,n.j),n.i.i.length=0,b_(n.j),n.j.length=0),n.h.ya()}}function Gb(n,e,t){var i=t instanceof wu?hc(t):new wu(t);if(""!=i.g)e&&(i.g=e+"."+i.g),U_(i,i.m);else{var r=rn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new wu(null);i&&B_(s,i),e&&(s.g=e),r&&U_(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&ki(i,t,e),ki(i,"VER",n.ra),Q_(n,i),i}function J_(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ha&&!n.va?new Qd({ob:!0}):n.va)).Oa(n.J),e}function $m(){}function Wb(){if(zd&&!(10<=Number(Dm)))throw Error("Environmental error: no available transport.")}function Zo(n,e){Xr.call(this),this.g=new zb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wf(this)}function ev(n){Yd.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qb(){Ab.call(this),this.status=1}function Wf(n){this.g=n}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function pi(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(yt=ar.prototype).Oa=function(n){this.M=n},yt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HE.g(),this.C=function UE(n){return n.h||(n.h=n.i())}(this.u?this.u:HE),this.g.onreadystatechange=Zr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void q_(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=rn.FormData&&n instanceof rn.FormData,!(0<=yE(Jd,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eh(this),0<this.B&&((this.L=function Hb(n){return zd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){q_(this,s)}},yt.ua=function(){typeof Ud<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ao(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ao(this,"complete"),Ao(this,"abort"),Vm(this))},yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),ar.$.N.call(this)},yt.La=function(){this.s||(this.G||this.v||this.l?JE(this):this.kb())},yt.kb=function(){JE(this)},yt.isActive=function(){return!!this.g},yt.da=function(){try{return 2<al(this)?this.g.status:-1}catch{return-1}},yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$_(e)}},yt.Ia=function(){return this.m},yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=zb.prototype).ra=8,yt.H=1,yt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new P_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=E_(s),SE(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jm(this,r,e),ki(t=hc(this.I),"RID",n),ki(t,"CVER",22),this.F&&ki(t,"X-HTTP-Session-Id",this.F),Q_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Y_(s)))+"&"+e:this.o&&K_(t,this.o,s)),Nm(this.i,r),this.bb&&ki(t,"TYPE","init"),this.P?(ki(t,"$req",e),ki(t,"SID","null"),r.aa=!0,Rb(r,t,null)):Rb(r,t,e),this.H=2}}else 3==this.H&&(n?kM(this,n):0==this.j.length||Lb(this.i)||kM(this))},yt.Ma=function(){if(this.u=null,Hf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Bf(Zr(this.jb,this),n)}},yt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ko(10),$b(this),Hf(this))},yt.ib=function(){null!=this.v&&(this.v=null,$b(this),Hm(this),ko(19))},yt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ko(2)):(this.l.info("Failed to ping google.com"),ko(1))},yt.isActive=function(){return!!this.h&&this.h.isActive(this)},(yt=$m.prototype).Ba=function(){},yt.Aa=function(){},yt.za=function(){},yt.ya=function(){},yt.isActive=function(){return!0},yt.Va=function(){},Wb.prototype.g=function(n,e){return new Zo(n,e)},xr(Zo,Xr),Zo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ko(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Gb(n,null,n.Y),Z_(n)},Zo.prototype.close=function(){Um(this.g)},Zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Z_(e)},Zo.prototype.N=function(){this.g.h=null,delete this.j,Um(this.g),delete this.g,Zo.$.N.call(this)},xr(ev,Yd),xr(qb,Ab),xr(Wf,$m),Wf.prototype.Ba=function(){Ao(this.g,"a")},Wf.prototype.Aa=function(n){Ao(this.g,new ev(n))},Wf.prototype.za=function(n){Ao(this.g,new qb)},Wf.prototype.ya=function(){Ao(this.g,"b")},xr(na,function RM(){this.blockSize=-1}),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)tv(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){tv(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){tv(this,i),r=0;break}}this.h=r,this.i+=e},na.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var OM={};function iC(n){return-128<=n&&128>n?function ym(n,e){var t=OM;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new pi([0|e],0>e?-1:0)}):new pi([0|n],0>n?-1:0)}function cl(n){if(isNaN(n)||!isFinite(n))return qf;if(0>n)return Jr(cl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Gm;return new pi(e,0)}var Gm=4294967296,qf=iC(0),iv=iC(1),rv=iC(16777216);function ia(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ra(n){return-1==n.h}function Jr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new pi(t,~n.h).add(iv)}function ov(n,e){return n.add(Jr(e))}function Wm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sv(n,e){this.g=n,this.h=e}function av(n,e){if(ia(e))throw Error("division by zero");if(ia(n))return new sv(qf,qf);if(ra(n))return e=av(Jr(n),e),new sv(Jr(e.g),Jr(e.h));if(ra(e))return e=av(n,Jr(e)),new sv(Jr(e.g),e.h);if(30<n.g.length){if(ra(n)||ra(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iv,i=e;0>=i.X(n);)t=Yf(t),i=Yf(i);var r=Kf(t,1),s=Kf(i,1);for(i=Kf(i,2),t=Kf(t,2);!ia(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=Kf(i,1),t=Kf(t,1)}return e=ov(n,r.R(e)),new sv(r,e)}for(r=qf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=cl(t)).R(e);ra(l)||0<l.X(n);)l=(s=cl(t-=i)).R(e);ia(s)&&(s=iv),r=r.add(s),n=ov(n,l)}return new sv(r,n)}function Yf(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new pi(t,n.h)}function Kf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new pi(r,n.h)}(yt=pi.prototype).ea=function(){if(ra(this))return-Jr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Gm+i)*e,e*=Gm}return n},yt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ia(this))return"0";if(ra(this))return"-"+Jr(this).toString(n);for(var e=cl(Math.pow(n,6)),t=this,i="";;){var r=av(t,e).g,s=((0<(t=ov(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ia(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},yt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},yt.X=function(n){return ra(n=ov(this,n))?-1:ia(n)?0:1},yt.abs=function(){return ra(this)?Jr(this):this},yt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new pi(t,-2147483648&t[t.length-1]?-1:0)},yt.R=function(n){if(ia(this)||ia(n))return qf;if(ra(this))return ra(n)?Jr(this).R(Jr(n)):Jr(Jr(this).R(n));if(ra(n))return Jr(this.R(Jr(n)));if(0>this.X(rv)&&0>n.X(rv))return cl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,g=65535&n.D(r);t[2*i+2*r]+=l*g,Wm(t,2*i+2*r),t[2*i+2*r+1]+=s*g,Wm(t,2*i+2*r+1),t[2*i+2*r+1]+=l*f,Wm(t,2*i+2*r+1),t[2*i+2*r+2]+=s*f,Wm(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new pi(t,0)},yt.gb=function(n){return av(this,n).h},yt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new pi(t,this.h&n.h)},yt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new pi(t,this.h|n.h)},yt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new pi(t,this.h^n.h)},Wb.prototype.createWebChannel=Wb.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,O_.NO_ERROR=0,O_.TIMEOUT=8,O_.HTTP_ERROR=6,BE.COMPLETE="complete",jE.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",Xr.prototype.listen=Xr.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=cl,pi.fromString=function nv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Jr(nv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=cl(Math.pow(e,8)),i=qf,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=cl(Math.pow(e,s)),i=i.R(s).add(cl(l))):i=(i=i.R(t)).add(cl(l))}return i};var Zf=Mo.createWebChannelTransport=function(){return new Wb},qm=Mo.getStatEventTarget=function(){return bu()},Yb=Mo.ErrorCode=O_,rC=Mo.EventType=BE,PM=Mo.Event=cc,oC=Mo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NM=Mo.FetchXmlHttpFactory=Qd,Ym=Mo.WebChannel=jE,sC=Mo.XhrIo=ar,Kb=Mo.Md5=na,ul=Mo.Integer=pi;const Zb="@firebase/firestore";class go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let Cu="9.22.1";const ks=new Ma.Yd("@firebase/firestore");function Qf(){return ks.logLevel}function rt(n,...e){if(ks.logLevel<=Ma.in.DEBUG){const t=e.map(Qb);ks.debug(`Firestore (${Cu}): ${n}`,...t)}}function mr(n,...e){if(ks.logLevel<=Ma.in.ERROR){const t=e.map(Qb);ks.error(`Firestore (${Cu}): ${n}`,...t)}}function oa(n,...e){if(ks.logLevel<=Ma.in.WARN){const t=e.map(Qb);ks.warn(`Firestore (${Cu}): ${n}`,...t)}}function Qb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Mt(n="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function Bt(n,e){n||Mt()}function wt(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class LM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(go.UNAUTHENTICATED))}shutdown(){}}class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xO{constructor(e){this.t=e,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const y=l;e.enqueueRetryable((0,Be.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ir)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bt("string"==typeof i.accessToken),new LM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new go(e)}}class lC{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=go.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cC{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new lC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.T=t.token,new BM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Jb{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=dC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function dn(n,e){return n<e?-1:n>e?1:0}function on(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function e0(n){return n+"\0"}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Vi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Vi(0,0))}static max(){return new Ht(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xf{constructor(e,t,i){void 0===t?t=0:t>e.length&&Mt(),void 0===i?i=e.length-t:i>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fn extends Xf{construct(e,t,i){return new Fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ge(xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Fn(t)}static emptyPath(){return new Fn([])}}const UM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Xf{construct(e,t,i){return new lr(e,t,i)}static isValidIdentifier(e){return UM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ge(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Ge(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ge(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(s(),r++)}if(s(),l)throw new Ge(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(Fn.fromString(e))}static fromName(e){return new bt(Fn.fromString(e).popFirst(5))}static empty(){return new bt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new Fn(e.slice()))}}class lv{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function cv(n){return n.fields.find(e=>2===e.kind)}function th(n){return n.fields.filter(e=>2!==e.kind)}lv.UNKNOWN_ID=-1;class t0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jf(0,hs.min())}}function fc(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ht.fromTimestamp(1e9===i?new Vi(t+1,0):new Vi(t,i));return new hs(r,bt.empty(),e)}function nh(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new hs(Ht.min(),bt.empty(),-1)}static max(){return new hs(Ht.max(),bt.empty(),-1)}}function n0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=bt.comparator(n.documentKey,e.documentKey),0!==t?t:dn(n.largestBatchId,e.largestBatchId))}const Km="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ih{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function dl(n){return rh.apply(this,arguments)}function rh(){return rh=(0,Be.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==Km)throw n;rt("LocalStore","Unexpectedly lost primary lease")}),rh.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,i)=>{t(e)})}static reject(e){return new De((t,i)=>{i(e)})}static waitFor(e){return new De((t,i)=>{let r=0,s=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++s,l&&s===r&&t()},g=>i(g))}),l=!0,s===r&&t()})}static or(e){let t=De.resolve(!1);for(const i of e)t=t.next(r=>r?De.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new De((i,r)=>{const s=e.length,l=new Array(s);let f=0;for(let g=0;g<s;g++){const y=g;t(e[y]).next(C=>{l[y]=C,++f,f===s&&i(l)},C=>r(C))}})}static doWhile(e,t){return new De((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ep{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ir,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new tp(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=uv(i.target.error);this.v.reject(new tp(e,r))}}static open(e,t,i,r){try{return new ep(t,e.transaction(r,i))}catch(s){throw new tp(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HM(t)}}class Rs{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Rs.S((0,Nn.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rt("SimpleDb","Removing database:",e),oh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Nn.hl)())return!1;if(Rs.C())return!0;const e=(0,Nn.z$)(),t=Rs.S(e),i=0<t&&t<10,r=Rs.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Be.Z)(function*(){return t.db||(rt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new tp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Ge(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ge(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new tp(e,f))},s.onupgradeneeded=l=>{rt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{rt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Be.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{s.db=yield s.$(e);const g=ep.open(s.db,e,l?"readonly":"readwrite",i),y=r(g).next(C=>(g.P(),C)).catch(C=>(g.abort(C),De.reject(C))).toPromise();return y.catch(()=>{}),yield g.R,y}catch(g){const y=g,C="FirebaseError"!==y.name&&f<3;if(rt("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),s.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class r0{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return oh(this.L.delete())}}class tp extends Ge{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hl(n){return"IndexedDbTransactionError"===n.name}class HM{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(rt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),oh(i)}add(e){return rt("SimpleDb","ADD",this.store.name,e,e),oh(this.store.add(e))}get(e){return oh(this.store.get(e)).next(t=>(void 0===t&&(t=null),rt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rt("SimpleDb","DELETE",this.store.name,e),oh(this.store.delete(e))}count(){return rt("SimpleDb","COUNT",this.store.name),oh(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,f)=>{s.push(f)}).next(()=>s)}{const r=this.store.getAll(i.range);return new De((s,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{s(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new De((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){rt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new De((i,r)=>{t.onerror=s=>{const l=uv(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(e,t){const i=[];return new De((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const g=new r0(f),y=t(f.primaryKey,f.value,g);if(y instanceof De){const C=y.catch(T=>(g.done(),De.reject(T)));i.push(C)}g.isDone?r():null===g.K?f.continue():f.continue(g.K)}}).next(()=>De.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oh(n){return new De((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=uv(i.target.error);t(r)}})}let fC=!1;function uv(n){const e=Rs.S((0,Nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fC||(fC=!0,setTimeout(()=>{throw i},0)),i}}return n}class zM{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;rt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{rt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){hl(i)?rt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dl(i)}yield t.et(6e4)}))}}class $M{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return De.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return rt("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(f=>{r-=f,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(f=>(rt("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=nh(s);n0(l,i)>0&&(i=l)}),new hs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Os=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Zm(n){return null==n}function np(n){return 0===n&&1/n==-1/0}function o0(n){return"number"==typeof n&&Number.isInteger(n)&&!np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ro(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fs(e)),e=GM(n.get(t),e);return fs(e)}function GM(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function fs(n){return n+"\x01\x01"}function fl(n){const e=n.length;if(Bt(e>=2),2===e)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&Mt(),n.charAt(l+1)){case"\x01":const f=n.substring(s,l);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:Mt()}s=l+2}return new Fn(i)}const pC=["userId","batchId"];function s0(n,e){return[n,Ro(e)]}function dv(n,e,t){return[n,Ro(e),t]}const mC={},WM=["prefixPath","collectionGroup","readTime","documentId"],qM=["prefixPath","collectionGroup","documentId"],YM=["collectionGroup","readTime","prefixPath","documentId"],gC=["canonicalId","targetId"],KM=["targetId","path"],ZM=["path","targetId"],a0=["collectionId","parent"],QM=["indexId","uid"],XM=["uid","sequenceNumber"],JM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eS=["indexId","uid","orderedDocumentKey"],tS=["userId","collectionPath","documentId"],pl=["userId","collectionPath","largestBatchId"],l0=["userId","collectionGroup","largestBatchId"],_C=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vC=[..._C,"documentOverlays"],yC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c0=yC,bC=[...c0,"indexConfiguration","indexState","indexEntries"];class ip extends ih{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=wt(n);return Rs.M(t.ht,e)}function nS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Di{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new Di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new Di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qm(this.root,e,this.comparator,!0)}}class Qm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Vr.RED,this.left=r??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Vr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Vr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new Di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wC(this.data.getIterator())}getIteratorFrom(e){return new wC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class wC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rp(n){return n.hasNext()?n.getNext():void 0}class Oo{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new Oo([])}unionWith(e){let t=new $n(lr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return on(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class DC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new DC("Invalid base64 string: "+r):r}}(e);return new Br(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const iS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(Bt(!!n),"string"==typeof n){let e=0;const t=iS.exec(n);if(Bt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sa(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}function xu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sh(n){const e=n.mapValue.fields.__previous_value__;return xu(e)?sh(e):e}function hv(n){const e=mc(n.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}class rS{constructor(e,t,i,r,s,l,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fv={nullValue:"NULL_VALUE"};function Tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xu(n)?4:xC(n)?9007199254740991:10:Mt()}function aa(n,e){if(n===e)return!0;const t=Tu(n);if(t!==Tu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hv(n).isEqual(hv(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=mc(i.timestampValue),l=mc(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,sa(n.bytesValue).isEqual(sa(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return cr(i.geoPointValue.latitude)===cr(r.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return cr(i.integerValue)===cr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=cr(i.doubleValue),l=cr(r.doubleValue);return s===l?np(s)===np(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return on(n.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(nS(s)!==nS(l))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===l[f]||!aa(s[f],l[f])))return!1;return!0}(n,e);default:return Mt()}var r}function Xm(n,e){return void 0!==(n.values||[]).find(t=>aa(t,e))}function la(n,e){if(n===e)return 0;const t=Tu(n),i=Tu(e);if(t!==i)return dn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=cr(r.integerValue||r.doubleValue),f=cr(s.integerValue||s.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return EC(n.timestampValue,e.timestampValue);case 4:return EC(hv(n),hv(e));case 5:return dn(n.stringValue,e.stringValue);case 6:return function(r,s){const l=sa(r),f=sa(s);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),f=s.split("/");for(let g=0;g<l.length&&g<f.length;g++){const y=dn(l[g],f[g]);if(0!==y)return y}return dn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=dn(cr(r.latitude),cr(s.latitude));return 0!==l?l:dn(cr(r.longitude),cr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],f=s.values||[];for(let g=0;g<l.length&&g<f.length;++g){const y=la(l[g],f[g]);if(y)return y}return dn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Iu.mapValue&&s===Iu.mapValue)return 0;if(r===Iu.mapValue)return 1;if(s===Iu.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),g=s.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let C=0;C<f.length&&C<y.length;++C){const T=dn(f[C],y[C]);if(0!==T)return T;const U=la(l[f[C]],g[y[C]]);if(0!==U)return U}return dn(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function EC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return dn(n,e);const t=mc(n),i=mc(e),r=dn(t.seconds,i.seconds);return 0!==r?r:dn(t.nanos,i.nanos)}function ah(n){return pv(n)}function pv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=mc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sa(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=pv(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const f of r)l?l=!1:s+=",",s+=`${f}:${pv(i.fields[f])}`;return s+"}"}(n.mapValue):Mt();var e}function lh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ch(n){return!!n&&"integerValue"in n}function Jm(n){return!!n&&"arrayValue"in n}function oS(n){return!!n&&"nullValue"in n}function CC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gv(n){return!!n&&"mapValue"in n}function eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=eg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function sS(n){return"nullValue"in n?fv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lh(Sa.empty(),bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Mt()}function aS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lh(Sa.empty(),bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Iu:Mt()}function IC(n,e){const t=la(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function h0(n,e){const t=la(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eg(t)}setAll(e){let t=lr.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=eg(l):r.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());gv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){pc(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ur(eg(this.value))}}function TC(n){const e=[];return pc(n.fields,(t,i)=>{const r=new lr([t]);if(gv(i)){const s=TC(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Oo(e)}class Ei{constructor(e,t,i,r,s,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Ei(e,0,Ht.min(),Ht.min(),Ht.min(),Ur.empty(),0)}static newFoundDocument(e,t,i,r){return new Ei(e,1,t,Ht.min(),i,r,0)}static newNoDocument(e,t){return new Ei(e,2,t,Ht.min(),Ht.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,Ht.min(),Ht.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mu{constructor(e,t){this.position=e,this.inclusive=t}}function MC(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?bt.comparator(bt.fromName(l.referenceValue),t.key):la(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function SC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!aa(n.position[t],e.position[t]))return!1;return!0}class op{constructor(e,t="asc"){this.field=e,this.dir=t}}function lS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AC{}class On extends AC{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new m0(e,t,i):"array-contains"===t?new Po(e,i):"in"===t?new Su(e,i):"not-in"===t?new _v(e,i):"array-contains-any"===t?new ca(e,i):new On(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new cS(e,i):new ml(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(la(t,this.value)):null!==t&&Tu(this.value)===Tu(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ci extends AC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ci(e,t)}matches(e){return uh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uh(n){return"and"===n.op}function f0(n){return"or"===n.op}function kC(n){return p0(n)&&uh(n)}function p0(n){for(const e of n.filters)if(e instanceof ci)return!1;return!0}function RC(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+ah(n.value);if(kC(n))return n.filters.map(e=>RC(e)).join(",");{const e=n.filters.map(t=>RC(t)).join(",");return`${n.op}(${e})`}}function tg(n,e){return n instanceof On?(t=n,(i=e)instanceof On&&t.op===i.op&&t.field.isEqual(i.field)&&aa(t.value,i.value)):n instanceof ci?function(t,i){return i instanceof ci&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&tg(s,i.filters[l]),!0)}(n,e):void Mt();var t,i}function OC(n,e){const t=n.filters.concat(e);return ci.create(t,n.op)}function PC(n){return n instanceof On?`${(e=n).field.canonicalString()} ${e.op} ${ah(e.value)}`:n instanceof ci?function(e){return e.op.toString()+" {"+e.getFilters().map(PC).join(" ,")+"}"}(n):"Filter";var e}class m0 extends On{constructor(e,t,i){super(e,t,i),this.key=bt.fromName(i.referenceValue)}matches(e){const t=bt.comparator(e.key,this.key);return this.matchesComparison(t)}}class cS extends On{constructor(e,t){super(e,"in",t),this.keys=sp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ml extends On{constructor(e,t){super(e,"not-in",t),this.keys=sp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>bt.fromName(i.referenceValue))}class Po extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jm(t)&&Xm(t.arrayValue,this.value)}}class Su extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xm(this.value.arrayValue,t)}}class _v extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xm(this.value.arrayValue,t)}}class ca extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Xm(this.value.arrayValue,i))}}class g0{constructor(e,t=null,i=[],r=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=f,this.dt=null}}function Au(n,e=null,t=[],i=[],r=null,s=null,l=null){return new g0(n,e,t,i,r,s,l)}function ua(n){const e=wt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>RC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Zm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ah(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ah(i)).join(",")),e.dt=t}return e.dt}function gl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tg(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SC(n.startAt,e.startAt)&&SC(n.endAt,e.endAt)}function gc(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _c(n,e){return n.filters.filter(t=>t instanceof On&&t.field.isEqual(e))}function dh(n,e,t){let i=fv,r=!0;for(const s of _c(n,e)){let l=fv,f=!0;switch(s.op){case"<":case"<=":l=sS(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,f=!1;break;case"!=":case"not-in":l=fv}IC({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];IC({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function hh(n,e,t){let i=Iu,r=!0;for(const s of _c(n,e)){let l=Iu,f=!0;switch(s.op){case">=":case">":l=aS(s.value),f=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,f=!1;break;case"!=":case"not-in":l=Iu}h0({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];h0({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class ps{constructor(e,t=null,i=[],r=[],s=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function fh(n,e,t,i,r,s,l,f){return new ps(n,e,t,i,r,s,l,f)}function ph(n){return new ps(n)}function _0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ng(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yv(n){return null!==n.collectionGroup}function ku(n){const e=wt(n);if(null===e.wt){e.wt=[];const t=ng(e),i=vv(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new op(t)),e.wt.push(new op(lr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new op(lr.keyField(),s))}}}return e.wt}function No(n){const e=wt(n);if(!e._t)if("F"===e.limitType)e._t=Au(e.path,e.collectionGroup,ku(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ku(e))t.push(new op(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;e._t=Au(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function bv(n,e){e.getFirstInequalityField(),ng(n);const t=n.filters.concat([e]);return new ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ig(n,e,t){return new ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mh(n,e){return gl(No(n),No(e))&&n.limitType===e.limitType}function NC(n){return`${ua(No(n))}|lt:${n.limitType}`}function FC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>PC(i)).join(", ")}]`),Zm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ah(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ah(i)).join(",")),`Target(${t})`}(No(n))}; limitType=${n.limitType})`}function wv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):bt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of ku(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const f=MC(r,s,l);return r.inclusive?f<=0:f<0}(t.startAt,ku(t),i)||t.endAt&&!function(r,s,l){const f=MC(r,s,l);return r.inclusive?f>=0:f>0}(t.endAt,ku(t),i)));var t,i}function LC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VC(n){return(e,t)=>{let i=!1;for(const r of ku(n)){const s=IO(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function IO(n,e,t){const i=n.field.isKeyField()?bt.comparator(e.key,t.key):function(r,s,l){const f=s.data.field(r),g=l.data.field(r);return null!==f&&null!==g?la(f,g):Mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt()}}class vc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}const TO=new Di(bt.comparator);function ms(){return TO}const BC=new Di(bt.comparator);function rg(...n){let e=BC;for(const t of n)e=e.insert(t.key,t);return e}function Dv(n){let e=BC;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gs(){return Ru()}function Ev(){return Ru()}function Ru(){return new vc(n=>n.toString(),(n,e)=>n.isEqual(e))}const UC=new Di(bt.comparator),og=new $n(bt.comparator);function gn(...n){let e=og;for(const t of n)e=e.add(t);return e}const uS=new $n(dn);function gh(){return uS}function jC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function HC(n){return{integerValue:""+n}}function zC(n,e){return o0(e)?HC(e):jC(n,e)}class Cv{constructor(){this._=void 0}}function v0(n,e,t){return n instanceof ag?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&xu(r)&&(r=sh(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof _h?$C(n,e):n instanceof yc?GC(n,e):function(i,r){const s=sg(i,r),l=WC(s)+WC(i.gt);return ch(s)&&ch(i.gt)?HC(l):jC(i.serializer,l)}(n,e)}function xv(n,e,t){return n instanceof _h?$C(n,e):n instanceof yc?GC(n,e):t}function sg(n,e){return n instanceof vh?ch(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ag extends Cv{}class _h extends Cv{constructor(e){super(),this.elements=e}}function $C(n,e){const t=qC(e);for(const i of n.elements)t.some(r=>aa(r,i))||t.push(i);return{arrayValue:{values:t}}}class yc extends Cv{constructor(e){super(),this.elements=e}}function GC(n,e){let t=qC(e);for(const i of n.elements)t=t.filter(r=>!aa(r,i));return{arrayValue:{values:t}}}class vh extends Cv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function WC(n){return cr(n.integerValue||n.doubleValue)}function qC(n){return Jm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ap{constructor(e,t){this.field=e,this.transform=t}}class KC{constructor(e,t){this.version=e,this.transformResults=t}}class Qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tv{}function y0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lp(n.key,Qi.none()):new bc(n.key,n.data,Qi.none());{const t=n.data,i=Ur.empty();let r=new $n(lr.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Aa(n.key,i,new Oo(r.toArray()),Qi.none())}}function b0(n,e,t){n instanceof bc?function(i,r,s){const l=i.value.clone(),f=ZC(i.fieldTransforms,r,s.transformResults);l.setAll(f),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(i,r,s){if(!Iv(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=ZC(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(w0(i)),f.setAll(l),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yh(n,e,t,i){return n instanceof bc?function(r,s,l,f){if(!Iv(r.precondition,s))return l;const g=r.value.clone(),y=QC(r.fieldTransforms,f,s);return g.setAll(y),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Aa?function(r,s,l,f){if(!Iv(r.precondition,s))return l;const g=QC(r.fieldTransforms,f,s),y=s.data;return y.setAll(w0(r)),y.setAll(g),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(l=t,Iv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function dS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=sg(i.transform,r||null);null!=s&&(null===t&&(t=Ur.empty()),t.set(i.field,s))}return t||null}function lg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&on(t,i,(r,s)=>function YC(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof _h&&i instanceof _h||t instanceof yc&&i instanceof yc?on(t.elements,i.elements,aa):t instanceof vh&&i instanceof vh?aa(t.gt,i.gt):t instanceof ag&&i instanceof ag);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class bc extends Tv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Aa extends Tv{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ZC(n,e,t){const i=new Map;Bt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,f=e.data.field(s.field);i.set(s.field,xv(l,f,t[r]))}return i}function QC(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,v0(s,l,e))}return i}class lp extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends Tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class up{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&b0(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=yh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=yh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Ev();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let f=this.applyToLocalView(l,s.mutatedFields);f=t.has(r.key)?null:f;const g=y0(l,f);null!==g&&i.set(r.key,g),l.isValidDocument()||l.convertToNoDocument(Ht.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&on(this.mutations,e.mutations,(t,i)=>lg(t,i))&&on(this.baseMutations,e.baseMutations,(t,i)=>lg(t,i))}}class Mv{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Bt(e.mutations.length===i.length);let r=UC;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new Mv(e,t,i,r)}}class Sv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fS{constructor(e,t){this.count=e,this.unchangedNames=t}}var gr,Pn;function D0(n){switch(n){default:return Mt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function Av(n){if(void 0===n)return mr("GRPC error has no .code"),xe.UNKNOWN;switch(n){case gr.OK:return xe.OK;case gr.CANCELLED:return xe.CANCELLED;case gr.UNKNOWN:return xe.UNKNOWN;case gr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case gr.INTERNAL:return xe.INTERNAL;case gr.UNAVAILABLE:return xe.UNAVAILABLE;case gr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case gr.NOT_FOUND:return xe.NOT_FOUND;case gr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case gr.ABORTED:return xe.ABORTED;case gr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case gr.DATA_LOSS:return xe.DATA_LOSS;default:return Mt()}}(Pn=gr||(gr={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class kv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rv}static getOrCreateInstance(){return null===Rv&&(Rv=new kv),Rv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Rv=null;function E0(){return new TextEncoder}const XC=new ul([4294967295,4294967295],0);function C0(n){const e=E0().encode(n),t=new Kb;return t.update(e),new Uint8Array(t.digest())}function x0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ul([t,i],0),new ul([r,s],0)]}class I0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dp(`Invalid padding: ${t}`);if(i<0)throw new dp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new dp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new dp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ul.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(ul.fromNumber(i)));return 1===r.compare(XC)&&(r=new ul([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=C0(e),[i,r]=x0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new I0(s,r,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=C0(e),[i,r]=x0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hp{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,fp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new hp(Ht.min(),r,new Di(dn),ms(),gn())}}class fp{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fp(i,t,gn(),gn(),gn())}}class pp{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class T0{constructor(e,t){this.targetId=e,this.Vt=t}}class M0{constructor(e,t,i=Br.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class S0{constructor(){this.St=0,this.Dt=k0(),this.Ct=Br.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gn(),t=gn(),i=gn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Mt()}}),new fp(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=k0()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ms(),this.zt=A0(),this.Wt=new Di(dn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(gc(l))if(0===r){const f=new bt(l.path);this.Yt(i,f,Ei.newNoDocument(f,Ht.min()))}else Bt(1===r);else{const f=this.ie(i);if(f!==r){const g=this.re(e,f);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kv.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,C,T){var U,W,Q,ce,ue,ye;const Ce={localCacheCount:C,existenceFilterCount:T.count},Ee=T.unchangedNames;return Ee&&(Ce.bloomFilter={applied:0===y,hashCount:null!==(U=Ee?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(ce=null===(Q=null===(W=Ee?.bits)||void 0===W?void 0:W.bitmap)||void 0===Q?void 0:Q.length)&&void 0!==ce?ce:0,padding:null!==(ye=null===(ue=Ee?.bits)||void 0===ue?void 0:ue.padding)&&void 0!==ye?ye:0}),Ce}(g,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=i;let g,y;try{g=sa(s).toUint8Array()}catch(C){if(C instanceof DC)return oa("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{y=new I0(g,l,f)}catch(C){return oa(C instanceof dp?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(f)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const f=this.se(l);if(f){if(s.current&&gc(f.target)){const g=new bt(f.target.path);null!==this.jt.get(g)||this.ae(l,g)||this.Yt(l,g,Ei.newNoDocument(g,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=gn();this.zt.forEach((s,l)=>{let f=!0;l.forEachWhile(g=>{const y=this.se(g);return!y||"TargetPurposeLimboResolution"===y.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new hp(e,t,this.Wt,this.jt,i);return this.jt=ms(),this.zt=A0(),this.Wt=new Di(dn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new S0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $n(dn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||rt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new S0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function A0(){return new Di(bt.comparator)}function k0(){return new Di(bt.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ov={and:"AND",or:"OR"};class Ou{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function R0(n,e){return n.useProto3Json||Zm(e)?e:{value:e}}function mp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bh(n,e){return mp(n,e.toTimestamp())}function nr(n){return Bt(!!n),Ht.fromTimestamp(function(e){const t=mc(e);return new Vi(t.seconds,t.nanos)}(n))}function O0(n,e){return(t=n,new Fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nv(n){const e=Fn.fromString(n);return Bt(ax(e)),e}function Fv(n,e){return O0(n.databaseId,e.path)}function wc(n,e){const t=Nv(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new bt(ix(t))}function P0(n,e){return O0(n.databaseId,e)}function nx(n){const e=Nv(n);return 4===e.length?Fn.emptyPath():ix(e)}function gp(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ix(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Mr(n,e,t){return{name:Fv(n,e),fields:t.value.mapValue.fields}}function N0(n,e,t){const i=wc(n,e.name),r=nr(e.updateTime),s=e.createTime?nr(e.createTime):Ht.min(),l=new Ur({mapValue:{fields:e.fields}}),f=Ei.newFoundDocument(i,r,s,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function _p(n,e){let t;if(e instanceof bc)t={update:Mr(n,e.key,e.value)};else if(e instanceof lp)t={delete:Fv(n,e.key)};else if(e instanceof Aa)t={update:Mr(n,e.key,e.data),updateMask:vS(e.fieldMask)};else{if(!(e instanceof cp))return Mt();t={verify:Fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof ag)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _h)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vh)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw Mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:bh(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Mt()),t;var r}function F0(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Qi.updateTime(nr(r.updateTime)):void 0!==r.exists?Qi.exists(r.exists):Qi.none():Qi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let f=null;"setToServerValue"in l?(Bt("REQUEST_TIME"===l.setToServerValue),f=new ag):"appendMissingElements"in l?f=new _h(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new yc(l.removeAllFromArray.values||[]):"increment"in l?f=new vh(s,l.increment):Mt();const g=lr.fromServerFormat(l.fieldPath);return new ap(g,f)}(n,r)):[];var r;if(e.update){const r=wc(n,e.update.name),s=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Oo((e.updateMask.fieldPaths||[]).map(y=>lr.fromServerFormat(y)));return new Aa(r,s,l,t,i)}return new bc(r,s,t,i)}if(e.delete){const r=wc(n,e.delete);return new lp(r,t)}if(e.verify){const r=wc(n,e.verify);return new cp(r,t)}return Mt()}function L0(n,e){return{documents:[P0(n,e.path)]}}function Pu(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=P0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=P0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return ka(ci.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(y=>{return{field:_l((C=y).field),direction:_S(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=R0(n,e.limit);var f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function ox(n){let e=nx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Bt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=function(C){const T=V0(C);return T instanceof ci&&kC(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new op(Nu((T=C).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(C){let T;return T="object"==typeof C?C.value:C,Zm(T)?null:T}(t.limit));let g=null;var C;t.startAt&&(g=new Mu((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new Mu(C.values||[],!C.before)}(t.endAt)),fh(e,r,l,s,f,"F",g,y)}function V0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nu(e.unaryFilter.field);return On.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(e.unaryFilter.field);return On.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nu(e.unaryFilter.field);return On.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nu(e.unaryFilter.field);return On.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(n):void 0!==n.fieldFilter?On.create(Nu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ci.create(e.compositeFilter.filters.map(t=>V0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Mt()}}(e.compositeFilter.op))}(n):Mt();var e}function _S(n){return ex[n]}function sx(n){return tx[n]}function MO(n){return Ov[n]}function _l(n){return{fieldPath:n.canonicalString()}}function Nu(n){return lr.fromServerFormat(n.fieldPath)}function ka(n){return n instanceof On?function(e){if("=="===e.op){if(CC(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NAN"}};if(oS(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(CC(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NAN"}};if(oS(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(e.field),op:sx(e.op),value:e.value}}}(n):n instanceof ci?function(e){const t=e.getFilters().map(i=>ka(i));return 1===t.length?t[0]:{compositeFilter:{op:MO(e.op),filters:t}}}(n):Mt()}function vS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ax(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class eo{constructor(e,t,i,r,s=Ht.min(),l=Ht.min(),f=Br.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class da{constructor(e){this.fe=e}}function B0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fv(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:mp(r,s.version.toTimestamp()),createTime:mp(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:wh(e.version)};else{if(!e.isUnknownDocument())return Mt();i.unknownDocument={path:t.path.toArray(),version:wh(e.version)}}var r,s;return i}function cg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dh(n){const e=new Vi(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function Eh(n,e){const t=(e.baseMutations||[]).map(s=>F0(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>F0(n.fe,s)),r=Vi.fromMillis(e.localWriteTimeMs);return new up(e.batchId,r,t,i)}function ug(n){const e=Dh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Dh(n.lastLimboFreeSnapshotVersion):Ht.min();let i;var r;return void 0!==n.query.documents?(Bt(1===(r=n.query).documents.length),i=No(ph(nx(r.documents[0])))):i=No(ox(n.query)),new eo(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Br.fromBase64String(n.resumeToken))}function Lv(n,e){const t=wh(e.snapshotVersion),i=wh(e.lastLimboFreeSnapshotVersion);let r;r=gc(e.target)?L0(n.fe,e.target):Pu(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ua(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Ch(n){const e=ox({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ig(e,e.limit,"L"):e}function U0(n,e){return new Sv(e.largestBatchId,F0(n.fe,e.overlayMutation))}function j0(n,e){const t=e.path.lastSegment();return[n,Ro(e.path.popLast()),t]}function lx(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:wh(i.readTime),documentKey:Ro(i.documentKey.path),largestBatchId:i.largestBatchId}}class yS{getBundleMetadata(e,t){return H0(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Dh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return H0(e).put({bundleId:(i=t).id,createTime:wh(nr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return z0(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Ch(r.bundledQuery),readTime:Dh(r.readTime)};var r})}saveNamedQuery(e,t){return z0(e).put({name:(i=t).name,readTime:wh(nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function H0(n){return Tr(n,"bundles")}function z0(n){return Tr(n,"namedQueries")}class xh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new xh(e,t.uid||"")}getOverlay(e,t){return dg(e).get(j0(this.userId,t)).next(i=>i?U0(this.serializer,i):null)}getOverlays(e,t){const i=gs();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const f=new Sv(t,l);r.push(this.we(e,f))}),De.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Ro(l.getCollectionPath())));const s=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(dg(e).J("collectionPathOverlayIndex",f))}),De.waitFor(s)}getOverlaysForCollection(e,t,i){const r=gs(),s=Ro(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return dg(e).j("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const y=U0(this.serializer,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=gs();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dg(e).X({index:"collectionGroupOverlayIndex",range:f},(g,y,C)=>{const T=U0(this.serializer,y);s.size()<r||T.largestBatchId===l?(s.set(T.getKey(),T),l=T.largestBatchId):C.done()}).next(()=>s)}we(e,t){return dg(e).put(function(i,r,s){const[l,f,g]=j0(r,s.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:_p(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function dg(n){return Tr(n,"documentOverlays")}class Fu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(cr(e.integerValue));else if("doubleValue"in e){const i=cr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),np(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(sa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?xC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),bt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function cx(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function $0(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=cx(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Fu.Ve=new Fu;class bS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=$0(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=$0(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class wS{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class G0{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Lu{constructor(){this.je=new bS,this.ze=new wS(this.je),this.We=new G0(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Vu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Vu(this.indexId,this.documentKey,this.arrayValue,i)}}function Dc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=W0(n.arrayValue,e.arrayValue),0!==t?t:(t=W0(n.directionalValue,e.directionalValue),0!==t?t:bt.comparator(n.documentKey,e.documentKey)))}function W0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ux{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Bt(e.collectionGroup===this.collectionId);const t=cv(e);if(void 0!==t&&!this.en(t))return!1;const i=th(e);let r=0,s=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const l=i[r];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[s++],l))return!1;++r}for(;r<i.length;++r)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[r]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function q0(n){var e,t;if(Bt(n instanceof On||n instanceof ci),n instanceof On){if(n instanceof Su){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>On.create(n.field,"==",s)))||[];return ci.create(r,"or")}return n}const i=n.filters.map(r=>q0(r));return ci.create(i,n.op)}function dx(n){if(0===n.getFilters().length)return[];const e=Y0(q0(n));return Bt(hx(e)),Vv(e)||Bv(e)?[e]:e.getFilters()}function Vv(n){return n instanceof On}function Bv(n){return n instanceof ci&&kC(n)}function hx(n){return Vv(n)||Bv(n)||function(e){if(e instanceof ci&&f0(e)){for(const t of e.getFilters())if(!Vv(t)&&!Bv(t))return!1;return!0}return!1}(n)}function Y0(n){if(Bt(n instanceof On||n instanceof ci),n instanceof On)return n;if(1===n.filters.length)return Y0(n.filters[0]);const e=n.filters.map(i=>Y0(i));let t=ci.create(e,n.op);return t=Uv(t),hx(t)?t:(Bt(t instanceof ci),Bt(uh(t)),Bt(t.filters.length>1),t.filters.reduce((i,r)=>K0(i,r)))}function K0(n,e){let t;return Bt(n instanceof On||n instanceof ci),Bt(e instanceof On||e instanceof ci),t=n instanceof On?e instanceof On?ci.create([n,e],"and"):fx(n,e):e instanceof On?fx(e,n):function(i,r){if(Bt(i.filters.length>0&&r.filters.length>0),uh(i)&&uh(r))return OC(i,r.getFilters());const s=f0(i)?i:r,l=f0(i)?r:i,f=s.filters.map(g=>K0(g,l));return ci.create(f,"or")}(n,e),Uv(t)}function fx(n,e){if(uh(e))return OC(e,n.getFilters());{const t=e.filters.map(i=>K0(n,i));return ci.create(t,"or")}}function Uv(n){if(Bt(n instanceof On||n instanceof ci),n instanceof On)return n;const e=n.getFilters();if(1===e.length)return Uv(e[0]);if(p0(n))return n;const t=e.map(r=>Uv(r)),i=[];return t.forEach(r=>{r instanceof On?i.push(r):r instanceof ci&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ci.create(i,n.op)}class DS{constructor(){this.rn=new Z0}addToCollectionParentIndex(e,t){return this.rn.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(hs.min())}updateCollectionGroup(e,t,i){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class Z0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new $n(Fn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $n(Fn.comparator)).toArray()}}const jv=new Uint8Array(0);class ES{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Z0,this.un=new vc(i=>ua(i),(i,r)=>gl(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:Ro(r)};return px(e).put(s)}return De.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[e0(t),""],!1,!0);return px(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(fl(l.parent))}return i})}addFieldIndex(e,t){const i=Hv(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=fg(e);return s.next(f=>{l.put(lx(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Hv(e),r=fg(e),s=hg(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=hg(e);let r=!0;const s=new Map;return De.forEach(this.cn(t),l=>this.an(e,l).next(f=>{r&&(r=!!f),s.set(l,f)})).next(()=>{if(r){let l=gn();const f=[];return De.forEach(s,(g,y)=>{var C;rt("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Ee=>`${Ee.fieldPath}:${Ee.kind}`).join(",")}`} to execute ${ua(t)}`);const T=function(Ee,He){const ot=cv(He);if(void 0===ot)return null;for(const ut of _c(Ee,ot.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(y,g),U=function(Ee,He){const ot=new Map;for(const ut of th(He))for(const Lt of _c(Ee,ut.fieldPath))switch(Lt.op){case"==":case"in":ot.set(ut.fieldPath.canonicalString(),Lt.value);break;case"not-in":case"!=":return ot.set(ut.fieldPath.canonicalString(),Lt.value),Array.from(ot.values())}return null}(y,g),W=function(Ee,He){const ot=[];let ut=!0;for(const Lt of th(He)){const Sn=0===Lt.kind?dh(Ee,Lt.fieldPath,Ee.startAt):hh(Ee,Lt.fieldPath,Ee.startAt);ot.push(Sn.value),ut&&(ut=Sn.inclusive)}return new Mu(ot,ut)}(y,g),Q=function(Ee,He){const ot=[];let ut=!0;for(const Lt of th(He)){const Sn=0===Lt.kind?hh(Ee,Lt.fieldPath,Ee.endAt):dh(Ee,Lt.fieldPath,Ee.endAt);ot.push(Sn.value),ut&&(ut=Sn.inclusive)}return new Mu(ot,ut)}(y,g),ce=this.hn(g,y,W),ue=this.hn(g,y,Q),ye=this.ln(g,y,U),Ce=this.fn(g.indexId,T,ce,W.inclusive,ue,Q.inclusive,ye);return De.forEach(Ce,Ee=>i.H(Ee,t.limit).next(He=>{He.forEach(ot=>{const ut=bt.fromSegments(ot.documentKey);l.has(ut)||(l=l.add(ut),f.push(ut))})}))}).next(()=>f)}return De.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:dx(ci.create(e.filters,"and")).map(i=>Au(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,f){const g=(null!=t?t.length:1)*Math.max(i.length,s.length),y=g/(null!=t?t.length:1),C=[];for(let T=0;T<g;++T){const U=t?this.dn(t[T/y]):jv,W=this.wn(e,U,i[T%y],r),Q=this._n(e,U,s[T%y],l),ce=f.map(ue=>this.wn(e,U,ue,!0));C.push(...this.createRange(W,Q,ce))}return C}wn(e,t,i,r){const s=new Vu(e,bt.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Vu(e,bt.empty(),t,i);return r?s.Je():s}an(e,t){const i=new ux(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const f of s)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return De.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(f){let g=new $n(lr.comparator),y=!1;for(const C of f.filters)for(const T of C.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:g=g.add(T.field));for(const C of f.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Lu;for(const r of th(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);Fu.Ve._e(s,l)}return i.Qe()}dn(e){const t=new Lu;return Fu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Lu;return Fu.Ve._e(lh(this.databaseId,t),i.He(function(r){const s=th(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Lu);let s=0;for(const l of th(e)){const f=i[s++];for(const g of r)if(this.yn(t,l.fieldPath)&&Jm(f))r=this.pn(r,l,f);else{const y=g.He(l.kind);Fu.Ve._e(f,y)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const f of r){const g=new Lu;g.seed(f.Qe()),Fu.Ve._e(l,g.He(t.kind)),s.push(g)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof On&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Hv(e),r=fg(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return De.forEach(s,f=>r.get([f.indexId,this.uid]).next(g=>{l.push(function(y,C){const T=C?new Jf(C.sequenceNumber,new hs(Dh(C.readTime),new bt(fl(C.documentKey)),C.largestBatchId)):Jf.empty(),U=y.fields.map(([W,Q])=>new t0(lr.fromServerFormat(W),Q));return new lv(y.indexId,y.collectionGroup,U,T)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:dn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Hv(e),s=fg(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>De.forEach(f,g=>s.put(lx(g.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return De.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?De.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),De.forEach(f,g=>this.En(e,r,g).next(y=>{const C=this.An(s,g);return y.isEqual(C)?De.resolve():this.vn(e,s,g,y,C)}))))})}Rn(e,t,i,r){return hg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return hg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=hg(e);let s=new $n(Dc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,f)=>{s=s.add(new Vu(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>s)}An(e,t){let i=new $n(Dc);const r=this.mn(t,e);if(null==r)return i;const s=cv(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Jm(l))for(const f of l.arrayValue.values||[])i=i.add(new Vu(t.indexId,e.key,this.dn(f),r))}else i=i.add(new Vu(t.indexId,e.key,jv,r));return i}vn(e,t,i,r,s){rt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,g,y,C,T){const U=f.getIterator(),W=g.getIterator();let Q=rp(U),ce=rp(W);for(;Q||ce;){let ue=!1,ye=!1;if(Q&&ce){const Ce=y(Q,ce);Ce<0?ye=!0:Ce>0&&(ue=!0)}else null!=Q?ye=!0:ue=!0;ue?(C(ce),ce=rp(W)):ye?(T(Q),Q=rp(U)):(Q=rp(U),ce=rp(W))}}(r,s,Dc,f=>{l.push(this.Rn(e,t,i,f))},f=>{l.push(this.Pn(e,t,i,f))}),De.waitFor(l)}Tn(e){let t=1;return fg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>Dc(l,f)).filter((l,f,g)=>!f||0!==Dc(l,g[f-1]));const r=[];r.push(e);for(const l of i){const f=Dc(l,e),g=Dc(l,t);if(0===f)r[0]=e.Je();else if(f>0&&g<0)r.push(l),r.push(l.Je());else if(g>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,jv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,jv,[]]))}return s}bn(e,t){return Dc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mx)}getMinOffset(e,t){return De.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||Mt())).next(mx)}}function px(n){return Tr(n,"collectionParents")}function hg(n){return Tr(n,"indexEntries")}function Hv(n){return Tr(n,"indexConfiguration")}function fg(n){return Tr(n,"indexState")}function mx(n){Bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;n0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new hs(e.readTime,e.documentKey,t)}const gx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _x(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let f=0;const g=i.X({range:l},(C,T,U)=>(f++,U.delete()));s.push(g.next(()=>{Bt(1===f)}));const y=[];for(const C of t.mutations){const T=dv(e,C.key.path,t.batchId);s.push(r.delete(T)),y.push(C.key)}return De.waitFor(s).next(()=>y)}function zv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Mt();e=n.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class pg{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Bt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new pg(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Ih(e),l=Ec(e);return l.add({}).next(f=>{Bt("number"==typeof f);const g=new up(f,t,i,r),y=function(U,W,Q){const ce=Q.baseMutations.map(ye=>_p(U.fe,ye)),ue=Q.mutations.map(ye=>_p(U.fe,ye));return{userId:W,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ce,mutations:ue}}(this.serializer,this.userId,g),C=[];let T=new $n((U,W)=>dn(U.canonicalString(),W.canonicalString()));for(const U of r){const W=dv(this.userId,U.key.path,f);T=T.add(U.key.path.popLast()),C.push(l.put(y)),C.push(s.put(W,mC))}return T.forEach(U=>{C.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Vn[f]=g.keys()}),De.waitFor(C).next(()=>g)})}lookupMutationBatch(e,t){return Ec(e).get(t).next(i=>i?(Bt(i.userId===this.userId),Eh(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?De.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Ec(e).X({index:"userMutationsIndex",range:r},(l,f,g)=>{f.userId===this.userId&&(Bt(f.batchId>=i),s=Eh(this.serializer,f)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ec(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).j("userMutationsIndex",t).next(i=>i.map(r=>Eh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=s0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Ih(e).X({range:r},(l,f,g)=>{const[y,C,T]=l,U=fl(C);if(y===this.userId&&t.path.isEqual(U))return Ec(e).get(T).next(W=>{if(!W)throw Mt();Bt(W.userId===this.userId),s.push(Eh(this.serializer,W))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $n(dn);const r=[];return t.forEach(s=>{const l=s0(this.userId,s.path),f=IDBKeyRange.lowerBound(l),g=Ih(e).X({range:f},(y,C,T)=>{const[U,W,Q]=y,ce=fl(W);U===this.userId&&s.path.isEqual(ce)?i=i.add(Q):T.done()});r.push(g)}),De.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=s0(this.userId,i),l=IDBKeyRange.lowerBound(s);let f=new $n(dn);return Ih(e).X({range:l},(g,y,C)=>{const[T,U,W]=g,Q=fl(U);T===this.userId&&i.isPrefixOf(Q)?Q.length===r&&(f=f.add(W)):C.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Ec(e).get(s).next(l=>{if(null===l)throw Mt();Bt(l.userId===this.userId),i.push(Eh(this.serializer,l))}))}),De.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return _x(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),De.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ih(e).X({range:i},(s,l,f)=>{if(s[0]===this.userId){const g=fl(s[1]);r.push(g)}else f.done()}).next(()=>{Bt(0===r.length)})})}containsKey(e,t){return Q0(e,this.userId,t)}xn(e){return X0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Q0(n,e,t){const i=s0(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Ih(n).X({range:s,Y:!0},(f,g,y)=>{const[C,T,U]=f;C===e&&T===r&&(l=!0),y.done()}).next(()=>l)}function Ec(n){return Tr(n,"mutations")}function Ih(n){return Tr(n,"documentMutations")}function X0(n){return Tr(n,"mutationQueues")}class Bu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bu(0)}static Mn(){return new Bu(-1)}}class vx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Bu(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ht.fromTimestamp(new Vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Th(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Bt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Th(e).X((l,f)=>{const g=ug(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(e,g)))}).next(()=>De.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Th(e).X((i,r)=>{const s=ug(r);t(s)})}$n(e){return J0(e).get("targetGlobalKey").next(t=>(Bt(null!==t),t))}On(e,t){return J0(e).put("targetGlobalKey",t)}Fn(e,t){return Th(e).put(Lv(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ua(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Th(e).X({range:r,index:"queryTargetsIndex"},(l,f,g)=>{const y=ug(f);gl(t,y.target)&&(s=y,g.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=vl(e);return t.forEach(l=>{const f=Ro(l.path);r.push(s.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,l))}),De.waitFor(r)}removeMatchingKeys(e,t,i){const r=vl(e);return De.forEach(t,s=>{const l=Ro(s.path);return De.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=vl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=vl(e);let s=gn();return r.X({range:i,Y:!0},(l,f,g)=>{const y=fl(l[1]),C=new bt(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Ro(t.path),r=IDBKeyRange.bound([i],[e0(i)],!1,!0);let s=0;return vl(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],g,y)=>{0!==l&&(s++,y.done())}).next(()=>s>0)}le(e,t){return Th(e).get(t).next(i=>i?ug(i):null)}}function Th(n){return Tr(n,"targets")}function J0(n){return Tr(n,"targetGlobal")}function vl(n){return Tr(n,"targetDocuments")}function ew([n,e],[t,i]){const r=dn(n,t);return 0===r?dn(e,i):r}class Mh{constructor(e){this.Ln=e,this.buffer=new $n(ew),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ew(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;rt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){hl(i)?rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dl(i)}yield t.Qn(3e5)}))}}class CS{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return De.resolve(Os.ct);const i=new Mh(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(gx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gx):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,f,g,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,l=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(s=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Qf()<=Ma.in.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${s} targets in `+(g-f)+`ms\n\tRemoved ${T} documents in `+(y-g)+`ms\nTotal Duration: ${y-C}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class SO{constructor(e,t){this.db=e,this.garbageCollector=function Sh(n,e){return new CS(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return vp(e,i)}removeReference(e,t,i){return vp(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return vp(e,t)}Xn(e,t){return function(i,r){let s=!1;return X0(i).Z(l=>Q0(i,l,r).next(f=>(f&&(s=!0),De.resolve(!f)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,f)=>{if(f<=t){const g=this.Xn(e,l).next(y=>{if(!y)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Ht.min()),vl(e).delete([0,Ro(l.path)])))});r.push(g)}}).next(()=>De.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return vp(e,t)}Yn(e,t){const i=vl(e);let r,s=Os.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:y})=>{0===l?(s!==Os.ct&&t(new bt(fl(r)),s),s=y,r=g):s=Os.ct}).next(()=>{s!==Os.ct&&t(new bt(fl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vp(n,e){return vl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ro(e.path),sequenceNumber:i}));var i}class xS{constructor(){this.changes=new vc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?De.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ah(e).put(i)}removeEntry(e,t,i){return Ah(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],cg(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Ei.newInvalidDocument(t);return Ah(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(mg(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:Ei.newInvalidDocument(t)};return Ah(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(mg(t))},(r,s)=>{i={document:this.ts(t,s),size:zv(s)}}).next(()=>i)}getEntries(e,t){let i=ms();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=ms(),r=new Di(bt.comparator);return this.ns(e,t,(s,l)=>{const f=this.ts(s,l);i=i.insert(s,f),r=r.insert(s,zv(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return De.resolve();let r=new $n(kh);t.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(mg(r.first()),mg(r.last())),l=r.getIterator();let f=l.getNext();return Ah(e).X({index:"documentKeyIndex",range:s},(g,y,C)=>{const T=bt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;f&&kh(f,T)<0;)i(f,null),f=l.getNext();f&&f.isEqual(T)&&(i(f,y),f=l.hasNext()?l.getNext():null),f?C.G(mg(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),cg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ah(e).j(IDBKeyRange.bound(l,f,!0)).next(g=>{let y=ms();for(const C of g){const T=this.ts(bt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);T.isFoundDocument()&&(wv(t,T)||r.has(T.key))&&(y=y.insert(T.key,T))}return y})}getAllFromCollectionGroup(e,t,i,r){let s=ms();const l=wx(t,i),f=wx(t,hs.max());return Ah(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,y,C)=>{const T=this.ts(bt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(T.key,T),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new AO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kt(e).get("remoteDocumentGlobalKey").next(t=>(Bt(!!t),t))}Zn(e,t){return Kt(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function Ra(n,e){let t;if(e.document)t=N0(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=bt.fromSegments(e.noDocument.path),r=Dh(e.noDocument.readTime);t=Ei.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const i=bt.fromSegments(e.unknownDocument.path),r=Dh(e.unknownDocument.version);t=Ei.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Vi(i[0],i[1]);return Ht.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ht.min()))return i}return Ei.newInvalidDocument(e)}}function tw(n){return new bx(n)}class AO extends xS{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new vc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new $n((s,l)=>dn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const f=this.us.get(s);if(t.push(this.os.removeEntry(e,s,f.readTime)),l.isValidDocument()){const g=B0(this.os.serializer,l);r=r.add(s.path.popLast());const y=zv(g);i+=y-f.size,t.push(this.os.addEntry(e,s,g))}else if(i-=f.size,this.trackRemovals){const g=B0(this.os.serializer,l.convertToNoDocument(Ht.min()));t.push(this.os.addEntry(e,s,g))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),De.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function Kt(n){return Tr(n,"remoteDocumentGlobal")}function Ah(n){return Tr(n,"remoteDocumentsV14")}function mg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wx(n,e){const t=e.documentKey.path.toArray();return[n,cg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kh(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=dn(t[s],i[s]),r)return r;return r=dn(t.length,i.length),r||(r=dn(t[t.length-2],i[i.length-2]),r||dn(t[t.length-1],i[i.length-1]))}class IS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gg{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&yh(i.mutation,r,Oo.empty(),Vi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,gn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=gn()){const r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=rg();return s.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,gn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let s=ms();const l=Ru(),f=Ru();return t.forEach((g,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof Aa)?s=s.insert(y.key,y):void 0!==C?(l.set(y.key,C.mutation.getFieldMask()),yh(C.mutation,y,C.mutation.getFieldMask(),Vi.now())):l.set(y.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((y,C)=>l.set(y,C)),t.forEach((y,C)=>{var T;return f.set(y,new IS(C,null!==(T=l.get(y))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ru();let r=new Di((l,f)=>l-f),s=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const y=t.get(g);if(null===y)return;let C=i.get(g)||Oo.empty();C=f.applyToLocalView(y,C),i.set(g,C);const T=(r.get(f.batchId)||gn()).add(g);r=r.insert(f.batchId,T)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,C=g.value,T=Ev();C.forEach(U=>{if(!s.has(U)){const W=y0(t.get(U),i.get(U));null!==W&&T.set(U,W),s=s.add(U)}}),l.push(this.documentOverlayCache.saveOverlays(e,y,T))}return De.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return bt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):De.resolve(gs());let f=-1,g=s;return l.next(y=>De.forEach(y,(C,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),s.get(C)?De.resolve():this.remoteDocumentCache.getEntry(e,C).next(U=>{g=g.insert(C,U)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,g,y,gn())).next(C=>({batchId:f,changes:Dv(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bt(t)).next(i=>{let r=rg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=rg();return this.indexManager.getCollectionParents(e,r).next(l=>De.forEach(l,f=>{const g=(y=t,C=f.child(r),new ps(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(y=>{y.forEach((C,T)=>{s=s.insert(C,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((f,g)=>{const y=g.getKey();null===s.get(y)&&(s=s.insert(y,Ei.newInvalidDocument(y)))});let l=rg();return s.forEach((f,g)=>{const y=r.get(f);void 0!==y&&yh(y.mutation,g,Oo.empty(),Vi.now()),wv(t,g)&&(l=l.insert(f,g))}),l})}}class $v{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return De.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:nr(i.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Ch(i.bundledQuery),readTime:nr(i.readTime)}),De.resolve();var i}}class ur{constructor(){this.overlays=new Di(bt.comparator),this.ls=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),De.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),De.resolve()}getOverlaysForCollection(e,t,i){const r=gs(),s=t.length+1,l=new bt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return De.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Di((y,C)=>y-C);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=gs(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const f=gs(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,C)=>f.set(y,C)),!(f.size()>=r)););return De.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Sv(t,i));let s=this.ls.get(t);void 0===s&&(s=gn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class Dx{constructor(){this.fs=new $n(jr.ds),this.ws=new $n(jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new jr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new jr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new bt(new Fn([])),i=new jr(t,e),r=new jr(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new bt(new Fn([])),i=new jr(t,e),r=new jr(t,e+1);let s=gn();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new jr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class jr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return bt.comparator(e.key,t.key)||dn(e.As,t.As)}static _s(e,t){return dn(e.As,t.As)||bt.comparator(e.key,t.key)}}class Ex{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $n(jr.ds)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new up(s,t,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new jr(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return De.resolve(l)}lookupMutationBatch(e,t){return De.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jr(t,0),r=new jr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);s.push(f)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $n(dn);return t.forEach(r=>{const s=new jr(r,0),l=new jr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],f=>{i=i.add(f.As)})}),De.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;bt.isDocumentKey(s)||(s=s.child(""));const l=new jr(new bt(s),0);let f=new $n(dn);return this.Rs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(f=f.add(g.As)),!0)},l),De.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Bt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return De.forEach(t.mutations,r=>{const s=new jr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new jr(t,0),r=this.Rs.firstAfterOrEqual(i);return De.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return De.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TS{constructor(e){this.Ds=e,this.docs=new Di(bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return De.resolve(i?i.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let i=ms();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ei.newInvalidDocument(r))}),De.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ms();const l=t.path,f=new bt(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:C}}=g.getNext();if(!l.isPrefixOf(y.path))break;y.path.length>l.length+1||n0(nh(C),i)<=0||(r.has(C.key)||wv(t,C))&&(s=s.insert(C.key,C.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Mt()}Cs(e,t){return De.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Cx(this)}getSize(e){return De.resolve(this.size)}}class Cx extends xS{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),De.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class xx{constructor(e){this.persistence=e,this.xs=new vc(t=>ua(t),gl),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Dx,this.targetCount=0,this.Ms=Bu.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),De.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Fn(t),De.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),De.waitFor(s).next(()=>r)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return De.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),De.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),De.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return De.resolve(i)}containsKey(e,t){return De.resolve(this.ks.containsKey(t))}}class Gv{constructor(e,t){this.$s={},this.overlays={},this.Os=new Os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new xx(this),this.indexManager=new DS,this.remoteDocumentCache=new TS(i=>this.referenceDelegate.Ls(i)),this.serializer=new da(t),this.qs=new $v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ur,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Ex(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){rt("MemoryPersistence","Starting transaction:",e);const r=new Ix(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return De.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Ix extends ih{constructor(e){super(),this.currentSequenceNumber=e}}class Wv{constructor(e){this.persistence=e,this.Qs=new Dx,this.js=null}static zs(e){return new Wv(e)}get Ws(){if(this.js)return this.js;throw Mt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),De.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),De.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Ws,i=>{const r=bt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Ht.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return De.or([()=>De.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class MS{constructor(e){this.serializer=e}O(e,t,i,r){const s=new ep("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pC,{unique:!0}),f.createObjectStore("documentMutations"),yp(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=De.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),yp(e)),l=l.next(()=>function(f){const g=f.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,g){return g.store("mutations").j().next(y=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pC,{unique:!0});const C=g.store("mutations"),T=y.map(U=>C.put(U));return De.waitFor(T)})}(e,s))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:tS});g.createIndex("collectionPathOverlayIndex",pl,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",l0,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:WM});g.createIndex("documentKeyIndex",qM),g.createIndex("collectionGroupIndex",YM)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QM}).createIndex("sequenceNumberIndex",XM,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:JM}).createIndex("documentKeyIndex",eS,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=zv(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>De.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>De.forEach(f,g=>{Bt(g.userId===s.userId);const y=Eh(this.serializer,g);return _x(e,s.userId,y).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,f)=>{const g=new Fn(l),y=[0,Ro(g)];s.push(t.get(y).next(C=>C?De.resolve():t.put({targetId:0,path:Ro(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>De.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:a0});const i=t.store("collectionParents"),r=new Z0,s=l=>{if(r.add(l)){const f=l.lastSegment(),g=l.popLast();return i.put({collectionId:f,parent:Ro(g)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const g=new Fn(l);return s(g.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,g],y)=>{const C=fl(f);return s(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=ug(r),l=Lv(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const f=t.store("remoteDocumentsV14"),g=(y=l,y.document?new bt(Fn.fromString(y.document.name).popFirst(5)):y.noDocument?bt.fromSegments(y.noDocument.path):y.unknownDocument?bt.fromSegments(y.unknownDocument.path):Mt()).path.toArray();var y;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(C))}).next(()=>De.waitFor(r))}si(e,t){const i=t.store("mutations"),r=tw(this.serializer),s=new Gv(Wv.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(g=>{var y;let C=null!==(y=f.get(g.userId))&&void 0!==y?y:gn();Eh(this.serializer,g).keys().forEach(T=>C=C.add(T)),f.set(g.userId,C)}),De.forEach(f,(g,y)=>{const C=new go(y),T=xh.de(this.serializer,C),U=s.getIndexManager(C),W=pg.de(C,this.serializer,U,s.referenceDelegate);return new gg(r,W,T,U).recalculateAndSaveOverlaysForDocumentKeys(new ip(t,Os.ct),g).next()})})}}function yp(n){n.createObjectStore("targetDocuments",{keyPath:KM}).createIndex("documentTargetsIndex",ZM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gC,{unique:!0}),n.createObjectStore("targetGlobal")}const nw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iw{constructor(e,t,i,r,s,l,f,g,y,C,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=f,this.ri=y,this.oi=C,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=U=>Promise.resolve(),!iw.D())throw new Ge(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SO(this,r),this.di=t+"main",this.serializer=new da(g),this.wi=new Rs(this.di,this.ui,new MS(this.serializer)),this.Bs=new vx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tw(this.serializer),this.qs=new yS,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(xe.FAILED_PRECONDITION,nw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Os(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(hl(e))return rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return _g(e).get("owner").next(t=>De.resolve(this.Ri(t)))}Pi(e){return Rh(e).delete(this.clientId)}bi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Tr(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),f=s.filter(g=>-1===l.indexOf(g));return De.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?De.resolve(!0):_g(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ge(xe.FAILED_PRECONDITION,nw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rh(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&rt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ip(t,Os.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Rh(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return pg.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ES(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return xh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){rt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?bC:14===l?c0:13===l?yC:12===l?vC:11===l?_C:void Mt();var l;let f;return this.wi.runTransaction(e,r,s,g=>(f=new ip(g,this.Os?this.Os.next():Os.ct),"readwrite-primary"===t?this.Ti(f).next(y=>!!y||this.Ei(f)).next(y=>{if(!y)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ge(xe.FAILED_PRECONDITION,Km);return i(f)}).next(y=>this.vi(f).next(()=>y)):this.Oi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Oi(e){return _g(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ge(xe.FAILED_PRECONDITION,nw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _g(e).put("owner",t)}static D(){return Rs.D()}Ai(e){const t=_g(e);return t.get("owner").next(i=>this.Ri(i)?(rt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(mr(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Nn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return rt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _g(n){return Tr(n,"owner")}function Rh(n){return Tr(n,"clientMetadata")}function Yv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Kv{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=gn(),r=gn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Kv(e,t.fromCache,i,r)}}class rw{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(_0(t))return De.resolve(null);let i=No(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ig(t,null,"F"),i=No(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=gn(...s);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.ji(t,f);return this.zi(t,y,l,g.readTime)?this.Ki(e,ig(t,null,"F")):this.Wi(e,y,t,g)}))})))}Gi(e,t,i,r){return _0(t)||r.isEqual(Ht.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(Qf()<=Ma.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),FC(t)),this.Wi(e,l,t,fc(r,-1)))})}ji(e,t){let i=new $n(VC(e));return t.forEach((r,s)=>{wv(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Qf()<=Ma.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",FC(t)),this.Ui.getDocumentsMatchingQuery(e,t,hs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class SS{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Di(dn),this.Yi=new vc(s=>ua(s),gl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function bp(n,e,t,i){return new SS(n,e,t,i)}function wp(n,e){return ow.apply(this,arguments)}function ow(){return ow=(0,Be.Z)(function*(n,e){const t=wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],f=[];let g=gn();for(const y of r){l.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}for(const y of s){f.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}return t.localDocuments.getDocuments(i,g).next(y=>({er:y,removedBatchIds:l,addedBatchIds:f}))})})}),ow.apply(this,arguments)}function Tx(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sw(n,e,t){let i=gn(),r=gn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=ms();return t.forEach((f,g)=>{const y=s.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Ht.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):rt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{nr:l,sr:r}})}function Sx(n,e){const t=wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Dp(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,De.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new eo(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Oh(n,e,t){return aw.apply(this,arguments)}function aw(){return aw=(0,Be.Z)(function*(n,e,t){const i=wt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!hl(l))throw l;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),aw.apply(this,arguments)}function Zv(n,e,t){const i=wt(n);let r=Ht.min(),s=gn();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,g,y){const C=wt(f),T=C.Yi.get(y);return void 0!==T?De.resolve(C.Ji.get(T)):C.Bs.getTargetData(g,y)}(i,l,No(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{s=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:Ht.min(),t?s:gn())).next(f=>(OS(i,LC(e),f),{documents:f,ir:s})))}function kS(n,e){const t=wt(n),i=wt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function RS(n,e){const t=wt(n),i=t.Xi.get(e)||Ht.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,fc(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(OS(t,e,r),r))}function OS(n,e,t){let i=n.Xi.get(e)||Ht.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function Qv(){return Qv=(0,Be.Z)(function*(n,e,t,i){const r=wt(n);let s=gn(),l=ms();for(const y of t){const C=e.rr(y.metadata.name);y.document&&(s=s.add(C));const T=e.ur(y);T.setReadTime(e.cr(y.metadata.readTime)),l=l.insert(C,T)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),g=yield Dp(r,(y=i,No(ph(Fn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>sw(y,f,l).next(C=>(f.apply(y),C)).next(C=>r.Bs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Bs.addMatchingKeys(y,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.nr,C.sr)).next(()=>C.nr)))}),Qv.apply(this,arguments)}function Xv(n,e){return lw.apply(this,arguments)}function lw(){return lw=(0,Be.Z)(function*(n,e,t=gn()){const i=yield Dp(n,No(Ch(e.bundledQuery))),r=wt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=nr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const f=i.withResumeToken(Br.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(s,f).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),lw.apply(this,arguments)}function Ax(n,e){return`firestore_clients_${n}_${e}`}function cw(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Ph(n,e){return`firestore_targets_${n}_${e}`}class Jv{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ge(r.error.code,r.error.message))),l?new Jv(e,t,r.state,s):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ge(i.error.code,i.error.message))),s?new vg(e,i.state,r):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=gh();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=o0(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new ey(e,s):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class uw{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uw(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kx{constructor(){this.activeTargetIds=gh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dw{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Di(dn),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Ax(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new kx),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(Ax(e.persistenceKey,r));if(s){const l=ey.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Ph(this.persistenceKey,e));if(i){const r=vg.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ph(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rt("SharedClientState","READ",e,t),t}setItem(e,t){rt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(rt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=Os.ct;if(null!=s)try{const f=JSON.parse(s);Bt("number"==typeof f),l=f}catch(f){mr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==Os.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new Jv(this.currentUser,e,t,i),s=cw(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=cw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=Ph(this.persistenceKey,e),s=new vg(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return ey.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Jv.ar(new go(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return vg.ar(r,t)}br(e){return uw.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],f=[];return s.forEach(g=>{r.has(g)||l.push(g)}),r.forEach(g=>{s.has(g)||f.push(g)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=gh();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class hw{constructor(){this.Hr=new kx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PS{Yr(e){}shutdown(){}}class Rx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uu=null;function fw(){return null===Uu?Uu=268435456+Math.round(2147483648*Math.random()):Uu++,"0x"+Uu.toString(16)}const Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _o="WebChannelConnection";class FS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=fw(),f=this.To(e,t);rt("RestConnection",`Sending RPC '${e}' ${l}:`,f,i);const g={};return this.Eo(g,r,s),this.Ao(e,f,g,i).then(y=>(rt("RestConnection",`Received RPC '${e}' ${l}: `,y),y),y=>{throw oa("RestConnection",`RPC '${e}' ${l} failed with error: `,y,"url: ",f,"request:",i),y})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${Ox[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=fw();return new Promise((l,f)=>{const g=new sC;g.setWithCredentials(!0),g.listenOnce(rC.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yb.NO_ERROR:const C=g.getResponseJson();rt(_o,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(C)),l(C);break;case Yb.TIMEOUT:rt(_o,`RPC '${e}' ${s} timed out`),f(new Ge(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Yb.HTTP_ERROR:const T=g.getStatus();if(rt(_o,`RPC '${e}' ${s} failed with status:`,T,"response text:",g.getResponseText()),T>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const W=U?.error;if(W&&W.status&&W.message){const Q=function(ce){const ue=ce.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(ue)>=0?ue:xe.UNKNOWN}(W.status);f(new Ge(Q,W.message))}else f(new Ge(xe.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Ge(xe.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{rt(_o,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);rt(_o,`RPC '${e}' ${s} sending request:`,r),g.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=fw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Zf(),f=qm(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.xmlHttpFactory=new NM({})),this.Eo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const C=s.join("");rt(_o,`Creating RPC '${e}' stream ${r}: ${C}`,g);const T=l.createWebChannel(C,g);let U=!1,W=!1;const Q=new NS({ro:ue=>{W?rt(_o,`Not sending because RPC '${e}' stream ${r} is closed:`,ue):(U||(rt(_o,`Opening RPC '${e}' stream ${r} transport.`),T.open(),U=!0),rt(_o,`RPC '${e}' stream ${r} sending:`,ue),T.send(ue))},oo:()=>T.close()}),ce=(ue,ye,Ce)=>{ue.listen(ye,Ee=>{try{Ce(Ee)}catch(He){setTimeout(()=>{throw He},0)}})};return ce(T,Ym.EventType.OPEN,()=>{W||rt(_o,`RPC '${e}' stream ${r} transport opened.`)}),ce(T,Ym.EventType.CLOSE,()=>{W||(W=!0,rt(_o,`RPC '${e}' stream ${r} transport closed`),Q.wo())}),ce(T,Ym.EventType.ERROR,ue=>{W||(W=!0,oa(_o,`RPC '${e}' stream ${r} transport errored:`,ue),Q.wo(new Ge(xe.UNAVAILABLE,"The operation could not be completed")))}),ce(T,Ym.EventType.MESSAGE,ue=>{var ye;if(!W){const Ce=ue.data[0];Bt(!!Ce);const He=Ce.error||(null===(ye=Ce[0])||void 0===ye?void 0:ye.error);if(He){rt(_o,`RPC '${e}' stream ${r} received error:`,He);const ot=He.status;let ut=function(Sn){const xi=gr[Sn];if(void 0!==xi)return Av(xi)}(ot),Lt=He.message;void 0===ut&&(ut=xe.INTERNAL,Lt="Unknown error status: "+ot+" with message "+He.message),W=!0,Q.wo(new Ge(ut,Lt)),T.close()}else rt(_o,`RPC '${e}' stream ${r} received:`,Ce),Q._o(Ce)}}),ce(f,PM.STAT_EVENT,ue=>{ue.stat===oC.PROXY?rt(_o,`RPC '${e}' stream ${r} detected buffering proxy`):ue.stat===oC.NOPROXY&&rt(_o,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{Q.fo()},0),Q}}function pw(){return typeof window<"u"?window:null}function ty(){return typeof document<"u"?document:null}function Nh(n){return new Ou(n,!0)}class mw{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&rt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gw{constructor(e,t,i,r,s,l,f,g){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mw(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Be.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===xe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Ge(xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Be.Z)(function*(){e.state=0,e.start()}))}tu(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Px extends gw{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function mS(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Mt(),r=e.targetChange.targetIds||[],s=function(g,y){return g.useProto3Json?(Bt(void 0===y||"string"==typeof y),Br.fromBase64String(y||"")):(Bt(void 0===y||y instanceof Uint8Array),Br.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const y=void 0===g.code?xe.UNKNOWN:Av(g.code);return new Ge(y,g.message||"")}(l);t=new M0(i,r,s,f||null)}else if("documentChange"in e){const i=e.documentChange,r=wc(n,i.document.name),s=nr(i.document.updateTime),l=i.document.createTime?nr(i.document.createTime):Ht.min(),f=new Ur({mapValue:{fields:i.document.fields}}),g=Ei.newFoundDocument(r,s,l,f);t=new pp(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=wc(n,i.document),s=i.readTime?nr(i.readTime):Ht.min(),l=Ei.newNoDocument(r,s);t=new pp([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=wc(n,i.document);t=new pp([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Mt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new fS(r,s);t=new T0(i.targetId,l)}}var g;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ht.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ht.min():s.readTime?nr(s.readTime):Ht.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=gp(this.serializer),t.addTarget=function(r,s){let l;const f=s.target;if(l=gc(f)?{documents:L0(r,f)}:{query:Pu(r,f)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Pv(r,s.resumeToken);const g=R0(r,s.expectedCount);null!==g&&(l.expectedCount=g)}else if(s.snapshotVersion.compareTo(Ht.min())>0){l.readTime=mp(r,s.snapshotVersion.toTimestamp());const g=R0(r,s.expectedCount);null!==g&&(l.expectedCount=g)}return l}(this.serializer,e);const i=function gS(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.Wo(t)}}class LS extends gw{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function rx(n,e){return n&&n.length>0?(Bt(void 0!==e),n.map(t=>function(i,r){let s=nr(i.updateTime?i.updateTime:r);return s.isEqual(Ht.min())&&(s=nr(r)),new KC(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.cu(i,t)}return Bt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_p(this.serializer,i))};this.Wo(t)}}class VS extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ge(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ge(xe.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(xe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class US{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(mr(t),this.mu=!1):rt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Nx{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(f=>{i.enqueueAndForget((0,Be.Z)(function*(){var g;ju(l)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Be.Z)(function*(y){const C=wt(y);C.vu.add(4),yield Ep(C),C.bu.set("Unknown"),C.vu.delete(4),yield bg(C)}),function(y){return g.apply(this,arguments)})(l))}))}),this.bu=new US(i,r)}}function bg(n){return _w.apply(this,arguments)}function _w(){return _w=(0,Be.Z)(function*(n){if(ju(n))for(const e of n.Ru)yield e(!0)}),_w.apply(this,arguments)}function Ep(n){return vw.apply(this,arguments)}function vw(){return vw=(0,Be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),vw.apply(this,arguments)}function ny(n,e){const t=wt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ry(t)?iy(t):Lh(t).Ko()&&yw(t,e))}function wg(n,e){const t=wt(n),i=Lh(t);t.Au.delete(e),i.Ko()&&Fx(t,e),0===t.Au.size&&(i.Ko()?i.jo():ju(t)&&t.bu.set("Unknown"))}function yw(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lh(n).su(e)}function Fx(n,e){n.Vu.qt(e),Lh(n).iu(e)}function iy(n){n.Vu=new JC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Lh(n).start(),n.bu.gu()}function ry(n){return ju(n)&&!Lh(n).Uo()&&n.Au.size>0}function ju(n){return 0===wt(n).vu.size}function Lx(n){n.Vu=void 0}function Vx(n){return bw.apply(this,arguments)}function bw(){return bw=(0,Be.Z)(function*(n){n.Au.forEach((e,t)=>{yw(n,e)})}),bw.apply(this,arguments)}function jS(n,e){return ww.apply(this,arguments)}function ww(){return ww=(0,Be.Z)(function*(n,e){Lx(n),ry(n)?(n.bu.Iu(e),iy(n)):n.bu.set("Unknown")}),ww.apply(this,arguments)}function Dw(n,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof M0&&2===e.state&&e.cause)try{yield(i=(0,Be.Z)(function*(r,s){const l=s.cause;for(const f of s.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Eg(n,i)}else if(e instanceof pp?n.Vu.Ht(e):e instanceof T0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ht.min()))try{const i=yield Tx(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=r.Au.get(g);y&&r.Au.set(g,y.withResumeToken(f.resumeToken,s))}}),l.targetMismatches.forEach((f,g)=>{const y=r.Au.get(f);if(!y)return;r.Au.set(f,y.withResumeToken(Br.EMPTY_BYTE_STRING,y.snapshotVersion)),Fx(r,f);const C=new eo(y.target,f,g,y.sequenceNumber);yw(r,C)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){rt("RemoteStore","Failed to raise snapshot:",i),yield Eg(n,i)}var i}),Dg.apply(this,arguments)}function Eg(n,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Be.Z)(function*(n,e,t){if(!hl(e))throw e;n.vu.add(1),yield Ep(n),n.bu.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield bg(n)}))}),Cg.apply(this,arguments)}function Bx(n,e){return e().catch(t=>Eg(n,t,e))}function Cp(n){return xg.apply(this,arguments)}function xg(){return xg=(0,Be.Z)(function*(n){const e=wt(n),t=Cc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;HS(e);)try{const r=yield Sx(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,Ux(e,r)}catch(r){yield Eg(e,r)}Fh(e)&&Ew(e)}),xg.apply(this,arguments)}function HS(n){return ju(n)&&n.Eu.length<10}function Ux(n,e){n.Eu.push(e);const t=Cc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Fh(n){return ju(n)&&!Cc(n).Uo()&&n.Eu.length>0}function Ew(n){Cc(n).start()}function zS(n){return jx.apply(this,arguments)}function jx(){return jx=(0,Be.Z)(function*(n){Cc(n).hu()}),jx.apply(this,arguments)}function Cw(n){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Be.Z)(function*(n){const e=Cc(n);for(const t of n.Eu)e.uu(t.mutations)}),Ig.apply(this,arguments)}function $S(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,Be.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Mv.from(i,e,t);yield Bx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Cp(n)}),oy.apply(this,arguments)}function Hx(n,e){return xw.apply(this,arguments)}function xw(){return xw=(0,Be.Z)(function*(n,e){var t;e&&Cc(n).ou&&(yield(t=(0,Be.Z)(function*(i,r){if(D0(s=r.code)&&s!==xe.ABORTED){const l=i.Eu.shift();Cc(i).Qo(),yield Bx(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Cp(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Fh(n)&&Ew(n)}),xw.apply(this,arguments)}function Iw(n,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Be.Z)(function*(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const i=ju(t);t.vu.add(3),yield Ep(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bg(t)}),Tg.apply(this,arguments)}function sy(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,Be.Z)(function*(n,e){const t=wt(n);e?(t.vu.delete(2),yield bg(t)):e||(t.vu.add(2),yield Ep(t),t.bu.set("Unknown"))}),ay.apply(this,arguments)}function Lh(n){return n.Su||(n.Su=function(e,t,i){const r=wt(e);return r.fu(),new Px(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Vx.bind(null,n),ao:jS.bind(null,n),nu:Dw.bind(null,n)}),n.Ru.push(function(){var e=(0,Be.Z)(function*(t){t?(n.Su.Qo(),ry(n)?iy(n):n.bu.set("Unknown")):(yield n.Su.stop(),Lx(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cc(n){return n.Du||(n.Du=function(e,t,i){const r=wt(e);return r.fu(),new LS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:zS.bind(null,n),ao:Hx.bind(null,n),au:Cw.bind(null,n),cu:$S.bind(null,n)}),n.Ru.push(function(){var e=(0,Be.Z)(function*(t){t?(n.Du.Qo(),yield Cp(n)):(yield n.Du.stop(),n.Eu.length>0&&(rt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Tw{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,f=new Tw(e,t,l,r,s);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(n,e){if(mr("AsyncQueue",`${e}: ${n}`),hl(n))return new Ge(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class Ip{constructor(e){this.comparator=e?(t,i)=>e(t,i)||bt.comparator(t.key,i.key):(t,i)=>bt.comparator(t.key,i.key),this.keyedMap=rg(),this.sortedSet=new Di(this.comparator)}static emptySet(e){return new Ip(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ip)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ip;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class zx{constructor(){this.Cu=new Di(bt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vh{constructor(e,t,i,r,s,l,f,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Vh(e,t,Ip.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class RO{constructor(){this.Nu=void 0,this.listeners=[]}}class $x{constructor(){this.queries=new vc(e=>NC(e),mh),this.onlineState="Unknown",this.ku=new Set}}function Mw(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,Be.Z)(function*(n,e){const t=wt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new RO),r)try{s.Nu=yield t.onListen(i)}catch(l){const f=xp(l,`Initialization of query '${FC(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&ly(t)}),Sw.apply(this,arguments)}function Gx(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,Be.Z)(function*(n,e){const t=wt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Aw.apply(this,arguments)}function GS(n,e){const t=wt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&ly(t)}function WS(n,e,t){const i=wt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function ly(n){n.ku.forEach(e=>{e.next()})}class cy{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Vh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qS{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Wx{constructor(e){this.serializer=e}rr(e){return wc(this.serializer,e)}ur(e){return e.metadata.exists?N0(this.serializer,e.document,!1):Ei.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return nr(e)}}class YS{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Fn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new Wx(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(t.get(l)||gn()).add(s);t.set(l,f)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function kO(n,e,t,i){return Qv.apply(this,arguments)}(e.localStore,new Wx(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield Xv(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function qx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Yx{constructor(e){this.key=e}}class Kx{constructor(e){this.key=e}}class Zx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gn(),this.mutatedKeys=gn(),this.tc=VC(e),this.ec=new Ip(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new zx,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,T)=>{const U=r.get(C),W=wv(this.query,T)?T:null,Q=!!U&&this.mutatedKeys.has(U.key),ce=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let ue=!1;U&&W?U.data.isEqual(W.data)?Q!==ce&&(i.track({type:3,doc:W}),ue=!0):this.rc(U,W)||(i.track({type:2,doc:W}),ue=!0,(g&&this.tc(W,g)>0||y&&this.tc(W,y)<0)&&(f=!0)):!U&&W?(i.track({type:0,doc:W}),ue=!0):U&&!W&&(i.track({type:1,doc:U}),ue=!0,(g||y)&&(f=!0)),ue&&(W?(l=l.add(W),s=ce?s.add(C):s.delete(C)):(l=l.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{ec:l,ic:i,zi:f,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,C)=>function(T,U){const W=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return W(T)-W(U)}(y.type,C.type)||this.tc(y.doc,C.doc)),this.oc(i);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==s.length||g?{snapshot:new Vh(this.query,e.ec,r,s,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Kx(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Yx(i))}),t}hc(e){this.Yu=e.ir,this.Zu=gn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Vh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Mg{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Qx{constructor(e){this.key=e,this.fc=!1}}class Xx{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new vc(f=>NC(f),mh),this._c=new Map,this.mc=new Set,this.gc=new Di(bt.comparator),this.yc=new Map,this.Ic=new Dx,this.Tc={},this.Ec=new Map,this.Ac=Bu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Jx(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,Be.Z)(function*(n,e){const t=Pg(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield Dp(t.localStore,No(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield dy(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&ny(t.remoteStore,l)}return r}),uy.apply(this,arguments)}function dy(n,e,t,i,r){return kw.apply(this,arguments)}function kw(){return kw=(0,Be.Z)(function*(n,e,t,i,r){n.Rc=(T,U,W)=>{return(Q=(0,Be.Z)(function*(ce,ue,ye,Ce){let Ee=ue.view.sc(ye);Ee.zi&&(Ee=yield Zv(ce.localStore,ue.query,!1).then(({documents:ut})=>ue.view.sc(ut,Ee)));const He=Ce&&Ce.targetChanges.get(ue.targetId),ot=ue.view.applyChanges(Ee,ce.isPrimaryClient,He);return Uw(ce,ue.targetId,ot.cc),ot.snapshot}),function(ce,ue,ye,Ce){return Q.apply(this,arguments)})(n,T,U,W);var Q};const s=yield Zv(n.localStore,e,!0),l=new Zx(e,s.ir),f=l.sc(s.documents),g=fp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=l.applyChanges(f,n.isPrimaryClient,g);Uw(n,t,y.cc);const C=new Mg(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),kw.apply(this,arguments)}function KS(n,e){return eI.apply(this,arguments)}function eI(){return eI=(0,Be.Z)(function*(n,e){const t=wt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!mh(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Oh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),wg(t.remoteStore,i.targetId),xc(t,i.targetId)}).catch(dl))):(xc(t,i.targetId),yield Oh(t.localStore,i.targetId,!0))}),eI.apply(this,arguments)}function Rw(){return Rw=(0,Be.Z)(function*(n,e,t){const i=Ng(n);try{const r=yield function(s,l){const f=wt(s),g=Vi.now(),y=l.reduce((U,W)=>U.add(W.key),gn());let C,T;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let W=ms(),Q=gn();return f.Zi.getEntries(U,y).next(ce=>{W=ce,W.forEach((ue,ye)=>{ye.isValidDocument()||(Q=Q.add(ue))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,W)).next(ce=>{C=ce;const ue=[];for(const ye of l){const Ce=dS(ye,C.get(ye.key).overlayedDocument);null!=Ce&&ue.push(new Aa(ye.key,Ce,TC(Ce.value.mapValue),Qi.exists(!0)))}return f.mutationQueue.addMutationBatch(U,g,ue,l)}).next(ce=>{T=ce;const ue=ce.applyToLocalDocumentSet(C,Q);return f.documentOverlayCache.saveOverlays(U,ce.batchId,ue)})}).then(()=>({batchId:T.batchId,changes:Dv(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,f){let g=s.Tc[s.currentUser.toKey()];g||(g=new Di(dn)),g=g.insert(l,f),s.Tc[s.currentUser.toKey()]=g}(i,r.batchId,t),yield Ic(i,r.changes),yield Cp(i.remoteStore)}catch(r){const s=xp(r,"Failed to persist write");t.reject(s)}}),Rw.apply(this,arguments)}function tI(n,e){return Ow.apply(this,arguments)}function Ow(){return Ow=(0,Be.Z)(function*(n,e){const t=wt(n);try{const i=yield function Mx(n,e){const t=wt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((C,T)=>{const U=r.get(T);if(!U)return;f.push(t.Bs.removeMatchingKeys(s,C.removedDocuments,T).next(()=>t.Bs.addMatchingKeys(s,C.addedDocuments,T)));let W=U.withSequenceNumber(s.currentSequenceNumber);var Q,ce,ue;null!==e.targetMismatches.get(T)?W=W.withResumeToken(Br.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):C.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(C.resumeToken,i)),r=r.insert(T,W),ce=W,ue=C,(0===(Q=U).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(s,W))});let g=ms(),y=gn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),f.push(sw(s,l,e.documentUpdates).next(C=>{g=C.nr,y=C.sr})),!i.isEqual(Ht.min())){const C=t.Bs.getLastRemoteSnapshotVersion(s).next(T=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(C)}return De.waitFor(f).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,y)).next(()=>g)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(Bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Bt(l.fc):r.removedDocuments.size>0&&(Bt(l.fc),l.fc=!1))}),yield Ic(t,i,e)}catch(i){yield dl(i)}}),Ow.apply(this,arguments)}function nI(n,e,t){const i=wt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const f=l.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(s,l){const f=wt(s);f.onlineState=l;let g=!1;f.queries.forEach((y,C)=>{for(const T of C.listeners)T.Mu(l)&&(g=!0)}),g&&ly(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Sg(n,e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,Be.Z)(function*(n,e,t){const i=wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new Di(bt.comparator);l=l.insert(s,Ei.newNoDocument(s,Ht.min()));const f=gn().add(s),g=new hp(Ht.min(),new Map,new Di(dn),l,f);yield tI(i,g),i.gc=i.gc.remove(s),i.yc.delete(e),Rg(i)}else yield Oh(i.localStore,e,!1).then(()=>xc(i,e,t)).catch(dl)}),Pw.apply(this,arguments)}function Nw(n,e){return ha.apply(this,arguments)}function ha(){return ha=(0,Be.Z)(function*(n,e){const t=wt(n),i=e.batch.batchId;try{const r=yield function AS(n,e){const t=wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,y){const C=g.batch,T=C.keys();let U=De.resolve();return T.forEach(W=>{U=U.next(()=>y.getEntry(f,W)).next(Q=>{const ce=g.docVersions.get(W);Bt(null!==ce),Q.version.compareTo(ce)<0&&(C.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),y.addEntry(Q)))})}),U.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=gn();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Vw(t,i,null),Lw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ic(t,r)}catch(r){yield dl(r)}}),ha.apply(this,arguments)}function QS(n,e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,Be.Z)(function*(n,e,t){const i=wt(n);try{const r=yield function(s,l){const f=wt(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,l).next(C=>(Bt(null!==C),y=C.keys(),f.mutationQueue.removeMutationBatch(g,C))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,e);Vw(i,e,t),Lw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ic(i,r)}catch(r){yield dl(r)}}),Ag.apply(this,arguments)}function Fw(){return Fw=(0,Be.Z)(function*(n,e){const t=wt(n);ju(t.remoteStore)||rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=wt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=xp(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Fw.apply(this,arguments)}function Lw(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Vw(n,e,t){const i=wt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function xc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||Bw(n,i)})}function Bw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(wg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Rg(n))}function Uw(n,e,t){for(const i of t)i instanceof Yx?(n.Ic.addReference(i.key,e),XS(n,i)):i instanceof Kx?(rt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||Bw(n,i.key)):Mt()}function XS(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(rt("SyncEngine","New document in limbo: "+t),n.mc.add(i),Rg(n))}function Rg(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new bt(Fn.fromString(e)),i=n.Ac.next();n.yc.set(i,new Qx(t)),n.gc=n.gc.insert(t,i),ny(n.remoteStore,new eo(No(ph(t.path)),i,"TargetPurposeLimboResolution",Os.ct))}}function Ic(n,e,t){return jw.apply(this,arguments)}function jw(){return jw=(0,Be.Z)(function*(n,e,t){const i=wt(n),r=[],s=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,g)=>{l.push(i.Rc(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const C=Kv.Li(g.targetId,y);s.push(C)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,Be.Z)(function*(g,y){const C=wt(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>De.forEach(y,U=>De.forEach(U.Fi,W=>C.persistence.referenceDelegate.addReference(T,U.targetId,W)).next(()=>De.forEach(U.Bi,W=>C.persistence.referenceDelegate.removeReference(T,U.targetId,W)))))}catch(T){if(!hl(T))throw T;rt("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const U=T.targetId;if(!T.fromCache){const W=C.Ji.get(U),ce=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);C.Ji=C.Ji.insert(U,ce)}}}),function(g,y){return f.apply(this,arguments)})(i.localStore,s))}),jw.apply(this,arguments)}function iI(n,e){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,Be.Z)(function*(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const i=yield wp(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ge(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ic(t,i.er)}var r}),Hw.apply(this,arguments)}function JS(n,e){const t=wt(n),i=t.yc.get(e);if(i&&i.fc)return gn().add(i.key);{let r=gn();const s=t._c.get(e);if(!s)return r;for(const l of s){const f=t.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function rI(n,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Be.Z)(function*(n,e){const t=wt(n),i=yield Zv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&Uw(t,e.targetId,r.cc),r}),Tp.apply(this,arguments)}function eA(n,e){return zw.apply(this,arguments)}function zw(){return zw=(0,Be.Z)(function*(n,e){const t=wt(n);return RS(t.localStore,e).then(i=>Ic(t,i))}),zw.apply(this,arguments)}function oI(n,e,t,i){return hy.apply(this,arguments)}function hy(){return hy=(0,Be.Z)(function*(n,e,t,i){const r=wt(n),s=yield function(l,f){const g=wt(l),y=wt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.Sn(C,f).next(T=>T?g.localDocuments.getDocuments(C,T):De.resolve(null)))}(r.localStore,e);var f;null!==s?("pending"===t?yield Cp(r.remoteStore):"acknowledged"===t||"rejected"===t?(Vw(r,e,i||null),Lw(r,e),f=e,wt(wt(r.localStore).mutationQueue).Cn(f)):Mt(),yield Ic(r,s)):rt("SyncEngine","Cannot apply mutation batch with id: "+e)}),hy.apply(this,arguments)}function fy(){return fy=(0,Be.Z)(function*(n,e){const t=wt(n);if(Pg(t),Ng(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield sI(t,i.toArray());t.vc=!0,yield sy(t.remoteStore,!0);for(const s of r)ny(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(xc(t,l),Oh(t.localStore,l,!0))),wg(t.remoteStore,l)}),yield r,yield sI(t,i),function(s){const l=wt(s);l.yc.forEach((f,g)=>{wg(l.remoteStore,g)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Di(bt.comparator)}(t),t.vc=!1,yield sy(t.remoteStore,!1)}}),fy.apply(this,arguments)}function sI(n,e,t){return py.apply(this,arguments)}function py(){return py=(0,Be.Z)(function*(n,e,t){const i=wt(n),r=[],s=[];for(const l of e){let f;const g=i._c.get(l);if(g&&0!==g.length){f=yield Dp(i.localStore,No(g[0]));for(const y of g){const C=i.wc.get(y),T=yield rI(i,C);T.snapshot&&s.push(T.snapshot)}}else{const y=yield kS(i.localStore,l);f=yield Dp(i.localStore,y),yield dy(i,Gw(y),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(s),r}),py.apply(this,arguments)}function Gw(n){return fh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tA(n){const e=wt(n);return wt(wt(e.localStore).persistence).$i()}function nA(n,e,t,i){return Og.apply(this,arguments)}function Og(){return Og=(0,Be.Z)(function*(n,e,t,i){const r=wt(n);if(r.vc)return void rt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield RS(r.localStore,LC(s[0])),f=hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Br.EMPTY_BYTE_STRING);yield Ic(r,l,f);break}case"rejected":yield Oh(r.localStore,e,!0),xc(r,e,i);break;default:Mt()}}),Og.apply(this,arguments)}function Ww(n,e,t){return my.apply(this,arguments)}function my(){return my=(0,Be.Z)(function*(n,e,t){const i=Pg(n);if(i.vc){for(const r of e){if(i._c.has(r)){rt("SyncEngine","Adding an already active target "+r);continue}const s=yield kS(i.localStore,r),l=yield Dp(i.localStore,s);yield dy(i,Gw(s),l.targetId,!1,l.resumeToken),ny(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield Oh(i.localStore,r,!1).then(()=>{wg(i.remoteStore,r),xc(i,r)}).catch(dl))}}),my.apply(this,arguments)}function Pg(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sg.bind(null,e),e.dc.nu=GS.bind(null,e.eventManager),e.dc.Pc=WS.bind(null,e.eventManager),e}function Ng(n){const e=wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QS.bind(null,e),e}class Fg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.serializer=Nh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return bp(this.persistence,new rw,e.initialUser,this.serializer)}createPersistence(e){return new Gv(Wv.zs,this.serializer)}createSharedClientState(e){return new hw}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qw extends Fg{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield Ng(i.Vc.syncEngine),yield Cp(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return bp(this.persistence,new rw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new yx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new $M(t,this.persistence);return new zM(e.asyncQueue,i)}createPersistence(e){const t=Yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new iw(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,pw(),ty(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hw}}class Yw extends qw{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Be.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof dw&&(i.sharedClientState.syncEngine={jr:oI.bind(null,r),zr:nA.bind(null,r),Wr:Ww.bind(null,r),$i:tA.bind(null,r),Qr:eA.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Be.Z)(function*(l){yield function $w(n,e){return fy.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pw();if(!dw.D(t))throw new Ge(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dw(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Hu{initialize(e,t){var i=this;return(0,Be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,i.syncEngine),yield sy(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $x}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),i=new FS(e.databaseInfo);return new VS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=f=>nI(this.syncEngine,f,0),l=Rx.D()?new Rx:new PS,new Nx(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,f,g,y){const C=new Xx(i,r,s,l,f,g);return y&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const i=wt(t);rt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Ep(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Kw(n,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class aI{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ir,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new qS(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class lI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ge(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Be.Z)(function*(s,l){const f=wt(s),g=gp(f.serializer)+"/documents",y={documents:l.map(W=>Fv(f.serializer,W))},C=yield f.vo("BatchGetDocuments",g,y,l.length),T=new Map;C.forEach(W=>{const Q=function pS(n,e){return"found"in e?function(t,i){Bt(!!i.found);const r=wc(t,i.found.name),s=nr(i.found.updateTime),l=i.found.createTime?nr(i.found.createTime):Ht.min(),f=new Ur({mapValue:{fields:i.found.fields}});return Ei.newFoundDocument(r,s,l,f)}(n,e):"missing"in e?function(t,i){Bt(!!i.missing),Bt(!!i.readTime);const r=wc(t,i.missing),s=nr(i.readTime);return Ei.newNoDocument(r,s)}(n,e):Mt()}(f.serializer,W);T.set(Q.key.toString(),Q)});const U=[];return l.forEach(W=>{const Q=T.get(W.toString());Bt(!!Q),U.push(Q)}),U}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=bt.fromPath(r);e.mutations.push(new cp(s,e.precondition(s)))}),yield(i=(0,Be.Z)(function*(r,s){const l=wt(r),f=gp(l.serializer)+"/documents",g={writes:s.map(y=>_p(l.serializer,y))};yield l.Io("Commit",f,g)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Ht.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ge(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ht.min())?Qi.exists(!1):Qi.updateTime(t):Qi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new Ge(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qi.updateTime(t)}return Qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oA{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new mw(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Be.Z)(function*(){const t=new lI(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Zm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!D0(t)}return!1}}class cI{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=go.UNAUTHENTICATED,this.clientId=Jb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Be.Z)(function*(f){rt("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(rt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Vg(n,e){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Be.Z)(function*(s){i.isEqual(s)||(yield wp(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Zw.apply(this,arguments)}function gy(n,e){return _y.apply(this,arguments)}function _y(){return _y=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zu(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Iw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Iw(e.remoteStore,s)),n._onlineComponents=e}),_y.apply(this,arguments)}function Lo(n){return"FirebaseError"===n.name?n.code===xe.FAILED_PRECONDITION||n.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function zu(n){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,Be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Lo(t))throw t;oa("Error using user provided cache. Falling back to memory cache: "+t),yield Vg(n,new Fg)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),yield Vg(n,new Fg);return n._offlineComponents}),Qw.apply(this,arguments)}function vy(n){return uI.apply(this,arguments)}function uI(){return uI=(0,Be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield gy(n,n._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),yield gy(n,new Hu))),n._onlineComponents}),uI.apply(this,arguments)}function sA(n){return zu(n).then(e=>e.persistence)}function Bg(n){return zu(n).then(e=>e.localStore)}function yy(n){return vy(n).then(e=>e.remoteStore)}function Bh(n){return vy(n).then(e=>e.syncEngine)}function $u(n){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,Be.Z)(function*(n){const e=yield vy(n),t=e.eventManager;return t.onListen=Jx.bind(null,e.syncEngine),t.onUnlisten=KS.bind(null,e.syncEngine),t}),Xw.apply(this,arguments)}function fI(n,e,t={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,s,l,f,g){const y=new Lg({next:T=>{s.enqueueAndForget(()=>Gx(r,C));const U=T.docs.has(l);!U&&T.fromCache?g.reject(new Ge(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&T.fromCache&&f&&"server"===f.source?g.reject(new Ge(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),C=new cy(ph(l.path),y,{includeMetadataChanges:!0,Ku:!0});return Mw(r,C)}(yield $u(n),n.asyncQueue,e,t,i)})),i.promise}function eD(n,e,t={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(r,s,l,f,g){const y=new Lg({next:T=>{s.enqueueAndForget(()=>Gx(r,C)),T.fromCache&&"server"===f.source?g.reject(new Ge(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),C=new cy(l,y,{includeMetadataChanges:!0,Ku:!0});return Mw(r,C)}(yield $u(n),n.asyncQueue,e,t,i)})),i.promise}function nD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const pI=new Map;function wy(n,e,t){if(!t)throw new Ge(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uh(n,e,t,i){if(!0===e&&!0===i)throw new Ge(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mI(n){if(!bt.isDocumentKey(n))throw new Ge(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iD(n){if(bt.isDocumentKey(n))throw new Ge(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mp(n);throw new Ge(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gI(n,e){if(e<=0)throw new Ge(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uA{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VM;switch(t.type){case"firstParty":return new cC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ge(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pI.get(e);t&&(rt("ComponentProvider","Removing Datastore"),pI.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class to{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Oa extends to{constructor(e,t,i){super(e,t,ph(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new bt(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function vI(n,e,...t){if(n=(0,Nn.m9)(n),wy("collection","path",e),n instanceof Ug){const i=Fn.fromString(e,...t);return iD(i),new Oa(n,null,i)}{if(!(n instanceof Bi||n instanceof Oa))throw new Ge(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return iD(i),new Oa(n.firestore,null,i)}}function jg(n,e,...t){if(n=(0,Nn.m9)(n),1===arguments.length&&(e=Jb.A()),wy("doc","path",e),n instanceof Ug){const i=Fn.fromString(e,...t);return mI(i),new Bi(n,null,new bt(i))}{if(!(n instanceof Bi||n instanceof Oa))throw new Ge(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return mI(i),new Bi(n.firestore,n instanceof Oa?n.converter:null,new bt(i))}}function bI(n,e){return n=(0,Nn.m9)(n),e=(0,Nn.m9)(e),(n instanceof Bi||n instanceof Oa)&&(e instanceof Bi||e instanceof Oa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rD(n,e){return n=(0,Nn.m9)(n),e=(0,Nn.m9)(e),n instanceof to&&e instanceof to&&n.firestore===e.firestore&&mh(n._query,e._query)&&n.converter===e.converter}class wI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mw(this,"async_queue_retry"),this.Xc=()=>{const t=ty();t&&rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ty();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ty();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ir;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!hl(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Tw.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function oD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class DI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ri extends Ug{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new wI,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hA(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||hA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hA(n){var e,t,i;const r=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rS(n._databaseId,f,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,nD(y.experimentalLongPollingOptions),y.useFetchStreams));var f,y;n._firestoreClient=new cI(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function fA(n,e,t){const i=new Ir;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield Vg(n,t),yield gy(n,e),i.resolve()}catch(r){const s=r;if(!Lo(s))throw s;oa("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function sD(n){if(n._initialized||n._terminated)throw new Ge(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Br.fromBase64String(e))}catch(t){throw new Ge(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ge(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._methodName=e}}class aD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}const zO=/^__.*__$/;class pA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}class II{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class lD{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $g(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TI(this.ca)&&zO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nh(e)}ya(e,t,i,r=!1){return new lD({ca:e,methodName:t,ga:i,path:lr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(n){const e=n._freezeSettings(),t=Nh(n._databaseId);return new mA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hg(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);zg("Data must be an object, but it was:",l,i);const f=kI(i,l);let g,y;if(s.merge)g=new Oo(l.fieldMask),y=l.fieldTransforms;else if(s.mergeFields){const C=[];for(const T of s.mergeFields){const U=Ap(e,T,t);if(!l.contains(U))throw new Ge(xe.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);dD(C,U)||C.push(U)}g=new Oo(C),y=l.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=l.fieldTransforms;return new pA(new Ur(f),g,y)}class Dy extends Sp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dy}}function pa(n,e,t){return new lD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cD extends Sp{_toFieldTransform(e){return new ap(e.path,new ag)}isEqual(e){return e instanceof cD}}class uD extends Sp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pa(this,e,!0),i=this.pa.map(s=>Tc(s,t)),r=new _h(i);return new ap(e.path,r)}isEqual(e){return this===e}}class MI extends Sp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pa(this,e,!0),i=this.pa.map(s=>Tc(s,t)),r=new yc(i);return new ap(e.path,r)}isEqual(e){return this===e}}class gA extends Sp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new vh(e.serializer,zC(e.serializer,this.Ia));return new ap(e.path,t)}isEqual(e){return this===e}}function SI(n,e,t,i){const r=n.ya(1,e,t);zg("Data must be an object, but it was:",r,i);const s=[],l=Ur.empty();pc(i,(g,y)=>{const C=Ey(e,g,t);y=(0,Nn.m9)(y);const T=r.da(C);if(y instanceof Dy)s.push(C);else{const U=Tc(y,T);null!=U&&(s.push(C),l.set(C,U))}});const f=new Oo(s);return new II(l,f,r.fieldTransforms)}function no(n,e,t,i,r,s){const l=n.ya(1,e,t),f=[Ap(e,i,t)],g=[r];if(s.length%2!=0)throw new Ge(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<s.length;U+=2)f.push(Ap(e,s[U])),g.push(s[U+1]);const y=[],C=Ur.empty();for(let U=f.length-1;U>=0;--U)if(!dD(y,f[U])){const W=f[U];let Q=g[U];Q=(0,Nn.m9)(Q);const ce=l.da(W);if(Q instanceof Dy)y.push(W);else{const ue=Tc(Q,ce);null!=ue&&(y.push(W),C.set(W,ue))}}const T=new Oo(y);return new II(C,T,l.fieldTransforms)}function AI(n,e,t,i=!1){return Tc(t,n.ya(i?4:3,e))}function Tc(n,e){if(RI(n=(0,Nn.m9)(n)))return zg("Unsupported field value:",e,n),kI(n,e);if(n instanceof Sp)return function(t,i){if(!TI(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let f=Tc(l,i.wa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zC(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Vi.fromDate(t);return{timestampValue:mp(i.serializer,r)}}if(t instanceof Vi){const r=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mp(i.serializer,r)}}if(t instanceof aD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yl)return{bytesValue:Pv(i.serializer,t._byteString)};if(t instanceof Bi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:O0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Mp(t)}`)}(n,e)}function kI(n,e){const t={};return u0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(n,(i,r)=>{const s=Tc(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function RI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vi||n instanceof aD||n instanceof yl||n instanceof Bi||n instanceof Sp)}function zg(n,e,t){if(!RI(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Mp(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Ap(n,e,t){if((e=(0,Nn.m9)(e))instanceof fa)return e._internalPath;if("string"==typeof e)return Ey(n,e);throw $g("Field path arguments must be of type string or ",n,!1,void 0,t)}const OI=new RegExp("[~\\*/\\[\\]]");function Ey(n,e,t){if(e.search(OI)>=0)throw $g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fa(...e.split("."))._internalPath}catch{throw $g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $g(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(s||l)&&(g+=" (found",s&&(g+=` in field ${i}`),l&&(g+=` in document ${r}`),g+=")"),new Ge(xe.INVALID_ARGUMENT,f+n+g)}function dD(n,e){return n.some(t=>t.isEqual(e))}class kp{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PI extends kp{data(){return super.data()}}function Cy(n,e){return"string"==typeof e?Ey(n,e):e instanceof fa?e._internalPath:e._delegate._internalPath}function hD(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ge(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fD{}class Hh extends fD{}function Qo(n,e,...t){let i=[];e instanceof fD&&i.push(e),i=i.concat(t),function(r){const s=r.filter(f=>f instanceof Wu).length,l=r.filter(f=>f instanceof Rp).length;if(s>1||s>0&&l>0)throw new Ge(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Rp extends Hh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Rp(e,t,i)}_apply(e){const t=this._parse(e);return LI(e._query,t),new to(e.firestore,e.converter,bv(e._query,t))}_parse(e){const t=Gu(e.firestore);return function(r,s,l,f,g,y,C){let T;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ge(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){gD(C,y);const U=[];for(const W of C)U.push(mD(f,r,W));T={arrayValue:{values:U}}}else T=mD(f,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||gD(C,y),T=AI(l,"where",C,"in"===y||"not-in"===y);return On.create(g,y,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wu extends fD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wu(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const f of l)LI(s,f),s=bv(s,f)}(e._query,t),new to(e.firestore,e.converter,bv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xy extends Hh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xy(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ge(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ge(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new op(r,s);return function(f,g){if(null===vv(f)){const y=ng(f);null!==y&&_D(0,y,g.field)}}(i,l),l}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ps(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Iy extends Hh{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Iy(e,t,i)}_apply(e){return new to(e.firestore,e.converter,ig(e._query,this._limit,this._limitType))}}class Gg extends Hh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Gg(e,t,i)}_apply(e){const t=My(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(r=t,new ps((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Ty extends Hh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Ty(e,t,i)}_apply(e){const t=My(e,this.type,this._docOrFields,this._inclusive);return new to(e.firestore,e.converter,(r=t,new ps((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function My(n,e,t,i){if(t[0]=(0,Nn.m9)(t[0]),t[0]instanceof kp)return function(r,s,l,f,g){if(!f)throw new Ge(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const C of ku(r))if(C.field.isKeyField())y.push(lh(s,f.key));else{const T=f.data.field(C.field);if(xu(T))throw new Ge(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const U=C.field.canonicalString();throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}y.push(T)}return new Mu(y,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Gu(n.firestore);return function(s,l,f,g,y,C){const T=s.explicitOrderBy;if(y.length>T.length)throw new Ge(xe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let W=0;W<y.length;W++){const Q=y[W];if(T[W].field.isKeyField()){if("string"!=typeof Q)throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Q}`);if(!yv(s)&&-1!==Q.indexOf("/"))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Q}' contains a slash.`);const ce=s.path.child(Fn.fromString(Q));if(!bt.isDocumentKey(ce))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const ue=new bt(ce);U.push(lh(l,ue))}else{const ce=AI(f,g,Q);U.push(ce)}}return new Mu(U,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function mD(n,e,t){if("string"==typeof(t=(0,Nn.m9)(t))){if(""===t)throw new Ge(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yv(e)&&-1!==t.indexOf("/"))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Fn.fromString(t));if(!bt.isDocumentKey(i))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lh(n,new bt(i))}if(t instanceof Bi)return lh(n,t._key);throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mp(t)}.`)}function gD(n,e){if(!Array.isArray(n)||0===n.length)throw new Ge(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LI(n,e){if(e.isInequality()){const i=ng(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=vv(n);null!==s&&_D(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ge(xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _D(n,e,t){if(!t.isEqual(e))throw new Ge(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qu{convertValue(e,t="none"){switch(Tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return pc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new aD(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sh(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hv(e));default:return null}}convertTimestamp(e){const t=mc(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Fn.fromString(e);Bt(ax(i));const r=new Sa(i.get(1),i.get(3)),s=new bt(i.popFirst(5));return r.isEqual(t)||mr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function zh(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class VI extends qu{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}class $h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends kp{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sy extends Mc{data(e={}){return super.data(e)}}class Gh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $h(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sy(this._firestore,this._userDataWriter,i.key,i,new $h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Sy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Sy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $h(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==l.type&&(g=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),y=s.indexOf(l.doc.key)),{type:YO(l.type),doc:f,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function yD(n,e){return n instanceof Mc&&e instanceof Mc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gh&&e instanceof Gh&&n._firestore===e._firestore&&rD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Yu extends qu{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function xA(n,e,t){n=Ln(n,Bi);const i=Ln(n.firestore,Ri),r=zh(n.converter,e,t);return ma(i,[Hg(Gu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Qi.none())])}function BI(n,e,t,...i){n=Ln(n,Bi);const r=Ln(n.firestore,Ri),s=Gu(r);let l;return l="string"==typeof(e=(0,Nn.m9)(e))||e instanceof fa?no(s,"updateDoc",n._key,e,t,i):SI(s,"updateDoc",n._key,e),ma(r,[l.toMutation(n._key,Qi.exists(!0))])}function UI(n,...e){var t,i,r;n=(0,Nn.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||oD(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges};if(oD(e[l])){const T=e[l];e[l]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[l+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[l+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let g,y,C;if(n instanceof Bi)y=Ln(n.firestore,Ri),C=ph(n._key.path),g={next:T=>{e[l]&&e[l](ky(y,n,T))},error:e[l+1],complete:e[l+2]};else{const T=Ln(n,to);y=Ln(T.firestore,Ri),C=T._query;const U=new Yu(y);g={next:W=>{e[l]&&e[l](new Gh(y,U,T,W))},error:e[l+1],complete:e[l+2]},hD(n._query)}return function(T,U,W,Q){const ce=new Lg(Q),ue=new cy(U,ce,W);return T.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return Mw(yield $u(T),ue)})),()=>{ce.Dc(),T.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return Gx(yield $u(T),ue)}))}}(_r(y),C,f,g)}function ma(n,e){return function(t,i){const r=new Ir;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function ZS(n,e,t){return Rw.apply(this,arguments)}(yield Bh(t),i,r)})),r.promise}(_r(n),e)}function ky(n,e,t){const i=t.docs.get(e._key),r=new Yu(n);return new Mc(n,r,e._key,i,new $h(t.hasPendingWrites,t.fromCache),e.converter)}const zI={maxAttempts:5};class ED{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,t,i){this._verifyNotCommitted();const r=Sc(e,this._firestore),s=zh(r.converter,t,i),l=Hg(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Qi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Sc(e,this._firestore);let l;return l="string"==typeof(t=(0,Nn.m9)(t))||t instanceof fa?no(this._dataReader,"WriteBatch.update",s._key,t,i,r):SI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sc(e,this._firestore);return this._mutations=this._mutations.concat(new lp(t._key,Qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sc(n,e){if((n=(0,Nn.m9)(n)).firestore!==e)throw new Ge(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class RA extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gu(e)}get(e){const t=Sc(e,this._firestore),i=new VI(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Mt();const s=r[0];if(s.isFoundDocument())return new kp(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new kp(this._firestore,i,t._key,null,t.converter);throw Mt()})}set(e,t,i){const r=Sc(e,this._firestore),s=zh(r.converter,t,i),l=Hg(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Sc(e,this._firestore);let l;return l="string"==typeof(t=(0,Nn.m9)(t))||t instanceof fa?no(this._dataReader,"Transaction.update",s._key,t,i,r):SI(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Sc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sc(e,this._firestore),i=new Yu(this._firestore);return super.get(e).then(r=>new Mc(this._firestore,i,t._key,r._document,new $h(!1,!1),t.converter))}}function ID(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ge("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WI(){if(typeof Uint8Array>"u")throw new Ge("unimplemented","Uint8Arrays are not available in this environment.")}function qI(){if(!function d0(){return typeof atob<"u"}())throw new Ge("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cu=ol.SDK_VERSION,(0,ol._registerComponent)(new y_.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Ri(new xO(t.getProvider("auth-internal")),new uC(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ge(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(f.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,ol.registerVersion)(Zb,"3.12.1",n),(0,ol.registerVersion)(Zb,"3.12.1","esm2017")}();class Op{constructor(e){this._delegate=e}static fromBase64String(e){return qI(),new Op(yl.fromBase64String(e))}static fromUint8Array(e){return WI(),new Op(yl.fromUint8Array(e))}toBase64(){return qI(),this._delegate.toBase64()}toUint8Array(){return WI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Oy(n){return function o1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class FA{enableIndexedDbPersistence(e,t){return function CI(n,e){sD(n=Ln(n,Ri));const t=_r(n);if(t._uninitializedComponentsProvider)throw new Ge(xe.FAILED_PRECONDITION,"SDK cache is already specified.");oa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Hu;return fA(t,r,new qw(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NO(n){sD(n=Ln(n,Ri));const e=_r(n);if(e._uninitializedComponentsProvider)throw new Ge(xe.FAILED_PRECONDITION,"SDK cache is already specified.");oa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Hu;return fA(e,i,new Yw(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FO(n){if(n._initialized&&!n._terminated)throw new Ge(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(i){if(!Rs.D())return Promise.resolve();const r=i+"main";yield Rs.delete(r)}),function(i){return t.apply(this,arguments)})(Yv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Py{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function _I(n,e,t,i={}){var r;const s=(n=Ln(n,Ug))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&oa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,f;if("string"==typeof i.mockUserToken)l=i.mockUserToken,f=go.MOCK_USER;else{l=(0,Nn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ge(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new go(g)}n._authCredentials=new CO(new LM(l,f))}}(this._delegate,e,t,i)}enableNetwork(){return function VO(n){return function hI(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield sA(n),t=yield yy(n);return e.setNetworkEnabled(!0),function(i){const r=wt(i);return r.vu.delete(0),bg(r)}(t)}))}(_r(n=Ln(n,Ri)))}(this._delegate)}disableNetwork(){return function BO(n){return function aA(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield sA(n),t=yield yy(n);return e.setNetworkEnabled(!1),(i=(0,Be.Z)(function*(r){const s=wt(r);s.vu.add(0),yield Ep(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(_r(n=Ln(n,Ri)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Uh("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function LO(n){return function(e){const t=new Ir;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function kg(n,e){return Fw.apply(this,arguments)}(yield Bh(e),t)})),t.promise}(_r(n=Ln(n,Ri)))}(this._delegate)}onSnapshotsInSync(e){return function jI(n,e){return function cA(n,e){const t=new Lg(e);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield $u(n),r=t,wt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return i=yield $u(n),r=t,void wt(i).ku.delete(r);var i,r}))}}(_r(n=Ln(n,Ri)),oD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ge("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yg(this,vI(this._delegate,e))}catch(t){throw Vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,jg(this._delegate,e))}catch(t){throw Vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function yI(n,e){if(n=Ln(n,Ug),wy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(n,null,(t=e,new ps(Fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function OA(n,e,t){n=Ln(n,Ri);const i=Object.assign(Object.assign({},zI),t);return function(r){if(r.maxAttempts<1)throw new Ge(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const f=new Ir;return r.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const g=yield function dI(n){return vy(n).then(e=>e.datastore)}(r);new oA(r.asyncQueue,g,l,s,f).run()})),f.promise}(_r(n),r=>e(new RA(n,r)),i)}(this._delegate,t=>e(new KI(this,t)))}batch(){return _r(this._delegate),new Ny(new ED(this._delegate,e=>ma(this._delegate,e)))}loadBundle(e){return function UO(n,e){const t=_r(n=Ln(n,Ri)),i=new DI;return function by(n,e,t,i){const r=function(s,l){let f;return f="string"==typeof s?E0().encode(s):s,g=function(g,y){if(g instanceof Uint8Array)return Kw(g,y);if(g instanceof ArrayBuffer)return Kw(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new aI(g,l);var g}(t,Nh(e));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function iA(n,e,t){const i=wt(n);var r;(r=(0,Be.Z)(function*(s,l,f){try{const g=yield l.getMetadata();if(yield function(U,W){const Q=wt(U),ce=nr(W.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ue=>Q.qs.getBundleMetadata(ue,W.id)).then(ue=>!!ue&&ue.createTime.compareTo(ce)>=0)}(s.localStore,g))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=g).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(qx(g));const y=new YS(g,s.localStore,l.serializer);let C=yield l.bc();for(;C;){const U=yield y.zu(C);U&&f._updateProgress(U),C=yield l.bc()}const T=yield y.complete();return yield Ic(s,T.Ju,void 0),yield function(U,W){const Q=wt(U);return Q.persistence.runTransaction("Save bundle","readwrite",ce=>Q.qs.saveBundleMetadata(ce,W))}(s.localStore,g),f._completeWith(T.progress),Promise.resolve(T.Hu)}catch(g){return oa("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var U}),function(s,l,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Bh(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function jO(n,e){return function tD(n,e){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,i){const r=wt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield Bg(n),e)}))}(_r(n=Ln(n,Ri)),e).then(t=>t?new to(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class Wg extends qu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Op(new yl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class KI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wg(e)}get(e){const t=Pp(e);return this._delegate.get(t).then(i=>new Fy(this._firestore,new Mc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Pp(e);return i?(ID("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Pp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}}class Ny{constructor(e){this._delegate=e}set(e,t,i){const r=Pp(e);return i?(ID("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Pp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Sy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qg(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Wh.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Wh(e,new Wg(e),t),r.set(t,s)),s}}Wh.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wg(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ge("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new Bi(t._delegate,i,new bt(e)))}static forKey(e,t,i){return new ga(t,new Bi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Yg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yg(this.firestore,vI(this._delegate,e))}catch(t){throw Vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Nn.m9)(e))instanceof Bi&&bI(this._delegate,e)}set(e,t){t=ID("DocumentReference.set",t);try{return t?xA(this._delegate,e,t):xA(this._delegate,e)}catch(i){throw Vo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?BI(this._delegate,e):BI(this._delegate,e,t,...i)}catch(r){throw Vo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Ay(n){return ma(Ln(n.firestore,Ri),[new lp(n._key,Qi.none())])}(this._delegate)}onSnapshot(...e){const t=TD(e),i=MD(e,r=>new Fy(this.firestore,new Mc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return UI(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function CA(n){n=Ln(n,Bi);const e=Ln(n.firestore,Ri),t=_r(e),i=new Yu(e);return function lA(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,s,l){try{const f=yield function(g,y){const C=wt(g);return C.persistence.runTransaction("read document","readonly",T=>C.localDocuments.getDocument(T,y))}(r,s);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Ge(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=xp(f,`Failed to get document '${s} from cache`);l.reject(g)}}),function(r,s,l){return i.apply(this,arguments)})(yield Bg(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Mc(e,i,n._key,r,new $h(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function KO(n){n=Ln(n,Bi);const e=Ln(n.firestore,Ri);return fI(_r(e),n._key,{source:"server"}).then(t=>ky(e,n,t))}(this._delegate):function EA(n){n=Ln(n,Bi);const e=Ln(n.firestore,Ri);return fI(_r(e),n._key).then(t=>ky(e,n,t))}(this._delegate),t.then(i=>new Fy(this.firestore,new Mc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}function Vo(n,e,t){return n.message=n.message.replace(e,t),n}function TD(n){for(const e of n)if("object"==typeof e&&!Oy(e))return e;return{}}function MD(n,e){var t,i;let r;return r=Oy(n[0])?n[0]:Oy(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Fy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yD(this._delegate,e._delegate)}}class qg extends Fy{data(e){const t=this._delegate.data(e);return function FM(n,e){n||Mt()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wg(e)}where(e,t,i){try{return new io(this.firestore,Qo(this._delegate,function pD(n,e,t){const i=e,r=Cy("where",n);return Rp._create(r,i,t)}(e,t,i)))}catch(r){throw Vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,Qo(this._delegate,function _A(n,e="asc"){const t=e,i=Cy("orderBy",n);return xy._create(i,t)}(e,t)))}catch(i){throw Vo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,Qo(this._delegate,function vA(n){return gI("limit",n),Iy._create("limit",n,"F")}(e)))}catch(t){throw Vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,Qo(this._delegate,function yA(n){return gI("limitToLast",n),Iy._create("limitToLast",n,"L")}(e)))}catch(t){throw Vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,Qo(this._delegate,function GO(...n){return Gg._create("startAt",n,!0)}(...e)))}catch(t){throw Vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,Qo(this._delegate,function NI(...n){return Gg._create("startAfter",n,!1)}(...e)))}catch(t){throw Vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,Qo(this._delegate,function FI(...n){return Ty._create("endBefore",n,!1)}(...e)))}catch(t){throw Vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,Qo(this._delegate,function WO(...n){return Ty._create("endAt",n,!0)}(...e)))}catch(t){throw Vo(t,"endAt()","Query.endAt()")}}isEqual(e){return rD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function QO(n){n=Ln(n,to);const e=Ln(n.firestore,Ri),t=_r(e),i=new Yu(e);return function Jw(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(i=(0,Be.Z)(function*(r,s,l){try{const f=yield Zv(r,s,!0),g=new Zx(s,f.ir),y=g.sc(f.documents),C=g.applyChanges(y,!1);l.resolve(C.snapshot)}catch(f){const g=xp(f,`Failed to execute query '${s} against cache`);l.reject(g)}}),function(r,s,l){return i.apply(this,arguments)})(yield Bg(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Gh(e,i,n,r))}(this._delegate):"server"===e?.source?function XO(n){n=Ln(n,to);const e=Ln(n.firestore,Ri),t=_r(e),i=new Yu(e);return eD(t,n._query,{source:"server"}).then(r=>new Gh(e,i,n,r))}(this._delegate):function ZO(n){n=Ln(n,to);const e=Ln(n.firestore,Ri),t=_r(e),i=new Yu(e);return hD(n._query),eD(t,n._query).then(r=>new Gh(e,i,n,r))}(this._delegate),t.then(i=>new SD(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=TD(e),i=MD(e,r=>new SD(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return UI(this._delegate,t,i)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}class s1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new s1(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new qg(this._firestore,i))})}isEqual(e){return yD(this._delegate,e._delegate)}}class Yg extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?jg(this._delegate):jg(this._delegate,e))}catch(t){throw Vo(t,"doc()","CollectionReference.doc()")}}add(e){return function IA(n,e){const t=Ln(n.firestore,Ri),i=jg(n),r=zh(n.converter,e);return ma(t,[Hg(Gu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Qi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return bI(this._delegate,e._delegate)}withConverter(e){return new Yg(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}function Pp(n){return Ln(n,Bi)}class AD{constructor(...e){this._delegate=new fa(...e)}static documentId(){return new AD(lr.keyField().canonicalString())}isEqual(e){return(e=(0,Nn.m9)(e))instanceof fa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Np{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CD(){return new cD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Np(e)}static delete(){const e=function $I(){return new Dy("deleteField")}();return e._methodName="FieldValue.delete",new Np(e)}static arrayUnion(...e){const t=function e1(...n){return new uD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Np(t)}static arrayRemove(...e){const t=function GI(...n){return new MI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Np(t)}static increment(e){const t=function xD(n){return new gA("increment",n)}(e);return t._methodName="FieldValue.increment",new Np(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const a1={Firestore:Py,GeoPoint:aD,Timestamp:Vi,Blob:Op,Transaction:KI,WriteBatch:Ny,DocumentReference:ga,DocumentSnapshot:Fy,Query:io,QueryDocumentSnapshot:qg,QuerySnapshot:SD,CollectionReference:Yg,FieldPath:AD,FieldValue:Np,setLogLevel:function YI(n){!function aC(n){ks.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function c1(n){(function l1(n,e){n.INTERNAL.registerComponent(new y_.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},a1)))})(n,(e,t)=>new Py(e,t,new FA)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(Ko.Z);var Ly=M(5363),Bo=M(3900),u1=M(4707),d1=M(3099);function LA(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,d1.B)({connector:()=>new u1.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Vy=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kD(n){return(0,Cr.e)((e,t)=>{let i=!1;e.subscribe((0,tr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function o(n=a){return(0,Cr.e)((e,t)=>{let i=!1;e.subscribe((0,tr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function a(){return new Vy}var c=M(4671);function d(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Yi.h)((r,s)=>n(r,s,i)):c.y,(0,Yr.q)(1),t?kD(e):o(()=>new Vy))}function h(n,e){return(0,or.m)(e)?(0,Bo.w)(()=>n,e):(0,Bo.w)(()=>n)}var p=M(9468);M(259);const BA=new Map,f1={activated:!1,tokenObservers:[]},rV={initialized:!1,enabled:!1};function Sr(n){return BA.get(n)||Object.assign({},f1)}function ZI(){return rV}const UA="https://content-firebaseappcheck.googleapis.com/v1",lV="exchangeDebugToken",p1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class uV{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Be.Z)(function*(){t.stop();try{t.pending=new Nn.BH,yield function dV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xo=new Nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jA(n){if(!Sr(n).activated)throw Xo.create("use-before-activation",{appName:n.name})}function JI(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,s)}catch(T){throw Xo.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==l.status)throw Xo.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(T){throw Xo.create("fetch-parse-error",{originalErrorMessage:T?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const y=1e3*Number(g[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+y,issuedAtTimeMillis:C}}),zA.apply(this,arguments)}function m1(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${UA}/projects/${t}/apps/${i}:${lV}?key=${r}`,body:{debug_token:e}}}const mV="firebase-app-check-database",gV=1,RD="firebase-app-check-store";let eT=null;function $A(){return $A=(0,Be.Z)(function*(n,e){const i=(yield function _1(){return eT||(eT=new Promise((n,e)=>{try{const t=indexedDB.open(mV,gV);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Xo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(RD,{keyPath:"compositeKey"})}}catch(t){e(Xo.create("storage-open",{originalErrorMessage:t?.message}))}}),eT)}()).transaction(RD,"readwrite"),s=i.objectStore(RD).put({compositeKey:n,value:e});return new Promise((l,f)=>{s.onsuccess=g=>{l()},i.onerror=g=>{var y;f(Xo.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),$A.apply(this,arguments)}const OD=new Ma.Yd("@firebase/app-check");function qA(n,e){return(0,Nn.hl)()?function vV(n,e){return function v1(n,e){return $A.apply(this,arguments)}(function b1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{OD.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KA(){return ZI().enabled}function ZA(){return QA.apply(this,arguments)}function QA(){return QA=(0,Be.Z)(function*(){const n=ZI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QA.apply(this,arguments)}const CV={error:"UNKNOWN_ERROR"};function xV(n){return Nn.US.encodeString(JSON.stringify(n),!1)}function tT(n){return XA.apply(this,arguments)}function XA(){return XA=(0,Be.Z)(function*(n,e=!1){const t=n.app;jA(t);const i=Sr(t);let s,r=i.token;if(r&&!By(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(By(g)?r=g:yield qA(t,void 0))}if(!e&&r&&By(r))return{token:r.token};let f,l=!1;if(KA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=JI(m1(t,yield ZA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const g=yield i.exchangeTokenPromise;return yield qA(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Sr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?OD.warn(g.message):OD.error(g),s=g}return r?s?f=By(r)?{token:r.token,internalError:s}:C1(s):(f={token:r.token},i.token=r,yield qA(t,r)):f=C1(s),l&&function E1(n,e){const t=Sr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),XA.apply(this,arguments)}function JA(){return JA=(0,Be.Z)(function*(n){const e=n.app;jA(e);const{provider:t}=Sr(e);if(KA()){const i=yield ZA(),{token:r}=yield JI(m1(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),JA.apply(this,arguments)}function tk(n,e){const t=Sr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function D1(n){const{app:e}=n,t=Sr(e);let i=t.tokenRefresher;i||(i=function IV(n){const{app:e}=n;return new uV((0,Be.Z)(function*(){let i;if(i=Sr(e).token?yield tT(n,!0):yield tT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Sr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},p1.RETRIAL_MIN_WAIT,p1.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function By(n){return n.expireTimeMillis-Date.now()>0}function C1(n){return{token:xV(CV),error:n}}class TV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Sr(this.app);for(const t of e)tk(this.app,t.next);return Promise.resolve()}}const R1="app-check-internal";!function jV(){(0,ol._registerComponent)(new y_.wA("app-check",n=>function MV(n,e){return new TV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(R1).initialize()})),(0,ol._registerComponent)(new y_.wA(R1,n=>function SV(n){return{getToken:e=>tT(n,e),getLimitedUseToken:()=>function w1(n){return JA.apply(this,arguments)}(n),addTokenListener:e=>function ek(n,e,t,i){const{app:r}=n,s=Sr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&By(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),D1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>D1(n))}(n,"INTERNAL",e),removeTokenListener:e=>tk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ol.registerVersion)("@firebase/app-check","0.8.0")}();class ok{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window,M(9260);const P1=new u.OlP("angularfire2.auth.use-emulator"),N1=new u.OlP("angularfire2.auth.settings"),F1=new u.OlP("angularfire2.auth.tenant-id"),L1=new u.OlP("angularfire2.auth.langugage-code"),V1=new u.OlP("angularfire2.auth.use-device-language"),B1=new u.OlP("angularfire.auth.persistence"),U1=(n,e,t,i,r,s,l,f)=>(0,Tt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),l)for(const[y,C]of Object.entries(l))g.settings[y]=C;return f&&g.setPersistence(f),g},[t,i,r,s,l,f]);let iT=(()=>{class n{constructor(t,i,r,s,l,f,g,y,C,T,U,W){const Q=new cn.x,ce=(0,It.of)(void 0).pipe((0,Ly.Q)(l.outsideAngular),(0,Bo.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,9568)))),(0,qt.U)(()=>(0,Tt.on)(t,s,i)),(0,qt.U)(ue=>U1(ue,s,f,y,C,T,g,U)),LA({bufferSize:1,refCount:!1}));if(ys(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{ce.pipe(d()).subscribe();const ye=ce.pipe((0,Bo.w)(He=>He.getRedirectResult().then(ot=>ot,()=>null)),m.iC,LA({bufferSize:1,refCount:!1})),Ce=ce.pipe((0,Bo.w)(He=>new Li.y(ot=>({unsubscribe:s.runOutsideAngular(()=>He.onAuthStateChanged(ut=>ot.next(ut),ut=>ot.error(ut),()=>ot.complete()))})))),Ee=ce.pipe((0,Bo.w)(He=>new Li.y(ot=>({unsubscribe:s.runOutsideAngular(()=>He.onIdTokenChanged(ut=>ot.next(ut),ut=>ot.error(ut),()=>ot.complete()))}))));this.authState=ye.pipe(h(Ce),(0,p.R)(l.outsideAngular),(0,Ly.Q)(l.insideAngular)),this.user=ye.pipe(h(Ee),(0,p.R)(l.outsideAngular),(0,Ly.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Bo.w)(He=>He?(0,Ai.D)(He.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe((0,Bo.w)(He=>He?(0,Ai.D)(He.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,fr.T)(ye,Q,this.authState.pipe((0,Yi.h)(He=>!He))).pipe((0,qt.U)(He=>He?.user?He:null),(0,p.R)(l.outsideAngular),(0,Ly.Q)(l.insideAngular))}return(0,Tt.pX)(this,ce,s,{spy:{apply:(ue,ye,Ce)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Ce.then(Ee=>Q.next(Ee))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tt.Dh),u.LFG(Tt.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(m.HU),u.LFG(P1,8),u.LFG(N1,8),u.LFG(F1,8),u.LFG(L1,8),u.LFG(V1,8),u.LFG(B1,8),u.LFG(ok,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function j1(n,e){return function qV(n,e=b.z){return new Li.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function ak(n,e){return j1(n,e).pipe((0,qt.U)(t=>({payload:t,type:"query"})))}function rT(n,e){return ak(n,e).pipe(ae(void 0),Te(),(0,qt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const g=r.find(C=>C.doc.ref.isEqual(l.ref)),y=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),s}))}function H1(n,e,t){return rT(n,t).pipe((0,lt.R)((i,r)=>function KV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function ZV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Dt.x)(),(0,qt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function lk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function z1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $1{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=rT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ae(void 0),Te(),(0,Yi.h)(([i,r])=>r.length>0||!i),(0,qt.U)(([i,r])=>r),m.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,lt.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=z1(e);return H1(this.query,t,this.afs.schedulers.outsideAngular).pipe(m.iC)}valueChanges(e={}){return ak(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),m.iC)}get(e){return(0,Ai.D)(this.query.get(e)).pipe(m.iC)}add(e){return this.ref.add(e)}doc(e){return new G1(this.ref.doc(e),this.afs)}}class G1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=W1(i,t);return new $1(r,s,this.afs)}snapshotChanges(){return function YV(n,e){return j1(n,e).pipe(ae(void 0),Te(),(0,qt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(m.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ai.D)(this.ref.get(e)).pipe(m.iC)}}class QV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rT(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Yi.h)(t=>t.length>0),m.iC):rT(this.query,this.afs.schedulers.outsideAngular).pipe(m.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,lt.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=z1(e);return H1(this.query,t,this.afs.schedulers.outsideAngular).pipe(m.iC)}valueChanges(e={}){return ak(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),m.iC)}get(e){return(0,Ai.D)(this.query.get(e)).pipe(m.iC)}}const XV=new u.OlP("angularfire2.enableFirestorePersistence"),JV=new u.OlP("angularfire2.firestore.persistenceSettings"),eB=new u.OlP("angularfire2.firestore.settings"),tB=new u.OlP("angularfire2.firestore.use-emulator");function W1(n,e=(t=>t)){return{query:e(n),ref:n}}let nB=(()=>{class n{constructor(t,i,r,s,l,f,g,y,C,T,U,W,Q,ce,ue,ye,Ce){this.schedulers=g;const Ee=(0,Tt.on)(t,f,i),He=C;T&&U1(Ee,f,U,Q,ce,ue,W,ye),[this.firestore,this.persistenceEnabled$]=(0,Tt.cc)(`${Ee.name}.firestore`,"AngularFirestore",Ee.name,()=>{const ot=f.runOutsideAngular(()=>Ee.firestore());if(s&&ot.settings(s),He&&ot.useEmulator(...He),r&&!ys(l)){const ut=()=>{try{return(0,Ai.D)(ot.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Lt){return typeof console<"u"&&console.warn(Lt),(0,It.of)(!1)}};return[ot,f.runOutsideAngular(ut)]}return[ot,(0,It.of)(!1)]},[s,He,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=W1(r,i),f=this.schedulers.ngZone.run(()=>s);return new $1(f,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new QV(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new G1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tt.Dh),u.LFG(Tt.xv,8),u.LFG(XV,8),u.LFG(eB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(m.HU),u.LFG(JV,8),u.LFG(tB,8),u.LFG(iT,8),u.LFG(P1,8),u.LFG(N1,8),u.LFG(F1,8),u.LFG(L1,8),u.LFG(V1,8),u.LFG(B1,8),u.LFG(ok,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iB=(()=>{class n{constructor(t,i){this.afs=t,this.angularFireAuth=i}signInWithGoogle(){return(0,Ai.D)(this.angularFireAuth.signInWithPopup(new Rf.V))}signOutWithGoogle(){this.angularFireAuth.signOut()}fetchTodoLists(){return this.afs.collection("todoee-todolists").valueChanges()}createTodoList(t){return(0,Ai.D)(this.afs.doc(`todoee-todolists/${t.id}`).set(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nB),u.LFG(iT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rB=(()=>{class n{constructor(t,i){this.actions$=t,this.appService=i,this.signInWithGoogle$=tl(()=>this.actions$.pipe(nl(g_),(0,li.z)(()=>this.appService.signInWithGoogle().pipe((0,qt.U)(r=>Af({user:Object.freeze(r)})))))),this.signOutWithGoogle$=tl(()=>this.actions$.pipe(nl(gu),(0,qt.U)(()=>this.appService.signOutWithGoogle())),{dispatch:!1}),this.fetchTodoLists$=tl(()=>this.actions$.pipe(nl(kf),(0,li.z)(()=>this.appService.fetchTodoLists().pipe((0,qt.U)(r=>__({todoLists:r})))))),this.createTodoList$=tl(()=>this.actions$.pipe(nl(_u),(0,li.z)(({todoList:r,onSuccess:s})=>this.appService.createTodoList(r).pipe((0,qt.U)(()=>(s&&s(),v_()))))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Jl),u.LFG(iB))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const q1=(0,hn.ZF)("appReducer"),oB=(0,hn.P1)(q1,n=>n?.googleSignedInUser),sB=(0,hn.P1)(q1,n=>n?.todoLists);let Y1=(()=>{class n{constructor(t){this.store=t,this.getSignedInUser$=this.store.pipe((0,hn.Ys)(oB)),this.getTodoLists$=this.store.pipe((0,hn.Ys)(sB))}signInWithGoogle(){this.store.dispatch(g_())}updateGoogleSignedInUser(t){this.store.dispatch(rc({user:t}))}signOutWithGoogle(){this.store.dispatch(gu())}fetchTodoLists(){this.store.dispatch(kf())}createTodoList(t,i){this.store.dispatch(_u({todoList:t,onSuccess:i}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hn.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Y1],imports:[hn.Aw.forRoot({}),hn.Aw.forFeature("appReducer",ub),Oe.forRoot([]),Oe.forFeature([rB]),Kr.FT.instrument({maxAge:25})]}),n})();var Ku=M(727),wl=M(1135);const{isArray:cB}=Array,{getPrototypeOf:uB,prototype:dB,keys:hB}=Object;function K1(n){if(1===n.length){const e=n[0];if(cB(e))return{args:e,keys:null};if(function fB(n){return n&&"object"==typeof n&&uB(n)===dB}(e)){const t=hB(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:pB}=Array;function ck(n){return(0,qt.U)(e=>function mB(n,e){return pB(e)?n(...e):n(e)}(n,e))}function Z1(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var gB=M(9672);function oT(...n){const e=(0,k.yG)(n),t=(0,k.jO)(n),{args:i,keys:r}=K1(n);if(0===i.length)return(0,Ai.D)([],e);const s=new Li.y(function _B(n,e,t=c.y){return i=>{Q1(e,()=>{const{length:r}=n,s=new Array(r);let l=r,f=r;for(let g=0;g<r;g++)Q1(e,()=>{const y=(0,Ai.D)(n[g],e);let C=!1;y.subscribe((0,tr.x)(i,T=>{s[g]=T,C||(C=!0,f--),f||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Z1(r,l):c.y));return t?s.pipe(ck(t)):s}function Q1(n,e,t){n?(0,gB.f)(t,n,e):e()}function sT(n){return new Li.y(e=>{(0,el.Xf)(n()).subscribe(e)})}var vB=M(9635);function uk(){return(0,Cr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class X1 extends Li.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ku.w0;const t=this.getSubject();e.add(this.source.subscribe((0,tr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ku.w0.EMPTY)}return e}refCount(){return uk()(this)}}var PD=M(4351),Ps=M(8505);function dk(n){return n<=0?()=>cs.E:(0,Cr.e)((e,t)=>{let i=[];e.subscribe((0,tr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function hk(n){return(0,Cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const wn="primary",ND=Symbol("RouteTitle");class wB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Uy(n){return new wB(n)}function DB(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],f=n[s];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zu(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!J1(n[r],e[r]))return!1;return!0}function J1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function eP(n){return n.length>0?n[n.length-1]:null}function Fp(n){return function lB(n){return!!n&&(n instanceof Li.y||(0,or.m)(n.lift)&&(0,or.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,Ai.D)(Promise.resolve(n)):(0,It.of)(n)}const CB={exact:function iP(n,e,t){if(!Kg(n.segments,e.segments)||!aT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!iP(n.children[i],e.children[i],t))return!1;return!0},subset:rP},tP={exact:function xB(n,e){return Zu(n,e)},subset:function IB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>J1(n[t],e[t]))},ignored:()=>!0};function nP(n,e,t){return CB[t.paths](n.root,e.root,t.matrixParams)&&tP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rP(n,e,t){return oP(n,e,e.segments,t)}function oP(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Kg(r,t)||e.hasChildren()||!aT(r,t,i))}if(n.segments.length===t.length){if(!Kg(n.segments,t)||!aT(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!rP(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Kg(n.segments,r)&&aT(n.segments,r,i)&&n.children[wn])&&oP(n.children[wn],e,s,i)}}function aT(n,e,t){return e.every((i,r)=>tP[t](n[r].parameters,i.parameters))}class jy{constructor(e=new Ci([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uy(this.queryParams)),this._queryParamMap}toString(){return SB.serialize(this)}}class Ci{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lT(this)}}class FD{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Uy(this.parameters)),this._parameterMap}toString(){return lP(this)}}function Kg(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new fk},providedIn:"root"}),n})();class fk{parse(e){const t=new UB(e);return new jy(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${VD(e.root,!0)}`,i=function RB(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${cT(t)}=${cT(r)}`).join("&"):`${cT(t)}=${cT(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function AB(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const SB=new fk;function lT(n){return n.segments.map(e=>lP(e)).join("/")}function VD(n,e){if(!n.hasChildren())return lT(n);if(e){const t=n.children[wn]?VD(n.children[wn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==wn&&i.push(`${r}:${VD(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function MB(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===wn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==wn&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===wn?[VD(n.children[wn],!1)]:[`${r}:${VD(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wn]?`${lT(n)}/${t[0]}`:`${lT(n)}/(${t.join("//")})`}}function sP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cT(n){return sP(n).replace(/%3B/gi,";")}function pk(n){return sP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uT(n){return decodeURIComponent(n)}function aP(n){return uT(n.replace(/\+/g,"%20"))}function lP(n){return`${pk(n.path)}${function kB(n){return Object.keys(n).map(e=>`;${pk(e)}=${pk(n[e])}`).join("")}(n.parameters)}`}const OB=/^[^\/()?;#]+/;function mk(n){const e=n.match(OB);return e?e[0]:""}const PB=/^[^\/()?;=#]+/,FB=/^[^=?&#]+/,VB=/^[^&#]+/;class UB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[wn]=new Ci(e,t)),i}parseSegment(){const e=mk(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new FD(uT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function NB(n){const e=n.match(PB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=mk(this.remaining);r&&(i=r,this.capture(i))}e[uT(t)]=uT(i)}parseQueryParam(e){const t=function LB(n){const e=n.match(FB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function BB(n){const e=n.match(VB);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=aP(t),s=aP(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=mk(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=wn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[wn]:new Ci([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function cP(n){return n.segments.length>0?new Ci([],{[wn]:n}):n}function uP(n){const e={};for(const i of Object.keys(n.children)){const s=uP(n.children[i]);if(i===wn&&0===s.segments.length&&s.hasChildren())for(const[l,f]of Object.entries(s.children))e[l]=f;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function jB(n){if(1===n.numberOfChildren&&n.children[wn]){const e=n.children[wn];return new Ci(n.segments.concat(e.segments),e.children)}return n}(new Ci(n.segments,e))}function Zg(n){return n instanceof jy}function dP(n){let e;const r=cP(function t(s){const l={};for(const g of s.children){const y=t(g);l[g.outlet]=y}const f=new Ci(s.url,l);return s===n&&(e=f),f}(n.root));return e??r}function hP(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return gk(r,r,r,t,i);const s=function zB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pP(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Object.entries(s.outlets).forEach(([g,y])=>{f[g]="string"==typeof y?y.split("/"):y}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new pP(t,e,i)}(e);if(s.toRoot())return gk(r,r,new Ci([],{}),t,i);const l=function $B(n,e,t){if(n.isAbsolute)return new hT(e,!0,0);if(!t)return new hT(e,!1,NaN);if(null===t.parent)return new hT(t,!0,0);const i=dT(n.commands[0])?0:1;return function GB(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new hT(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),f=l.processChildren?UD(l.segmentGroup,l.index,s.commands):mP(l.segmentGroup,l.index,s.commands);return gk(r,l.segmentGroup,f,t,i)}function dT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function BD(n){return"object"==typeof n&&null!=n&&n.outlets}function gk(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([g,y])=>{s[g]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),l=n===e?t:fP(n,e,t);const f=cP(uP(l));return new jy(f,s,r)}function fP(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:fP(s,e,t)}),new Ci(n.segments,i)}class pP{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&dT(i[0]))throw new u.vHH(4003,!1);const r=i.find(BD);if(r&&r!==eP(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hT{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function mP(n,e,t){if(n||(n=new Ci([],{})),0===n.segments.length&&n.hasChildren())return UD(n,e,t);const i=function qB(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],f=t[i];if(BD(f))break;const g=`${f}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!_P(g,y,l))return s;i+=2}else{if(!_P(g,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ci(n.segments.slice(0,i.pathIndex),{});return s.children[wn]=new Ci(n.segments.slice(i.pathIndex),n.children),UD(s,0,r)}return i.match&&0===r.length?new Ci(n.segments,{}):i.match&&!n.hasChildren()?_k(n,e,t):i.match?UD(n,0,r):_k(n,e,t)}function UD(n,e,t){if(0===t.length)return new Ci(n.segments,{});{const i=function WB(n){return BD(n[0])?n[0].outlets:{[wn]:n}}(t),r={};if(!i[wn]&&n.children[wn]&&1===n.numberOfChildren&&0===n.children[wn].segments.length){const s=UD(n.children[wn],e,t);return new Ci(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=mP(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new Ci(n.segments,r)}}function _k(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(BD(s)){const g=YB(s.outlets);return new Ci(i,g)}if(0===r&&dT(t[0])){i.push(new FD(n.segments[e].path,gP(t[0]))),r++;continue}const l=BD(s)?s.outlets[wn]:`${s}`,f=r<t.length-1?t[r+1]:null;l&&f&&dT(f)?(i.push(new FD(l,gP(f))),r+=2):(i.push(new FD(l,{})),r++)}return new Ci(i,{})}function YB(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=_k(new Ci([],{}),0,i))}),e}function gP(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function _P(n,e,t){return n==t.path&&Zu(e,t.parameters)}const jD="imperative";class Qu{constructor(e,t){this.id=e,this.url=t}}class vk extends Qu{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qg extends Qu{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fT extends Qu{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HD extends Qu{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class yk extends Qu{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KB extends Qu{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZB extends Qu{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QB extends Qu{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XB extends Qu{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JB extends Qu{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eU{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tU{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nU{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iU{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rU{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vP{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sU{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zD,this.attachRef=null}}let zD=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new sU,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bk(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bk(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wk(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wk(e,this._root).map(t=>t.value)}}function bk(n,e){if(n===e.value)return e;for(const t of e.children){const i=bk(n,t);if(i)return i}return null}function wk(n,e){if(n===e.value)return[e];for(const t of e.children){const i=wk(n,t);if(i.length)return i.unshift(e),i}return[]}class qh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bP extends yP{constructor(e,t){super(e),this.snapshot=t,Dk(this,e)}toString(){return this.snapshot.toString()}}function wP(n,e){const t=function aU(n,e){const l=new pT([],{},{},"",{},wn,e,null,{});return new EP("",new qh(l,[]))}(0,e),i=new wl.X([new FD("",{})]),r=new wl.X({}),s=new wl.X({}),l=new wl.X({}),f=new wl.X(""),g=new zy(i,r,l,f,s,wn,e,t.root);return g.snapshot=t.root,new bP(new qh(g,[]),t)}class zy{constructor(e,t,i,r,s,l,f,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,qt.U)(y=>y[ND]))??(0,It.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Uy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Uy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DP(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function lU(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class pT{get title(){return this.data?.[ND]}constructor(e,t,i,r,s,l,f,g,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=f,this.routeConfig=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EP extends yP{constructor(e,t){super(t),this.url=e,Dk(this,t)}toString(){return CP(this._root)}}function Dk(n,e){e.value._routerState=n,e.children.forEach(t=>Dk(n,t))}function CP(n){const e=n.children.length>0?` { ${n.children.map(CP).join(", ")} } `:"";return`${n.value}${e}`}function Ek(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zu(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zu(e.params,t.params)||n.paramsSubject.next(t.params),function EB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Zu(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ck(n,e){const t=Zu(n.params,e.params)&&function TB(n,e){return Kg(n,e)&&n.every((t,i)=>Zu(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ck(n.parent,e.parent))}let xk=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wn,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(zD),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(mT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new cU(t,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class cU{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===zy?this.route:e===zD?this.childContexts:this.parent.get(e,t)}}const mT=new u.OlP("");let xP=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=oT([i.queryParams,i.params,i.data]).pipe((0,Bo.w)(([s,l,f],g)=>(f={...s,...l,...f},0===g?(0,It.of)(f):Promise.resolve(f)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,u.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,s[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function $D(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function dU(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $D(n,i,r);return $D(n,i)})}(n,e,t);return new qh(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>$D(n,f)),l}}const i=function hU(n){return new zy(new wl.X(n.url),new wl.X(n.params),new wl.X(n.queryParams),new wl.X(n.fragment),new wl.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>$D(n,s));return new qh(i,r)}}const Ik="ngNavigationCancelingError";function IP(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Zg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=TP(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function TP(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ik]=!0,i.cancellationCode=e,t&&(i.url=t),i}function MP(n){return SP(n)&&Zg(n.url)}function SP(n){return n&&n[Ik]}let AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[xk],encapsulation:2}),n})();function Tk(n){const e=n.children&&n.children.map(Tk),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wn&&(t.component=AP),t}function Ac(n){return n.outlet||wn}function GD(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yU{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ek(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Hy(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Hy(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Hy(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Hy(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new oU(s.value.snapshot))}),e.children.length&&this.forwardEvent(new iU(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Ek(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Ek(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=GD(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class kP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gT{constructor(e,t){this.component=e,this.route=t}}function bU(n,e,t){const i=n._root;return WD(i,e?e._root:null,t,[i.value])}function $y(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function WD(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hy(e);return n.children.forEach(l=>{(function DU(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const g=function EU(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kg(n.url,e.url)||!Zu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ck(n,e)||!Zu(n.queryParams,e.queryParams);default:return!Ck(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new kP(i)):(s.data=l.data,s._resolvedData=l._resolvedData),WD(n,e,s.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new gT(f.outlet.component,l))}else l&&qD(e,f,r),r.canActivateChecks.push(new kP(i)),WD(n,null,s.component?f?f.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,f])=>qD(f,t.getContext(l),r)),r}function qD(n,e,t){const i=Hy(n),r=n.value;Object.entries(i).forEach(([s,l])=>{qD(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new gT(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function YD(n){return"function"==typeof n}function RP(n){return n instanceof Vy||"EmptyError"===n?.name}const _T=Symbol("INITIAL_VALUE");function Gy(){return(0,Bo.w)(n=>oT(n.map(e=>e.pipe((0,Yr.q)(1),ae(_T)))).pipe((0,qt.U)(e=>{for(const t of e)if(!0!==t){if(t===_T)return _T;if(!1===t||t instanceof jy)return t}return!0}),(0,Yi.h)(e=>e!==_T),(0,Yr.q)(1)))}function OP(n){return(0,vB.z)((0,Ps.b)(e=>{if(Zg(e))throw IP(0,e)}),(0,qt.U)(e=>!0===e))}class vT{constructor(e){this.segmentGroup=e||null}}class PP{constructor(e){this.urlTree=e}}function Wy(n){return Ja(new vT(n))}function NP(n){return Ja(new PP(n))}class zU{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,It.of)(i);if(r.numberOfChildren>1||!r.children[wn])return Ja(new u.vHH(4e3,!1));r=r.children[wn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new jy(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);i[r]=t[f]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([f,g])=>{l[f]=this.createSegmentGroup(e,g,i,r)}),new Ci(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Mk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $U(n,e,t,i,r){const s=Sk(n,e,t);return s.matched?(i=function fU(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function UU(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,It.of)(!0);const s=r.map(l=>{const f=$y(l,n);return Fp(function SU(n){return n&&YD(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(s).pipe(Gy(),OP())}(i,e,t).pipe((0,qt.U)(l=>!0===l?s:{...Mk}))):(0,It.of)(s)}function Sk(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mk}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||DB)(t,n,e);if(!r)return{...Mk};const s={};Object.entries(r.posParams??{}).forEach(([f,g])=>{s[f]=g.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function FP(n,e,t,i){return t.length>0&&function qU(n,e,t){return t.some(i=>yT(n,e,i)&&Ac(i)!==wn)}(n,t,i)?{segmentGroup:new Ci(e,WU(i,new Ci(t,n.children))),slicedSegments:[]}:0===t.length&&function YU(n,e,t){return t.some(i=>yT(n,e,i))}(n,t,i)?{segmentGroup:new Ci(n.segments,GU(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ci(n.segments,n.children),slicedSegments:t}}function GU(n,e,t,i,r){const s={};for(const l of i)if(yT(n,t,l)&&!r[Ac(l)]){const f=new Ci([],{});s[Ac(l)]=f}return{...r,...s}}function WU(n,e){const t={};t[wn]=e;for(const i of n)if(""===i.path&&Ac(i)!==wn){const r=new Ci([],{});t[Ac(i)]=r}return t}function yT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class XU{constructor(e,t,i,r,s,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new zU(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=FP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,wn).pipe((0,qr.K)(t=>{if(t instanceof PP)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof vT?this.noMatchError(t):t}),(0,qt.U)(t=>{const i=new pT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wn,this.rootComponentType,null,{}),r=new qh(i,t),s=new EP("",r),l=function HB(n,e,t=null,i=null){return hP(dP(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,wn).pipe((0,qr.K)(i=>{throw i instanceof vT?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=DP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Ai.D)(r).pipe((0,PD.b)(s=>{const l=i.children[s],f=function _U(n,e){const t=n.filter(i=>Ac(i)===e);return t.push(...n.filter(i=>Ac(i)!==e)),t}(t,s);return this.processSegmentGroup(e,f,l,s)}),(0,lt.R)((s,l)=>(s.push(...l),s)),kD(null),function yB(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Yi.h)((r,s)=>n(r,s,i)):c.y,dk(1),t?kD(e):o(()=>new Vy))}(),(0,li.z)(s=>{if(null===s)return Wy(i);const l=LP(s);return function JU(n){n.sort((e,t)=>e.value.outlet===wn?-1:t.value.outlet===wn?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,It.of)(l)}))}processSegment(e,t,i,r,s,l){return(0,Ai.D)(t).pipe((0,PD.b)(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,s,l).pipe((0,qr.K)(g=>{if(g instanceof vT)return(0,It.of)(null);throw g}))),d(f=>!!f),(0,qr.K)(f=>{if(RP(f))return function ZU(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,It.of)([]):Wy(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,s,l,f){return function KU(n,e,t,i){return!!(Ac(n)===i||i!==wn&&yT(e,t,n))&&("**"===n.path||Sk(e,n,t).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):Wy(r):Wy(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?NP(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,li.z)(l=>{const f=new Ci(l,{});return this.processSegment(e,t,f,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:f,consumedSegments:g,remainingSegments:y,positionalParamSegments:C}=Sk(t,r,s);if(!f)return Wy(t);const T=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?NP(T):this.applyRedirects.lineralizeSegments(r,T).pipe((0,li.z)(U=>this.processSegment(e,i,t,U.concat(y),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,l){let f;if("**"===i.path){const g=r.length>0?eP(r).parameters:{},y=new pT(r,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(i),Ac(i),i.component??i._loadedComponent??null,i,BP(i));f=(0,It.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=$U(t,i,r,e).pipe((0,qt.U)(({matched:g,consumedSegments:y,remainingSegments:C,parameters:T})=>g?{snapshot:new pT(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(i),Ac(i),i.component??i._loadedComponent??null,i,BP(i)),consumedSegments:y,remainingSegments:C}:null));return f.pipe((0,Bo.w)(g=>null===g?Wy(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Bo.w)(({routes:y})=>{const C=i._loadedInjector??e,{snapshot:T,consumedSegments:U,remainingSegments:W}=g,{segmentGroup:Q,slicedSegments:ce}=FP(t,U,W,y);if(0===ce.length&&Q.hasChildren())return this.processChildren(C,y,Q).pipe((0,qt.U)(ye=>null===ye?null:[new qh(T,ye)]));if(0===y.length&&0===ce.length)return(0,It.of)([new qh(T,[])]);const ue=Ac(i)===s;return this.processSegment(C,y,Q,ce,ue?wn:s,!0).pipe((0,qt.U)(ye=>[new qh(T,ye)]))}))))}getChildConfig(e,t,i){return t.children?(0,It.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,It.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function BU(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,It.of)(!0);const s=r.map(l=>{const f=$y(l,n);return Fp(function xU(n){return n&&YD(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(s).pipe(Gy(),OP())}(e,t,i).pipe((0,li.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ps.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function HU(n){return Ja(TP(!1,3))}())):(0,It.of)({routes:[],injector:e})}}function ej(n){const e=n.value.routeConfig;return e&&""===e.path}function LP(n){const e=[],t=new Set;for(const i of n){if(!ej(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=LP(i.children);e.push(new qh(i.value,r))}return e.filter(i=>!t.has(i))}function VP(n){return n.data||{}}function BP(n){return n.resolve||{}}function UP(n){return"string"==typeof n.title||null===n.title}function Ak(n){return(0,Bo.w)(e=>{const t=n(e);return t?(0,Ai.D)(t).pipe((0,qt.U)(()=>e)):(0,It.of)(e)})}const qy=new u.OlP("ROUTES");let kk=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,It.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Fp(t.loadComponent()).pipe((0,qt.U)(jP),(0,Ps.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),hk(()=>{this.componentLoaders.delete(t)})),r=new X1(i,()=>new cn.x).pipe(uk());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,It.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y;return Array.isArray(f)?y=f:(g=f.create(t).injector,y=g.get(qy,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:y.map(Tk),injector:g}}),hk(()=>{this.childrenLoaders.delete(i)})),l=new X1(s,()=>new cn.x).pipe(uk());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return Fp(t()).pipe((0,qt.U)(jP),(0,li.z)(i=>i instanceof u.YKP||Array.isArray(i)?(0,It.of)(i):(0,Ai.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jP(n){return function aj(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let bT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new cn.x,this.configLoader=(0,u.f3M)(kk),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(LD),this.rootContexts=(0,u.f3M)(zD),this.inputBindingEnabled=null!==(0,u.f3M)(mT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,It.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new tU(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new eU(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new wl.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jD,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Yi.h)(i=>0!==i.id),(0,qt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,Bo.w)(i=>{let r=!1,s=!1;return(0,It.of)(i).pipe((0,Ps.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bo.w)(l=>{const f=t.browserUrlTree.toString(),g=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!g&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new HD(l.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),cs.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return HP(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,It.of)(l).pipe((0,Bo.w)(C=>{const T=this.transitions?.getValue();return this.events.next(new vk(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions?.getValue()?cs.E:Promise.resolve(C)}),function tj(n,e,t,i,r,s){return(0,li.z)(l=>function QU(n,e,t,i,r,s,l="emptyOnly"){return new XU(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,qt.U)(({state:f,tree:g})=>({...l,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ps.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,i.urlAfterRedirects=C.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(U,C)}t.browserUrlTree=C.urlAfterRedirects}const T=new KB(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:T,source:U,restoredState:W,extras:Q}=l,ce=new vk(C,this.urlSerializer.serialize(T),U,W);this.events.next(ce);const ue=wP(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:ue,urlAfterRedirects:T,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}},(0,It.of)(i)}{const C="";return this.events.next(new HD(l.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),cs.E}}),(0,Ps.b)(l=>{const f=new ZB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,qt.U)(l=>i={...l,guards:bU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function kU(n,e){return(0,li.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,It.of)({...t,guardsResult:!0}):function RU(n,e,t,i){return(0,Ai.D)(n).pipe((0,li.z)(r=>function VU(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,It.of)(!0);const l=s.map(f=>{const g=GD(e)??r,y=$y(f,g);return Fp(function MU(n){return n&&YD(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):g.runInContext(()=>y(n,e,t,i))).pipe(d())});return(0,It.of)(l).pipe(Gy())}(r.component,r.route,t,e,i)),d(r=>!0!==r,!0))}(l,i,r,n).pipe((0,li.z)(f=>f&&function CU(n){return"boolean"==typeof n}(f)?function OU(n,e,t,i){return(0,Ai.D)(e).pipe((0,PD.b)(r=>F(function NU(n,e){return null!==n&&e&&e(new nU(n)),(0,It.of)(!0)}(r.route.parent,i),function PU(n,e){return null!==n&&e&&e(new rU(n)),(0,It.of)(!0)}(r.route,i),function LU(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function wU(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>sT(()=>{const f=l.guards.map(g=>{const y=GD(l.node)??t,C=$y(g,y);return Fp(function TU(n){return n&&YD(n.canActivateChild)}(C)?C.canActivateChild(i,n):y.runInContext(()=>C(i,n))).pipe(d())});return(0,It.of)(f).pipe(Gy())}));return(0,It.of)(s).pipe(Gy())}(n,r.path,t),function FU(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,It.of)(!0);const r=i.map(s=>sT(()=>{const l=GD(e)??t,f=$y(s,l);return Fp(function IU(n){return n&&YD(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(d())}));return(0,It.of)(r).pipe(Gy())}(n,r.route,t))),d(r=>!0!==r,!0))}(i,s,n,e):(0,It.of)(f)),(0,qt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Ps.b)(l=>{if(i.guardsResult=l.guardsResult,Zg(l.guardsResult))throw IP(0,l.guardsResult);const f=new QB(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),(0,Yi.h)(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Ak(l=>{if(l.guards.canActivateChecks.length)return(0,It.of)(l).pipe((0,Ps.b)(f=>{const g=new XB(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),(0,Bo.w)(f=>{let g=!1;return(0,It.of)(f).pipe(function nj(n,e){return(0,li.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,It.of)(t);let s=0;return(0,Ai.D)(r).pipe((0,PD.b)(l=>function ij(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!UP(r)&&(s[ND]=r.title),function rj(n,e,t,i){const r=function oj(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,It.of)({});const s={};return(0,Ai.D)(r).pipe((0,li.z)(l=>function sj(n,e,t,i){const r=GD(e)??i,s=$y(n,r);return Fp(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(d(),(0,Ps.b)(f=>{s[l]=f}))),dk(1),function bB(n){return(0,qt.U)(()=>n)}(s),(0,qr.K)(l=>RP(l)?cs.E:Ja(l)))}(s,n,e,i).pipe((0,qt.U)(l=>(n._resolvedData=l,n.data=DP(n,t).resolve,r&&UP(r)&&(n.data[ND]=r.title),null)))}(l.route,i,n,e)),(0,Ps.b)(()=>s++),dk(1),(0,li.z)(l=>s===r.length?(0,It.of)(t):cs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ps.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Ps.b)(f=>{const g=new JB(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Ak(l=>{const f=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Ps.b)(C=>{g.component=C}),(0,qt.U)(()=>{})));for(const C of g.children)y.push(...f(C));return y};return oT(f(l.targetSnapshot.root)).pipe(kD(),(0,Yr.q)(1))}),Ak(()=>this.afterPreactivation()),(0,qt.U)(l=>{const f=function uU(n,e,t){const i=$D(n,e._root,t?t._root:void 0);return new bP(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:f}}),(0,Ps.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,i)=>(0,qt.U)(r=>(new yU(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),(0,Yr.q)(1),(0,Ps.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),hk(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,qr.K)(l=>{if(s=!0,SP(l)){MP(l)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new fT(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),MP(l)){const g=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||HP(i.source)};t.scheduleNavigation(g,jD,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new yk(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(l))}catch(g){i.reject(g)}}return cs.E}))}))}cancelNavigationTransition(t,i,r){const s=new fT(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HP(n){return n!==jD}let zP=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===wn);return i}getResolvedTitleForRoute(t){return t.data[ND]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(lj)},providedIn:"root"}),n})(),lj=(()=>{class n extends zP{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ad))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(dj)},providedIn:"root"}),n})();class uj{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let dj=(()=>{class n extends uj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wT=new u.OlP("",{providedIn:"root",factory:()=>({})});let hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(fj)},providedIn:"root"}),n})(),fj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Pa=(()=>((Pa=Pa||{})[Pa.COMPLETE=0]="COMPLETE",Pa[Pa.FAILED=1]="FAILED",Pa[Pa.REDIRECTING=2]="REDIRECTING",Pa))();function $P(n,e){n.events.pipe((0,Yi.h)(t=>t instanceof Qg||t instanceof fT||t instanceof yk||t instanceof HD),(0,qt.U)(t=>t instanceof Qg||t instanceof HD?Pa.COMPLETE:t instanceof fT&&(0===t.code||1===t.code)?Pa.REDIRECTING:Pa.FAILED),(0,Yi.h)(t=>t!==Pa.REDIRECTING),(0,Yr.q)(1)).subscribe(()=>{e()})}function pj(n){throw n}function mj(n,e,t){return e.parse("/")}const gj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_j={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Na=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(wT,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||pj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(hj),this.routeReuseStrategy=(0,u.f3M)(cj),this.titleStrategy=(0,u.f3M)(zP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(qy,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(bT),this.urlSerializer=(0,u.f3M)(LD),this.location=(0,u.f3M)(be),this.componentInputBindingEnabled=!!(0,u.f3M)(mT,{optional:!0}),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jy,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wP(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jD,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Tk),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:f,preserveFragment:g}=i,y=g?this.currentUrlTree.fragment:l;let T,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}null!==C&&(C=this.removeEmptyProps(C));try{T=dP(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),T=this.currentUrlTree.root}return hP(T,t,C,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Zg(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,jD,null,i)}navigate(t,i={skipLocationChange:!1}){return function vj(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new u.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...gj}:!1===i?{..._j}:i,Zg(t))return nP(this.currentUrlTree,t,r);const s=this.parseUrl(t);return nP(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let f,g,y;l?(f=l.resolve,g=l.reject,y=l.promise):y=new Promise((T,U)=>{f=T,g=U});const C=this.pendingTasks.add();return $P(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(T=>Promise.reject(T))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GP{}let wj=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,Yi.h)(t=>t instanceof Qg),(0,PD.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,f=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,Ai.D)(r).pipe((0,_.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,It.of)(null);const s=r.pipe((0,li.z)(l=>null===l?(0,It.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Ai.D)([s,l]).pipe((0,_.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Na),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(GP),u.LFG(kk))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ok=new u.OlP("");let WP=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vk?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qg?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof HD&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Yh(n,e){return{\u0275kind:n,\u0275providers:e}}function YP(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Na),r=n.get(KP);1===n.get(Pk)&&i.initialNavigation(),n.get(ZP,null,u.XFs.Optional)?.setUpPreloading(),n.get(Ok,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const KP=new u.OlP("",{factory:()=>new cn.x}),Pk=new u.OlP("",{providedIn:"root",factory:()=>1}),ZP=new u.OlP("");function xj(n){return Yh(0,[{provide:ZP,useExisting:wj},{provide:GP,useExisting:n}])}const QP=new u.OlP("ROUTER_FORROOT_GUARD"),Tj=[be,{provide:LD,useClass:fk},Na,zD,{provide:zy,useFactory:function qP(n){return n.routerState.root},deps:[Na]},kk,[]];function Mj(){return new u.PXZ("Router",Na)}let XP=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Tj,[],{provide:qy,multi:!0,useValue:t},{provide:QP,useFactory:Rj,deps:[[Na,new u.FiY,new u.tp0]]},{provide:wT,useValue:i||{}},i?.useHash?{provide:ve,useClass:st}:{provide:ve,useClass:Ze},{provide:Ok,useFactory:()=>{const n=(0,u.f3M)(rs),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(wT),i=(0,u.f3M)(bT),r=(0,u.f3M)(LD);return t.scrollOffset&&n.setOffset(t.scrollOffset),new WP(r,i,n,e,t)}},i?.preloadingStrategy?xj(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Mj},i?.initialNavigation?Oj(i):[],i?.bindToComponentInputs?Yh(8,[xP,{provide:mT,useExisting:xP}]).\u0275providers:[],[{provide:JP,useFactory:YP},{provide:u.tb,multi:!0,useExisting:JP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:qy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QP,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Rj(n){return"guarded"}function Oj(n){return["disabled"===n.initialNavigation?Yh(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Na);return()=>{e.setUpLocationChangeListener()}}},{provide:Pk,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Yh(2,[{provide:Pk,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(oe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Na),s=e.get(KP);$P(r,()=>{i(!0)}),e.get(bT).afterPreactivation=()=>(i(!0),s.closed?(0,It.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const JP=new u.OlP("");let eN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Xg=(()=>{class n extends eN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Dl=new u.OlP("NgValueAccessor"),Lj={provide:Dl,useExisting:(0,u.Gpc)(()=>DT),multi:!0},Bj=new u.OlP("CompositionEventMode");let DT=(()=>{class n extends eN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vj(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Bj,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[u._Bn([Lj]),u.qOj]}),n})();function Lp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function nN(n){return null!=n&&"number"==typeof n.length}const Uo=new u.OlP("NgValidators"),Vp=new u.OlP("NgAsyncValidators"),Uj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nk{static min(e){return function iN(n){return e=>{if(Lp(e.value)||Lp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function rN(n){return e=>{if(Lp(e.value)||Lp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function oN(n){return Lp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function sN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function aN(n){return Lp(n.value)||Uj.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function lN(n){return e=>Lp(e.value)||!nN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function cN(n){return e=>nN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function uN(n){if(!n)return ET;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Lp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return gN(e)}static composeAsync(e){return _N(e)}}function ET(n){return null}function dN(n){return null!=n}function hN(n){return(0,u.QGY)(n)?(0,Ai.D)(n):n}function fN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pN(n,e){return e.map(t=>t(n))}function mN(n){return n.map(e=>function jj(n){return!n.validate}(e)?e:t=>e.validate(t))}function gN(n){if(!n)return null;const e=n.filter(dN);return 0==e.length?null:function(t){return fN(pN(t,e))}}function Fk(n){return null!=n?gN(mN(n)):null}function _N(n){if(!n)return null;const e=n.filter(dN);return 0==e.length?null:function(t){return function Nj(...n){const e=(0,k.jO)(n),{args:t,keys:i}=K1(n),r=new Li.y(s=>{const{length:l}=t;if(!l)return void s.complete();const f=new Array(l);let g=l,y=l;for(let C=0;C<l;C++){let T=!1;(0,el.Xf)(t[C]).subscribe((0,tr.x)(s,U=>{T||(T=!0,y--),f[C]=U},()=>g--,void 0,()=>{(!g||!T)&&(y||s.next(i?Z1(i,f):f),s.complete())}))}});return e?r.pipe(ck(e)):r}(pN(t,e).map(hN)).pipe((0,qt.U)(fN))}}function Lk(n){return null!=n?_N(mN(n)):null}function vN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yN(n){return n._rawValidators}function bN(n){return n._rawAsyncValidators}function Vk(n){return n?Array.isArray(n)?n:[n]:[]}function CT(n,e){return Array.isArray(n)?n.includes(e):n===e}function wN(n,e){const t=Vk(e);return Vk(n).forEach(r=>{CT(t,r)||t.push(r)}),t}function DN(n,e){return Vk(e).filter(t=>!CT(n,t))}class EN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ns extends EN{get formDirective(){return null}get path(){return null}}class Xu extends EN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bk=(()=>{class n extends CN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xu,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),xN=(()=>{class n extends CN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ns,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const KD="VALID",IT="INVALID",Yy="PENDING",ZD="DISABLED";function Hk(n){return(TT(n)?n.validators:n)||null}function zk(n,e){return(TT(e)?e.asyncValidators:n)||null}function TT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function TN(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")}function MN(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})}class MT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===KD}get invalid(){return this.status===IT}get pending(){return this.status==Yy}get disabled(){return this.status===ZD}get enabled(){return this.status!==ZD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DN(e,this._rawAsyncValidators))}hasValidator(e){return CT(this._rawValidators,e)}hasAsyncValidator(e){return CT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ZD,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=KD,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===KD||this.status===Yy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ZD:KD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yy,this._hasOwnPendingAsyncValidator=!0;const t=hN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ZD:this.errors?IT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yy)?Yy:this._anyControlsHaveStatus(IT)?IT:KD}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){TT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Gj(n){return Array.isArray(n)?Fk(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Wj(n){return Array.isArray(n)?Lk(n):n||null}(this._rawAsyncValidators)}}class QD extends MT{constructor(e,t,i){super(Hk(t),zk(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){MN(this,0,e),Object.keys(e).forEach(i=>{TN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class SN extends QD{}const Jg=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>XD}),XD="always";function JD(n,e,t=XD){$k(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Yj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AN(n,e)})}(n,e),function Zj(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qj(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function AT(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),RT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $k(n,e){const t=yN(n);null!==e.validator?n.setValidators(vN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=bN(n);null!==e.asyncValidator?n.setAsyncValidators(vN(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();kT(e._rawValidators,r),kT(e._rawAsyncValidators,r)}function RT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=yN(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=bN(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return kT(e._rawValidators,i),kT(e._rawAsyncValidators,i),t}function AN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kN(n,e){$k(n,e)}function Wk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function RN(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function qk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===DT?t=s:function Jj(n){return Object.getPrototypeOf(n.constructor)===Xg}(s)?i=s:r=s}),r||i||t||null}const tH={provide:Ns,useExisting:(0,u.Gpc)(()=>OT)},eE=(()=>Promise.resolve())();let OT=(()=>{class n extends Ns{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new QD({},Fk(t),Lk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){eE.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),JD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){eE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){eE.then(()=>{const i=this._findContainer(t.path),r=new QD({});kN(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){eE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){eE.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,RN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Uo,10),u.Y36(Vp,10),u.Y36(Jg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([tH]),u.qOj]}),n})();function ON(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function PN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tE=class extends MT{constructor(e=null,t,i){super(Hk(t),zk(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),TT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){PN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let BN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const oH={provide:Dl,useExisting:(0,u.Gpc)(()=>Yk),multi:!0};let Yk=(()=>{class n extends Xg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[u._Bn([oH]),u.qOj]}),n})(),UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Kk=new u.OlP("NgModelWithFormControlWarning"),cH={provide:Xu,useExisting:(0,u.Gpc)(()=>Zk)};let Zk=(()=>{class n extends Xu{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=l,this.update=new u.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=qk(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&AT(i,this,!1),JD(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Wk(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&AT(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Uo,10),u.Y36(Vp,10),u.Y36(Dl,10),u.Y36(Kk,8),u.Y36(Jg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[u._Bn([cH]),u.qOj,u.TTD]}),n})();const uH={provide:Ns,useExisting:(0,u.Gpc)(()=>Ky)};let Ky=(()=>{class n extends Ns{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(RT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return JD(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){AT(t.control||null,t,!1),function eH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,RN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(AT(i||null,t),(n=>n instanceof tE)(r)&&(JD(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);kN(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Qj(n,e){return RT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$k(this.form,this),this._oldForm&&RT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Uo,10),u.Y36(Vp,10),u.Y36(Jg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([uH]),u.qOj,u.TTD]}),n})();const fH={provide:Xu,useExisting:(0,u.Gpc)(()=>Jk)};let Jk=(()=>{class n extends Xu{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=qk(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Wk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ST(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Ns,13),u.Y36(Uo,10),u.Y36(Vp,10),u.Y36(Dl,10),u.Y36(Kk,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([fH]),u.qOj,u.TTD]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[UN]}),n})();class tF extends MT{constructor(e,t,i){super(Hk(t),zk(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){MN(this,0,e),e.forEach((i,r)=>{TN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function nF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let MH=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return nF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new QD(r,s)}record(t,i=null){const r=this._reduceControls(t);return new SN(r,i)}control(t,i,r){let s={};return this.useNonNullable?(nF(i)?s=i:(s.validators=i,s.asyncValidators=r),new tE(t,{...s,nonNullable:!0})):new tE(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new tF(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof tE||t instanceof MT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jg,useValue:t.callSetDisabledState??XD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eF]}),n})(),rF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Kk,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Jg,useValue:t.callSetDisabledState??XD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eF]}),n})(),rR=(()=>{class n{constructor(){this.router=(0,u.f3M)(Na),this.fb=(0,u.f3M)(MH),this.facade=(0,u.f3M)(Y1),this.subscriptions=new Ku.w0}navigateTo(t,i){this.router.navigate([t],{queryParams:i})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})(),SH=(()=>{class n extends rR{constructor(t){super(),this.angularFireAuth=t}ngOnInit(){this.angularFireAuth.onAuthStateChanged(t=>{t&&this.facade.updateGoogleSignedInUser(Object.freeze(t))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(iT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["todoee-root"]],features:[u.qOj],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[xk],encapsulation:2}),n})();function kc(n){return null!=n&&"false"!=`${n}`}function Zy(n,e=0){return function AH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function PT(n){return Array.isArray(n)?n:[n]}function ro(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kh(n){return n instanceof u.SBq?n.nativeElement:n}var kH=M(1144);const RH=["addListener","removeListener"],OH=["addEventListener","removeEventListener"],PH=["on","off"];function nE(n,e,t,i){if((0,or.m)(t)&&(i=t,t=void 0),i)return nE(n,e,t).pipe(ck(i));const[r,s]=function LH(n){return(0,or.m)(n.addEventListener)&&(0,or.m)(n.removeEventListener)}(n)?OH.map(l=>f=>n[l](e,f,t)):function NH(n){return(0,or.m)(n.addListener)&&(0,or.m)(n.removeListener)}(n)?RH.map(oF(n,e)):function FH(n){return(0,or.m)(n.on)&&(0,or.m)(n.off)}(n)?PH.map(oF(n,e)):[];if(!r&&(0,kH.z)(n))return(0,li.z)(l=>nE(l,e,t))((0,el.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Li.y(l=>{const f=(...g)=>l.next(1<g.length?g:g[0]);return r(f),()=>s(f)})}function oF(n,e){return t=>i=>n[t](e,i)}var sF=M(4408);const iE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=iE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ku.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=iE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=iE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var aF=M(7565);new class BH extends aF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class VH extends sF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=iE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(iE.cancelAnimationFrame(t),e._scheduled=void 0)}});let oR,jH=1;const NT={};function lF(n){return n in NT&&(delete NT[n],!0)}const HH={setImmediate(n){const e=jH++;return NT[e]=!0,oR||(oR=Promise.resolve()),oR.then(()=>lF(e)&&n()),e},clearImmediate(n){lF(n)}},{setImmediate:zH,clearImmediate:$H}=HH,FT={setImmediate(...n){const{delegate:e}=FT;return(e?.setImmediate||zH)(...n)},clearImmediate(n){const{delegate:e}=FT;return(e?.clearImmediate||$H)(n)},delegate:void 0};new class WH extends aF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class GH extends sF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(FT.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var KH=M(3532),ZH=M(1165);function sR(n,e=b.z){return function YH(n){return(0,Cr.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const f=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}l&&t.complete()},g=()=>{s=null,l&&t.complete()};e.subscribe((0,tr.x)(t,y=>{i=!0,r=y,s||(0,el.Xf)(n(y)).subscribe(s=(0,tr.x)(t,f,g))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function QH(n=0,e,t=b.P){let i=-1;return null!=e&&((0,KH.K)(e)?t=e:i=e),new Li.y(r=>{let s=(0,ZH.q)(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let aR;try{aR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aR=!1}let Qy,Fs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ad(n){return n===Ml}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function uF(){if(Qy)return Qy;if("object"!=typeof document||!document)return Qy=new Set(cF),Qy;let n=document.createElement("input");return Qy=new Set(cF.filter(e=>(n.setAttribute("type",e),n.type===e))),Qy}let rE,t_,lR;function Zh(n){return function XH(){if(null==rE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rE=!0}))}finally{rE=rE||!1}return rE}()?n:!!n.capture}function JH(){if(null==t_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return t_=!1,t_;if("scrollBehavior"in document.documentElement.style)t_=!0;else{const n=Element.prototype.scrollTo;t_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return t_}function cR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Bp(n){return n.composedPath?n.composedPath()[0]:n.target}function uR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const n3=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function r3(){return(0,u.f3M)(X)}}),o3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let VT=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function s3(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?o3.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n3,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),l3=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Li.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(sR(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,It.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Yi.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Kh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Fs),u.LFG(X,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dF=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new cn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.R0b),u.LFG(X,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oE,BT,oE,BT]}),n})();var n_=M(2722);class dR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class hR extends dR{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class fF extends dR{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class u3 extends dR{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class fR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof hR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fF?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof u3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class d3 extends fR{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const f=l.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=l,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pR=(()=>{class n extends fR{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=s=>{const l=s.element,f=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(f,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(X))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const pF=JH();class h3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ro(-this._previousScrollPosition.left),e.style.top=ro(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),pF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pF&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class f3{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,Yi.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mF{enable(){}disable(){}attach(){}}function mR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function gF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class p3{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();mR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let m3=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new mF,this.close=l=>new f3(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new h3(this._viewportRuler,this._document),this.reposition=l=>new p3(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l3),u.LFG(dF),u.LFG(u.R0b),u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _F{constructor(e){if(this.scrollStrategy=new mF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class g3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let vF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_3=(()=>{class n extends vF{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const f=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v3=(()=>{class n extends vF{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Bp(s)},this._clickListener=s=>{const l=Bp(s),f="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const C=g[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(l)||C.overlayElement.contains(f))break;const T=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(Fs),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UT=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||uR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),uR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(Fs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sE{constructor(e,t,i,r,s,l,f,g,y,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=f,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new cn.x,this._attachments=new cn.x,this._detachments=new cn.x,this._locationChanges=Ku.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new cn.x,this._outsidePointerEvents=new cn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Yr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ro(this._config.width),e.height=ro(this._config.height),e.minWidth=ro(this._config.minWidth),e.minHeight=ro(this._config.minHeight),e.maxWidth=ro(this._config.maxWidth),e.maxHeight=ro(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=PT(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,n_.R)((0,fr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yF="cdk-overlay-connected-position-bounding-box",y3=/([A-Za-z%]+)$/;class b3{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new cn.x,this._resizeSubscription=Ku.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(yF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),y=this._getOverlayPoint(g,t,f),C=this._getOverlayFit(y,t,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:y,originPoint:g,position:f,overlayRect:t})}if(s.length){let f=null,g=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>g&&(g=C,f=y)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&i_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?l:f}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=wF(t);let{x:l,y:f}=e,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(l+=g),y&&(f+=y);let U=0-f,W=f+s.height-i.height,Q=this._subtractOverflows(s.width,0-l,l+s.width-i.width),ce=this._subtractOverflows(s.height,U,W),ue=Q*ce;return{visibleArea:ue,isCompletelyWithinViewport:s.width*s.height===ue,fitsInViewportVertically:ce===s.height,fitsInViewportHorizontally:Q==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=bF(this._overlayRef.getConfig().minHeight),f=bF(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=wF(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),f=Math.max(e.y+r.height-s.height,0),g=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let C=0,T=0;return C=r.width<=s.width?y||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,T=r.height<=s.height?g||-f:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:T},{x:e.x+C,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new g3(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,f,C,T,U;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,s=i.height-f+this._viewportMargin;else{const W=Math.min(i.bottom-e.y+i.top,e.y),Q=this._lastBoundingBoxSize.height;s=2*W,l=e.y-W,s>Q&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-Q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)U=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,C=i.right-e.x;else{const W=Math.min(i.right-e.x+i.left,e.x),Q=this._lastBoundingBoxSize.width;C=2*W,T=e.x-W,C>Q&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-Q/2)}return{top:l,left:T,bottom:f,right:U,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=ro(i.height),r.top=ro(i.top),r.bottom=ro(i.bottom),r.width=ro(i.width),r.left=ro(i.left),r.right=ro(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ro(s)),l&&(r.maxWidth=ro(l))}this._lastBoundingBoxSize=i,i_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){i_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){i_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();i_(i,this._getExactOverlayY(t,e,C)),i_(i,this._getExactOverlayX(t,e,C))}else i.position="static";let f="",g=this._getOffset(t,"x"),y=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),y&&(f+=`translateY(${y}px)`),i.transform=f.trim(),l.maxHeight&&(r?i.maxHeight=ro(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=ro(l.maxWidth):s&&(i.maxWidth="")),i_(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ro(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ro(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gF(e,i),isOriginOutsideView:mR(e,i),isOverlayClipped:gF(t,i),isOverlayOutsideView:mR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&PT(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function i_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(y3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const DF="cdk-global-overlay-wrapper";class w3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(DF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),y=!("100%"!==s&&"100vh"!==s||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,T=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let W="",Q="",ce="";g?ce="flex-start":"center"===C?(ce="center",U?Q=T:W=T):U?"left"===C||"end"===C?(ce="flex-end",W=T):("right"===C||"start"===C)&&(ce="flex-start",Q=T):"left"===C||"start"===C?(ce="flex-start",W=T):("right"===C||"end"===C)&&(ce="flex-end",Q=T),e.position=this._cssPosition,e.marginLeft=g?"0":W,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":Q,t.justifyContent=ce,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(DF),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let D3=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new w3}flexibleConnectedTo(t){return new b3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dF),u.LFG(X),u.LFG(Fs),u.LFG(UT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E3=0,Up=(()=>{class n{constructor(t,i,r,s,l,f,g,y,C,T,U,W){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=f,this._ngZone=g,this._document=y,this._directionality=C,this._location=T,this._outsideClickDispatcher=U,this._animationsModuleType=W}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new _F(t);return l.direction=l.direction||this._directionality.value,new sE(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+E3++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new d3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(m3),u.LFG(UT),u.LFG(u._Vd),u.LFG(D3),u.LFG(_3),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(X),u.LFG(VT),u.LFG(be),u.LFG(v3),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I3={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Up],useFactory:function x3(n){return()=>n.scrollStrategies.reposition()}};let jT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Up,I3],imports:[oE,Xy,hF,hF]}),n})();function HT(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var CF=M(5684),xF=M(8372);let IF=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O3=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Kh(t);return new Li.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new cn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IF))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=kc(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Zy(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,xF.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O3),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[IF]}),n})();const TF=new Set;let r_,N3=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):L3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function F3(n,e){if(!TF.has(n))try{r_||(r_=document.createElement("style"),e&&(r_.nonce=e),r_.setAttribute("type","text/css"),document.head.appendChild(r_)),r_.sheet&&(r_.sheet.insertRule(`@media ${n} {body{ }}`,0),TF.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.Ojb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let V3=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return MF(PT(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=oT(MF(PT(t)).map(l=>this._registerQuery(l).observable));return s=F(s.pipe((0,Yr.q)(1)),s.pipe((0,CF.T)(1),(0,xF.b)(0))),s.pipe((0,qt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:g,query:y})=>{f.matches=f.matches||g,f.breakpoints[y]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Li.y(l=>{const f=g=>this._zone.run(()=>l.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(ae(i),(0,qt.U)(({matches:l})=>({query:t,matches:l})),(0,n_.R)(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(N3),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let zT=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function H3(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function j3(n){try{return n.frameElement}catch{return null}}(function Z3(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===RF(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=RF(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Y3(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function K3(n){return!function $3(n){return function W3(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function z3(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function G3(n){return function q3(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||kF(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kF(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function RF(n){if(!kF(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Q3{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Yr.q)(1)).subscribe(e)}}let _R=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Q3(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zT),u.LFG(u.R0b),u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function PF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const X3=new u.OlP("cdk-input-modality-detector-options"),J3={ignoreKeys:[18,17,224,91,16]},Jy=Zh({passive:!0,capture:!0});let ez=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new wl.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bp(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OF(l)?"keyboard":"mouse"),this._mostRecentTarget=Bp(l))},this._onTouchstart=l=>{PF(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bp(l))},this._options={...J3,...s},this.modalityDetected=this._modality.pipe((0,CF.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Dt.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jy),r.addEventListener("mousedown",this._onMousedown,Jy),r.addEventListener("touchstart",this._onTouchstart,Jy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jy),document.removeEventListener("mousedown",this._onMousedown,Jy),document.removeEventListener("touchstart",this._onTouchstart,Jy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.R0b),u.LFG(X),u.LFG(X3,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nz=new u.OlP("cdk-focus-monitor-default-options"),$T=Zh({passive:!0,capture:!0});let GT=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new cn.x,this._rootNodeFocusAndBlurListener=f=>{for(let y=Bp(f);y;y=y.parentElement)"focus"===f.type?this._onFocus(f,y):this._onBlur(f,y)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=Kh(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,It.of)(null);const s=function t3(n){if(function e3(){if(null==lR){const n=typeof document<"u"?document.head:null;lR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new cn.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Kh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Kh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Bp(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,$T),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,$T)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,n_.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$T),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$T),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Fs),u.LFG(ez),u.LFG(X,8),u.LFG(nz,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FF="cdk-high-contrast-black-on-white",LF="cdk-high-contrast-white-on-black",vR="cdk-high-contrast-active";let VF=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(V3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vR,FF,LF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(vR,FF):2===i&&t.add(vR,LF)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yR=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VF))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gR]}),n})();function iz(n,e){}class WT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let BF=(()=>{class n extends fR{constructor(t,i,r,s,l,f,g,y){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=l,this._ngZone=f,this._overlayRef=g,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),T},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=cR(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=cR();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=cR())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_R),u.Y36(X,8),u.Y36(WT),u.Y36(zT),u.Y36(u.R0b),u.Y36(sE),u.Y36(GT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&u.Gf(pR,7),2&t){let r;u.iGM(r=u.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&u.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&u.YNc(0,iz,0,0,"ng-template",0)},dependencies:[pR],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class bR{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new cn.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!HT(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const UF=new u.OlP("DialogScrollStrategy"),rz=new u.OlP("DialogData"),oz=new u.OlP("DefaultDialogConfig"),az={provide:UF,deps:[Up],useFactory:function sz(n){return()=>n.scrollStrategies.block()}};let lz=0,jF=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,s,l,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new cn.x,this._afterOpenedAtThisLevel=new cn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=sT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ae(void 0))),this._scrollStrategy=f}open(t,i){(i={...this._defaultOptions||new WT,...i}).id=i.id||"cdk-dialog-"+lz++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),l=this._overlay.create(s),f=new bR(l,i),g=this._attachContainer(l,f,i);return f.containerInstance=g,this._attachDialogContent(t,f,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){wR(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){wR(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),wR(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new _F({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,l=[{provide:WT,useValue:r},{provide:bR,useValue:i},{provide:sE,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,l.push(...r.container.providers(r))):f=BF;const g=new hR(f,r.viewContainerRef,u.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return t.attach(g).instance}_attachDialogContent(t,i,r,s){if(t instanceof u.Rgc){const l=this._createInjector(s,i,r,void 0);let f={$implicit:s.data,dialogRef:i};s.templateContext&&(f={...f,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new fF(t,null,f,l))}else{const l=this._createInjector(s,i,r,this._injector),f=r.attachComponentPortal(new hR(t,s.viewContainerRef,l,s.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,s){const l=t.injector||t.viewContainerRef?.injector,f=[{provide:rz,useValue:t.data},{provide:bR,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!l||!l.get(VT,null,{optional:!0}))&&f.push({provide:VT,useValue:{value:t.direction,change:(0,It.of)()}}),u.zs3.create({parent:l||s,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Up),u.LFG(u.zs3),u.LFG(oz,8),u.LFG(n,12),u.LFG(UT),u.LFG(UF))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function wR(n,e){let t=n.length;for(;t--;)e(n[t])}let cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jF,az],imports:[jT,Xy,yR,Xy]}),n})();const dz=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function uz(){return!0}});let vo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!uR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VF),u.LFG(dz,8),u.LFG(X))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oE,oE]}),n})();function gz(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}const DR=new u.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function _z(){return(0,u.f3M)(u.soG)}});class Ju{constructor(){this._localeChanges=new cn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const qT=new u.OlP("mat-date-formats");let vz=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yz{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $F=Zh({passive:!0,capture:!0});class bz{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Bp(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$F)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$F)))}}const GF={enterDuration:225,exitDuration:150},WF=Zh({passive:!0,capture:!0}),qF=["mousedown","touchstart"],YF=["mouseup","mouseleave","touchend","touchcancel"];class lE{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Kh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...GF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function Dz(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-l+"px",C.style.top=g-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const T=window.getComputedStyle(C),W=T.transitionDuration,Q="none"===T.transitionProperty||"0s"===W||"0s, 0s"===W||0===r.width&&0===r.height,ce=new yz(this,C,i,Q);C.style.transform="scale3d(1, 1, 1)",ce.state=0,i.persistent||(this._mostRecentTransientRipple=ce);let ue=null;return!Q&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ye=()=>this._finishRippleTransition(ce),Ce=()=>this._destroyRipple(ce);C.addEventListener("transitionend",ye),C.addEventListener("transitioncancel",Ce),ue={onTransitionEnd:ye,onTransitionCancel:Ce}}),this._activeRipples.set(ce,ue),(Q||!y)&&this._finishRippleTransition(ce),ce}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...GF,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,qF.forEach(i=>{lE._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{YF.forEach(t=>{this._triggerElement.addEventListener(t,this,WF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=OF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!PF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(qF.forEach(t=>lE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&YF.forEach(t=>e.removeEventListener(t,this,WF)))}}lE._eventManager=new bz;let YT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo,vo]}),n})(),xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo]}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[YT,hr,vo,xz]}),n})();class ZF{}class Iz{}const Qh="*";function o_(n,e){return{type:7,name:n,definitions:e,options:{}}}function El(n,e=null){return{type:4,styles:e,timings:n}}function XF(n,e=null){return{type:2,steps:n,options:e}}function vr(n){return{type:6,styles:n,offset:null}}function Xh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Fa(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function eL(n){Promise.resolve().then(n)}class cE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class tL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?eL(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const xR="!";function Tz(n,e){}class KT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const IR="mdc-dialog--open",nL="mdc-dialog--opening",iL="mdc-dialog--closing";let Az=(()=>{class n extends BF{constructor(t,i,r,s,l,f,g,y){super(t,i,r,s,l,f,g,y),this._animationStateChanged=new u.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_R),u.Y36(X,8),u.Y36(KT),u.Y36(zT),u.Y36(u.R0b),u.Y36(sE),u.Y36(GT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const rL="--mat-dialog-transition-duration";function oL(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Zy(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Zy(n.substring(0,n.length-1)):"0"===n?0:null}let kz=(()=>{class n extends Az{constructor(t,i,r,s,l,f,g,y,C){super(t,i,r,s,l,f,g,C),this._animationMode=y,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?oL(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?oL(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(rL,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(nL,IR)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(IR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(IR),this._animationsEnabled?(this._hostElement.style.setProperty(rL,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(iL)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(nL,iL)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_R),u.Y36(X,8),u.Y36(KT),u.Y36(zT),u.Y36(u.R0b),u.Y36(sE),u.Y36(u.QbO,8),u.Y36(GT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(u.Ikx("id",i._config.id),u.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),u.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[u.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,Tz,0,0,"ng-template",2),u.qZA()())},dependencies:[pR],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class TR{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new cn.x,this._beforeClosed=new cn.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe((0,Yi.h)(r=>"opened"===r.state),(0,Yr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,Yi.h)(r=>"closed"===r.state),(0,Yr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fr.T)(this.backdropClick(),this.keydownEvents().pipe((0,Yi.h)(r=>27===r.keyCode&&!this.disableClose&&!HT(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Rz(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,Yi.h)(t=>"closing"===t.state),(0,Yr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Oz=new u.OlP("MatMdcDialogData"),Pz=new u.OlP("mat-mdc-dialog-default-options"),sL=new u.OlP("mat-mdc-dialog-scroll-strategy"),Fz={provide:sL,deps:[Up],useFactory:function Nz(n){return()=>n.scrollStrategies.block()}};let Lz=0,Vz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,s,l,f,g,y,C,T){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new cn.x,this._afterOpenedAtThisLevel=new cn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=KT,this.afterAllClosed=sT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ae(void 0))),this._scrollStrategy=f,this._dialog=i.get(jF)}open(t,i){let r;(i={...this._defaultOptions||new KT,...i}).id=i.id||`${this._idPrefix}${Lz++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:WT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,f,g)=>(r=new this._dialogRefConstructor(l,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),MR=(()=>{class n extends Vz{constructor(t,i,r,s,l,f,g,y){super(t,i,s,f,g,l,TR,kz,Oz,y),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Up),u.LFG(u.zs3),u.LFG(be,8),u.LFG(Pz,8),u.LFG(sL),u.LFG(n,12),u.LFG(UT),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Bz=0,Uz=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Bz++}ngOnInit(){this._dialogRef||(this._dialogRef=function Hz(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(TR,8),u.Y36(u.SBq),u.Y36(MR))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){2&t&&u.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),jz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[MR,Fz],imports:[cz,jT,Xy,vo,vo]}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo,YT,vo]}),n})();const Wz=["matFormFieldNotchedOutline",""],qz=["*"],Yz=["textField"],Kz=["iconPrefixContainer"],Zz=["textPrefixContainer"];function Qz(n,e){1&n&&u._UZ(0,"span",19)}function Xz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",17),u.NdJ("cdkObserveContent",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r._refreshOutlineNotchWidth())}),u.Hsn(1,1),u.YNc(2,Qz,1,0,"span",18),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Jz(n,e){if(1&n&&u.YNc(0,Xz,3,6,"label",16),2&n){const t=u.oxw();u.Q6J("ngIf",t._hasFloatingLabel())}}function e$(n,e){1&n&&u._UZ(0,"div",20)}function t$(n,e){}function n$(n,e){if(1&n&&u.YNc(0,t$,0,0,"ng-template",22),2&n){u.oxw(2);const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function i$(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,n$,1,1,"ng-template",9),u.qZA()),2&n){const t=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),u.xp6(1),u.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function r$(n,e){1&n&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function o$(n,e){1&n&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function s$(n,e){}function a$(n,e){if(1&n&&u.YNc(0,s$,0,0,"ng-template",22),2&n){u.oxw();const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function l$(n,e){1&n&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function c$(n,e){1&n&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function u$(n,e){1&n&&u._UZ(0,"div",29)}function d$(n,e){if(1&n&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function h$(n,e){if(1&n&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function f$(n,e){if(1&n&&(u.TgZ(0,"div",31),u.YNc(1,h$,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const p$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],m$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let SR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),g$=0;const uL=new u.OlP("MatError");let _$=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+g$++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("aria-live"),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&u.Ikx("id",i.id)},inputs:{id:"id"},features:[u._Bn([{provide:uL,useExisting:n}])]}),n})(),v$=0,dL=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+v$++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(u.Ikx("id",i.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const y$=new u.OlP("MatPrefix"),b$=new u.OlP("MatSuffix");let hL=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function w$(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const fL="mdc-line-ripple--active",ZT="mdc-line-ripple--deactivating";let pL=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(ZT);"opacity"===r.propertyName&&l&&s.remove(fL,ZT)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(ZT),t.add(fL)}deactivate(){this._elementRef.nativeElement.classList.add(ZT)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),mL=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Wz,ngContentSelectors:qz,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(1),u.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const D$={transitionMessages:o_("transitionMessages",[Xh("enter",vr({opacity:1,transform:"translateY(0%)"})),Fa("void => enter",[vr({opacity:0,transform:"translateY(-5px)"}),El("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const AR=new u.OlP("MatFormField"),E$=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let _L=0,I$=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=kc(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,f,g,y){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=f,this._animationMode=g,this._document=y,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+_L++,this._hintLabelId="mat-mdc-hint-"+_L++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new cn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,n_.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,fr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,n_.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,n_.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(VT),u.Y36(Fs),u.Y36(E$,8),u.Y36(u.QbO,8),u.Y36(X))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,SR,5),u.Suo(r,SR,7),u.Suo(r,gL,5),u.Suo(r,y$,5),u.Suo(r,b$,5),u.Suo(r,uL,5),u.Suo(r,dL,5)),2&t){let s;u.iGM(s=u.CRH())&&(i._labelChildNonStatic=s.first),u.iGM(s=u.CRH())&&(i._labelChildStatic=s.first),u.iGM(s=u.CRH())&&(i._formFieldControl=s.first),u.iGM(s=u.CRH())&&(i._prefixChildren=s),u.iGM(s=u.CRH())&&(i._suffixChildren=s),u.iGM(s=u.CRH())&&(i._errorChildren=s),u.iGM(s=u.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(u.Gf(Yz,5),u.Gf(Kz,5),u.Gf(Zz,5),u.Gf(hL,5),u.Gf(mL,5),u.Gf(pL,5)),2&t){let r;u.iGM(r=u.CRH())&&(i._textField=r.first),u.iGM(r=u.CRH())&&(i._iconPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._textPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._floatingLabel=r.first),u.iGM(r=u.CRH())&&(i._notchedOutline=r.first),u.iGM(r=u.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:AR,useExisting:n}])],ngContentSelectors:m$,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(u.F$t(p$),u.YNc(0,Jz,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(s){return i._control.onContainerClick(s)}),u.YNc(4,e$,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,i$,2,3,"div",5),u.YNc(7,r$,3,0,"div",6),u.YNc(8,o$,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,a$,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,l$,2,0,"div",10),u.YNc(13,c$,2,0,"div",11),u.qZA(),u.YNc(14,u$,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,d$,2,1,"div",14),u.YNc(17,f$,5,2,"div",15),u.qZA()),2&t&&(u.xp6(2),u.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),u.xp6(2),u.Q6J("ngIf",i._hasOutline()),u.xp6(1),u.Q6J("ngIf",i._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",i._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",i._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",i._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!i._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),u.Q6J("ngSwitch",i._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[zo,$i,wo,ya,P3,dL,hL,mL,pL],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[D$.transitionMessages]},changeDetection:0}),n})(),uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo,hr,gR,vo]}),n})();const bL=Zh({passive:!0});let T$=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return cs.E;const i=Kh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new cn.x,l="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,bL),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,bL)}}),s}stopMonitoring(t){const i=Kh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M$=(()=>{class n{get minRows(){return this._minRows}set minRows(t){this._minRows=Zy(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=Zy(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=kc(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._destroyed=new cn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=l=>{this._hasFocus="focus"===l.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{nE(this._getWindow(),"resize").pipe(sR(16),(0,n_.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,i=t.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,l=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(l);const f=t.scrollHeight-4;return t.classList.remove(l),s&&(t.style.marginBottom=i),f}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!t&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),l=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${l}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:i,selectionEnd:r}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Fs),u.Y36(u.R0b),u.Y36(X,8))},n.\u0275dir=u.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,i){1&t&&u.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const wL=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),A$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k$=0;const R$=gz(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new cn.x}});let O$=(()=>{class n extends R${get disabled(){return this._disabled}set disabled(t){this._disabled=kc(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Nk.required)??!1}set required(t){this._required=kc(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&uF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=kc(t)}constructor(t,i,r,s,l,f,g,y,C,T){super(f,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=T,this._uid="mat-input-"+k$++,this.focused=!1,this.stateChanges=new cn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>uF().has(Q)),this._iOSKeyupListener=Q=>{const ce=Q.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,W=U.nodeName.toLowerCase();this._inputValueAccessor=g||U,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){A$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Fs),u.Y36(Xu,10),u.Y36(OT,8),u.Y36(Ky,8),u.Y36(vz),u.Y36(wL,10),u.Y36(T$),u.Y36(u.R0b),u.Y36(AR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&u.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(u.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),u.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),u.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:gL,useExisting:n}]),u.qOj,u.TTD]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vo,uE,uE,S$,vo]}),n})(),F$=(()=>{class n{constructor(){this.changes=new cn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W$={provide:new u.OlP("mat-datepicker-scroll-strategy"),deps:[Up],useFactory:function G$(n){return()=>n.scrollStrategies.reposition()}};let TL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[F$,W$],imports:[hr,Gz,jT,yR,Xy,vo,BT]}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),AL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[SL,vo,YT,hr,SL,vo]}),n})();Math.pow(10,8);var PR=36e5;function jo(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function RL(n,e){var t;bn(1,arguments);var i=jo(null!==(t=e?.additionalDigits)&&void 0!==t?t:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var s,r=function C4(n){var i,e={},t=n.split(JT.dateTimeDelimiter);if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],JT.timeZoneDelimiter.test(e.date)&&(e.date=n.split(JT.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var r=JT.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}(n);if(r.date){var l=function x4(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:null===s?r:100*s,restDateString:n.slice((i[1]||i[2]).length)}}(r.date,i);s=function I4(n,e){if(null===e)return new Date(NaN);var t=n.match(w4);if(!t)return new Date(NaN);var i=!!t[4],r=hE(t[1]),s=hE(t[2])-1,l=hE(t[3]),f=hE(t[4]),g=hE(t[5])-1;if(i)return function O4(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}(0,f,g)?function S4(n,e,t){var i=new Date(0);i.setUTCFullYear(n,0,4);var s=7*(e-1)+t+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+s),i}(e,f,g):new Date(NaN);var y=new Date(0);return function k4(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(A4[e]||(OL(n)?29:28))}(e,s,l)&&function R4(n,e){return e>=1&&e<=(OL(n)?366:365)}(e,r)?(y.setUTCFullYear(e,s,Math.max(r,l)),y):new Date(NaN)}(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var y,f=s.getTime(),g=0;if(r.time&&(g=function T4(n){var e=n.match(D4);if(!e)return NaN;var t=NR(e[1]),i=NR(e[2]),r=NR(e[3]);return function P4(n,e,t){return 24===n?0===e&&0===t:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}(t,i,r)?t*PR+6e4*i+1e3*r:NaN}(r.time),isNaN(g)))return new Date(NaN);if(!r.timezone){var C=new Date(f+g),T=new Date(0);return T.setFullYear(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate()),T.setHours(C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds(),C.getUTCMilliseconds()),T}return y=function M4(n){if("Z"===n)return 0;var e=n.match(E4);if(!e)return 0;var t="+"===e[1]?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return function N4(n,e){return e>=0&&e<=59}(0,r)?t*(i*PR+6e4*r):NaN}(r.timezone),isNaN(y)?new Date(NaN):new Date(f+g+y)}var JT={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,E4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hE(n){return n?parseInt(n):1}function NR(n){return n&&parseFloat(n.replace(",","."))||0}var A4=[31,null,31,30,31,30,31,31,30,31,30,31];function OL(n){return n%400==0||n%4==0&&n%100!=0}function PL(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function NL(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function F4(n,e){if(n){if("string"==typeof n)return PL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PL(n,e)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(y){throw y},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,s=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var y=t.next();return s=y.done,y},e:function(y){l=!0,f=y},f:function(){try{!s&&null!=t.return&&t.return()}finally{if(l)throw f}}}}var L4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function tb(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var z4={date:tb({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:tb({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:tb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},G4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ed(n){return function(e,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,l=null!=t&&t.width?String(t.width):s;r=n.formattingValues[l]||n.formattingValues[s]}else{var f=n.defaultWidth,g=null!=t&&t.width?String(t.width):n.defaultWidth;r=n.values[g]||n.values[f]}return r[n.argumentCallback?n.argumentCallback(e):e]}}function td(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,s=e.match(i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth]);if(!s)return null;var y,l=s[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(f)?function rG(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}(f,function(T){return T.test(l)}):function iG(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}(f,function(T){return T.test(l)});return y=n.valueCallback?n.valueCallback(g):g,{value:y=t.valueCallback?t.valueCallback(y):y,rest:e.slice(l.length)}}}function FL(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var r=i[0],s=e.match(n.parsePattern);if(!s)return null;var l=n.valueCallback?n.valueCallback(s[0]):s[0];return{value:l=t.valueCallback?t.valueCallback(l):l,rest:e.slice(r.length)}}}const LL={code:"en-US",formatDistance:function(e,t,i){var r,s=L4[e];return r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:z4,formatRelative:function(e,t,i,r){return G4[e]},localize:{ordinalNumber:function(e,t){var i=Number(e),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:ed({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ed({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ed({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ed({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ed({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:FL({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:td({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:td({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:td({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:td({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:td({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function VL(n,e){return bn(2,arguments),function yG(n,e){bn(2,arguments);var t=Xn(n).getTime(),i=jo(e);return new Date(t+i)}(n,-jo(e))}function bG(n,e){if(null==n)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var BL=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},UL=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const FR={p:UL,P:function(e,t){var l,i=e.match(/(P+)(p+)?/)||[],r=i[1],s=i[2];if(!s)return BL(e,t);switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"})}return l.replace("{{date}}",BL(r,t)).replace("{{time}}",UL(s,t))}};function jL(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var EG=["D","DD"],CG=["YY","YYYY"];function HL(n){return-1!==EG.indexOf(n)}function zL(n){return-1!==CG.indexOf(n)}function eM(n,e,t){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}function Ft(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LR(n,e){return(LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i})(n,e)}function Jn(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&LR(n,e)}function tM(n){return(tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(n)}function ei(n){var e=function xG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=tM(n);if(e){var s=tM(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return function IG(n,e){if(e&&("object"===ls(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ft(n)}(this,r)}}function Gn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(n){var e=function TG(n,e){if("object"!==ls(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==ls(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===ls(e)?e:String(e)}function GL(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,$L(i.key),i)}}function Wn(n,e,t){return e&&GL(n.prototype,e),t&&GL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function St(n,e,t){return(e=$L(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var WL=function(){function n(){Gn(this,n),St(this,"priority",void 0),St(this,"subPriority",0)}return Wn(n,[{key:"validate",value:function(t,i){return!0}}]),n}(),SG=function(n){Jn(t,n);var e=ei(t);function t(i,r,s,l,f){var g;return Gn(this,t),(g=e.call(this)).value=i,g.validateValue=r,g.setValue=s,g.priority=l,f&&(g.subPriority=f),g}return Wn(t,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,l){return this.setValue(r,s,this.value,l)}}]),t}(WL),AG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",10),St(Ft(i),"subPriority",-1),i}return Wn(t,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var l=new Date(0);return l.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),l.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),l}}]),t}(WL),gi=function(){function n(){Gn(this,n),St(this,"incompatibleTokens",void 0),St(this,"priority",void 0),St(this,"subPriority",void 0)}return Wn(n,[{key:"run",value:function(t,i,r,s){var l=this.parse(t,i,r,s);return l?{setter:new SG(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}},{key:"validate",value:function(t,i,r){return!0}}]),n}(),kG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",140),St(Ft(i),"incompatibleTokens",["R","u","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"G":case"GG":case"GGG":return l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"});case"GGGGG":return l.era(r,{width:"narrow"});default:return l.era(r,{width:"wide"})||l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,l){return s.era=l,r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),Hr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nd_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,nd_basic=/^([+-])(\d{2})(\d{2})|Z/,nd_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,nd_extended=/^([+-])(\d{2}):(\d{2})|Z/,nd_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function zr(n,e){return n&&{value:e(n.value),rest:n.rest}}function yr(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function id(n,e){var t=e.match(n);if(!t)return null;if("Z"===t[0])return{value:0,rest:e.slice(1)};var i="+"===t[1]?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:i*(r*PR+6e4*s+1e3*l),rest:e.slice(t[0].length)}}function qL(n){return yr(Hr.anyDigitsSigned,n)}function Ar(n,e){switch(n){case 1:return yr(Hr.singleDigit,e);case 2:return yr(Hr.twoDigits,e);case 3:return yr(Hr.threeDigits,e);case 4:return yr(Hr.fourDigits,e);default:return yr(new RegExp("^\\d{1,"+n+"}"),e)}}function nM(n,e){switch(n){case 1:return yr(Hr.singleDigitSigned,e);case 2:return yr(Hr.twoDigitsSigned,e);case 3:return yr(Hr.threeDigitsSigned,e);case 4:return yr(Hr.fourDigitsSigned,e);default:return yr(new RegExp("^-?\\d{1,"+n+"}"),e)}}function VR(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function YL(n,e){var r,t=e>0,i=t?e:1-e;if(i<=50)r=n||100;else{var s=i+50;r=n+100*Math.floor(s/100)-(n>=s%100?100:0)}return t?r:1-r}function KL(n){return n%400==0||n%4==0&&n%100!=0}var RG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",130),St(Ft(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){var f=function(y){return{year:y,isTwoDigitYear:"yy"===s}};switch(s){case"y":return zr(Ar(4,r),f);case"yo":return zr(l.ordinalNumber(r,{unit:"year"}),f);default:return zr(Ar(s.length,r),f)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,l){var f=r.getUTCFullYear();if(l.isTwoDigitYear){var g=YL(l.year,f);return r.setUTCFullYear(g,0,1),r.setUTCHours(0,0,0,0),r}return r.setUTCFullYear("era"in s&&1!==s.era?1-l.year:l.year,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),ZL={};function nb(){return ZL}function Jh(n,e){var t,i,r,s,l,f,g,y;bn(1,arguments);var C=nb(),T=jo(null!==(t=null!==(i=null!==(r=null!==(s=e?.weekStartsOn)&&void 0!==s?s:null==e||null===(l=e.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==r?r:C.weekStartsOn)&&void 0!==i?i:null===(g=C.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==t?t:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var U=Xn(n),W=U.getUTCDay(),Q=(W<T?7:0)+W-T;return U.setUTCDate(U.getUTCDate()-Q),U.setUTCHours(0,0,0,0),U}function BR(n,e){var t,i,r,s,l,f,g,y;bn(1,arguments);var C=Xn(n),T=C.getUTCFullYear(),U=nb(),W=jo(null!==(t=null!==(i=null!==(r=null!==(s=e?.firstWeekContainsDate)&&void 0!==s?s:null==e||null===(l=e.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==r?r:U.firstWeekContainsDate)&&void 0!==i?i:null===(g=U.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==t?t:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=new Date(0);Q.setUTCFullYear(T+1,0,W),Q.setUTCHours(0,0,0,0);var ce=Jh(Q,e),ue=new Date(0);ue.setUTCFullYear(T,0,W),ue.setUTCHours(0,0,0,0);var ye=Jh(ue,e);return C.getTime()>=ce.getTime()?T+1:C.getTime()>=ye.getTime()?T:T-1}var OG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",130),St(Ft(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){var f=function(y){return{year:y,isTwoDigitYear:"YY"===s}};switch(s){case"Y":return zr(Ar(4,r),f);case"Yo":return zr(l.ordinalNumber(r,{unit:"year"}),f);default:return zr(Ar(s.length,r),f)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,l,f){var g=BR(r,f);if(l.isTwoDigitYear){var y=YL(l.year,g);return r.setUTCFullYear(y,0,f.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Jh(r,f)}return r.setUTCFullYear("era"in s&&1!==s.era?1-l.year:l.year,0,f.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Jh(r,f)}}]),t}(gi);function ib(n){bn(1,arguments);var t=Xn(n),i=t.getUTCDay(),r=(i<1?7:0)+i-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}var PG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",130),St(Ft(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s){return nM("R"===s?4:s.length,r)}},{key:"set",value:function(r,s,l){var f=new Date(0);return f.setUTCFullYear(l,0,4),f.setUTCHours(0,0,0,0),ib(f)}}]),t}(gi),NG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",130),St(Ft(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s){return nM("u"===s?4:s.length,r)}},{key:"set",value:function(r,s,l){return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),FG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",120),St(Ft(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"Q":case"QQ":return Ar(s.length,r);case"Qo":return l.ordinalNumber(r,{unit:"quarter"});case"QQQ":return l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return l.quarter(r,{width:"narrow",context:"formatting"});default:return l.quarter(r,{width:"wide",context:"formatting"})||l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),LG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",120),St(Ft(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"q":case"qq":return Ar(s.length,r);case"qo":return l.ordinalNumber(r,{unit:"quarter"});case"qqq":return l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return l.quarter(r,{width:"narrow",context:"standalone"});default:return l.quarter(r,{width:"wide",context:"standalone"})||l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),VG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),St(Ft(i),"priority",110),i}return Wn(t,[{key:"parse",value:function(r,s,l){var f=function(y){return y-1};switch(s){case"M":return zr(yr(Hr.month,r),f);case"MM":return zr(Ar(2,r),f);case"Mo":return zr(l.ordinalNumber(r,{unit:"month"}),f);case"MMM":return l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return l.month(r,{width:"narrow",context:"formatting"});default:return l.month(r,{width:"wide",context:"formatting"})||l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),t}(gi),BG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",110),St(Ft(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){var f=function(y){return y-1};switch(s){case"L":return zr(yr(Hr.month,r),f);case"LL":return zr(Ar(2,r),f);case"Lo":return zr(l.ordinalNumber(r,{unit:"month"}),f);case"LLL":return l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return l.month(r,{width:"narrow",context:"standalone"});default:return l.month(r,{width:"wide",context:"standalone"})||l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),t}(gi);function QL(n,e){bn(1,arguments);var t=Xn(n),i=Jh(t,e).getTime()-function UG(n,e){var t,i,r,s,l,f,g,y;bn(1,arguments);var C=nb(),T=jo(null!==(t=null!==(i=null!==(r=null!==(s=e?.firstWeekContainsDate)&&void 0!==s?s:null==e||null===(l=e.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==r?r:C.firstWeekContainsDate)&&void 0!==i?i:null===(g=C.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==t?t:1),U=BR(n,e),W=new Date(0);return W.setUTCFullYear(U,0,T),W.setUTCHours(0,0,0,0),Jh(W,e)}(t,e).getTime();return Math.round(i/6048e5)+1}var zG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",100),St(Ft(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"w":return yr(Hr.week,r);case"wo":return l.ordinalNumber(r,{unit:"week"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,l,f){return Jh(function HG(n,e,t){bn(2,arguments);var i=Xn(n),r=jo(e),s=QL(i,t)-r;return i.setUTCDate(i.getUTCDate()-7*s),i}(r,l,f),f)}}]),t}(gi);function XL(n){bn(1,arguments);var e=Xn(n),t=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(t+1,0,4),i.setUTCHours(0,0,0,0);var r=ib(i),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var l=ib(s);return e.getTime()>=r.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function JL(n){bn(1,arguments);var e=Xn(n),t=ib(e).getTime()-function $G(n){bn(1,arguments);var e=XL(n),t=new Date(0);return t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0),ib(t)}(e).getTime();return Math.round(t/6048e5)+1}var qG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",100),St(Ft(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"I":return yr(Hr.week,r);case"Io":return l.ordinalNumber(r,{unit:"week"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,l){return ib(function WG(n,e){bn(2,arguments);var t=Xn(n),i=jo(e),r=JL(t)-i;return t.setUTCDate(t.getUTCDate()-7*r),t}(r,l))}}]),t}(gi),YG=[31,28,31,30,31,30,31,31,30,31,30,31],KG=[31,29,31,30,31,30,31,31,30,31,30,31],ZG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"subPriority",1),St(Ft(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"d":return yr(Hr.date,r);case"do":return l.ordinalNumber(r,{unit:"date"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){var f=KL(r.getUTCFullYear()),g=r.getUTCMonth();return f?s>=1&&s<=KG[g]:s>=1&&s<=YG[g]}},{key:"set",value:function(r,s,l){return r.setUTCDate(l),r.setUTCHours(0,0,0,0),r}}]),t}(gi),QG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"subpriority",1),St(Ft(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"D":case"DD":return yr(Hr.dayOfYear,r);case"Do":return l.ordinalNumber(r,{unit:"date"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return KL(r.getUTCFullYear())?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,l){return r.setUTCMonth(0,l),r.setUTCHours(0,0,0,0),r}}]),t}(gi);function UR(n,e,t){var i,r,s,l,f,g,y,C;bn(2,arguments);var T=nb(),U=jo(null!==(i=null!==(r=null!==(s=null!==(l=t?.weekStartsOn)&&void 0!==l?l:null==t||null===(f=t.locale)||void 0===f||null===(g=f.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==s?s:T.weekStartsOn)&&void 0!==r?r:null===(y=T.locale)||void 0===y||null===(C=y.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==i?i:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var W=Xn(n),Q=jo(e),Ce=((Q%7+7)%7<U?7:0)+Q-W.getUTCDay();return W.setUTCDate(W.getUTCDate()+Ce),W}var XG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"E":case"EE":case"EEE":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return l.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,l,f){return(r=UR(r,l,f)).setUTCHours(0,0,0,0),r}}]),t}(gi),JG=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l,f){var g=function(C){var T=7*Math.floor((C-1)/7);return(C+f.weekStartsOn+6)%7+T};switch(s){case"e":case"ee":return zr(Ar(s.length,r),g);case"eo":return zr(l.ordinalNumber(r,{unit:"day"}),g);case"eee":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"eeeee":return l.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,l,f){return(r=UR(r,l,f)).setUTCHours(0,0,0,0),r}}]),t}(gi),e6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l,f){var g=function(C){var T=7*Math.floor((C-1)/7);return(C+f.weekStartsOn+6)%7+T};switch(s){case"c":case"cc":return zr(Ar(s.length,r),g);case"co":return zr(l.ordinalNumber(r,{unit:"day"}),g);case"ccc":return l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});case"ccccc":return l.day(r,{width:"narrow",context:"standalone"});case"cccccc":return l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});default:return l.day(r,{width:"wide",context:"standalone"})||l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,l,f){return(r=UR(r,l,f)).setUTCHours(0,0,0,0),r}}]),t}(gi),n6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",90),St(Ft(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){var f=function(y){return 0===y?7:y};switch(s){case"i":case"ii":return Ar(s.length,r);case"io":return l.ordinalNumber(r,{unit:"day"});case"iii":return zr(l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f);case"iiiii":return zr(l.day(r,{width:"narrow",context:"formatting"}),f);case"iiiiii":return zr(l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f);default:return zr(l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,l){return r=function t6(n,e){bn(2,arguments);var t=jo(e);t%7==0&&(t-=7);var r=Xn(n),g=((t%7+7)%7<1?7:0)+t-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+g),r}(r,l),r.setUTCHours(0,0,0,0),r}}]),t}(gi),r6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",80),St(Ft(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"a":case"aa":case"aaa":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,l){return r.setUTCHours(VR(l),0,0,0),r}}]),t}(gi),o6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",80),St(Ft(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"b":case"bb":case"bbb":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,l){return r.setUTCHours(VR(l),0,0,0),r}}]),t}(gi),s6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",80),St(Ft(i),"incompatibleTokens",["a","b","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"B":case"BB":case"BBB":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,l){return r.setUTCHours(VR(l),0,0,0),r}}]),t}(gi),a6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",70),St(Ft(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"h":return yr(Hr.hour12h,r);case"ho":return l.ordinalNumber(r,{unit:"hour"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,l){var f=r.getUTCHours()>=12;return r.setUTCHours(f&&l<12?l+12:f||12!==l?l:0,0,0,0),r}}]),t}(gi),l6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",70),St(Ft(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"H":return yr(Hr.hour23h,r);case"Ho":return l.ordinalNumber(r,{unit:"hour"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,l){return r.setUTCHours(l,0,0,0),r}}]),t}(gi),c6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",70),St(Ft(i),"incompatibleTokens",["h","H","k","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"K":return yr(Hr.hour11h,r);case"Ko":return l.ordinalNumber(r,{unit:"hour"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,l){var f=r.getUTCHours()>=12;return r.setUTCHours(f&&l<12?l+12:l,0,0,0),r}}]),t}(gi),u6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",70),St(Ft(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"k":return yr(Hr.hour24h,r);case"ko":return l.ordinalNumber(r,{unit:"hour"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,l){return r.setUTCHours(l<=24?l%24:l,0,0,0),r}}]),t}(gi),d6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",60),St(Ft(i),"incompatibleTokens",["t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"m":return yr(Hr.minute,r);case"mo":return l.ordinalNumber(r,{unit:"minute"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,l){return r.setUTCMinutes(l,0,0),r}}]),t}(gi),h6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",50),St(Ft(i),"incompatibleTokens",["t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s,l){switch(s){case"s":return yr(Hr.second,r);case"so":return l.ordinalNumber(r,{unit:"second"});default:return Ar(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,l){return r.setUTCSeconds(l,0),r}}]),t}(gi),f6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",30),St(Ft(i),"incompatibleTokens",["t","T"]),i}return Wn(t,[{key:"parse",value:function(r,s){return zr(Ar(s.length,r),function(g){return Math.floor(g*Math.pow(10,3-s.length))})}},{key:"set",value:function(r,s,l){return r.setUTCMilliseconds(l),r}}]),t}(gi),p6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",10),St(Ft(i),"incompatibleTokens",["t","T","x"]),i}return Wn(t,[{key:"parse",value:function(r,s){switch(s){case"X":return id(nd_basicOptionalMinutes,r);case"XX":return id(nd_basic,r);case"XXXX":return id(nd_basicOptionalSeconds,r);case"XXXXX":return id(nd_extendedOptionalSeconds,r);default:return id(nd_extended,r)}}},{key:"set",value:function(r,s,l){return s.timestampIsSet?r:new Date(r.getTime()-l)}}]),t}(gi),m6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",10),St(Ft(i),"incompatibleTokens",["t","T","X"]),i}return Wn(t,[{key:"parse",value:function(r,s){switch(s){case"x":return id(nd_basicOptionalMinutes,r);case"xx":return id(nd_basic,r);case"xxxx":return id(nd_basicOptionalSeconds,r);case"xxxxx":return id(nd_extendedOptionalSeconds,r);default:return id(nd_extended,r)}}},{key:"set",value:function(r,s,l){return s.timestampIsSet?r:new Date(r.getTime()-l)}}]),t}(gi),g6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",40),St(Ft(i),"incompatibleTokens","*"),i}return Wn(t,[{key:"parse",value:function(r){return qL(r)}},{key:"set",value:function(r,s,l){return[new Date(1e3*l),{timestampIsSet:!0}]}}]),t}(gi),_6=function(n){Jn(t,n);var e=ei(t);function t(){var i;Gn(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return St(Ft(i=e.call.apply(e,[this].concat(s))),"priority",20),St(Ft(i),"incompatibleTokens","*"),i}return Wn(t,[{key:"parse",value:function(r){return qL(r)}},{key:"set",value:function(r,s,l){return[new Date(l),{timestampIsSet:!0}]}}]),t}(gi),v6={G:new kG,y:new RG,Y:new OG,R:new PG,u:new NG,Q:new FG,q:new LG,M:new VG,L:new BG,w:new zG,I:new qG,d:new ZG,D:new QG,E:new XG,e:new JG,c:new e6,i:new n6,a:new r6,b:new o6,B:new s6,h:new a6,H:new l6,K:new c6,k:new u6,m:new d6,s:new h6,S:new f6,X:new p6,x:new m6,t:new g6,T:new _6},y6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w6=/^'([^]*?)'?$/,D6=/''/g,E6=/\S/,C6=/[a-zA-Z]/;function x6(n,e,t,i){var r,s,l,f,g,y,C,T,U,W,Q,ce,ue,ye,Ce,Ee,He,ot;bn(3,arguments);var ut=String(n),Lt=String(e),Sn=nb(),xi=null!==(r=null!==(s=i?.locale)&&void 0!==s?s:Sn.locale)&&void 0!==r?r:LL;if(!xi.match)throw new RangeError("locale must contain match property");var oo=jo(null!==(l=null!==(f=null!==(g=null!==(y=i?.firstWeekContainsDate)&&void 0!==y?y:null==i||null===(C=i.locale)||void 0===C||null===(T=C.options)||void 0===T?void 0:T.firstWeekContainsDate)&&void 0!==g?g:Sn.firstWeekContainsDate)&&void 0!==f?f:null===(U=Sn.locale)||void 0===U||null===(W=U.options)||void 0===W?void 0:W.firstWeekContainsDate)&&void 0!==l?l:1);if(!(oo>=1&&oo<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $p=jo(null!==(Q=null!==(ce=null!==(ue=null!==(ye=i?.weekStartsOn)&&void 0!==ye?ye:null==i||null===(Ce=i.locale)||void 0===Ce||null===(Ee=Ce.options)||void 0===Ee?void 0:Ee.weekStartsOn)&&void 0!==ue?ue:Sn.weekStartsOn)&&void 0!==ce?ce:null===(He=Sn.locale)||void 0===He||null===(ot=He.options)||void 0===ot?void 0:ot.weekStartsOn)&&void 0!==Q?Q:0);if(!($p>=0&&$p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===Lt)return""===ut?Xn(t):new Date(NaN);var jt,Rc={firstWeekContainsDate:oo,weekStartsOn:$p,locale:xi},Ba=[new AG],sb=Lt.match(b6).map(function(Xi){var An=Xi[0];return An in FR?(0,FR[An])(Xi,xi.formatLong):Xi}).join("").match(y6),so=[],xt=NL(sb);try{var sn=function(){var An=jt.value;!(null!=i&&i.useAdditionalWeekYearTokens)&&zL(An)&&eM(An,Lt,n),(null==i||!i.useAdditionalDayOfYearTokens)&&HL(An)&&eM(An,Lt,n);var es=An[0],Gp=v6[es];if(Gp){var K2=Gp.incompatibleTokens;if(Array.isArray(K2)){var Z2=so.find(function(Q2){return K2.includes(Q2.token)||Q2.token===es});if(Z2)throw new RangeError("The format string mustn't contain `".concat(Z2.fullToken,"` and `").concat(An,"` at the same time"))}else if("*"===Gp.incompatibleTokens&&so.length>0)throw new RangeError("The format string mustn't contain `".concat(An,"` and any other token at the same time"));so.push({token:es,fullToken:An});var _O=Gp.run(ut,An,xi.match,Rc);if(!_O)return{v:new Date(NaN)};Ba.push(_O.setter),ut=_O.rest}else{if(es.match(C6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+es+"`");if("''"===An?An="'":"'"===es&&(An=function I6(n){return n.match(w6)[1].replace(D6,"'")}(An)),0!==ut.indexOf(An))return{v:new Date(NaN)};ut=ut.slice(An.length)}};for(xt.s();!(jt=xt.n()).done;){var Un=sn();if("object"===ls(Un))return Un.v}}catch(Xi){xt.e(Xi)}finally{xt.f()}if(ut.length>0&&E6.test(ut))return new Date(NaN);var ao=Ba.map(function(Xi){return Xi.priority}).sort(function(Xi,An){return An-Xi}).filter(function(Xi,An,es){return es.indexOf(Xi)===An}).map(function(Xi){return Ba.filter(function(An){return An.priority===Xi}).sort(function(An,es){return es.subPriority-An.subPriority})}).map(function(Xi){return Xi[0]}),va=Xn(t);if(isNaN(va.getTime()))return new Date(NaN);var _E,yo=VL(va,jL(va)),Oc={},Oi=NL(ao);try{for(Oi.s();!(_E=Oi.n()).done;){var vM=_E.value;if(!vM.validate(yo,Rc))return new Date(NaN);var $r=vM.set(yo,Oc,Rc);Array.isArray($r)?(yo=$r[0],bG(Oc,$r[1])):yo=$r}}catch(Xi){Oi.e(Xi)}finally{Oi.f()}return yo}function e2(n){return bn(1,arguments),n instanceof Date||"object"===ls(n)&&"[object Date]"===Object.prototype.toString.call(n)}function t2(n){if(bn(1,arguments),!e2(n)&&"number"!=typeof n)return!1;var e=Xn(n);return!isNaN(Number(e))}function Vn(n,e){for(var t=n<0?"-":"",i=Math.abs(n).toString();i.length<e;)i="0"+i;return t+i}const jp_y=function(e,t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return Vn("yy"===t?r%100:r,t.length)},jp_M=function(e,t){var i=e.getUTCMonth();return"M"===t?String(i+1):Vn(i+1,2)},jp_d=function(e,t){return Vn(e.getUTCDate(),t.length)},jp_h=function(e,t){return Vn(e.getUTCHours()%12||12,t.length)},jp_H=function(e,t){return Vn(e.getUTCHours(),t.length)},jp_m=function(e,t){return Vn(e.getUTCMinutes(),t.length)},jp_s=function(e,t){return Vn(e.getUTCSeconds(),t.length)},jp_S=function(e,t){var i=t.length,r=e.getUTCMilliseconds();return Vn(Math.floor(r*Math.pow(10,i-3)),t.length)};var A6={G:function(e,t,i){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(e,t,i){if("yo"===t){var r=e.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return jp_y(e,t)},Y:function(e,t,i,r){var s=BR(e,r),l=s>0?s:1-s;return"YY"===t?Vn(l%100,2):"Yo"===t?i.ordinalNumber(l,{unit:"year"}):Vn(l,t.length)},R:function(e,t){return Vn(XL(e),t.length)},u:function(e,t){return Vn(e.getUTCFullYear(),t.length)},Q:function(e,t,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Vn(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Vn(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,i){var r=e.getUTCMonth();switch(t){case"M":case"MM":return jp_M(e,t);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,i){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Vn(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,i,r){var s=QL(e,r);return"wo"===t?i.ordinalNumber(s,{unit:"week"}):Vn(s,t.length)},I:function(e,t,i){var r=JL(e);return"Io"===t?i.ordinalNumber(r,{unit:"week"}):Vn(r,t.length)},d:function(e,t,i){return"do"===t?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):jp_d(e,t)},D:function(e,t,i){var r=function M6(n){bn(1,arguments);var e=Xn(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime();return Math.floor((t-i)/864e5)+1}(e);return"Do"===t?i.ordinalNumber(r,{unit:"dayOfYear"}):Vn(r,t.length)},E:function(e,t,i){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,i,r){var s=e.getUTCDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Vn(l,2);case"eo":return i.ordinalNumber(l,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,i,r){var s=e.getUTCDay(),l=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Vn(l,t.length);case"co":return i.ordinalNumber(l,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,i){var r=e.getUTCDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return Vn(s,t.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,i){var s=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,i){var s,r=e.getUTCHours();switch(s=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,i){var s,r=e.getUTCHours();switch(s=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",t){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,i){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return jp_h(e,t)},H:function(e,t,i){return"Ho"===t?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):jp_H(e,t)},K:function(e,t,i){var r=e.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(r,{unit:"hour"}):Vn(r,t.length)},k:function(e,t,i){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?i.ordinalNumber(r,{unit:"hour"}):Vn(r,t.length)},m:function(e,t,i){return"mo"===t?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):jp_m(e,t)},s:function(e,t,i){return"so"===t?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):jp_s(e,t)},S:function(e,t){return jp_S(e,t)},X:function(e,t,i,r){var l=(r._originalDate||e).getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return r2(l);case"XXXX":case"XX":return s_(l);default:return s_(l,":")}},x:function(e,t,i,r){var l=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return r2(l);case"xxxx":case"xx":return s_(l);default:return s_(l,":")}},O:function(e,t,i,r){var l=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+n2(l,":");default:return"GMT"+s_(l,":")}},z:function(e,t,i,r){var l=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+n2(l,":");default:return"GMT"+s_(l,":")}},t:function(e,t,i,r){return Vn(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,i,r){return Vn((r._originalDate||e).getTime(),t.length)}};function n2(n,e){var t=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=i%60;if(0===s)return t+String(r);var l=e||"";return t+String(r)+l+Vn(s,2)}function r2(n,e){return n%60==0?(n>0?"-":"+")+Vn(Math.abs(n)/60,2):s_(n,e)}function s_(n,e){var t=e||"",i=n>0?"-":"+",r=Math.abs(n);return i+Vn(Math.floor(r/60),2)+t+Vn(r%60,2)}const k6=A6;var R6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P6=/^'([^]*?)'?$/,N6=/''/g,F6=/[a-zA-Z]/;function o2(n,e){bn(2,arguments);var t=Xn(n),i=jo(e);if(isNaN(i))return new Date(NaN);if(!i)return t;var r=t.getDate(),s=new Date(t.getTime());return s.setMonth(t.getMonth()+i+1,0),r>=s.getDate()?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function jR(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}const H6={long:"LLLL",short:"LLL",narrow:"LLLLL"},z6={long:"EEEE",short:"EEE",narrow:"EEEEE"};let $6=(()=>{class n extends Ju{constructor(t){super(),this.setLocale(t)}getYear(t){return function u4(n){return bn(1,arguments),Xn(n).getFullYear()}(t)}getMonth(t){return function d4(n){return bn(1,arguments),Xn(n).getMonth()}(t)}getDate(t){return function h4(n){return bn(1,arguments),Xn(n).getDate()}(t)}getDayOfWeek(t){return function f4(n){return bn(1,arguments),Xn(n).getDay()}(t)}getMonthNames(t){const i=H6[t];return jR(12,r=>this.format(new Date(2017,r,1),i))}getDateNames(){const t=typeof Intl<"u"?new Intl.DateTimeFormat(this.locale.code,{day:"numeric",timeZone:"utc"}):null;return jR(31,i=>{if(t){const r=new Date;return r.setUTCFullYear(2017,0,i+1),r.setUTCHours(0,0,0,0),t.format(r).replace(/[\u200e\u200f]/g,"")}return i+""})}getDayOfWeekNames(t){const i=z6[t];return jR(7,r=>this.format(new Date(2017,0,r+1),i))}getYearName(t){return this.format(t,"y")}getFirstDayOfWeek(){return this.locale.options?.weekStartsOn??0}getNumDaysInMonth(t){return function p4(n){bn(1,arguments);var e=Xn(n),t=e.getFullYear(),i=e.getMonth(),r=new Date(0);return r.setFullYear(t,i+1,0),r.setHours(0,0,0,0),r.getDate()}(t)}clone(t){return new Date(t.getTime())}createDate(t,i,r){const s=new Date;return s.setFullYear(t,i,r),s.setHours(0,0,0,0),s.getMonth(),s}today(){return new Date}parse(t,i){if("string"==typeof t&&t.length>0){const r=RL(t);if(this.isValid(r))return r;const s=Array.isArray(i)?i:[i];if(!i.length)throw Error("Formats array must not be empty.");for(const l of s){const f=x6(t,l,new Date,{locale:this.locale});if(this.isValid(f))return f}return this.invalid()}return"number"==typeof t?new Date(t):t instanceof Date?this.clone(t):null}format(t,i){if(!this.isValid(t))throw Error("DateFnsAdapter: Cannot format invalid date.");return function L6(n,e,t){var i,r,s,l,f,g,y,C,T,U,W,Q,ce,ue,ye,Ce,Ee,He;bn(2,arguments);var ot=String(e),ut=nb(),Lt=null!==(i=null!==(r=t?.locale)&&void 0!==r?r:ut.locale)&&void 0!==i?i:LL,Sn=jo(null!==(s=null!==(l=null!==(f=null!==(g=t?.firstWeekContainsDate)&&void 0!==g?g:null==t||null===(y=t.locale)||void 0===y||null===(C=y.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==f?f:ut.firstWeekContainsDate)&&void 0!==l?l:null===(T=ut.locale)||void 0===T||null===(U=T.options)||void 0===U?void 0:U.firstWeekContainsDate)&&void 0!==s?s:1);if(!(Sn>=1&&Sn<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var xi=jo(null!==(W=null!==(Q=null!==(ce=null!==(ue=t?.weekStartsOn)&&void 0!==ue?ue:null==t||null===(ye=t.locale)||void 0===ye||null===(Ce=ye.options)||void 0===Ce?void 0:Ce.weekStartsOn)&&void 0!==ce?ce:ut.weekStartsOn)&&void 0!==Q?Q:null===(Ee=ut.locale)||void 0===Ee||null===(He=Ee.options)||void 0===He?void 0:He.weekStartsOn)&&void 0!==W?W:0);if(!(xi>=0&&xi<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Lt.localize)throw new RangeError("locale must contain localize property");if(!Lt.formatLong)throw new RangeError("locale must contain formatLong property");var oo=Xn(n);if(!t2(oo))throw new RangeError("Invalid time value");var Rc=VL(oo,jL(oo)),Ba={firstWeekContainsDate:Sn,weekStartsOn:xi,locale:Lt,_originalDate:oo},sb=ot.match(O6).map(function(so){var xt=so[0];return"p"===xt||"P"===xt?(0,FR[xt])(so,Lt.formatLong):so}).join("").match(R6).map(function(so){if("''"===so)return"'";var xt=so[0];if("'"===xt)return function V6(n){var e=n.match(P6);return e?e[1].replace(N6,"'"):n}(so);var jt=k6[xt];if(jt)return!(null!=t&&t.useAdditionalWeekYearTokens)&&zL(so)&&eM(so,e,String(n)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&HL(so)&&eM(so,e,String(n)),jt(Rc,so,Lt.localize,Ba);if(xt.match(F6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xt+"`");return so}).join("");return sb}(t,i,{locale:this.locale})}addCalendarYears(t,i){return function B6(n,e){return bn(2,arguments),o2(n,12*jo(e))}(t,i)}addCalendarMonths(t,i){return o2(t,i)}addCalendarDays(t,i){return function U6(n,e){bn(2,arguments);var t=Xn(n),i=jo(e);return isNaN(i)?new Date(NaN):(i&&t.setDate(t.getDate()+i),t)}(t,i)}toIso8601(t){return function j6(n,e){var t,i;bn(1,arguments);var r=Xn(n);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(t=e?.format)&&void 0!==t?t:"extended"),l=String(null!==(i=e?.representation)&&void 0!==i?i:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var f="",g="",y="extended"===s?"-":"",C="extended"===s?":":"";if("time"!==l){var T=Vn(r.getDate(),2),U=Vn(r.getMonth()+1,2),W=Vn(r.getFullYear(),4);f="".concat(W).concat(y).concat(U).concat(y).concat(T)}if("date"!==l){var Q=r.getTimezoneOffset();if(0!==Q){var ce=Math.abs(Q),ue=Vn(Math.floor(ce/60),2),ye=Vn(ce%60,2);g="".concat(Q<0?"+":"-").concat(ue,":").concat(ye)}else g="Z";var ut=""===f?"":"T",Lt=[Vn(r.getHours(),2),Vn(r.getMinutes(),2),Vn(r.getSeconds(),2)].join(C);f="".concat(f).concat(ut).concat(Lt).concat(g)}return f}(t,{representation:"date"})}deserialize(t){if("string"==typeof t){if(!t)return null;const i=RL(t);if(this.isValid(i))return i}return super.deserialize(t)}isDateInstance(t){return e2(t)}isValid(t){return t2(t)}invalid(){return new Date(NaN)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DR,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const G6={parse:{dateInput:"P"},display:{dateInput:"P",monthYearLabel:"LLL uuuu",dateA11yLabel:"PP",monthYearA11yLabel:"LLLL uuuu"}};let W6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Ju,useClass:$6,deps:[DR]}]}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:qT,useValue:G6}],imports:[W6]}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hr,vo,Xy,YT,gR,yR,vo]}),n})();const t5={provide:new u.OlP("mat-select-scroll-strategy"),deps:[Up],useFactory:function e5(n){return()=>n.scrollStrategies.reposition()}};let c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[t5],imports:[hr,jT,KF,vo,BT,uE,KF,vo]}),n})();function zR(n,e,t){var i=function n5(n,e){return 1===e&&n.one?n.one:e>=2&&e<=4&&n.twoFour?n.twoFour:n.other}(n,e);return i[t].replace("{{count}}",String(e))}function $R(n){var e="";return"almost"===n&&(e="takmer"),"about"===n&&(e="pribli\u017ene"),e.length>0?e+" ":""}function GR(n){var e="";return"lessThan"===n&&(e="menej ne\u017e"),"over"===n&&(e="viac ne\u017e"),e.length>0?e+" ":""}var s5={xSeconds:{one:{present:"sekunda",past:"sekundou",future:"sekundu"},twoFour:{present:"{{count}} sekundy",past:"{{count}} sekundami",future:"{{count}} sekundy"},other:{present:"{{count}} sek\xfand",past:"{{count}} sekundami",future:"{{count}} sek\xfand"}},halfAMinute:{other:{present:"pol min\xfaty",past:"pol min\xfatou",future:"pol min\xfaty"}},xMinutes:{one:{present:"min\xfata",past:"min\xfatou",future:"min\xfatu"},twoFour:{present:"{{count}} min\xfaty",past:"{{count}} min\xfatami",future:"{{count}} min\xfaty"},other:{present:"{{count}} min\xfat",past:"{{count}} min\xfatami",future:"{{count}} min\xfat"}},xHours:{one:{present:"hodina",past:"hodinou",future:"hodinu"},twoFour:{present:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{present:"{{count}} hod\xedn",past:"{{count}} hodinami",future:"{{count}} hod\xedn"}},xDays:{one:{present:"de\u0148",past:"d\u0148om",future:"de\u0148"},twoFour:{present:"{{count}} dni",past:"{{count}} d\u0148ami",future:"{{count}} dni"},other:{present:"{{count}} dn\xed",past:"{{count}} d\u0148ami",future:"{{count}} dn\xed"}},xWeeks:{one:{present:"t\xfd\u017ede\u0148",past:"t\xfd\u017ed\u0148om",future:"t\xfd\u017ede\u0148"},twoFour:{present:"{{count}} t\xfd\u017edne",past:"{{count}} t\xfd\u017ed\u0148ami",future:"{{count}} t\xfd\u017edne"},other:{present:"{{count}} t\xfd\u017ed\u0148ov",past:"{{count}} t\xfd\u017ed\u0148ami",future:"{{count}} t\xfd\u017ed\u0148ov"}},xMonths:{one:{present:"mesiac",past:"mesiacom",future:"mesiac"},twoFour:{present:"{{count}} mesiace",past:"{{count}} mesiacmi",future:"{{count}} mesiace"},other:{present:"{{count}} mesiacov",past:"{{count}} mesiacmi",future:"{{count}} mesiacov"}},xYears:{one:{present:"rok",past:"rokom",future:"rok"},twoFour:{present:"{{count}} roky",past:"{{count}} rokmi",future:"{{count}} roky"},other:{present:"{{count}} rokov",past:"{{count}} rokmi",future:"{{count}} rokov"}}};var h5={date:tb({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. M. y",short:"d. M. y"},defaultWidth:"full"}),time:tb({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:tb({formats:{full:"{{date}}, {{time}}",long:"{{date}}, {{time}}",medium:"{{date}}, {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function u2(n,e,t){bn(2,arguments);var i=Jh(n,t),r=Jh(e,t);return i.getTime()===r.getTime()}var WR=["nede\u013eu","pondelok","utorok","stredu","\u0161tvrtok","piatok","sobotu"];function d2(n){return 4===n?"'vo' eeee 'o' p":"'v "+WR[n]+" o' p"}var g5={lastWeek:function(e,t,i){var r=e.getUTCDay();return u2(e,t,i)?d2(r):function p5(n){var e=WR[n];switch(n){case 0:case 3:case 6:return"'minul\xfa "+e+" o' p";default:return"'minul\xfd' eeee 'o' p"}}(r)},yesterday:"'v\u010dera o' p",today:"'dnes o' p",tomorrow:"'zajtra o' p",nextWeek:function(e,t,i){var r=e.getUTCDay();return u2(e,t,i)?d2(r):function m5(n){var e=WR[n];switch(n){case 0:case 4:case 6:return"'bud\xfacu "+e+" o' p";default:return"'bud\xfaci' eeee 'o' p"}}(r)},other:"P"};const z5={code:"sk",formatDistance:function(e,t,i){var r=function r5(n){return["lessThan","about","over","almost"].filter(function(t){return!!n.match(new RegExp("^"+t))})[0]}(e)||"",s=function o5(n){return n.charAt(0).toLowerCase()+n.slice(1)}(e.substring(r.length)),l=s5[s];return null!=i&&i.addSuffix?i.comparison&&i.comparison>0?$R(r)+"o "+GR(r)+zR(l,t,"future"):$R(r)+"pred "+GR(r)+zR(l,t,"past"):$R(r)+GR(r)+zR(l,t,"present")},formatLong:h5,formatRelative:function(e,t,i,r){var s=g5[e];return"function"==typeof s?s(t,i,r):s},localize:{ordinalNumber:function(e,t){return Number(e)+"."},era:ed({values:{narrow:["pred Kr.","po Kr."],abbreviated:["pred Kr.","po Kr."],wide:["pred Kristom","po Kristovi"]},defaultWidth:"wide"}),quarter:ed({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. \u0161tvr\u0165rok","2. \u0161tvr\u0165rok","3. \u0161tvr\u0165rok","4. \u0161tvr\u0165rok"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ed({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],wide:["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"]},defaultWidth:"wide",formattingValues:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],wide:["janu\xe1ra","febru\xe1ra","marca","apr\xedla","m\xe1ja","j\xfana","j\xfala","augusta","septembra","okt\xf3bra","novembra","decembra"]},defaultFormattingWidth:"wide"}),day:ed({values:{narrow:["n","p","u","s","\u0161","p","s"],short:["ne","po","ut","st","\u0161t","pi","so"],abbreviated:["ne","po","ut","st","\u0161t","pi","so"],wide:["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"]},defaultWidth:"wide"}),dayPeriod:ed({values:{narrow:{am:"AM",pm:"PM",midnight:"poln.",noon:"pol.",morning:"r\xe1no",afternoon:"pop.",evening:"ve\u010d.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"poln.",noon:"pol.",morning:"r\xe1no",afternoon:"popol.",evening:"ve\u010der",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"polnoc",noon:"poludnie",morning:"r\xe1no",afternoon:"popoludnie",evening:"ve\u010der",night:"noc"}},defaultWidth:"wide",formattingValues:{narrow:{am:"AM",pm:"PM",midnight:"o poln.",noon:"nap.",morning:"r\xe1no",afternoon:"pop.",evening:"ve\u010d.",night:"v n."},abbreviated:{am:"AM",pm:"PM",midnight:"o poln.",noon:"napol.",morning:"r\xe1no",afternoon:"popol.",evening:"ve\u010der",night:"v noci"},wide:{am:"AM",pm:"PM",midnight:"o polnoci",noon:"napoludnie",morning:"r\xe1no",afternoon:"popoludn\xed",evening:"ve\u010der",night:"v noci"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:FL({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:td({matchPatterns:{narrow:/^(pred Kr\.|pred n\. l\.|po Kr\.|n\. l\.)/i,abbreviated:/^(pred Kr\.|pred n\. l\.|po Kr\.|n\. l\.)/i,wide:/^(pred Kristom|pred na[\u0161s][\xedi]m letopo[\u010dc]tom|po Kristovi|n[\xe1a][\u0161s]ho letopo[\u010dc]tu)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^pr/i,/^(po|n)/i]},defaultParseWidth:"any"}),quarter:td({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\. [\u0161s]tvr[\u0165t]rok/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:td({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|m[\xe1a]j|j[\xfau]n|j[\xfau]l|aug|sep|okt|nov|dec)/i,wide:/^(janu[\xe1a]ra?|febru[\xe1a]ra?|(marec|marca)|apr[\xedi]la?|m[\xe1a]ja?|j[\xfau]na?|j[\xfau]la?|augusta?|(september|septembra)|(okt[\xf3o]ber|okt[\xf3o]bra)|(november|novembra)|(december|decembra))/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^m[\xe1a]j/i,/^j[\xfau]n/i,/^j[\xfau]l/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:td({matchPatterns:{narrow:/^[npus\u0161p]/i,short:/^(ne|po|ut|st|\u0161t|pi|so)/i,abbreviated:/^(ne|po|ut|st|\u0161t|pi|so)/i,wide:/^(nede[\u013el]a|pondelok|utorok|streda|[\u0161s]tvrtok|piatok|sobota])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^n/i,/^p/i,/^u/i,/^s/i,/^\u0161/i,/^p/i,/^s/i],any:[/^n/i,/^po/i,/^u/i,/^st/i,/^(\u0161t|stv)/i,/^pi/i,/^so/i]},defaultParseWidth:"any"}),dayPeriod:td({matchPatterns:{narrow:/^(am|pm|(o )?poln\.?|(nap\.?|pol\.?)|r[\xe1a]no|pop\.?|ve[\u010dc]\.?|(v n\.?|noc))/i,abbreviated:/^(am|pm|(o )?poln\.?|(napol\.?|pol\.?)|r[\xe1a]no|pop\.?|ve[\u010dc]er|(v )?noci?)/i,any:/^(am|pm|(o )?polnoci?|(na)?poludnie|r[\xe1a]no|popoludn(ie|\xed|i)|ve[\u010dc]er|(v )?noci?)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^am/i,pm:/^pm/i,midnight:/poln/i,noon:/^(nap|(na)?pol(\.|u))/i,morning:/^r[\xe1a]no/i,afternoon:/^pop/i,evening:/^ve[\u010dc]/i,night:/^(noc|v n\.)/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},$5={parse:{dateInput:"dd.MM.yyyy"},display:{dateInput:"dd.MM.yyyy",monthYearLabel:"MMMM yyyy",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM yyyy"}};let G5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:DR,useValue:z5},{provide:qT,useValue:$5}],imports:[TL,DL,uE,s2,AL,aL,l2,c2,TL,DL,uE,s2,AL,aL,l2,c2]}),n})(),W5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hr,Qa,G5,iF,rF]}),n})();var ef=(()=>((ef=ef||{})[ef.TEXT=0]="TEXT",ef[ef.NUMBER=1]="NUMBER",ef))(),tf=(()=>((tf=tf||{})[tf.INPUT=0]="INPUT",tf[tf.TEXTAREA=1]="TEXTAREA",tf))(),_a=(()=>((_a=_a||{})[_a.BASIC=0]="BASIC",_a[_a.SMALL=1]="SMALL",_a[_a.AUTH=2]="AUTH",_a[_a.ICON=3]="ICON",_a))(),rd=(()=>((rd=rd||{})[rd.FILL=0]="FILL",rd[rd.OUTLINE=1]="OUTLINE",rd))(),od=(()=>((od=od||{})[od.PINK=0]="PINK",od[od.BLACK=1]="BLACK",od))();const _i="assets/icons/",q5={calendar:{light:_i+"calendar.svg",dark:_i+"calendar-fill.svg"},chevron:{left:_i+"chevron-left.svg",right:_i+"chevron-right.svg",down:_i+"chevron-down.svg",up:_i+"chevron-up.svg"},clock:{light:_i+"clock.svg",dark:_i+"clock-fill.svg"},map:{light:_i+"map.svg",dark:_i+"map-fill.svg"},user:{light:_i+"user.svg",dark:_i+"user-fill.svg"},home:{light:_i+"home.svg",dark:_i+"home-fill.svg"},speaker:{light:_i+"speaker.svg",dark:_i+"speaker-fill.svg"},add:{circleDark:_i+"add-circle-fill.svg",circleLight:_i+"add-circle-line.svg",circleNone:_i+"add-fill.svg"},bin:{dark:_i+"delete-bin-fill.svg",pink:_i+"delete-bin-pink.svg"},edit:{dark:_i+"pencil-fill.svg"},highlight:{dark:_i+"star-s-fill-dark.svg",light:_i+"star-s-fill-white.svg"},recurring:{dark:_i+"refresh-fill-dark.svg",light:_i+"refresh-fill-white.svg"},heart:{dark:_i+"heart-fill.svg",pink:_i+"heart-fill-pink.svg",light:_i+"heart.svg"},comment:{dark:_i+"comment-fill.svg",light:_i+"comment.svg"}};var iM,Y5=new Uint8Array(16);function K5(){if(!iM&&!(iM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iM(Y5)}const Z5=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Jo=[],qR=0;qR<256;++qR)Jo.push((qR+256).toString(16).substr(1));const eW=function J5(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Jo[n[e+0]]+Jo[n[e+1]]+Jo[n[e+2]]+Jo[n[e+3]]+"-"+Jo[n[e+4]]+Jo[n[e+5]]+"-"+Jo[n[e+6]]+Jo[n[e+7]]+"-"+Jo[n[e+8]]+Jo[n[e+9]]+"-"+Jo[n[e+10]]+Jo[n[e+11]]+Jo[n[e+12]]+Jo[n[e+13]]+Jo[n[e+14]]+Jo[n[e+15]]).toLowerCase();if(!function Q5(n){return"string"==typeof n&&Z5.test(n)}(t))throw TypeError("Stringified UUID is invalid");return t},nW=function tW(n,e,t){var i=(n=n||{}).random||(n.rng||K5)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return eW(i)};let iW=(()=>{class n{constructor(){this.size="1rem"}set path(t){this._path=t,this.alt=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ui-icon"]],inputs:{path:"path",size:"size"},decls:1,vars:8,consts:[[3,"src","alt"]],template:function(t,i){1&t&&u._UZ(0,"img",0),2&t&&(u.Udp("min-width",i.size)("width",i.size)("height",i.size),u.Q6J("src",i._path,u.LSH)("alt",i.alt))},encapsulation:2}),n})();const h2=function(n){return{"invert-[.85]":n}};function rW(n,e){if(1&n&&u._UZ(0,"ui-icon",9),2&n){const t=u.oxw(3);u.Q6J("ngClass",u.VKq(3,h2,t.disabled))("path",t.icon)("size",t.iconSize)}}const oW=function(n,e){return{"bg-secondary-darkGrey":n,"bg-gradient-to-r from-secondary-pink2 to-secondary-pink":e}};function sW(n,e){if(1&n&&(u.TgZ(0,"div",6),u.YNc(1,rW,1,5,"ui-icon",7),u.TgZ(2,"p",8),u._uU(3),u.qZA()()),2&n){const t=u.oxw(2);u.Q6J("ngClass",u.WLB(3,oW,t.buttonColor===t.UiButtonColor.BLACK,t.buttonColor===t.UiButtonColor.PINK)),u.xp6(1),u.Q6J("ngIf",t.icon),u.xp6(2),u.Oqu(t.buttonText)}}function aW(n,e){if(1&n&&u._UZ(0,"ui-icon",9),2&n){const t=u.oxw(3);u.Q6J("ngClass",u.VKq(3,h2,t.disabled))("path",t.icon)("size",t.iconSize)}}const lW=function(n,e){return{"border-secondary-pink2":n,"border-secondary-darkGrey":e}},cW=function(n,e){return{"text-secondary-pink":n,"text-secondary-darkGrey":e}};function uW(n,e){if(1&n&&(u.TgZ(0,"div",10),u.YNc(1,aW,1,5,"ui-icon",7),u.TgZ(2,"p",11),u._uU(3),u.qZA()()),2&n){const t=u.oxw(2);u.Q6J("ngClass",u.WLB(4,lW,t.buttonColor===t.UiButtonColor.PINK,t.buttonColor===t.UiButtonColor.BLACK)),u.xp6(1),u.Q6J("ngIf",t.icon),u.xp6(1),u.Q6J("ngClass",u.WLB(7,cW,t.buttonColor===t.UiButtonColor.PINK,t.buttonColor===t.UiButtonColor.BLACK)),u.xp6(1),u.hij(" ",t.buttonText," ")}}function dW(n,e){if(1&n&&(u.TgZ(0,"div"),u.ynx(1,1),u.YNc(2,sW,4,6,"div",4),u.YNc(3,uW,4,10,"div",5),u.BQk(),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngSwitch",t.basicButtonType),u.xp6(1),u.Q6J("ngSwitchCase",t.UiBasicButtonType.FILL),u.xp6(1),u.Q6J("ngSwitchCase",t.UiBasicButtonType.OUTLINE)}}function hW(n,e){if(1&n&&(u.TgZ(0,"div",12),u._UZ(1,"img",13),u.TgZ(2,"p"),u._uU(3),u.qZA()()),2&n){const t=u.oxw();u.xp6(3),u.Oqu(t.buttonText)}}function fW(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"p",14),u._uU(2),u.qZA(),u.BQk()),2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.buttonText)}}function pW(n,e){if(1&n&&u._UZ(0,"ui-icon",16),2&n){const t=u.oxw(2);u.Q6J("path",t.icon)("size",t.iconSize)}}function mW(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,pW,1,2,"ui-icon",15),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.icon)}}let f2=(()=>{class n{constructor(){this.iconSize="1.25rem",this.disabled=!1,this.buttonType=_a.BASIC,this.basicButtonType=rd.FILL,this.buttonColor=od.PINK,this.buttonClick=new u.vpe,this.UiButtonType=_a,this.UiBasicButtonType=rd,this.UiButtonColor=od}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ui-button"]],inputs:{buttonText:"buttonText",icon:"icon",iconSize:"iconSize",disabled:"disabled",buttonType:"buttonType",basicButtonType:"basicButtonType",buttonColor:"buttonColor"},outputs:{buttonClick:"buttonClick"},decls:6,vars:6,consts:[[1,"flex",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","flex items-center gap-2 rounded-lg shadow-md border-b border-b-primary-blue px-4 py-2",4,"ngSwitchCase"],["class","flex items-center gap-2 rounded-lg px-4 py-2",3,"ngClass",4,"ngSwitchCase"],["class","flex border bg-primary-white items-center gap-2 rounded-lg px-4 py-2",3,"ngClass",4,"ngSwitchCase"],[1,"flex","items-center","gap-2","rounded-lg","px-4","py-2",3,"ngClass"],[3,"ngClass","path","size",4,"ngIf"],[1,"text-primary-white"],[3,"ngClass","path","size"],[1,"flex","border","bg-primary-white","items-center","gap-2","rounded-lg","px-4","py-2",3,"ngClass"],[3,"ngClass"],[1,"flex","items-center","gap-2","rounded-lg","shadow-md","border-b","border-b-primary-blue","px-4","py-2"],["src","assets/google.svg",1,"w-8","h-8"],[1,"text-primary-blue","font-semibold"],[3,"path","size",4,"ngIf"],[3,"path","size"]],template:function(t,i){1&t&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return i.buttonClick.emit()}),u.ynx(1,1),u.YNc(2,dW,4,3,"div",2),u.YNc(3,hW,4,1,"div",3),u.YNc(4,fW,3,1,"ng-container",2),u.YNc(5,mW,2,1,"div",2),u.BQk(),u.qZA()),2&t&&(u.Q6J("disabled",i.disabled),u.xp6(1),u.Q6J("ngSwitch",i.buttonType),u.xp6(1),u.Q6J("ngSwitchCase",i.UiButtonType.BASIC),u.xp6(1),u.Q6J("ngSwitchCase",i.UiButtonType.AUTH),u.xp6(1),u.Q6J("ngSwitchCase",i.UiButtonType.SMALL),u.xp6(1),u.Q6J("ngSwitchCase",i.UiButtonType.ICON))},dependencies:[Bs,zo,wo,ya,iW],encapsulation:2}),n})();const gW=function(n){return{"bg-primary-white bg-opacity-60":n}};let p2=(()=>{class n{constructor(){this.whitenedBackground=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ui-loading"]],inputs:{whitenedBackground:"whitenedBackground"},decls:2,vars:3,consts:[[1,"flex","w-full","h-full","absolute","top-0","left-0","items-center","justify-center",3,"ngClass"],["src","assets/loading.gif",1,"w-8","h-8"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.qZA()),2&t&&u.Q6J("ngClass",u.VKq(1,gW,i.whitenedBackground))},dependencies:[Bs],encapsulation:2}),n})();const m2={required:"Toto pole je povinn\xe9.",invalidValue:"Nespr\xe1vna hodnota.",max:"Pr\xedli\u0161 vysok\xe9 \u010d\xedslo.",dateFromThePast:"D\xe1tumy z minulosti s\xfa neplatn\xe9.",maxlength:"Presiahnut\xfd maxim\xe1lny po\u010det znakov."},_W={},vW=["element"];let yW=(()=>{class n{constructor(t,i,r){this.ngControl=t,this.formGroupDirective=i,this.cdr=r,this.subscription=new Ku.w0,this.ngControl.valueAccessor=this}get control(){return this.ngControl.control}ngAfterViewInit(){if(!this.control)return;const t=this.formGroupDirective.ngSubmit.asObservable(),i=[this.control.statusChanges,t];this.element&&i.push(nE(this.element.nativeElement,"blur")),this.subscription.add((0,fr.T)(...i).subscribe(()=>{this.errorMessage="INVALID"===this.control.status?this.getErrorMessage():"",this.cdr.markForCheck()})),this.subscription.add(t.subscribe(()=>this.control.markAsTouched()))}ngOnDestroy(){this.subscription.unsubscribe()}getErrorMessage(){const t=Object.keys(this.control.errors||{}).shift(),i=_W[this.ngControl.name||""];return i&&i[t]?i[t]:m2[t]?m2[t]:""}registerOnChange(t){this.onChange=t}registerOnTouched(t){}writeValue(t){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xu,2),u.Y36(Ky),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,i){if(1&t&&u.Gf(vW,7),2&t){let r;u.iGM(r=u.CRH())&&(i.element=r.first)}}}),n})();function bW(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"input",3,4),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("formControl",t.control)("placeholder",t.placeholder)("value",t.inputText)}}function wW(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"input",5,4),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("formControl",t.control)("placeholder",t.placeholder)("value",t.inputText)}}function DW(n,e){if(1&n&&(u.ynx(0)(1,1),u.YNc(2,bW,3,3,"ng-container",2),u.YNc(3,wW,3,3,"ng-container",2),u.BQk()()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngSwitch",t.formatType),u.xp6(1),u.Q6J("ngSwitchCase",t.UiInputFormatType.TEXT),u.xp6(1),u.Q6J("ngSwitchCase",t.UiInputFormatType.NUMBER)}}function EW(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"textarea",6,7),u.BQk()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("formControl",t.control)}}let CW=(()=>{class n extends yW{constructor(){super(...arguments),this.placeholder="",this.label="",this.formatType=ef.TEXT,this.inputType=tf.INPUT,this.UiInputFormatType=ef,this.UiInputInputType=tf}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["ui-input"]],inputs:{placeholder:"placeholder",label:"label",formatType:"formatType",inputType:"inputType"},features:[u.qOj],decls:8,vars:5,consts:[[1,"w-full"],[3,"ngSwitch"],[4,"ngSwitchCase"],["matInput","",3,"formControl","placeholder","value"],["element",""],["matInput","","type","number",3,"formControl","placeholder","value"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10",3,"formControl"],["element","","autosize","cdkTextareaAutosize"]],template:function(t,i){1&t&&(u.TgZ(0,"mat-form-field",0)(1,"mat-label"),u._uU(2),u.qZA(),u.ynx(3,1),u.YNc(4,DW,4,3,"ng-container",2),u.YNc(5,EW,4,1,"ng-container",2),u.BQk(),u.TgZ(6,"mat-error"),u._uU(7),u.qZA()()),2&t&&(u.xp6(2),u.Oqu(i.label),u.xp6(1),u.Q6J("ngSwitch",i.inputType),u.xp6(1),u.Q6J("ngSwitchCase",i.UiInputInputType.INPUT),u.xp6(1),u.Q6J("ngSwitchCase",i.UiInputInputType.TEXTAREA),u.xp6(2),u.Oqu(i.errorMessage))},dependencies:[wo,ya,O$,I$,SR,_$,M$,DT,Yk,Bk,Zk],styles:["ui-input .mat-mdc-floating-label{font-weight:500}ui-input .mat-mdc-form-field-infix{font-weight:600}ui-input .mat-mdc-form-field-error{font-weight:700}ui-input .mdc-text-field--filled{background-color:transparent!important}\n"],encapsulation:2}),n})();function xW(n,e){if(1&n&&(u.TgZ(0,"h1",2),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.title)}}const IW=["*"];let TW=(()=>{class n{constructor(){this.title=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ui-modal"]],inputs:{title:"title"},ngContentSelectors:IW,decls:3,vars:1,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content",""],["mat-dialog-title",""]],template:function(t,i){1&t&&(u.F$t(),u.YNc(0,xW,2,1,"h1",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA()),2&t&&u.Q6J("ngIf",i.title)},dependencies:[zo,Uz,jz],encapsulation:2}),n})();function MW(n,e){1&n&&u._UZ(0,"ui-loading")}let SW=(()=>{class n extends rR{constructor(t){super(),this.dialogRef=t,this.UiButtonColor=od,this.UiBasicButtonType=rd,this.isLoading=!1,this.initForm()}initForm(){this.form=this.fb.group({name:["",Nk.required]})}createTodoList(){if(!this.form.valid)return;this.isLoading=!0;const t={id:nW(),name:this.form.value.name,todos:[]};this.facade.createTodoList(t,()=>this.dialogRef.close())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(TR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:7,vars:5,consts:[["title","Vytvori\u0165 TODO list"],[3,"formGroup"],["formControlName","name","label","N\xe1zov zoznamu"],[1,"flex","gap-2","mb-2"],["buttonText","Vytvori\u0165",3,"buttonColor","buttonClick"],["buttonText","Zru\u0161i\u0165",3,"buttonColor","basicButtonType","buttonClick"],[4,"ngIf"]],template:function(t,i){1&t&&(u.TgZ(0,"ui-modal",0)(1,"form",1),u._UZ(2,"ui-input",2),u.TgZ(3,"div",3)(4,"ui-button",4),u.NdJ("buttonClick",function(){return i.createTodoList()}),u.qZA(),u.TgZ(5,"ui-button",5),u.NdJ("buttonClick",function(){return i.dialogRef.close()}),u.qZA()()(),u.YNc(6,MW,1,0,"ui-loading",6),u.qZA()),2&t&&(u.xp6(1),u.Q6J("formGroup",i.form),u.xp6(3),u.Q6J("buttonColor",i.UiButtonColor.BLACK),u.xp6(1),u.Q6J("buttonColor",i.UiButtonColor.BLACK)("basicButtonType",i.UiBasicButtonType.OUTLINE),u.xp6(1),u.Q6J("ngIf",i.isLoading))},dependencies:[zo,f2,p2,CW,TW,BN,Bk,xN,Ky,Jk],encapsulation:2}),n})();function AW(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",7)(1,"div",8),u._UZ(2,"img",9),u.TgZ(3,"p"),u._uU(4),u.qZA()(),u.TgZ(5,"ui-button",10),u.NdJ("buttonClick",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.signOut())}),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("src",t.signedInUser.photoURL,u.LSH),u.xp6(2),u.Oqu(t.signedInUser.displayName),u.xp6(1),u.Q6J("buttonType",t.UiButtonType.SMALL)}}function kW(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14)(1,"p",15),u._uU(2,"Tvoje TODO listy"),u.qZA(),u.TgZ(3,"ui-button",16),u.NdJ("buttonClick",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r.createTodoList())}),u.qZA()()}}function RW(n,e){if(1&n&&(u.TgZ(0,"div",17)(1,"p",18),u._uU(2),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name)}}function OW(n,e){if(1&n&&(u.TgZ(0,"div",11),u.YNc(1,kW,4,0,"div",12),u.YNc(2,RW,3,1,"div",13),u.qZA()),2&n){const t=u.oxw(),i=u.MAs(11);u.xp6(1),u.Q6J("ngIf",t.todoLists)("ngIfElse",i),u.xp6(1),u.Q6J("ngForOf",t.todoLists)}}function PW(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"p",20),u._uU(2,"Moment\xe1lne nie si prihl\xe1sen\xfd/\xe1."),u.qZA(),u.TgZ(3,"ui-button",21),u.NdJ("buttonClick",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.signInWithGoogle())}),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("buttonType",t.UiButtonType.AUTH)}}function NW(n,e){1&n&&u._UZ(0,"ui-loading",22),2&n&&u.Q6J("whitenedBackground",!0)}const FW=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class n extends rR{constructor(){super(),this.UiButtonType=_a,this.Icons=q5,this.md=(0,u.f3M)(MR),this.subscriptions.add(this.facade.getSignedInUser$.subscribe(t=>this.signedInUser=t?.user)),this.subscriptions.add(this.facade.getTodoLists$.subscribe(t=>this.todoLists=t))}ngOnInit(){this.todoLists||this.facade.fetchTodoLists()}signInWithGoogle(){this.facade.signInWithGoogle()}signOut(){this.facade.signOutWithGoogle()}createTodoList(){this.md.open(SW)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["todoee-home-component"]],features:[u.qOj],decls:12,vars:3,consts:[[1,"flex","justify-between","border-b","border-secondary-lightGrey","shadow-lg","rounded-lg","p-8"],[1,"flex","flex-col"],[1,"font-title","text-h2"],["class","flex flex-col items-end",4,"ngIf"],["class","flex flex-col gap-4 p-8 items-center justify-center",4,"ngIf","ngIfElse"],["signInTemplate",""],["loadingTemplate",""],[1,"flex","flex-col","items-end"],[1,"flex","items-center","gap-2"],["referrerpolicy","no-referrer",1,"rounded-full","w-10","h-10","border-2","border-secondary-lightGrey","shadow-md",3,"src"],["buttonText","Odhl\xe1si\u0165 sa",3,"buttonType","buttonClick"],[1,"flex","flex-col","gap-4","p-8","items-center","justify-center"],["class","flex items-center justify-between w-full",4,"ngIf","ngIfElse"],["class","border border-secondary-lightGrey rounded-md shadow-md p-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-h4"],["buttonText","Vytvori\u0165 TODO list",3,"buttonClick"],[1,"border","border-secondary-lightGrey","rounded-md","shadow-md","p-4"],[1,"font-medium"],[1,"h-full","w-full","justify-center","flex","flex-col","gap-4","items-center","text-center","absolute","top-0","left-0"],[1,"lg:text-h3","md:text-h4"],["buttonText","Prihl\xe1s sa cez Google",3,"buttonType","buttonClick"],[3,"whitenedBackground"]],template:function(t,i){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"p",2),u._uU(3,"TODOee"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"V\u0161etko, \u010do treba urobi\u0165 na jednom mieste"),u.qZA()(),u.YNc(6,AW,6,3,"div",3),u.qZA(),u.YNc(7,OW,3,3,"div",4),u.YNc(8,PW,4,1,"ng-template",null,5,u.W1O),u.YNc(10,NW,1,1,"ng-template",null,6,u.W1O)),2&t){const r=u.MAs(9);u.xp6(6),u.Q6J("ngIf",i.signedInUser),u.xp6(1),u.Q6J("ngIf",i.signedInUser)("ngIfElse",r)}},dependencies:[Ua,zo,f2,p2],encapsulation:2}),n})()}];let LW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[XP.forRoot(FW),XP]}),n})();const VW_firebase={apiKey:"AIzaSyD5pA4i2Ujtx_6dvr723b_nUuZcxoKO-Xg",authDomain:"todoee-5101b.firebaseapp.com",projectId:"todoee-5101b",storageBucket:"todoee-5101b.appspot.com",messagingSenderId:"978237676912",appId:"1:978237676912:web:d9fd0d7d4801de9d1743b5",measurementId:"G-0KG8REL59R"};function g2(n){return new u.vHH(3e3,!1)}function Hp(n){switch(n.length){case 0:return new cE;case 1:return n[0];default:return new tL(n)}}function _2(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,f=null;if(e.forEach(g=>{const y=g.get("offset"),C=y==l,T=C&&f||new Map;g.forEach((U,W)=>{let Q=W,ce=U;if("offset"!==W)switch(Q=n.normalizePropertyName(Q,r),ce){case xR:ce=t.get(W);break;case Qh:ce=i.get(W);break;default:ce=n.normalizeStyleValue(W,Q,ce,r)}T.set(Q,ce)}),C||s.push(T),f=T,l=y}),r.length)throw function l8(n){return new u.vHH(3502,!1)}();return s}function YR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&KR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&KR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&KR(t,"destroy",n)))}}function KR(n,e,t){const s=ZR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function ZR(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function La(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function v2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const b8=(()=>typeof document>"u"?null:document.documentElement)();function QR(n){const e=n.parentNode||n.host||null;return e===b8?null:e}let a_=null,y2=!1;function b2(n,e){for(;e;){if(e===n)return!0;e=QR(e)}return!1}function w2(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let D2=(()=>{class n{validateStyleProperty(t){return function D8(n){a_||(a_=function E8(){return typeof document<"u"?document.body:null}()||{},y2=!!a_.style&&"WebkitAppearance"in a_.style);let e=!0;return a_.style&&!function w8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in a_.style,!e&&y2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in a_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return b2(t,i)}getParentElement(t){return QR(t)}query(t,i,r){return w2(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,f=[],g){return new cE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),XR=(()=>{class n{}return n.NOOP=new D2,n})();const C8=1e3,JR="ng-enter",rM="ng-leave",oM="ng-trigger",sM=".ng-trigger",C2="ng-animating",eO=".ng-animating";function nf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tO(parseFloat(e[1]),e[2])}function tO(n,e){return"s"===e?n*C8:n}function aM(n,e,t){return n.hasOwnProperty("duration")?n:function I8(n,e,t){let r,s=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(g2()),{duration:0,delay:0,easing:""};r=tO(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(s=tO(parseFloat(g),f[4]));const y=f[5];y&&(l=y)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function BW(){return new u.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function UW(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,g2())}return{duration:r,delay:s,easing:l}}(n,e,t)}function fE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function x2(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function sd(n,e,t){e.forEach((i,r)=>{const s=iO(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function l_(n,e){e.forEach((t,i)=>{const r=iO(i);n.style[r]=""})}function pE(n){return Array.isArray(n)?1==n.length?n[0]:XF(n):n}const nO=new RegExp("{{\\s*(.+?)\\s*}}","g");function T2(n){let e=[];if("string"==typeof n){let t;for(;t=nO.exec(n);)e.push(t[1]);nO.lastIndex=0}return e}function mE(n,e,t){const i=n.toString(),r=i.replace(nO,(s,l)=>{let f=e[l];return null==f&&(t.push(function HW(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function lM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const S8=/-+([a-z0-9])/g;function iO(n){return n.replace(S8,(...e)=>e[1].toUpperCase())}function Va(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function zW(n){return new u.vHH(3004,!1)}()}}function M2(n,e){return window.getComputedStyle(n)[e]}const cM="*";function R8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function O8(n,e,t){if(":"==n[0]){const g=function P8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function r8(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function n8(n){return new u.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(S2(r,l));"<"==s[0]&&!(r==cM&&l==cM)&&e.push(S2(l,r))}(i,t,e)):t.push(n),t}const uM=new Set(["true","1"]),dM=new Set(["false","0"]);function S2(n,e){const t=uM.has(n)||dM.has(n),i=uM.has(e)||dM.has(e);return(r,s)=>{let l=n==cM||n==r,f=e==cM||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?uM.has(n):dM.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?uM.has(e):dM.has(e)),l&&f}}const N8=new RegExp("s*:selfs*,?","g");function rO(n,e,t,i){return new F8(n).build(e,t,i)}class F8{constructor(e){this._driver=e}build(e,t,i){const r=new B8(t);return this._resetContextStyleTimingState(r),Va(this,pE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function GW(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,y=g.name;y.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,s.push(this.visitState(g,t))}),g.name=y}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,l.push(g)}else t.errors.push(function WW(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{T2(g).forEach(y=>{l.hasOwnProperty(y)||s.add(y)})})}),s.size&&(lM(s.values()),t.errors.push(function qW(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Va(this,pE(e.animation),t);return{type:1,matchers:R8(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:c_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Va(this,i,t)),options:c_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const f=Va(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:s,options:c_(e.options)}}visitAnimate(e,t){const i=function j8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oO(aM(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=oO(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=aM(t,e);return oO(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:vr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,f=!1;if(!l){f=!0;const y={};i.easing&&(y.easing=i.easing),l=vr(y)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Qh?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(x2(f));let s=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!s))for(let g of f.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const y=t.collectedStyles.get(t.currentQuerySelector),C=y.get(g);let T=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function KW(n,e,t,i,r){return new u.vHH(3010,!1)}()),T=!1),s=C.startTime),T&&y.set(g,{startTime:s,endTime:r}),t.options&&function M8(n,e,t){const i=e.params||{},r=T2(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function jW(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ZW(){return new u.vHH(3011,!1)}()),i;let s=0;const l=[];let f=!1,g=!1,y=0;const C=e.steps.map(ye=>{const Ce=this._makeStyleAst(ye,t);let Ee=null!=Ce.offset?Ce.offset:function U8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ce.styles),He=0;return null!=Ee&&(s++,He=Ce.offset=Ee),g=g||He<0||He>1,f=f||He<y,y=He,l.push(He),Ce});g&&t.errors.push(function QW(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function XW(){return new u.vHH(3200,!1)}());const T=e.steps.length;let U=0;s>0&&s<T?t.errors.push(function JW(){return new u.vHH(3202,!1)}()):0==s&&(U=1/(T-1));const W=T-1,Q=t.currentTime,ce=t.currentAnimateTimings,ue=ce.duration;return C.forEach((ye,Ce)=>{const Ee=U>0?Ce==W?1:U*Ce:l[Ce],He=Ee*ue;t.currentTime=Q+ce.delay+He,ce.duration=He,this._validateStyleAst(ye,t),ye.offset=Ee,i.styles.push(ye)}),i}visitReference(e,t){return{type:8,animation:Va(this,pE(e.animation),t),options:c_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:c_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:c_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function L8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(N8,"")),n=n.replace(/@\*/g,sM).replace(/@\w+/g,t=>sM+"-"+t.slice(1)).replace(/:animating/g,eO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,La(t.collectedStyles,t.currentQuerySelector,new Map);const f=Va(this,pE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:c_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e8(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:aM(e.timings,t.errors,!0);return{type:12,animation:Va(this,pE(e.animation),t),timings:i,options:null}}}class B8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function c_(n){return n?(n=fE(n)).params&&(n.params=function V8(n){return n?fE(n):null}(n.params)):n={},n}function oO(n,e,t){return{duration:n,delay:e,easing:t}}function sO(n,e,t,i,r,s,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:f}}class hM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $8=new RegExp(":enter","g"),W8=new RegExp(":leave","g");function aO(n,e,t,i,r,s=new Map,l=new Map,f,g,y=[]){return(new q8).buildKeyframes(n,e,t,i,r,s,l,f,g,y)}class q8{buildKeyframes(e,t,i,r,s,l,f,g,y,C=[]){y=y||new hM;const T=new lO(e,t,y,r,s,C,[]);T.options=g;const U=g.delay?nf(g.delay):0;T.currentTimeline.delayNextStep(U),T.currentTimeline.setStyles([l],null,T.errors,g),Va(this,i,T);const W=T.timelines.filter(Q=>Q.containsAnimation());if(W.length&&f.size){let Q;for(let ce=W.length-1;ce>=0;ce--){const ue=W[ce];if(ue.element===t){Q=ue;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([f],null,T.errors,g)}return W.length?W.map(Q=>Q.buildKeyframes()):[sO(t,[],[],[],0,U,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:nf(mE(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?nf(i.duration):null,f=null!=i.delay?nf(i.delay):null;return 0!==l&&e.forEach(g=>{const y=t.appendInstructionToTimeline(g,l,f);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Va(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fM);const l=nf(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Va(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?nf(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),Va(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return aM(t.params?mE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*s),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?nf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fM);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((y,C)=>{t.currentQueryIndex=C;const T=t.createSubContext(e.options,y);s&&T.delayNextStep(s),y===t.element&&(g=T.currentTimeline),Va(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const T=C.currentTime;Va(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const fM={};class lO{constructor(e,t,i,r,s,l,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new pM(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=nf(i.duration)),null!=i.delay&&(r.delay=nf(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=mE(s[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new lO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Y8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace($8,"."+this._enterClassName)).replace(W8,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),f.push(...y)}return!s&&0==f.length&&l.push(function t8(n){return new u.vHH(3014,!1)}()),f}}class pM{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new pM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Qh),this._currentKeyframe.set(t,Qh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function K8(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Qh)}else zp(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of l){const y=mE(g,s,i);this._pendingStyles.set(f,y),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Qh),this._updateStyle(f,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const y=zp(f,new Map,this._backFill);y.forEach((C,T)=>{C===xR?e.add(T):C===Qh&&t.add(T)}),i||y.set("offset",g/this.duration),r.push(y)});const s=e.size?lM(e.values()):[],l=t.size?lM(t.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return sO(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class Y8 extends pM{constructor(e,t,i,r,s,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,f=t/l,g=zp(e[0]);g.set("offset",0),s.push(g);const y=zp(e[0]);y.set("offset",R2(f)),s.push(y);const C=e.length-1;for(let T=1;T<=C;T++){let U=zp(e[T]);const W=U.get("offset");U.set("offset",R2((t+W*i)/l)),s.push(U)}i=l,t=0,r="",e=s}return sO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function R2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cO{}const Z8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q8 extends cO{normalizePropertyName(e,t){return iO(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(Z8.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function $W(n,e){return new u.vHH(3005,!1)}())}return l+s}}function O2(n,e,t,i,r,s,l,f,g,y,C,T,U){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:f,queriedElements:g,preStyleProps:y,postStyleProps:C,totalTime:T,errors:U}}const uO={};class P2{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function X8(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,f,g,y,C){const T=[],U=this.ast.options&&this.ast.options.params||uO,Q=this.buildStyles(i,f&&f.params||uO,T),ce=g&&g.params||uO,ue=this.buildStyles(r,ce,T),ye=new Set,Ce=new Map,Ee=new Map,He="void"===r,ot={params:J8(ce,U),delay:this.ast.options?.delay},ut=C?[]:aO(e,t,this.ast.animation,s,l,Q,ue,ot,y,T);let Lt=0;if(ut.forEach(xi=>{Lt=Math.max(xi.duration+xi.delay,Lt)}),T.length)return O2(t,this._triggerName,i,r,He,Q,ue,[],[],Ce,Ee,Lt,T);ut.forEach(xi=>{const oo=xi.element,$p=La(Ce,oo,new Set);xi.preStyleProps.forEach(Ba=>$p.add(Ba));const Rc=La(Ee,oo,new Set);xi.postStyleProps.forEach(Ba=>Rc.add(Ba)),oo!==t&&ye.add(oo)});const Sn=lM(ye.values());return O2(t,this._triggerName,i,r,He,Q,ue,ut,Sn,Ce,Ee,Lt)}}function J8(n,e){const t=fE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eq{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=fE(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,f)=>{l&&(l=mE(l,r,t));const g=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,g,l,t),i.set(f,l)})}),i}}class nq{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eq(r.style,r.options&&r.options.params||{},i))}),N2(this.states,"true","1"),N2(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new P2(e,r,this.states))}),this.fallbackTransition=function iq(n,e,t){return new P2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function N2(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rq=new hM;class oq{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=rO(this._driver,t,i,[]);if(i.length)throw function c8(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=_2(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const f=new Map;if(s?(l=aO(this._driver,t,s,JR,rM,new Map,new Map,i,rq,r),l.forEach(C=>{const T=La(f,C.element,new Map);C.postStyleProps.forEach(U=>T.set(U,null))})):(r.push(function u8(){return new u.vHH(3300,!1)}()),l=[]),r.length)throw function d8(n){return new u.vHH(3504,!1)}();f.forEach((C,T)=>{C.forEach((U,W)=>{C.set(W,this._driver.computeStyle(T,W,Qh))})});const y=Hp(l.map(C=>{const T=f.get(C.element);return this._buildPlayer(C,new Map,T)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function h8(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=ZR(t,"","","");return YR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const F2="ng-animate-queued",dO="ng-animate-disabled",uq=[],L2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cl="__ng_removed";class hO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function mq(n){return n??null}(i?e.value:e),i){const s=fE(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const gE="void",fO=new hO(gE);class hq{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function f8(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function p8(n){return new u.vHH(3303,!1)}();if(!function gq(n){return"start"==n||"done"==n}(i))throw function m8(n,e){return new u.vHH(3400,!1)}();const s=La(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const f=La(this._engine.statesByElement,e,new Map);return f.has(t)||(xl(e,oM),xl(e,oM+"-"+t),f.set(t,fO)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(l);g>=0&&s.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function g8(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new pO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(xl(e,oM),xl(e,oM+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const y=new hO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),f.set(t,y),g||(g=fO),y.value!==gE&&g.value===y.value){if(!function yq(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(g.params,y.params)){const ce=[],ue=s.matchStyles(g.value,g.params,ce),ye=s.matchStyles(y.value,y.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{l_(e,ue),sd(e,ye)})}return}const U=La(this._engine.playersByElement,e,[]);U.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let W=s.matchTransition(g.value,y.value,e,y.params),Q=!1;if(!W){if(!r)return;W=s.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:W,fromState:g,toState:y,player:l,isFallbackTransition:Q}),Q||(xl(e,F2),l.onStart(()=>{ob(e,F2)})),l.onDone(()=>{let ce=this.players.indexOf(l);ce>=0&&this.players.splice(ce,1);const ue=this._engine.playersByElement.get(e);if(ue){let ye=ue.indexOf(l);ye>=0&&ue.splice(ye,1)}}),this.players.push(l),U.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,sM,!0);i.forEach(r=>{if(r[Cl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const f=[];if(s.forEach((g,y)=>{if(l.set(y,g.value),this._triggers.has(y)){const C=this.trigger(e,y,gE,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Hp(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const g=this._triggers.get(l).fallbackTransition,y=i.get(l)||fO,C=new hO(gE),T=new pO(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:y,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Cl];(!s||s===L2)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){xl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(f=>{if(f.name==i.triggerName){const g=ZR(s,i.triggerName,i.fromState.value,i.toState.value);g._data=e,YR(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class fq{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const y=i.indexOf(g);i.splice(y+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(mM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!mM(t))return;const s=t[Cl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xl(e,dO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ob(e,dO))}removeNode(e,t,i,r){if(mM(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Cl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return mM(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,sM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Cl];if(t&&t.setForRemoval){if(e[Cl]=L2,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(dO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _8(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new hM,r=[],s=new Map,l=[],f=new Map,g=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(xt=>{C.add(xt);const jt=this.driver.query(xt,".ng-animate-queued",!0);for(let sn=0;sn<jt.length;sn++)C.add(jt[sn])});const T=this.bodyNode,U=Array.from(this.statesByElement.keys()),W=U2(U,this.collectedEnterElements),Q=new Map;let ce=0;W.forEach((xt,jt)=>{const sn=JR+ce++;Q.set(jt,sn),xt.forEach(Un=>xl(Un,sn))});const ue=[],ye=new Set,Ce=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const jt=this.collectedLeaveElements[xt],sn=jt[Cl];sn&&sn.setForRemoval&&(ue.push(jt),ye.add(jt),sn.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Un=>ye.add(Un)):Ce.add(jt))}const Ee=new Map,He=U2(U,Array.from(ye));He.forEach((xt,jt)=>{const sn=rM+ce++;Ee.set(jt,sn),xt.forEach(Un=>xl(Un,sn))}),e.push(()=>{W.forEach((xt,jt)=>{const sn=Q.get(jt);xt.forEach(Un=>ob(Un,sn))}),He.forEach((xt,jt)=>{const sn=Ee.get(jt);xt.forEach(Un=>ob(Un,sn))}),ue.forEach(xt=>{this.processLeaveNode(xt)})});const ot=[],ut=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(sn=>{const Un=sn.player,ao=sn.element;if(ot.push(Un),this.collectedEnterElements.length){const $r=ao[Cl];if($r&&$r.setForMove){if($r.previousTriggersValues&&$r.previousTriggersValues.has(sn.triggerName)){const Xi=$r.previousTriggersValues.get(sn.triggerName),An=this.statesByElement.get(sn.element);if(An&&An.has(sn.triggerName)){const es=An.get(sn.triggerName);es.value=Xi,An.set(sn.triggerName,es)}}return void Un.destroy()}}const va=!T||!this.driver.containsElement(T,ao),yo=Ee.get(ao),Oc=Q.get(ao),Oi=this._buildInstruction(sn,i,Oc,yo,va);if(Oi.errors&&Oi.errors.length)return void ut.push(Oi);if(va)return Un.onStart(()=>l_(ao,Oi.fromStyles)),Un.onDestroy(()=>sd(ao,Oi.toStyles)),void r.push(Un);if(sn.isFallbackTransition)return Un.onStart(()=>l_(ao,Oi.fromStyles)),Un.onDestroy(()=>sd(ao,Oi.toStyles)),void r.push(Un);const _E=[];Oi.timelines.forEach($r=>{$r.stretchStartingKeyframe=!0,this.disabledNodes.has($r.element)||_E.push($r)}),Oi.timelines=_E,i.append(ao,Oi.timelines),l.push({instruction:Oi,player:Un,element:ao}),Oi.queriedElements.forEach($r=>La(f,$r,[]).push(Un)),Oi.preStyleProps.forEach(($r,Xi)=>{if($r.size){let An=g.get(Xi);An||g.set(Xi,An=new Set),$r.forEach((es,Gp)=>An.add(Gp))}}),Oi.postStyleProps.forEach(($r,Xi)=>{let An=y.get(Xi);An||y.set(Xi,An=new Set),$r.forEach((es,Gp)=>An.add(Gp))})});if(ut.length){const xt=[];ut.forEach(jt=>{xt.push(function v8(n,e){return new u.vHH(3505,!1)}())}),ot.forEach(jt=>jt.destroy()),this.reportError(xt)}const Lt=new Map,Sn=new Map;l.forEach(xt=>{const jt=xt.element;i.has(jt)&&(Sn.set(jt,jt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,Lt))}),r.forEach(xt=>{const jt=xt.element;this._getPreviousPlayers(jt,!1,xt.namespaceId,xt.triggerName,null).forEach(Un=>{La(Lt,jt,[]).push(Un),Un.destroy()})});const xi=ue.filter(xt=>H2(xt,g,y)),oo=new Map;B2(oo,this.driver,Ce,y,Qh).forEach(xt=>{H2(xt,g,y)&&xi.push(xt)});const Rc=new Map;W.forEach((xt,jt)=>{B2(Rc,this.driver,new Set(xt),g,xR)}),xi.forEach(xt=>{const jt=oo.get(xt),sn=Rc.get(xt);oo.set(xt,new Map([...jt?.entries()??[],...sn?.entries()??[]]))});const Ba=[],sb=[],so={};l.forEach(xt=>{const{element:jt,player:sn,instruction:Un}=xt;if(i.has(jt)){if(C.has(jt))return sn.onDestroy(()=>sd(jt,Un.toStyles)),sn.disabled=!0,sn.overrideTotalTime(Un.totalTime),void r.push(sn);let ao=so;if(Sn.size>1){let yo=jt;const Oc=[];for(;yo=yo.parentNode;){const Oi=Sn.get(yo);if(Oi){ao=Oi;break}Oc.push(yo)}Oc.forEach(Oi=>Sn.set(Oi,ao))}const va=this._buildAnimation(sn.namespaceId,Un,Lt,s,Rc,oo);if(sn.setRealPlayer(va),ao===so)Ba.push(sn);else{const yo=this.playersByElement.get(ao);yo&&yo.length&&(sn.parentPlayer=Hp(yo)),r.push(sn)}}else l_(jt,Un.fromStyles),sn.onDestroy(()=>sd(jt,Un.toStyles)),sb.push(sn),C.has(jt)&&r.push(sn)}),sb.forEach(xt=>{const jt=s.get(xt.element);if(jt&&jt.length){const sn=Hp(jt);xt.setRealPlayer(sn)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<ue.length;xt++){const jt=ue[xt],sn=jt[Cl];if(ob(jt,rM),sn&&sn.hasAnimation)continue;let Un=[];if(f.size){let va=f.get(jt);va&&va.length&&Un.push(...va);let yo=this.driver.query(jt,eO,!0);for(let Oc=0;Oc<yo.length;Oc++){let Oi=f.get(yo[Oc]);Oi&&Oi.length&&Un.push(...Oi)}}const ao=Un.filter(va=>!va.destroyed);ao.length?_q(this,jt,ao):this.processLeaveNode(jt)}return ue.length=0,Ba.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const jt=this.players.indexOf(xt);this.players.splice(jt,1)}),xt.play()}),Ba}elementContainsData(e,t){let i=!1;const r=t[Cl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!s||s==gE;f.forEach(y=>{y.queued||!g&&y.triggerName!=r||l.push(y)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const y=g.element,C=y!==s,T=La(i,y,[]);this._getPreviousPlayers(y,C,l,f,t.toState).forEach(W=>{const Q=W.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),W.destroy(),T.push(W)})}l_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const f=t.triggerName,g=t.element,y=[],C=new Set,T=new Set,U=t.timelines.map(Q=>{const ce=Q.element;C.add(ce);const ue=ce[Cl];if(ue&&ue.removedBeforeQueried)return new cE(Q.duration,Q.delay);const ye=ce!==g,Ce=function vq(n){const e=[];return j2(n,e),e}((i.get(ce)||uq).map(Lt=>Lt.getRealPlayer())).filter(Lt=>!!Lt.element&&Lt.element===ce),Ee=s.get(ce),He=l.get(ce),ot=_2(this._normalizer,Q.keyframes,Ee,He),ut=this._buildPlayer(Q,ot,Ce);if(Q.subTimeline&&r&&T.add(ce),ye){const Lt=new pO(e,f,ce);Lt.setRealPlayer(ut),y.push(Lt)}return ut});y.forEach(Q=>{La(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function pq(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Q.element,Q))}),C.forEach(Q=>xl(Q,C2));const W=Hp(U);return W.onDestroy(()=>{C.forEach(Q=>ob(Q,C2)),sd(g,t.toStyles)}),T.forEach(Q=>{La(r,Q,[]).push(W)}),W}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new cE(e.duration,e.delay)}}class pO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new cE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>YR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){La(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mM(n){return n&&1===n.nodeType}function V2(n,e){const t=n.style.display;return n.style.display=e??"none",t}function B2(n,e,t,i,r){const s=[];t.forEach(g=>s.push(V2(g)));const l=[];i.forEach((g,y)=>{const C=new Map;g.forEach(T=>{const U=e.computeStyle(y,T,r);C.set(T,U),(!U||0==U.length)&&(y[Cl]=dq,l.push(y))}),n.set(y,C)});let f=0;return t.forEach(g=>V2(g,s[f++])),l}function U2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function l(f){if(!f)return i;let g=s.get(f);if(g)return g;const y=f.parentNode;return g=t.has(y)?y:r.has(y)?i:l(y),s.set(f,g),g}return e.forEach(f=>{const g=l(f);g!==i&&t.get(g).push(f)}),t}function xl(n,e){n.classList?.add(e)}function ob(n,e){n.classList?.remove(e)}function _q(n,e,t){Hp(t).onDone(()=>n.processLeaveNode(e))}function j2(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof tL?j2(i.players,e):e.push(i)}}function H2(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class gM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new fq(e,t,i),this._timelineEngine=new oq(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const g=[],C=rO(this._driver,s,g,[]);if(g.length)throw function a8(n,e){return new u.vHH(3404,!1)}();f=function tq(n,e,t){return new nq(n,e,t)}(r,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=v2(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,f]=v2(i);return this._timelineEngine.listen(l,t,f,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let wq=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&sd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sd(this._element,this._initialStyles),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(l_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(l_(this._element,this._endStyles),this._endStyles=null),sd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mO(n){let e=null;return n.forEach((t,i)=>{(function Dq(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class z2{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:M2(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Eq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return b2(e,t)}getParentElement(e){return QR(e)}query(e,t,i){return w2(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const y=new Map,C=l.filter(W=>W instanceof z2);(function A8(n,e){return 0===n||0===e})(i,r)&&C.forEach(W=>{W.currentSnapshot.forEach((Q,ce)=>y.set(ce,Q))});let T=function T8(n){return n.length?n[0]instanceof Map?n:n.map(e=>x2(e)):[]}(t).map(W=>zp(W));T=function k8(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(f=>l.set(f,M2(n,f)))}}return e}(e,T,y);const U=function bq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=mO(e[0]),e.length>1&&(i=mO(e[e.length-1]))):e instanceof Map&&(t=mO(e)),t||i?new wq(n,t,i):null}(e,T);return new z2(e,T,g,U)}}let Cq=(()=>{class n extends ZF{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?XF(t):t;return $2(this._renderer,null,i,"register",[r]),new xq(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(X))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xq extends Iz{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Iq(this._id,e,t||{},this._renderer)}}class Iq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return $2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $2(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const G2="@.disabled";let Tq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const f=l?.parentNode(s);f&&l.removeChild(f,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new W2("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,C)),C}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(l,f,t,C.name,C)};return i.data.animation.forEach(g),new Mq(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,f]=s;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(gM),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class W2{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==G2?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Mq extends W2{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==G2?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Sq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Aq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let kq=(()=>{class n extends gM{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(XR),u.LFG(cO),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const q2=[{provide:ZF,useClass:Cq},{provide:cO,useFactory:function Rq(){return new Q8}},{provide:gM,useClass:kq},{provide:u.FYo,useFactory:function Oq(n,e,t){return new Tq(n,e,t)},deps:[pn,gM,u.R0b]}],gO=[{provide:XR,useFactory:()=>new Eq},{provide:u.QbO,useValue:"BrowserAnimations"},...q2],Y2=[{provide:XR,useClass:D2},{provide:u.QbO,useValue:"NoopAnimations"},...q2];let Pq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y2:gO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:gO,imports:[Wl]}),n})(),Nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[SH]}),n.\u0275inj=u.cJS({imports:[Wl,LW,Qa,aB,W5,iF,rF,Pq,Tt.hO.initializeApp(VW_firebase)]}),n})();Sd().bootstrapModule(Nq).catch(n=>console.error(n))},1135:(se,K,M)=>{M.d(K,{X:()=>V});var u=M(7579);class V extends u.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Y=super._subscribe(ne);return!Y.closed&&ne.next(this._value),Y}getValue(){const{hasError:ne,thrownError:Y,_value:X}=this;if(ne)throw Y;return this._throwIfClosed(),X}next(ne){super.next(this._value=ne)}}},9751:(se,K,M)=>{M.d(K,{y:()=>oe});var u=M(930),V=M(727),O=M(8822),ne=M(9635),Y=M(2416),X=M(576),re=M(2806);let oe=(()=>{class q{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ze=new q;return Ze.source=this,Ze.operator=Me,Ze}subscribe(Me,Ze,st){const be=function z(q){return q&&q instanceof u.Lv||function G(q){return q&&(0,X.m)(q.next)&&(0,X.m)(q.error)&&(0,X.m)(q.complete)}(q)&&(0,V.Nn)(q)}(Me)?Me:new u.Hp(Me,Ze,st);return(0,re.x)(()=>{const{operator:Ae,source:Fe}=this;be.add(Ae?Ae.call(be,Fe):Fe?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ze){Me.error(Ze)}}forEach(Me,Ze){return new(Ze=ee(Ze))((st,be)=>{const Ae=new u.Hp({next:Fe=>{try{Me(Fe)}catch(Le){be(Le),Ae.unsubscribe()}},error:be,complete:st});this.subscribe(Ae)})}_subscribe(Me){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Me)}[O.L](){return this}pipe(...Me){return(0,ne.U)(Me)(this)}toPromise(Me){return new(Me=ee(Me))((Ze,st)=>{let be;this.subscribe(Ae=>be=Ae,Ae=>st(Ae),()=>Ze(be))})}}return q.create=ve=>new q(ve),q})();function ee(q){var ve;return null!==(ve=q??Y.config.Promise)&&void 0!==ve?ve:Promise}},4707:(se,K,M)=>{M.d(K,{t:()=>O});var u=M(7579),V=M(6063);class O extends u.x{constructor(Y=1/0,X=1/0,re=V.l){super(),this._bufferSize=Y,this._windowTime=X,this._timestampProvider=re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=X===1/0,this._bufferSize=Math.max(1,Y),this._windowTime=Math.max(1,X)}next(Y){const{isStopped:X,_buffer:re,_infiniteTimeWindow:oe,_timestampProvider:ee,_windowTime:G}=this;X||(re.push(Y),!oe&&re.push(ee.now()+G)),this._trimBuffer(),super.next(Y)}_subscribe(Y){this._throwIfClosed(),this._trimBuffer();const X=this._innerSubscribe(Y),{_infiniteTimeWindow:re,_buffer:oe}=this,ee=oe.slice();for(let G=0;G<ee.length&&!Y.closed;G+=re?1:2)Y.next(ee[G]);return this._checkFinalizedStatuses(Y),X}_trimBuffer(){const{_bufferSize:Y,_timestampProvider:X,_buffer:re,_infiniteTimeWindow:oe}=this,ee=(oe?1:2)*Y;if(Y<1/0&&ee<re.length&&re.splice(0,re.length-ee),!oe){const G=X.now();let z=0;for(let q=1;q<re.length&&re[q]<=G;q+=2)z=q;z&&re.splice(0,z+1)}}}},7579:(se,K,M)=>{M.d(K,{x:()=>re});var u=M(9751),V=M(727);const ne=(0,M(3888).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=M(8737),X=M(2806);let re=(()=>{class ee extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const q=new oe(this,this);return q.operator=z,q}_throwIfClosed(){if(this.closed)throw new ne}next(z){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(z)}})}error(z){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:q}=this;for(;q.length;)q.shift().error(z)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:q,isStopped:ve,observers:Me}=this;return q||ve?V.Lc:(this.currentObservers=null,Me.push(z),new V.w0(()=>{this.currentObservers=null,(0,Y.P)(Me,z)}))}_checkFinalizedStatuses(z){const{hasError:q,thrownError:ve,isStopped:Me}=this;q?z.error(ve):Me&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return ee.create=(G,z)=>new oe(G,z),ee})();class oe extends re{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===q||q.call(z,G)}error(G){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===q||q.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,q;return null!==(q=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==q?q:V.Lc}}},930:(se,K,M)=>{M.d(K,{Hp:()=>st,Lv:()=>q});var u=M(576),V=M(727),O=M(2416),ne=M(7849),Y=M(5032);const X=ee("C",void 0,void 0);function ee(Re,Se,je){return{kind:Re,value:Se,error:je}}var G=M(3410),z=M(2806);class q extends V.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,V.Nn)(Se)&&Se.add(this)):this.destination=Le}static create(Se,je,We){return new st(Se,je,We)}next(Se){this.isStopped?Fe(function oe(Re){return ee("N",Re,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Fe(function re(Re){return ee("E",void 0,Re)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Fe(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function Me(Re,Se){return ve.call(Re,Se)}class Ze{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:je}=this;if(je.next)try{je.next(Se)}catch(We){be(We)}}error(Se){const{partialObserver:je}=this;if(je.error)try{je.error(Se)}catch(We){be(We)}else be(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(je){be(je)}}}class st extends q{constructor(Se,je,We){let Ue;if(super(),(0,u.m)(Se)||!Se)Ue={next:Se??void 0,error:je??void 0,complete:We??void 0};else{let de;this&&O.config.useDeprecatedNextContext?(de=Object.create(Se),de.unsubscribe=()=>this.unsubscribe(),Ue={next:Se.next&&Me(Se.next,de),error:Se.error&&Me(Se.error,de),complete:Se.complete&&Me(Se.complete,de)}):Ue=Se}this.destination=new Ze(Ue)}}function be(Re){O.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,ne.h)(Re)}function Fe(Re,Se){const{onStoppedNotification:je}=O.config;je&&G.z.setTimeout(()=>je(Re,Se))}const Le={closed:!0,next:Y.Z,error:function Ae(Re){throw Re},complete:Y.Z}},727:(se,K,M)=>{M.d(K,{Lc:()=>X,w0:()=>Y,Nn:()=>re});var u=M(576);const O=(0,M(3888).d)(ee=>function(z){ee(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((q,ve)=>`${ve+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ne=M(8737);class Y{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Me of z)Me.remove(this);else z.remove(this);const{initialTeardown:q}=this;if((0,u.m)(q))try{q()}catch(Me){G=Me instanceof O?Me.errors:[Me]}const{_finalizers:ve}=this;if(ve){this._finalizers=null;for(const Me of ve)try{oe(Me)}catch(Ze){G=G??[],Ze instanceof O?G=[...G,...Ze.errors]:G.push(Ze)}}if(G)throw new O(G)}}add(G){var z;if(G&&G!==this)if(this.closed)oe(G);else{if(G instanceof Y){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ne.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ne.P)(z,G),G instanceof Y&&G._removeParent(this)}}Y.EMPTY=(()=>{const ee=new Y;return ee.closed=!0,ee})();const X=Y.EMPTY;function re(ee){return ee instanceof Y||ee&&"closed"in ee&&(0,u.m)(ee.remove)&&(0,u.m)(ee.add)&&(0,u.m)(ee.unsubscribe)}function oe(ee){(0,u.m)(ee)?ee():ee.unsubscribe()}},2416:(se,K,M)=>{M.d(K,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(se,K,M)=>{M.d(K,{E:()=>V});const V=new(M(9751).y)(Y=>Y.complete())},8996:(se,K,M)=>{M.d(K,{D:()=>Se});var u=M(8421),V=M(5363),O=M(9468),X=M(9751),oe=M(2202),ee=M(576),G=M(9672);function q(je,We){if(!je)throw new Error("Iterable cannot be null");return new X.y(Ue=>{(0,G.f)(Ue,We,()=>{const de=je[Symbol.asyncIterator]();(0,G.f)(Ue,We,()=>{de.next().then(ft=>{ft.done?Ue.complete():Ue.next(ft.value)})},0,!0)})})}var ve=M(3670),Me=M(8239),Ze=M(1144),st=M(6495),be=M(2206),Ae=M(4532),Fe=M(3260);function Se(je,We){return We?function Re(je,We){if(null!=je){if((0,ve.c)(je))return function ne(je,We){return(0,u.Xf)(je).pipe((0,O.R)(We),(0,V.Q)(We))}(je,We);if((0,Ze.z)(je))return function re(je,We){return new X.y(Ue=>{let de=0;return We.schedule(function(){de===je.length?Ue.complete():(Ue.next(je[de++]),Ue.closed||this.schedule())})})}(je,We);if((0,Me.t)(je))return function Y(je,We){return(0,u.Xf)(je).pipe((0,O.R)(We),(0,V.Q)(We))}(je,We);if((0,be.D)(je))return q(je,We);if((0,st.T)(je))return function z(je,We){return new X.y(Ue=>{let de;return(0,G.f)(Ue,We,()=>{de=je[oe.h](),(0,G.f)(Ue,We,()=>{let ft,ct;try{({value:ft,done:ct}=de.next())}catch(Dn){return void Ue.error(Dn)}ct?Ue.complete():Ue.next(ft)},0,!0)}),()=>(0,ee.m)(de?.return)&&de.return()})}(je,We);if((0,Fe.L)(je))return function Le(je,We){return q((0,Fe.Q)(je),We)}(je,We)}throw(0,Ae.z)(je)}(je,We):(0,u.Xf)(je)}},8421:(se,K,M)=>{M.d(K,{Xf:()=>ve});var u=M(655),V=M(1144),O=M(8239),ne=M(9751),Y=M(3670),X=M(2206),re=M(4532),oe=M(6495),ee=M(3260),G=M(576),z=M(7849),q=M(8822);function ve(Re){if(Re instanceof ne.y)return Re;if(null!=Re){if((0,Y.c)(Re))return function Me(Re){return new ne.y(Se=>{const je=Re[q.L]();if((0,G.m)(je.subscribe))return je.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,V.z)(Re))return function Ze(Re){return new ne.y(Se=>{for(let je=0;je<Re.length&&!Se.closed;je++)Se.next(Re[je]);Se.complete()})}(Re);if((0,O.t)(Re))return function st(Re){return new ne.y(Se=>{Re.then(je=>{Se.closed||(Se.next(je),Se.complete())},je=>Se.error(je)).then(null,z.h)})}(Re);if((0,X.D)(Re))return Ae(Re);if((0,oe.T)(Re))return function be(Re){return new ne.y(Se=>{for(const je of Re)if(Se.next(je),Se.closed)return;Se.complete()})}(Re);if((0,ee.L)(Re))return function Fe(Re){return Ae((0,ee.Q)(Re))}(Re)}throw(0,re.z)(Re)}function Ae(Re){return new ne.y(Se=>{(function Le(Re,Se){var je,We,Ue,de;return(0,u.mG)(this,void 0,void 0,function*(){try{for(je=(0,u.KL)(Re);!(We=yield je.next()).done;)if(Se.next(We.value),Se.closed)return}catch(ft){Ue={error:ft}}finally{try{We&&!We.done&&(de=je.return)&&(yield de.call(je))}finally{if(Ue)throw Ue.error}}Se.complete()})})(Re,Se).catch(je=>Se.error(je))})}},6451:(se,K,M)=>{M.d(K,{T:()=>X});var u=M(8189),V=M(8421),O=M(515),ne=M(3269),Y=M(8996);function X(...re){const oe=(0,ne.yG)(re),ee=(0,ne._6)(re,1/0),G=re;return G.length?1===G.length?(0,V.Xf)(G[0]):(0,u.J)(ee)((0,Y.D)(G,oe)):O.E}},9646:(se,K,M)=>{M.d(K,{of:()=>O});var u=M(3269),V=M(8996);function O(...ne){const Y=(0,u.yG)(ne);return(0,V.D)(ne,Y)}},5403:(se,K,M)=>{M.d(K,{Q:()=>O,x:()=>V});var u=M(930);function V(ne,Y,X,re,oe){return new O(ne,Y,X,re,oe)}class O extends u.Lv{constructor(Y,X,re,oe,ee,G){super(Y),this.onFinalize=ee,this.shouldUnsubscribe=G,this._next=X?function(z){try{X(z)}catch(q){Y.error(q)}}:super._next,this._error=oe?function(z){try{oe(z)}catch(q){Y.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){Y.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:X}=this;super.unsubscribe(),!X&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},262:(se,K,M)=>{M.d(K,{K:()=>ne});var u=M(8421),V=M(5403),O=M(4482);function ne(Y){return(0,O.e)((X,re)=>{let G,oe=null,ee=!1;oe=X.subscribe((0,V.x)(re,void 0,void 0,z=>{G=(0,u.Xf)(Y(z,ne(Y)(X))),oe?(oe.unsubscribe(),oe=null,G.subscribe(re)):ee=!0})),ee&&(oe.unsubscribe(),oe=null,G.subscribe(re))})}},4351:(se,K,M)=>{M.d(K,{b:()=>O});var u=M(5577),V=M(576);function O(ne,Y){return(0,V.m)(Y)?(0,u.z)(ne,Y,1):(0,u.z)(ne,1)}},8372:(se,K,M)=>{M.d(K,{b:()=>ne});var u=M(4986),V=M(4482),O=M(5403);function ne(Y,X=u.z){return(0,V.e)((re,oe)=>{let ee=null,G=null,z=null;const q=()=>{if(ee){ee.unsubscribe(),ee=null;const Me=G;G=null,oe.next(Me)}};function ve(){const Me=z+Y,Ze=X.now();if(Ze<Me)return ee=this.schedule(void 0,Me-Ze),void oe.add(ee);q()}re.subscribe((0,O.x)(oe,Me=>{G=Me,z=X.now(),ee||(ee=X.schedule(ve,Y),oe.add(ee))},()=>{q(),oe.complete()},void 0,()=>{G=ee=null}))})}},1884:(se,K,M)=>{M.d(K,{x:()=>ne});var u=M(4671),V=M(4482),O=M(5403);function ne(X,re=u.y){return X=X??Y,(0,V.e)((oe,ee)=>{let G,z=!0;oe.subscribe((0,O.x)(ee,q=>{const ve=re(q);(z||!X(G,ve))&&(z=!1,G=ve,ee.next(q))}))})}function Y(X,re){return X===re}},9300:(se,K,M)=>{M.d(K,{h:()=>O});var u=M(4482),V=M(5403);function O(ne,Y){return(0,u.e)((X,re)=>{let oe=0;X.subscribe((0,V.x)(re,ee=>ne.call(Y,ee,oe++)&&re.next(ee)))})}},4004:(se,K,M)=>{M.d(K,{U:()=>O});var u=M(4482),V=M(5403);function O(ne,Y){return(0,u.e)((X,re)=>{let oe=0;X.subscribe((0,V.x)(re,ee=>{re.next(ne.call(Y,ee,oe++))}))})}},8189:(se,K,M)=>{M.d(K,{J:()=>O});var u=M(5577),V=M(4671);function O(ne=1/0){return(0,u.z)(V.y,ne)}},5577:(se,K,M)=>{M.d(K,{z:()=>oe});var u=M(4004),V=M(8421),O=M(4482),ne=M(9672),Y=M(5403),re=M(576);function oe(ee,G,z=1/0){return(0,re.m)(G)?oe((q,ve)=>(0,u.U)((Me,Ze)=>G(q,Me,ve,Ze))((0,V.Xf)(ee(q,ve))),z):("number"==typeof G&&(z=G),(0,O.e)((q,ve)=>function X(ee,G,z,q,ve,Me,Ze,st){const be=[];let Ae=0,Fe=0,Le=!1;const Re=()=>{Le&&!be.length&&!Ae&&G.complete()},Se=We=>Ae<q?je(We):be.push(We),je=We=>{Me&&G.next(We),Ae++;let Ue=!1;(0,V.Xf)(z(We,Fe++)).subscribe((0,Y.x)(G,de=>{ve?.(de),Me?Se(de):G.next(de)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Ae--;be.length&&Ae<q;){const de=be.shift();Ze?(0,ne.f)(G,Ze,()=>je(de)):je(de)}Re()}catch(de){G.error(de)}}))};return ee.subscribe((0,Y.x)(G,Se,()=>{Le=!0,Re()})),()=>{st?.()}}(q,ve,ee,z)))}},5363:(se,K,M)=>{M.d(K,{Q:()=>ne});var u=M(9672),V=M(4482),O=M(5403);function ne(Y,X=0){return(0,V.e)((re,oe)=>{re.subscribe((0,O.x)(oe,ee=>(0,u.f)(oe,Y,()=>oe.next(ee),X),()=>(0,u.f)(oe,Y,()=>oe.complete(),X),ee=>(0,u.f)(oe,Y,()=>oe.error(ee),X)))})}},5026:(se,K,M)=>{M.d(K,{R:()=>ne});var u=M(4482),V=M(5403);function ne(Y,X){return(0,u.e)(function O(Y,X,re,oe,ee){return(G,z)=>{let q=re,ve=X,Me=0;G.subscribe((0,V.x)(z,Ze=>{const st=Me++;ve=q?Y(ve,Ze,st):(q=!0,Ze),oe&&z.next(ve)},ee&&(()=>{q&&z.next(ve),z.complete()})))}}(Y,X,arguments.length>=2,!0))}},3099:(se,K,M)=>{M.d(K,{B:()=>Y});var u=M(8421),V=M(7579),O=M(930),ne=M(4482);function Y(re={}){const{connector:oe=(()=>new V.x),resetOnError:ee=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=re;return q=>{let ve,Me,Ze,st=0,be=!1,Ae=!1;const Fe=()=>{Me?.unsubscribe(),Me=void 0},Le=()=>{Fe(),ve=Ze=void 0,be=Ae=!1},Re=()=>{const Se=ve;Le(),Se?.unsubscribe()};return(0,ne.e)((Se,je)=>{st++,!Ae&&!be&&Fe();const We=Ze=Ze??oe();je.add(()=>{st--,0===st&&!Ae&&!be&&(Me=X(Re,z))}),We.subscribe(je),!ve&&st>0&&(ve=new O.Hp({next:Ue=>We.next(Ue),error:Ue=>{Ae=!0,Fe(),Me=X(Le,ee,Ue),We.error(Ue)},complete:()=>{be=!0,Fe(),Me=X(Le,G),We.complete()}}),(0,u.Xf)(Se).subscribe(ve))})(q)}}function X(re,oe,...ee){if(!0===oe)return void re();if(!1===oe)return;const G=new O.Hp({next:()=>{G.unsubscribe(),re()}});return(0,u.Xf)(oe(...ee)).subscribe(G)}},5684:(se,K,M)=>{M.d(K,{T:()=>V});var u=M(9300);function V(O){return(0,u.h)((ne,Y)=>O<=Y)}},9468:(se,K,M)=>{M.d(K,{R:()=>V});var u=M(4482);function V(O,ne=0){return(0,u.e)((Y,X)=>{X.add(O.schedule(()=>Y.subscribe(X),ne))})}},3900:(se,K,M)=>{M.d(K,{w:()=>ne});var u=M(8421),V=M(4482),O=M(5403);function ne(Y,X){return(0,V.e)((re,oe)=>{let ee=null,G=0,z=!1;const q=()=>z&&!ee&&oe.complete();re.subscribe((0,O.x)(oe,ve=>{ee?.unsubscribe();let Me=0;const Ze=G++;(0,u.Xf)(Y(ve,Ze)).subscribe(ee=(0,O.x)(oe,st=>oe.next(X?X(ve,st,Ze,Me++):st),()=>{ee=null,q()}))},()=>{z=!0,q()}))})}},5698:(se,K,M)=>{M.d(K,{q:()=>ne});var u=M(515),V=M(4482),O=M(5403);function ne(Y){return Y<=0?()=>u.E:(0,V.e)((X,re)=>{let oe=0;X.subscribe((0,O.x)(re,ee=>{++oe<=Y&&(re.next(ee),Y<=oe&&re.complete())}))})}},2722:(se,K,M)=>{M.d(K,{R:()=>Y});var u=M(4482),V=M(5403),O=M(8421),ne=M(5032);function Y(X){return(0,u.e)((re,oe)=>{(0,O.Xf)(X).subscribe((0,V.x)(oe,()=>oe.complete(),ne.Z)),!oe.closed&&re.subscribe(oe)})}},8505:(se,K,M)=>{M.d(K,{b:()=>Y});var u=M(576),V=M(4482),O=M(5403),ne=M(4671);function Y(X,re,oe){const ee=(0,u.m)(X)||re||oe?{next:X,error:re,complete:oe}:X;return ee?(0,V.e)((G,z)=>{var q;null===(q=ee.subscribe)||void 0===q||q.call(ee);let ve=!0;G.subscribe((0,O.x)(z,Me=>{var Ze;null===(Ze=ee.next)||void 0===Ze||Ze.call(ee,Me),z.next(Me)},()=>{var Me;ve=!1,null===(Me=ee.complete)||void 0===Me||Me.call(ee),z.complete()},Me=>{var Ze;ve=!1,null===(Ze=ee.error)||void 0===Ze||Ze.call(ee,Me),z.error(Me)},()=>{var Me,Ze;ve&&(null===(Me=ee.unsubscribe)||void 0===Me||Me.call(ee)),null===(Ze=ee.finalize)||void 0===Ze||Ze.call(ee)}))}):ne.y}},7414:(se,K,M)=>{M.d(K,{V:()=>ee});var u=M(4986),V=M(1165),O=M(4482),ne=M(8421),Y=M(3888),X=M(5403),re=M(9672);const oe=(0,Y.d)(z=>function(ve=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ve});function ee(z,q){const{first:ve,each:Me,with:Ze=G,scheduler:st=q??u.z,meta:be=null}=(0,V.q)(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==ve&&null==Me)throw new TypeError("No timeout provided.");return(0,O.e)((Ae,Fe)=>{let Le,Re,Se=null,je=0;const We=Ue=>{Re=(0,re.f)(Fe,st,()=>{try{Le.unsubscribe(),(0,ne.Xf)(Ze({meta:be,lastValue:Se,seen:je})).subscribe(Fe)}catch(de){Fe.error(de)}},Ue)};Le=Ae.subscribe((0,X.x)(Fe,Ue=>{Re?.unsubscribe(),je++,Fe.next(Se=Ue),Me>0&&We(Me)},void 0,void 0,()=>{Re?.closed||Re?.unsubscribe(),Se=null})),!je&&We(null!=ve?"number"==typeof ve?ve:+ve-st.now():Me)})}function G(z){throw new oe(z)}},1365:(se,K,M)=>{M.d(K,{M:()=>re});var u=M(4482),V=M(5403),O=M(8421),ne=M(4671),Y=M(5032),X=M(3269);function re(...oe){const ee=(0,X.jO)(oe);return(0,u.e)((G,z)=>{const q=oe.length,ve=new Array(q);let Me=oe.map(()=>!1),Ze=!1;for(let st=0;st<q;st++)(0,O.Xf)(oe[st]).subscribe((0,V.x)(z,be=>{ve[st]=be,!Ze&&!Me[st]&&(Me[st]=!0,(Ze=Me.every(ne.y))&&(Me=null))},Y.Z));G.subscribe((0,V.x)(z,st=>{if(Ze){const be=[st,...ve];z.next(ee?ee(...be):be)}}))})}},4408:(se,K,M)=>{M.d(K,{o:()=>Y});var u=M(727);class V extends u.w0{constructor(re,oe){super()}schedule(re,oe=0){return this}}const O={setInterval(X,re,...oe){const{delegate:ee}=O;return ee?.setInterval?ee.setInterval(X,re,...oe):setInterval(X,re,...oe)},clearInterval(X){const{delegate:re}=O;return(re?.clearInterval||clearInterval)(X)},delegate:void 0};var ne=M(8737);class Y extends V{constructor(re,oe){super(re,oe),this.scheduler=re,this.work=oe,this.pending=!1}schedule(re,oe=0){var ee;if(this.closed)return this;this.state=re;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,oe)),this.pending=!0,this.delay=oe,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(z,this.id,oe),this}requestAsyncId(re,oe,ee=0){return O.setInterval(re.flush.bind(re,this),ee)}recycleAsyncId(re,oe,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return oe;null!=oe&&O.clearInterval(oe)}execute(re,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(re,oe);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,oe){let G,ee=!1;try{this.work(re)}catch(z){ee=!0,G=z||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:re,scheduler:oe}=this,{actions:ee}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ee,this),null!=re&&(this.id=this.recycleAsyncId(oe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(se,K,M)=>{M.d(K,{v:()=>O});var u=M(6063);class V{constructor(Y,X=V.now){this.schedulerActionCtor=Y,this.now=X}schedule(Y,X=0,re){return new this.schedulerActionCtor(this,Y).schedule(re,X)}}V.now=u.l.now;class O extends V{constructor(Y,X=V.now){super(Y,X),this.actions=[],this._active=!1}flush(Y){const{actions:X}=this;if(this._active)return void X.push(Y);let re;this._active=!0;do{if(re=Y.execute(Y.state,Y.delay))break}while(Y=X.shift());if(this._active=!1,re){for(;Y=X.shift();)Y.unsubscribe();throw re}}}},4986:(se,K,M)=>{M.d(K,{P:()=>ne,z:()=>O});var u=M(4408);const O=new(M(7565).v)(u.o),ne=O},6063:(se,K,M)=>{M.d(K,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(se,K,M)=>{M.d(K,{N:()=>Y});var u=M(4408),O=M(7565);const Y=new class ne extends O.v{}(class V extends u.o{constructor(oe,ee){super(oe,ee),this.scheduler=oe,this.work=ee}schedule(oe,ee=0){return ee>0?super.schedule(oe,ee):(this.delay=ee,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ee){return ee>0||this.closed?super.execute(oe,ee):this._execute(oe,ee)}requestAsyncId(oe,ee,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(oe,ee,G):(oe.flush(this),0)}})},3410:(se,K,M)=>{M.d(K,{z:()=>u});const u={setTimeout(V,O,...ne){const{delegate:Y}=u;return Y?.setTimeout?Y.setTimeout(V,O,...ne):setTimeout(V,O,...ne)},clearTimeout(V){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(se,K,M)=>{M.d(K,{h:()=>V});const V=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(se,K,M)=>{M.d(K,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(se,K,M)=>{M.d(K,{_6:()=>X,jO:()=>ne,yG:()=>Y});var u=M(576),V=M(3532);function O(re){return re[re.length-1]}function ne(re){return(0,u.m)(O(re))?re.pop():void 0}function Y(re){return(0,V.K)(O(re))?re.pop():void 0}function X(re,oe){return"number"==typeof O(re)?re.pop():oe}},8737:(se,K,M)=>{function u(V,O){if(V){const ne=V.indexOf(O);0<=ne&&V.splice(ne,1)}}M.d(K,{P:()=>u})},3888:(se,K,M)=>{function u(V){const ne=V(Y=>{Error.call(Y),Y.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}M.d(K,{d:()=>u})},2806:(se,K,M)=>{M.d(K,{O:()=>ne,x:()=>O});var u=M(2416);let V=null;function O(Y){if(u.config.useDeprecatedSynchronousErrorHandling){const X=!V;if(X&&(V={errorThrown:!1,error:null}),Y(),X){const{errorThrown:re,error:oe}=V;if(V=null,re)throw oe}}else Y()}function ne(Y){u.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=Y)}},9672:(se,K,M)=>{function u(V,O,ne,Y=0,X=!1){const re=O.schedule(function(){ne(),X?V.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(V.add(re),!X)return re}M.d(K,{f:()=>u})},4671:(se,K,M)=>{function u(V){return V}M.d(K,{y:()=>u})},1144:(se,K,M)=>{M.d(K,{z:()=>u});const u=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(se,K,M)=>{M.d(K,{D:()=>V});var u=M(576);function V(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},1165:(se,K,M)=>{function u(V){return V instanceof Date&&!isNaN(V)}M.d(K,{q:()=>u})},576:(se,K,M)=>{function u(V){return"function"==typeof V}M.d(K,{m:()=>u})},3670:(se,K,M)=>{M.d(K,{c:()=>O});var u=M(8822),V=M(576);function O(ne){return(0,V.m)(ne[u.L])}},6495:(se,K,M)=>{M.d(K,{T:()=>O});var u=M(2202),V=M(576);function O(ne){return(0,V.m)(ne?.[u.h])}},8239:(se,K,M)=>{M.d(K,{t:()=>V});var u=M(576);function V(O){return(0,u.m)(O?.then)}},3260:(se,K,M)=>{M.d(K,{L:()=>ne,Q:()=>O});var u=M(655),V=M(576);function O(Y){return(0,u.FC)(this,arguments,function*(){const re=Y.getReader();try{for(;;){const{value:oe,done:ee}=yield(0,u.qq)(re.read());if(ee)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(oe)}}finally{re.releaseLock()}})}function ne(Y){return(0,V.m)(Y?.getReader)}},3532:(se,K,M)=>{M.d(K,{K:()=>V});var u=M(576);function V(O){return O&&(0,u.m)(O.schedule)}},4482:(se,K,M)=>{M.d(K,{A:()=>V,e:()=>O});var u=M(576);function V(ne){return(0,u.m)(ne?.lift)}function O(ne){return Y=>{if(V(Y))return Y.lift(function(X){try{return ne(X,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(se,K,M)=>{function u(){}M.d(K,{Z:()=>u})},9635:(se,K,M)=>{M.d(K,{U:()=>O,z:()=>V});var u=M(4671);function V(...ne){return O(ne)}function O(ne){return 0===ne.length?u.y:1===ne.length?ne[0]:function(X){return ne.reduce((re,oe)=>oe(re),X)}}},7849:(se,K,M)=>{M.d(K,{h:()=>O});var u=M(2416),V=M(3410);function O(ne){V.z.setTimeout(()=>{const{onUnhandledError:Y}=u.config;if(!Y)throw ne;Y(ne)})}},4532:(se,K,M)=>{function u(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(K,{z:()=>u})},655:(se,K,M)=>{function ne(Ie,Ve){var $e={};for(var Qe in Ie)Object.prototype.hasOwnProperty.call(Ie,Qe)&&Ve.indexOf(Qe)<0&&($e[Qe]=Ie[Qe]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Qe=Object.getOwnPropertySymbols(Ie);at<Qe.length;at++)Ve.indexOf(Qe[at])<0&&Object.prototype.propertyIsEnumerable.call(Ie,Qe[at])&&($e[Qe[at]]=Ie[Qe[at]])}return $e}function q(Ie,Ve,$e,Qe){return new($e||($e=Promise))(function(Je,qe){function vt(tt){try{Pe(Qe.next(tt))}catch(Rt){qe(Rt)}}function Et(tt){try{Pe(Qe.throw(tt))}catch(Rt){qe(Rt)}}function Pe(tt){tt.done?Je(tt.value):function at(Je){return Je instanceof $e?Je:new $e(function(qe){qe(Je)})}(tt.value).then(vt,Et)}Pe((Qe=Qe.apply(Ie,Ve||[])).next())})}function Re(Ie){return this instanceof Re?(this.v=Ie,this):new Re(Ie)}function Se(Ie,Ve,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Qe=$e.apply(Ie,Ve||[]),Je=[];return at={},qe("next"),qe("throw"),qe("return"),at[Symbol.asyncIterator]=function(){return this},at;function qe(zt){Qe[zt]&&(at[zt]=function(vn){return new Promise(function(xn,Qn){Je.push([zt,vn,xn,Qn])>1||vt(zt,vn)})})}function vt(zt,vn){try{!function Et(zt){zt.value instanceof Re?Promise.resolve(zt.value.v).then(Pe,tt):Rt(Je[0][2],zt)}(Qe[zt](vn))}catch(xn){Rt(Je[0][3],xn)}}function Pe(zt){vt("next",zt)}function tt(zt){vt("throw",zt)}function Rt(zt,vn){zt(vn),Je.shift(),Je.length&&vt(Je[0][0],Je[0][1])}}function We(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ve=Ie[Symbol.asyncIterator];return Ve?Ve.call(Ie):(Ie=function st(Ie){var Ve="function"==typeof Symbol&&Symbol.iterator,$e=Ve&&Ie[Ve],Qe=0;if($e)return $e.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Qe>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Qe++],done:!Ie}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),$e={},Qe("next"),Qe("throw"),Qe("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function Qe(Je){$e[Je]=Ie[Je]&&function(qe){return new Promise(function(vt,Et){!function at(Je,qe,vt,Et){Promise.resolve(Et).then(function(Pe){Je({value:Pe,done:vt})},qe)}(vt,Et,(qe=Ie[Je](qe)).done,qe.value)})}}}M.d(K,{FC:()=>Se,KL:()=>We,_T:()=>ne,mG:()=>q,qq:()=>Re})},9671:(se,K,M)=>{function u(O,ne,Y,X,re,oe,ee){try{var G=O[oe](ee),z=G.value}catch(q){return void Y(q)}G.done?ne(z):Promise.resolve(z).then(X,re)}function V(O){return function(){var ne=this,Y=arguments;return new Promise(function(X,re){var oe=O.apply(ne,Y);function ee(z){u(oe,X,re,ee,G,"next",z)}function G(z){u(oe,X,re,ee,G,"throw",z)}ee(void 0)})}}M.d(K,{Z:()=>V})},2223:(se,K,M)=>{M.d(K,{$8M:()=>fu,$WT:()=>wa,$Z:()=>hs,AFp:()=>K_,AaK:()=>oe,BQk:()=>up,CHM:()=>zl,CRH:()=>lI,D6c:()=>AD,EJc:()=>HO,EpF:()=>gr,F$t:()=>dp,F4k:()=>D0,FYo:()=>rC,FiY:()=>rl,Flj:()=>zc,Gf:()=>Lg,GfV:()=>Ym,Gpc:()=>z,HDt:()=>TD,Hsn:()=>hp,Ikx:()=>vl,JOm:()=>As,KtG:()=>mf,LFG:()=>_n,LSH:()=>Nb,Lbi:()=>Um,Lck:()=>zS,MAs:()=>y0,MMx:()=>Hx,MR2:()=>Nm,NdJ:()=>Av,O4$:()=>vf,Ojb:()=>Z_,OlP:()=>Kn,Oqu:()=>G0,P3R:()=>Fb,PXZ:()=>Iy,Q6J:()=>b0,QGY:()=>Pn,QbO:()=>tC,Qsj:()=>PM,R0b:()=>no,RDi:()=>VE,Rgc:()=>kg,SBq:()=>qm,Sil:()=>II,Suo:()=>aI,TTD:()=>Ga,TgZ:()=>lg,Udp:()=>_l,VKq:()=>ly,W1O:()=>_y,WLB:()=>cy,X6Q:()=>Mc,XFs:()=>kt,Xpm:()=>zo,Xts:()=>Pm,Y36:()=>nh,YKP:()=>Ew,YNc:()=>ap,Yjl:()=>ba,Yz7:()=>tt,Z0I:()=>xn,ZZ4:()=>CD,_Bn:()=>Ux,_UZ:()=>Aa,_Vd:()=>Yf,_c5:()=>NA,_uU:()=>cx,aQg:()=>xD,c2e:()=>xI,cJS:()=>zt,cg1:()=>vp,dDg:()=>Cy,dqk:()=>pt,eFA:()=>NI,eJc:()=>yy,ekj:()=>Nu,eoX:()=>hD,f3M:()=>an,g9A:()=>zb,gHi:()=>Xf,h0i:()=>Fh,hGG:()=>ID,hij:()=>Lu,iGM:()=>Kw,ifc:()=>N,ip1:()=>sD,jDz:()=>Iw,kL8:()=>bx,kcU:()=>yf,ktI:()=>d0,lG2:()=>Us,lqb:()=>Jd,lri:()=>kp,n5z:()=>tl,oAB:()=>wo,oxw:()=>x0,q4F:()=>sC,qFp:()=>Vy,qLn:()=>ks,qOj:()=>Ur,qZA:()=>bc,rWj:()=>PI,sBO:()=>EA,s_b:()=>Tp,soG:()=>fa,tBr:()=>ic,tb:()=>Wu,tdS:()=>Qp,tp0:()=>mn,uIk:()=>g0,vHH:()=>be,vpe:()=>ha,wAp:()=>Kt,xp6:()=>e0,ynx:()=>cp,z2F:()=>qu,zSh:()=>Xd,zs3:()=>fc});var u=M(7579),V=M(727),O=M(9751),ne=M(6451),Y=M(3099);function X(o){for(let a in o)if(o[a]===X)return a;throw Error("Could not find renamed property on target object.")}function re(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function oe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(oe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ee(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=X({__forward_ref__:X});function z(o){return o.__forward_ref__=z,o.toString=function(){return oe(this())},o}function q(o){return ve(o)?o():o}function ve(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===z}function Me(o){return o&&!!o.\u0275providers}const st="https://g.co/ng/security#xss";class be extends Error{constructor(a,c){super(function Ae(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function Fe(o){return"string"==typeof o?o:null==o?"":String(o)}function We(o,a){throw new be(-201,!1)}function Je(o,a){null==o&&function qe(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function tt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function zt(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return Qn(o,jn)||Qn(o,Ho)}function xn(o){return null!==vn(o)}function Qn(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ni(o){return o&&(o.hasOwnProperty(kr)||o.hasOwnProperty(co))?o[kr]:null}const jn=X({\u0275prov:X}),kr=X({\u0275inj:X}),Ho=X({ngInjectableDef:X}),co=X({ngInjectorDef:X});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let qn;function Ji(){return qn}function ti(o){const a=qn;return qn=o,a}function fn(o,a,c){const d=vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&kt.Optional?null:void 0!==a?a:void We(oe(o))}const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},ii="__NG_DI_FLAG__",ji="ngTempTokenPath",Rr=/\n/gm,vi="__source";let er;function ri(o){const a=er;return er=o,a}function bi(o,a=kt.Default){if(void 0===er)throw new be(-203,!1);return null===er?fn(o,void 0,a):er.get(o,a&kt.Optional?null:void 0,a)}function _n(o,a=kt.Default){return(Ji()||bi)(q(o),a)}function an(o,a=kt.Default){return _n(o,oi(a))}function oi(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Or(o){const a=[];for(let c=0;c<o.length;c++){const d=q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let h,p=kt.Default;for(let v=0;v<d.length;v++){const w=d[v],x=Pr(w);"number"==typeof x?-1===x?h=w.token:p|=x:h=w}a.push(_n(h,p))}else a.push(_n(d))}return a}function Hi(o,a){return o[ii]=a,o.prototype[ii]=a,o}function Pr(o){return o[ii]}function L(o){return{toString:o}.toString()}var B=(()=>((B=B||{})[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B))(),N=(()=>{return(o=N||(N={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",N;var o})();const he={},we=[],mt=X({\u0275cmp:X}),Gt=X({\u0275dir:X}),$t=X({\u0275pipe:X}),En=X({\u0275mod:X}),Vt=X({\u0275fac:X}),Rn=X({__NG_ELEMENT_ID__:X}),ln=X({__NG_ENV_ID__:X});function zi(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}function uo(o,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],v=c[d++],w=c[d++];o.setAttribute(a,v,w,p)}else{const p=h,v=c[++d];ge(p)?o.setProperty(a,p,v):o.setAttribute(a,p,v),d++}}return d}function Ne(o){return 3===o||4===o||6===o}function ge(o){return 64===o.charCodeAt(0)}function et(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||At(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function At(o,a,c,d,h){let p=0,v=o.length;if(-1===a)v=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==v&&(o.splice(v,0,a),p=v+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}const Wt="ng-template";function un(o,a,c){let d=0,h=!0;for(;d<o.length;){let p=o[d++];if("string"==typeof p&&h){const v=o[d++];if(c&&"class"===p&&-1!==zi(v.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<o.length&&"string"==typeof(p=o[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function In(o){return 4===o.type&&o.value!==Wt}function Fi(o,a,c){return a===(4!==o.type||c?o.value:Wt)}function wi(o,a,c){let d=4;const h=o.attrs||[],p=function Bs(o){for(let a=0;a<o.length;a++)if(Ne(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const x=a[w];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!Fi(o,x,c)||""===x&&1===a.length){if(Ti(d))return!1;v=!0}}else{const S=8&d?x:a[++w];if(8&d&&null!==o.attrs){if(!un(o.attrs,S,c)){if(Ti(d))return!1;v=!0}continue}const H=Ls(8&d?"class":x,h,In(o),c);if(-1===H){if(Ti(d))return!1;v=!0;continue}if(""!==S){let le;le=H>p?"":h[H+1].toLowerCase();const me=8&d?le:null;if(me&&-1!==zi(me,S,0)||2&d&&S!==le){if(Ti(d))return!1;v=!0}}}}else{if(!v&&!Ti(d)&&!Ti(x))return!1;if(v&&Ti(x))continue;v=!1,d=x|1&d}}return Ti(d)||v}function Ti(o){return 0==(1&o)}function Ls(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function ts(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Vs(o,a,c=!1){for(let d=0;d<a.length;d++)if(wi(o,a[d],c))return!0;return!1}function ns(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Nc(o,a){return o?":not("+a.trim()+")":a}function Ua(o){let a=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const w=o[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ti(v)&&(a+=Nc(p,h),h=""),d=v,p=p||!Ti(d);c++}return""!==h&&(a+=Nc(p,h)),a}function zo(o){return L(()=>{const a=$(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||N.Emulated,styles:o.styles||we,_:null,schemas:o.schemas||null,tView:null,id:""};_e(c);const d=o.dependencies;return c.directiveDefs=fe(d,!1),c.pipeDefs=fe(d,!0),c.id=function dt(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function Il(o){return yn(o)||Mi(o)}function ja(o){return null!==o}function wo(o){return L(()=>({type:o.type,bootstrap:o.bootstrap||we,declarations:o.declarations||we,imports:o.imports||we,exports:o.exports||we,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Fc(o,a){if(null==o)return he;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function Us(o){return L(()=>{const a=$(o);return _e(a),a})}function ba(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function yn(o){return o[mt]||null}function Mi(o){return o[Gt]||null}function $i(o){return o[$t]||null}function wa(o){const a=yn(o)||Mi(o)||$i(o);return null!==a&&a.standalone}function Yn(o,a){const c=o[En]||null;if(!c&&!0===a)throw new Error(`Type ${oe(o)} does not have '\u0275mod' property.`);return c}function $(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||we,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fc(o.inputs,a),outputs:Fc(o.outputs)}}function _e(o){o.features?.forEach(a=>a(o))}function fe(o,a){if(!o)return null;const c=a?$i:Il;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(ja)}const nt=0,Ye=1,Ct=2,Jt=3,si=4,Cn=5,Bn=6,is=7,Hn=8,js=9,Hs=10,Qt=11,Do=12,Da=13,Ha=14,zn=15,Tl=16,zs=17,Eo=18,_s=19,qp=20,vs=21,hr=22,Ml=23,za=24,en=25,ad=1,ys=2,$s=7,Sl=8,ho=9,Gi=11;function fo(o){return Array.isArray(o)&&"object"==typeof o[ad]}function Nr(o){return Array.isArray(o)&&!0===o[ad]}function cd(o){return 0!=(4&o.flags)}function Co(o){return o.componentOffset>-1}function Ea(o){return 1==(1&o.flags)}function po(o){return!!o.template}function ud(o){return 0!=(512&o[Ct])}function bs(o,a){return o.hasOwnProperty(Vt)?o[Vt]:null}const md=Symbol("SIGNAL");function hi(o,a,c={}){return a[md]=o,Object.assign(a,c)}function Zp(o,a){return(null===o||"object"!=typeof o)&&Object.is(o,a)}let ab=pt.WeakRef??class df{constructor(a){this.ref=a}deref(){return this.ref}},hf=0,Gr=null,Gs=!1;function ir(o){const a=Gr;return Gr=o,a}class Rl{constructor(){this.id=hf++,this.ref=function ws(o){return new ab(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const d=c.producerNode.deref();if(void 0!==d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=Gs;Gs=!0;try{for(const[c,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{Gs=a}}producerAccessed(){if(Gs)throw new Error("");if(null===Gr)return;let a=Gr.producers.get(this.id);void 0===a?(a={consumerNode:Gr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Gr.trackingVersion},Gr.producers.set(this.id,a),this.consumers.set(Gr.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=Gr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Gr?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}function zc(o,a){const c=new xo(o,a?.equal??Zp);return hi(c,c.signal.bind(c))}const Ol=Symbol("UNSET"),gd=Symbol("COMPUTING"),Ws=Symbol("ERRORED");class xo extends Rl{constructor(a,c){super(),this.computation=a,this.equal=c,this.value=Ol,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Ol&&this.value!==gd&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===gd)throw new Error("Detected cycle in computations.");const a=this.value;this.value=gd,this.trackingVersion++;const c=ir(this);let d;try{d=this.computation()}catch(h){d=Ws,this.error=h}finally{ir(c)}this.stale=!1,a!==Ol&&a!==Ws&&d!==Ws&&this.equal(a,d)?this.value=a:(this.value=d,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===Ws)throw this.error;return this.value}}let _d=function $c(){throw new Error};function Ca(){_d()}class ff extends Rl{constructor(a,c){super(),this.value=a,this.equal=c,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(a){this.producerUpdatesAllowed||Ca(),this.equal(this.value,a)||(this.value=a,this.valueVersion++,this.producerMayHaveChanged())}update(a){this.producerUpdatesAllowed||Ca(),this.set(a(this.value))}mutate(a){this.producerUpdatesAllowed||Ca(),a(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=hi(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function Qp(o,a){const c=new ff(o,a?.equal??Zp);return hi(c,c.signal.bind(c),{set:c.set.bind(c),update:c.update.bind(c),mutate:c.mutate.bind(c),asReadonly:c.asReadonly.bind(c)})}const Jp=()=>{};class rr extends Rl{constructor(a,c,d){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=Jp,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=ir(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Jp,this.watch(this.registerOnCleanup)}finally{ir(a)}}cleanup(){this.cleanupFn()}}class d_{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ga(){return em}function em(o){return o.type.prototype.ngOnChanges&&(o.setInput=tm),Wc}function Wc(){const o=vd(this),a=o?.current;if(a){const c=o.previous;if(c===he)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function tm(o,a,c,d){const h=this.declaredInputs[c],p=vd(o)||function Fl(o,a){return o[Nl]=a}(o,{previous:he,current:null}),v=p.current||(p.current={}),w=p.previous,x=w[h];v[h]=new d_(x&&x.currentValue,a,w===he),o[d]=a}Ga.ngInherit=!0;const Nl="__ngSimpleChanges__";function vd(o){return o[Nl]||null}const ss=function(o,a,c){},yd="svg";function fi(o){for(;Array.isArray(o);)o=o[nt];return o}function Ll(o,a){return fi(a[o])}function Fr(o,a){return fi(a[o.index])}function Kc(o,a){return o.data[a]}function Lr(o,a){const c=a[o];return fo(c)?c:c[nt]}function Bl(o){return 128==(128&o[Ct])}function Go(o,a){return null==a?null:o[a]}function nm(o){o[zs]=0}function Qc(o){1024&o[Ct]||(o[Ct]|=1024,im(o,1))}function Ed(o){1024&o[Ct]&&(o[Ct]&=-1025,im(o,-1))}function im(o,a){let c=o[Jt];if(null===c)return;c[Cn]+=a;let d=c;for(c=c[Jt];null!==c&&(1===a&&1===d[Cn]||-1===a&&0===d[Cn]);)c[Cn]+=a,d=c,c=c[Jt]}function Cd(o,a){if(256==(256&o[Ct]))throw new be(911,!1);null===o[vs]&&(o[vs]=[]),o[vs].push(a)}const Yt={lFrame:Ya(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eu(){return Yt.bindingsEnabled}function qs(){return null!==Yt.skipHydrationRootTNode}function Ke(){return Yt.lFrame.lView}function pn(){return Yt.lFrame.tView}function zl(o){return Yt.lFrame.contextLView=o,o[Hn]}function mf(o){return Yt.lFrame.contextLView=null,o}function wr(){let o=tu();for(;null!==o&&64===o.type;)o=o.parent;return o}function tu(){return Yt.lFrame.currentTNode}function mo(o,a){const c=Yt.lFrame;c.currentTNode=o,c.isParent=a}function $l(){return Yt.lFrame.isParent}function Gl(){Yt.lFrame.isParent=!1}function Wr(){const o=Yt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ds(){return Yt.lFrame.bindingIndex++}function Md(o,a){const c=Yt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Sd(a)}function Sd(o){Yt.lFrame.currentDirectiveIndex=o}function iu(){return Yt.lFrame.currentQueryIndex}function Es(o){Yt.lFrame.currentQueryIndex=o}function Wl(o){const a=o[Ye];return 2===a.type?a.declTNode:1===a.type?o[Bn]:null}function sm(o,a,c){if(c&kt.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&kt.Host||(h=Wl(p),null===h||(p=p[Ha],10&h.type))););if(null===h)return!1;a=h,o=p}const d=Yt.lFrame=_f();return d.currentTNode=a,d.lView=o,!0}function ql(o){const a=_f(),c=o[Ye];Yt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function _f(){const o=Yt.lFrame,a=null===o?null:o.child;return null===a?Ya(o):a}function Ya(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ad(){const o=Yt.lFrame;return Yt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ia=Ad;function Wo(){const o=Ad();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Dr(){return Yt.lFrame.selectedIndex}function Cs(o){Yt.lFrame.selectedIndex=o}function Si(){const o=Yt.lFrame;return Kc(o.tView,o.selectedIndex)}function vf(){Yt.lFrame.currentNamespace=yd}function yf(){!function bf(){Yt.lFrame.currentNamespace=null}()}let kd=!0;function ou(){return kd}function xs(o){kd=o}function Rd(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:S,ngOnDestroy:P}=p;v&&(o.contentHooks??=[]).push(-c,v),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),x&&(o.viewHooks??=[]).push(-c,x),S&&((o.viewHooks??=[]).push(c,S),(o.viewCheckHooks??=[]).push(c,S)),null!=P&&(o.destroyHooks??=[]).push(c,P)}}function Od(o,a,c){Pd(o,a,3,c)}function Ka(o,a,c,d){(3&o[Ct])===c&&Pd(o,a,c,d)}function su(o,a){let c=o[Ct];(3&c)===a&&(c&=4095,c+=1,o[Ct]=c)}function Pd(o,a,c,d){const p=d??-1,v=a.length-1;let w=0;for(let x=void 0!==d?65535&o[zs]:0;x<v;x++)if("number"==typeof a[x+1]){if(w=a[x],null!=d&&w>=d)break}else a[x]<0&&(o[zs]+=65536),(w<p||-1==p)&&(Ef(o,c,a,x),o[zs]=(4294901760&o[zs])+x+2),x++}function Df(o,a){ss(4,o,a);const c=ir(null);try{a.call(o)}finally{ir(c),ss(5,o,a)}}function Ef(o,a,c,d){const h=c[d]<0,p=c[d+1],w=o[h?-c[d]:c[d]];h?o[Ct]>>12<o[zs]>>16&&(3&o[Ct])===a&&(o[Ct]+=4096,Df(w,p)):Df(w,p)}const Yl=-1;class Za{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Zl(o){return o!==Yl}function lu(o){return 32767&o}function hn(o,a){let c=function Qa(o){return o>>16}(o),d=a;for(;c>0;)d=d[Ha],c--;return d}let fr=!0;function Li(o){const a=fr;return fr=o,a}const Cr=255,tr=5;let Xa=0;const Io={};function It(o,a){const c=Ja(o,a);if(-1!==c)return c;const d=a[Ye];d.firstCreatePass&&(o.injectorIndex=a.length,or(d.data,o),or(a,null),or(d.blueprint,null));const h=cu(o,a),p=o.injectorIndex;if(Zl(h)){const v=lu(h),w=hn(h,a),x=w[Ye].data;for(let S=0;S<8;S++)a[p+S]=w[v+S]|x[v+S]}return a[p+8]=h,p}function or(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ja(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function cu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Ld(h),null===d)return Yl;if(c++,h=h[Ha],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Yl}function qo(o,a,c){!function cs(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Rn)&&(d=c[Rn]),null==d&&(d=c[Rn]=Xa++);const h=d&Cr;a.data[o+(h>>tr)]|=1<<h}(o,a,c)}function uu(o,a,c){if(c&kt.Optional||void 0!==o)return o;We()}function qt(o,a,c,d){if(c&kt.Optional&&void 0===d&&(d=null),!(c&(kt.Self|kt.Host))){const h=o[js],p=ti(void 0);try{return h?h.get(a,d,c&kt.Optional):fn(a,d,c&kt.Optional)}finally{ti(p)}}return uu(d,0,c)}function qr(o,a,c,d=kt.Default,h){if(null!==o){if(2048&a[Ct]&&!(d&kt.Self)){const v=function xf(o,a,c,d,h){let p=o,v=a;for(;null!==p&&null!==v&&2048&v[Ct]&&!(512&v[Ct]);){const w=Yi(p,v,c,d|kt.Self,Io);if(w!==Io)return w;let x=p.parent;if(!x){const S=v[qp];if(S){const P=S.get(c,Io,d);if(P!==Io)return P}x=Ld(v),v=v[Ha]}p=x}return h}(o,a,c,d,Io);if(v!==Io)return v}const p=Yi(o,a,c,d,Io);if(p!==Io)return p}return qt(a,c,d,h)}function Yi(o,a,c,d,h){const p=function Fd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Rn)?o[Rn]:void 0;return"number"==typeof a?a>=0?a&Cr:du:a}(c);if("function"==typeof p){if(!sm(a,o,d))return d&kt.Host?uu(h,0,d):qt(a,c,d,h);try{const v=p(d);if(null!=v||d&kt.Optional)return v;We()}finally{Ia()}}else if("number"==typeof p){let v=null,w=Ja(o,a),x=Yl,S=d&kt.Host?a[zn][Bn]:null;for((-1===w||d&kt.SkipSelf)&&(x=-1===w?cu(o,a):a[w+8],x!==Yl&&Yr(d,!1)?(v=a[Ye],w=lu(x),a=hn(x,a)):w=-1);-1!==w;){const P=a[Ye];if(um(p,w,P.data)){const H=el(w,a,c,v,d,S);if(H!==Io)return H}x=a[w+8],x!==Yl&&Yr(d,a[Ye].data[w+8]===S)&&um(p,w,a)?(v=P,w=lu(x),a=hn(x,a)):w=-1}}return h}function el(o,a,c,d,h,p){const v=a[Ye],w=v.data[o+8],P=Is(w,v,c,null==d?Co(w)&&fr:d!=v&&0!=(3&w.type),h&kt.Host&&p===w);return null!==P?li(a,v,P,w):Io}function Is(o,a,c,d,h){const p=o.providerIndexes,v=a.data,w=1048575&p,x=o.directiveStart,P=p>>20,le=h?w+P:o.directiveEnd;for(let me=d?w:w+P;me<le;me++){const ze=v[me];if(me<x&&c===ze||me>=x&&ze.type===c)return me}if(h){const me=v[x];if(me&&po(me)&&me.type===c)return x}return null}function li(o,a,c,d){let h=o[c];const p=a.data;if(function Cf(o){return o instanceof Za}(h)){const v=h;v.resolving&&function Re(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new be(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Le(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Fe(o)}(p[c]));const w=Li(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?ti(v.injectImpl):null;sm(o,d,kt.Default);try{h=o[c]=v.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function wf(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const v=em(a);(c.preOrderHooks??=[]).push(o,v),(c.preOrderCheckHooks??=[]).push(o,v)}h&&(c.preOrderHooks??=[]).push(0-o,h),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],a)}finally{null!==x&&ti(x),Li(w),v.resolving=!1,Ia()}}return h}function um(o,a,c){return!!(c[a+(o>>tr)]&1<<o)}function Yr(o,a){return!(o&kt.Self||o&kt.Host&&a)}class Ta{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return qr(this._tNode,this._lView,a,oi(d),c)}}function du(){return new Ta(wr(),Ke())}function tl(o){return L(()=>{const a=o.prototype.constructor,c=a[Vt]||hu(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[Vt]||hu(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function hu(o){return ve(o)?()=>{const a=hu(q(o));return a&&a()}:bs(o)}function Ld(o){const a=o[Ye],c=a.type;return 2===c?a.declTNode:1===c?o[Bn]:null}function fu(o){return function Nd(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Ne(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(wr(),o)}const Qs="__parameters__";function us(o,a,c){return L(()=>{const d=function Ql(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const v=new h(...p);return w.annotation=v,w;function w(x,S,P){const H=x.hasOwnProperty(Qs)?x[Qs]:Object.defineProperty(x,Qs,{value:[]})[Qs];for(;H.length<=P;)H.push(null);return(H[P]=H[P]||[]).push(v),x}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Yo(o,a){o.forEach(c=>Array.isArray(c)?Yo(c,a):a(c))}function Tf(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Vd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ms(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function I(o,a,c){let d=j(o,a);return d>=0?o[1|d]=c:(d=~d,function Mf(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function R(o,a){const c=j(o,a);if(c>=0)return o[1|c]}function j(o,a){return function pe(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),v=o[p<<c];if(a===v)return p<<c;v>a?h=p:d=p+1}return~(h<<c)}(o,a,1)}const ic=Hi(us("Inject",o=>({token:o})),-1),rl=Hi(us("Optional"),8),mn=Hi(us("SkipSelf"),4);function jd(o){return 128==(128&o.flags)}var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();const db=/^>|^->|<!--|-->|--!>|<!-$/g,gm=/(<|>)/,Zr="\u200b$1\u200b";const xr=new Map;let vu=0;const ea="__ngContext__";function Qr(o,a){fo(a)?(o[ea]=a[_s],function yE(o){xr.set(o[_s],o)}(a)):o[ea]=a}let bm;function wm(o,a){return bm(o,a)}function Dm(o){const a=o[Jt];return Nr(a)?a[Jt]:a}function $d(o){return TE(o[Do])}function pb(o){return TE(o[si])}function TE(o){for(;null!==o&&!Nr(o);)o=o[si];return o}function ac(o,a,c,d,h){if(null!=d){let p,v=!1;Nr(d)?p=d:fo(d)&&(v=!0,d=d[nt]);const w=fi(d);0===o&&null!==c?null==h?M_(a,c,w):lc(a,c,w,h||null,!0):1===o&&null!==c?lc(a,c,w,h||null,!0):2===o?function Nf(o,a,c){const d=Gd(o,a);d&&function Xr(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=p&&function LE(o,a,c,d,h){const p=c[$s];p!==fi(c)&&ac(a,o,d,p,h);for(let w=Gi;w<c.length;w++){const x=c[w];yu(x[Ye],x,o,a,d,p)}}(a,o,p,c,h)}}function E_(o,a){return o.createComment(function _m(o){return o.replace(db,a=>a.replace(gm,Zr))}(a))}function Cm(o,a,c){return o.createElement(a,c)}function yb(o,a){const c=o[ho],d=c.indexOf(a);Ed(a),c.splice(d,1)}function x_(o,a){if(o.length<=Gi)return;const c=Gi+a,d=o[c];if(d){const h=d[Tl];null!==h&&h!==o&&yb(h,d),a>0&&(o[c-1][si]=d[si]);const p=Vd(o,Gi+a);!function SE(o,a){yu(o,a,a[Qt],2,null,null),a[nt]=null,a[Bn]=null}(d[Ye],d);const v=p[Eo];null!==v&&v.detachView(p[Ye]),d[Jt]=null,d[si]=null,d[Ct]&=-129}return d}function AE(o,a){if(!(256&a[Ct])){const c=a[Qt];a[Ml]?.destroy(),a[za]?.destroy(),c.destroyNode&&yu(o,a,c,3,null,null),function gb(o){let a=o[Do];if(!a)return I_(o[Ye],o);for(;a;){let c=null;if(fo(a))c=a[Do];else{const d=a[Gi];d&&(c=d)}if(!c){for(;a&&!a[si]&&a!==o;)fo(a)&&I_(a[Ye],a),a=a[Jt];null===a&&(a=o),fo(a)&&I_(a[Ye],a),c=a&&a[si]}a=c}}(a)}}function I_(o,a){if(!(256&a[Ct])){a[Ct]&=-129,a[Ct]|=256,function bb(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Za)){const p=c[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=h[p[v]],x=p[v+1];ss(4,w,x);try{x.call(w)}finally{ss(5,w,x)}}else{ss(4,h,p);try{p.call(h)}finally{ss(5,h,p)}}}}}(o,a),function kE(o,a){const c=o.cleanup,d=a[is];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const v=c[p+3];v>=0?d[v]():d[-v].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[is]=null);const h=a[vs];if(null!==h){a[vs]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,a),1===a[Ye].type&&a[Qt].destroy();const c=a[Tl];if(null!==c&&Nr(a[Jt])){c!==a[Jt]&&yb(c,a);const d=a[Eo];null!==d&&d.detachView(o)}!function bE(o){xr.delete(o[_s])}(a)}}function T_(o,a,c){return function RE(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[nt];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=o.data[d.directiveStart+h];if(p===N.None||p===N.Emulated)return null}return Fr(d,c)}}(o,a.parent,c)}function lc(o,a,c,d,h){o.insertBefore(a,c,d,h)}function M_(o,a,c){o.appendChild(a,c)}function S_(o,a,c,d,h){null!==d?lc(o,a,c,d,h):M_(o,a,c)}function Gd(o,a){return o.parentNode(a)}function OE(o,a,c){return NE(o,a,c)}let A_,cc,Mm,NE=function PE(o,a,c){return 40&o.type?Fr(o,c):null};function k_(o,a,c,d){const h=T_(o,d,a),p=a[Qt],w=OE(d.parent||a[Bn],d,a);if(null!=h)if(Array.isArray(c))for(let x=0;x<c.length;x++)S_(p,h,c[x],w,!1);else S_(p,h,c,w,!1);void 0!==A_&&A_(p,d,a,c,h)}function xm(o,a){if(null!==a){const c=a.type;if(3&c)return Fr(a,o);if(4&c)return Wd(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return xm(o,d);{const h=o[a.index];return Nr(h)?Wd(-1,h):fi(h)}}if(32&c)return wm(a,o)()||fi(o[a.index]);{const d=Pf(o,a);return null!==d?Array.isArray(d)?d[0]:xm(Dm(o[zn]),d):xm(o,a.next)}}return null}function Pf(o,a){return null!==a?o[zn][Bn].projection[a.projection]:null}function Wd(o,a){const c=Gi+o+1;if(c<a.length){const d=a[c],h=d[Ye].firstChild;if(null!==h)return xm(d,h)}return a[$s]}function Eb(o,a,c,d,h,p,v){for(;null!=c;){const w=d[c.index],x=c.type;if(v&&0===a&&(w&&Qr(fi(w),d),c.flags|=2),32!=(32&c.flags))if(8&x)Eb(o,a,c.child,d,h,p,!1),ac(a,o,h,w,p);else if(32&x){const S=wm(c,d);let P;for(;P=S();)ac(a,o,h,P,p);ac(a,o,h,w,p)}else 16&x?R_(o,a,d,c,h,p):ac(a,o,h,w,p);c=v?c.projectionNext:c.next}}function yu(o,a,c,d,h,p){Eb(c,d,o.firstChild,a,h,p,!1)}function R_(o,a,c,d,h,p){const v=c[zn],x=v[Bn].projection[d.projection];if(Array.isArray(x))for(let S=0;S<x.length;S++)ac(a,o,h,x[S],p);else{let S=x;const P=v[Jt];jd(d)&&(S.flags|=128),Eb(o,a,S,P,h,p,!0)}}function xb(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Ib(o,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&uo(o,a,d),null!==h&&xb(o,a,h),null!==p&&function Im(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function VE(o){cc=o}function Mb(o){return function qd(){if(void 0===Mm&&(Mm=null,pt.trustedTypes))try{Mm=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Mm}()?.createScriptURL(o)||o}class Bf{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function ta(o){return o instanceof Bf?o.changingThisBreaksApplicationSecurity:o}function Yd(o,a){const c=function Ab(o){return o instanceof Bf&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${st})`)}return c===a}const $E=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function Nb(o){const a=Om();return a?a.sanitize(pr.URL,o)||"":Yd(o,"URL")?ta(o):function L_(o){return(o=String(o)).match($E)?o:"unsafe:"+o}(Fe(o))}function qE(o){const a=Om();if(a)return Mb(a.sanitize(pr.RESOURCE_URL,o)||"");if(Yd(o,"ResourceURL"))return Mb(ta(o));throw new be(904,!1)}function Fb(o,a,c){return function KE(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?qE:Nb}(a,c)(o)}function Om(){const o=Ke();return o&&o[Hs].sanitizer}class Kn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=tt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pm=new Kn("ENVIRONMENT_INITIALIZER"),Lb=new Kn("INJECTOR",-1),Vb=new Kn("INJECTOR_DEF_TYPES");class j_{get(a,c=ni){if(c===ni){const d=new Error(`NullInjectorError: No provider for ${oe(a)}!`);throw d.name="NullInjectorError",d}return c}}function Nm(o){return{\u0275providers:o}}function ZE(...o){return{\u0275providers:Bb(0,o),\u0275fromNgModule:!0}}function Bb(o,...a){const c=[],d=new Set;let h;return Yo(a,p=>{const v=p;Ub(v,c,[],d)&&(h||=[],h.push(v))}),void 0!==h&&QE(h,c),c}function QE(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];jb(h,p=>{a.push(p)})}}function Ub(o,a,c,d){if(!(o=q(o)))return!1;let h=null,p=Ni(o);const v=!p&&yn(o);if(p||v){if(v&&!v.standalone)return!1;h=o}else{const x=o.ngModule;if(p=Ni(x),!p)return!1;h=x}const w=d.has(h);if(v){if(w)return!1;if(d.add(h),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of x)Ub(S,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;d.add(h);try{Yo(p.imports,P=>{Ub(P,a,c,d)&&(S||=[],S.push(P))})}finally{}void 0!==S&&QE(S,a)}if(!w){const S=bs(h)||(()=>new h);a.push({provide:h,useFactory:S,deps:we},{provide:Vb,useValue:h,multi:!0},{provide:Pm,useValue:()=>_n(h),multi:!0})}const x=p.providers;null==x||w||jb(x,P=>{a.push(P)})}}return h!==o&&void 0!==o.providers}function jb(o,a){for(let c of o)Me(c)&&(c=c.\u0275providers),Array.isArray(c)?jb(c,a):a(c)}const H_=X({provide:String,useValue:X});function Qd(o){return null!==o&&"object"==typeof o&&H_ in o}function Eu(o){return"function"==typeof o}const Xd=new Kn("Set Injector scope."),$_={},ar={};let G_;function W_(){return void 0===G_&&(G_=new j_),G_}class Jd{}class Hb extends Jd{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Y_(a,v=>this.processProvider(v)),this.records.set(Lb,eh(void 0,this)),h.has("environment")&&this.records.set(Jd,eh(void 0,this));const p=this.records.get(Xd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Vb.multi,we,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=ri(this),d=ti(void 0);try{return a()}finally{ri(c),ti(d)}}get(a,c=ni,d=kt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(ln))return a[ln](this);d=oi(d);const h=ri(this),p=ti(void 0);try{if(!(d&kt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const x=function SM(o){return"function"==typeof o||"object"==typeof o&&o instanceof Kn}(a)&&vn(a);w=x&&this.injectableDefInScope(x)?eh(q_(a),$_):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&kt.Self?W_():this.parent).get(a,c=d&kt.Optional&&c===ni?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[ji]=v[ji]||[]).unshift(oe(a)),h)throw v;return function te(o,a,c,d){const h=o[ji];throw a[vi]&&h.unshift(a[vi]),o.message=function J(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=oe(a);if(Array.isArray(a))h=a.map(oe).join(" -> ");else if("object"==typeof a){let p=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Rr,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[ji]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{ti(p),ri(h)}}resolveInjectorInitializers(){const a=ri(this),c=ti(void 0);try{const d=this.get(Pm.multi,we,kt.Self);for(const h of d)h()}finally{ri(a),ti(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(oe(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(a){let c=Eu(a=q(a))?a:q(a&&a.provide);const d=function JE(o){return Qd(o)?eh(void 0,o.useValue):eh(Vm(o),$_)}(a);if(Eu(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=eh(void 0,$_,!0),h.factory=()=>Or(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===$_&&(c.value=ar,c.value=c.factory()),"object"==typeof c.value&&c.value&&function eC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function q_(o){const a=vn(o),c=null!==a?a.factory:bs(o);if(null!==c)return c;if(o instanceof Kn)throw new be(204,!1);if(o instanceof Function)return function XE(o){const a=o.length;if(a>0)throw Ms(a,"?"),new be(204,!1);const c=function Ui(o){return o&&(o[jn]||o[Ho])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new be(204,!1)}function Vm(o,a,c){let d;if(Eu(o)){const h=q(o);return bs(h)||q_(h)}if(Qd(o))d=()=>q(o.useValue);else if(function z_(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Or(o.deps||[]));else if(function Fm(o){return!(!o||!o.useExisting)}(o))d=()=>_n(q(o.useExisting));else{const h=q(o&&(o.useClass||o.provide));if(!function al(o){return!!o.deps}(o))return bs(h)||q_(h);d=()=>new h(...Or(o.deps))}return d}function eh(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Y_(o,a){for(const c of o)Array.isArray(c)?Y_(c,a):c&&Me(c)?Y_(c.\u0275providers,a):a(c)}const K_=new Kn("AppId",{providedIn:"root",factory:()=>Bm}),Bm="ng",zb=new Kn("Platform Initializer"),Um=new Kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tC=new Kn("AnimationModuleType"),Z_=new Kn("CSP nonce",{providedIn:"root",factory:()=>function bu(){if(void 0!==cc)return cc;if(typeof document<"u")return document;throw new be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qb=(o,a)=>null;function na(o,a){return qb(o,a)}class ra{}class Jr{}class av{resolveComponentFactory(a){throw function ov(o){const a=Error(`No component factory found for ${oe(o)}.`);return a.ngComponent=o,a}(a)}}let Yf=(()=>{class o{}return o.NULL=new av,o})();function Kf(){return Zf(wr(),Ke())}function Zf(o,a){return new qm(Fr(o,a))}let qm=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Kf,o})();function Yb(o){return o instanceof qm?o.nativeElement:o}class rC{}let PM=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function oC(){const o=Ke(),c=Lr(wr().index,o);return(fo(c)?c:o)[Qt]}(),o})(),NM=(()=>{class o{}return o.\u0275prov=tt({token:o,providedIn:"root",factory:()=>null}),o})();class Ym{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const sC=new Ym("16.0.3"),Kb={};function ul(o){for(;o;){o[Ct]|=64;const a=Dm(o);if(ud(o)&&!a)return o;o=a}return null}function Cu(o){return o.ngOriginalError}class ks{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Cu(a);for(;c&&Cu(c);)c=Cu(c);return c||null}}const rt=new Kn("",{providedIn:"root",factory:()=>!1});function Ge(o){return o instanceof Function?o():o}class uC extends Rl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){ul(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,d){const h=ir(this);this.trackingVersion++;try{a(c,d)}finally{ir(h)}}destroy(){this.trackingVersion++}}let Xb=null;function dC(){return Xb??=new uC,Xb}function Jb(o,a){return o[a]??dC()}function dn(o,a){const c=dC();c.hasReadASignal&&(o[a]=Xb,c.lView=o,Xb=new uC)}const on={};function e0(o){Vi(pn(),Ke(),Dr()+o,!1)}function Vi(o,a,c,d){if(!d)if(3==(3&a[Ct])){const p=o.preOrderCheckHooks;null!==p&&Od(a,p,c)}else{const p=o.preOrderHooks;null!==p&&Ka(a,p,0,c)}Cs(c)}function Xf(o){if(!Ji()&&!function bo(){return er}())throw new be(-203,!1)}function hC(o,a=null,c=null,d){const h=Jf(o,a,c,d);return h.resolveInjectorInitializers(),h}function Jf(o,a=null,c=null,d,h=new Set){const p=[c||we,ZE(o)];return d=d||("object"==typeof o?void 0:oe(o)),new Hb(p,a||W_(),d||null,h)}let fc=(()=>{class o{static create(c,d){if(Array.isArray(c))return hC({name:""},d,c,"");{const h=c.name??"";return hC({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=ni,o.NULL=new j_,o.\u0275prov=tt({token:o,providedIn:"any",factory:()=>_n(Lb)}),o.__NG_ELEMENT_ID__=-1,o})();function nh(o,a=kt.Default){const c=Ke();return null===c?_n(o,a):qr(wr(),c,q(o),a)}function hs(){throw new Error("invalid")}function Km(o,a,c,d,h,p,v,w,x,S,P){const H=a.blueprint.slice();return H[nt]=h,H[Ct]=140|d,(null!==S||o&&2048&o[Ct])&&(H[Ct]|=2048),nm(H),H[Jt]=H[Ha]=o,H[Hn]=c,H[Hs]=v||o&&o[Hs],H[Qt]=w||o&&o[Qt],H[js]=x||o&&o[js]||null,H[Bn]=p,H[_s]=function yM(){return vu++}(),H[hr]=P,H[qp]=S,H[zn]=2==a.type?o[zn]:H,H}function ih(o,a,c,d,h){let p=o.data[a];if(null===p)p=function dl(o,a,c,d,h){const p=tu(),v=$l(),x=o.data[a]=function Zm(o,a,c,d,h,p){let v=a?a.injectorIndex:-1,w=0;return qs()&&(w|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=x),null!==p&&(v?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x,x.prev=p)),x}(o,a,c,d,h),function Td(){return Yt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const v=function qa(){const o=Yt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return mo(p,!0),p}function rh(o,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function De(o,a,c,d,h){const p=Jb(a,Ml),v=Dr(),w=2&d;try{if(Cs(-1),w&&a.length>en&&Vi(o,a,en,!1),ss(w?2:0,h),w)p.runInContext(c,d,h);else{const S=ir(null);try{c(d,h)}finally{ir(S)}}}finally{w&&null===a[Ml]&&dn(a,Ml),Cs(v),ss(w?3:1,h)}}function ep(o,a,c){if(cd(a)){const d=ir(null);try{const p=a.directiveEnd;for(let v=a.directiveStart;v<p;v++){const w=o.data[v];w.contentQueries&&w.contentQueries(1,c[v],v)}}finally{ir(d)}}}function Rs(o,a,c){eu()&&(function YM(o,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Co(c)&&function tS(o,a,c){const d=Fr(a,o),v=ip(o,Km(o,tp(c),null,c.onPush?64:16,d,a,null,o[Hs].rendererFactory.createRenderer(d,c),null,null,null));o[a.index]=v}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||It(c,a),Qr(d,a);const v=c.initialInputs;for(let w=h;w<p;w++){const x=o.data[w],S=li(a,o,w,c);Qr(S,a),null!==v&&_C(0,w-h,S,x,0,v),po(x)&&(Lr(c.index,a)[Hn]=li(a,o,w,c))}}(o,a,c,Fr(c,a)),64==(64&c.flags)&&gC(o,a,c))}function r0(o,a,c=Fr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],w=-1===v?c(a,o):o[v];o[h++]=w}}}function tp(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=hl(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function hl(o,a,c,d,h,p,v,w,x,S,P){const H=en+d,le=H+h,me=function HM(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:on);return c}(H,le),ze="function"==typeof S?S():S;return me[Ye]={type:o,blueprint:me,template:c,queries:null,viewQuery:w,declTNode:a,data:me.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:ze,incompleteFirstPass:!1,ssrId:P}}let uv=o=>null;function np(o,a,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===d?o0(c,a,h,p):d.hasOwnProperty(h)&&o0(c,a,d[h],p)}return c}function o0(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function fs(o,a,c,d,h,p,v,w){const x=Fr(a,c);let P,S=a.inputs;!w&&null!=S&&(P=S[d])?(Vr(o,c,P,d,h),Co(a)&&function fl(o,a){const c=Lr(a,o);16&c[Ct]||(c[Ct]|=64)}(c,a.index)):3&a.type&&(d=function GM(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,p.setProperty(x,d,h))}function dv(o,a,c,d){if(eu()){const h=null===d?null:{"":-1},p=function ZM(o,a){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];if(Vs(a,v.selectors,!1))if(d||(d=[]),po(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),d.unshift(...w,v),a0(o,a,w.length)}else d.unshift(v),a0(o,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,c);let v,w;null===p?v=w=null:[v,w]=p,null!==v&&mC(o,a,c,v,h,w),h&&function QM(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new be(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=et(c.mergedAttrs,c.attrs)}function mC(o,a,c,d,h,p){for(let S=0;S<d.length;S++)qo(It(c,a),o,d[S].type);!function JM(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let S=0;S<d.length;S++){const P=d[S];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,x=rh(o,a,d.length,null);for(let S=0;S<d.length;S++){const P=d[S];c.mergedAttrs=et(c.mergedAttrs,P.hostAttrs),eS(o,c,a,x,P),XM(x,P,h),null!==P.contentQueries&&(c.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=64);const H=P.type.prototype;!v&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),v=!0),!w&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),x++}!function Ro(o,a,c){const h=a.directiveEnd,p=o.data,v=a.attrs,w=[];let x=null,S=null;for(let P=a.directiveStart;P<h;P++){const H=p[P],le=c?c.get(H):null,ze=le?le.outputs:null;x=np(H.inputs,P,x,le?le.inputs:null),S=np(H.outputs,P,S,ze);const it=null===x||null===v||In(a)?null:yC(x,P,v);w.push(it)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=8),x.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=x,a.outputs=S}(o,c,p)}function gC(o,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,v=function Wi(){return Yt.lFrame.currentDirectiveIndex}();try{Cs(p);for(let w=d;w<h;w++){const x=o.data[w],S=a[w];Sd(w),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&KM(x,S)}}finally{Cs(-1),Sd(v)}}function KM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function a0(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function XM(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;po(a)&&(c[""]=o)}}function eS(o,a,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=bs(h.type)),v=new Za(p,po(h),nh);o.blueprint[d]=v,c[d]=v,function WM(o,a,c,d,h){const p=h.hostBindings;if(p){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const w=~a.index;(function qM(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=w&&v.push(w),v.push(c,d,p)}}(o,a,d,rh(o,c,h.hostVars,on),h)}function pl(o,a,c,d,h,p){const v=Fr(o,a);!function l0(o,a,c,d,h,p,v){if(null==p)o.removeAttribute(a,h,c);else{const w=null==v?Fe(p):v(p,d||"",h);o.setAttribute(a,h,w,c)}}(a[Qt],v,p,o.value,c,d,h)}function _C(o,a,c,d,h,p){const v=p[a];if(null!==v)for(let w=0;w<v.length;)vC(d,c,v[w++],v[w++],v[w++])}function vC(o,a,c,d,h){const p=ir(null);try{null!==o.setInput?o.setInput(a,h,c,d):a[d]=h}finally{ir(p)}}function yC(o,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===d&&(d=[]);const v=o[p];for(let w=0;w<v.length;w+=2)if(v[w]===a){d.push(p,v[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function c0(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null,null]}function bC(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const v=o.data[p];Es(c[d]),v.contentQueries(2,a[p],p)}}}function ip(o,a){return o[Do]?o[Da][si]=a:o[Do]=a,o[Da]=a,a}function Tr(o,a,c){Es(0);const d=ir(null);try{a(o,c)}finally{ir(d)}}function pc(o){return o[is]||(o[is]=[])}function u0(o){return o.cleanup||(o.cleanup=[])}function Qm(o,a){const c=o[js],d=c?c.get(ks,null):null;d&&d.handleError(a)}function Vr(o,a,c,d,h){for(let p=0;p<c.length;){const v=c[p++],w=c[p++];vC(o.data[v],a[v],d,w,h)}}function wC(o,a){const c=Lr(a,o),d=c[Ye];!function rp(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(d,c);const h=c[nt];null!==h&&null===c[hr]&&(c[hr]=na(h,c[js])),Oo(d,c,c[Hn])}function Oo(o,a,c){ql(a);try{const d=o.viewQuery;null!==d&&Tr(1,d,c);const h=o.template;null!==h&&De(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&bC(o,a),o.staticViewQueries&&Tr(2,o.viewQuery,c);const p=o.components;null!==p&&function DC(o,a){for(let c=0;c<a.length;c++)wC(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Ct]&=-5,Wo()}}let d0=(()=>{class o{}return o.__NG_ELEMENT_ID__=iS,o.__NG_ENV_ID__=a=>a,o})();class Br extends d0{constructor(a){super(),this._lView=a}onDestroy(a){return Cd(this._lView,a),()=>function pf(o,a){if(null===o[vs])return;const c=o[vs].indexOf(a);-1!==c&&o[vs].splice(c,1)}(this._lView,a)}}function iS(){return new Br(Ke())}let mc=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,v=new rr(c,S=>{this.all.has(S)&&this.queue.set(S,p)},h);let w;this.all.add(v),v.notify();const x=()=>{v.cleanup(),w?.(),this.all.delete(v),this.queue.delete(v)};return w=d?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=tt({token:o,providedIn:"root",factory:()=>new o}),o})();function sa(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?p=w:1==p?h=ee(h,w):2==p&&(d=ee(d,w+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function xu(o,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(fi(p)),Nr(p)){for(let w=Gi;w<p.length;w++){const x=p[w],S=x[Ye].firstChild;null!==S&&xu(x[Ye],x,S,d)}p[$s]!==p[nt]&&d.push(p[$s])}const v=c.type;if(8&v)xu(o,a,c.child,d);else if(32&v){const w=wm(c,a);let x;for(;x=w();)d.push(x)}else if(16&v){const w=Pf(a,c);if(Array.isArray(w))d.push(...w);else{const x=Dm(a[zn]);xu(x[Ye],x,w,d,!0)}}c=h?c.projectionNext:c.next}return d}function sh(o,a,c,d=!0){const h=a[Hs].rendererFactory;h.begin&&h.begin();try{Sa(o,a,o.template,c)}catch(v){throw d&&Qm(a,v),v}finally{h.end&&h.end(),a[Hs].effectManager?.flush()}}function Sa(o,a,c,d){const h=a[Ct];if(256!=(256&h)){a[Hs].effectManager?.flush(),ql(a);try{nm(a),function nu(o){return Yt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&De(o,a,c,2,d);const v=3==(3&h);if(v){const S=o.preOrderCheckHooks;null!==S&&Od(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Ka(a,S,0,null),su(a,0)}if(function fv(o){for(let a=$d(o);null!==a;a=pb(a)){if(!a[ys])continue;const c=a[ho];for(let d=0;d<c.length;d++){Qc(c[d])}}}(a),function Iu(o){for(let a=$d(o);null!==a;a=pb(a))for(let c=Gi;c<a.length;c++){const d=a[c],h=d[Ye];Bl(d)&&Sa(h,d,h.template,d[Hn])}}(a),null!==o.contentQueries&&bC(o,a),v){const S=o.contentCheckHooks;null!==S&&Od(a,S)}else{const S=o.contentHooks;null!==S&&Ka(a,S,1),su(a,1)}!function n0(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const d=Jb(a,za);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Cs(~p);else{const v=p,w=c[++h],x=c[++h];Md(w,v),d.runInContext(x,2,a[v])}}}finally{null===a[za]&&dn(a,za),Cs(-1)}}(o,a);const w=o.components;null!==w&&function Xm(o,a){for(let c=0;c<a.length;c++)Tu(o,a[c])}(a,w);const x=o.viewQuery;if(null!==x&&Tr(2,x,d),v){const S=o.viewCheckHooks;null!==S&&Od(a,S)}else{const S=o.viewHooks;null!==S&&Ka(a,S,2),su(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ct]&=-73,Ed(a)}finally{Wo()}}}function Tu(o,a){const c=Lr(a,o);if(Bl(c)){const d=c[Ye];80&c[Ct]?Sa(d,c,d.template,c[Hn]):c[Cn]>0&&aa(c)}}function aa(o){for(let d=$d(o);null!==d;d=pb(d))for(let h=Gi;h<d.length;h++){const p=d[h];if(Bl(p))if(1024&p[Ct]){const v=p[Ye];Sa(v,p,v.template,p[Hn])}else p[Cn]>0&&aa(p)}const c=o[Ye].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Lr(c[d],o);Bl(h)&&h[Cn]>0&&aa(h)}}class la{get rootNodes(){const a=this._lView,c=a[Ye];return xu(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hn]}set context(a){this._lView[Hn]=a}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Jt];if(Nr(a)){const c=a[Sl],d=c?c.indexOf(this):-1;d>-1&&(x_(a,d),Vd(c,d))}this._attachedToViewContainer=!1}AE(this._lView[Ye],this._lView)}onDestroy(a){Cd(this._lView,a)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){sh(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mb(o,a){yu(o,a,a[Qt],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=a}}class EC extends la{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;sh(a[Ye],a,a[Hn],!1)}checkNoChanges(){}get context(){return null}}class ah extends Yf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=yn(a);return new ch(c,this.ngModule)}}function pv(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class lh{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=oi(d);const h=this.injector.get(a,Kb,d);return h!==Kb||c===Kb?h:this.parentInjector.get(a,c,d)}}class ch extends Jr{get inputs(){return pv(this.componentDef.inputs)}get outputs(){return pv(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function yi(o){return o.map(Ua).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof Jd?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new lh(a,p):a,w=v.get(rC,null);if(null===w)throw new be(407,!1);const P={rendererFactory:w,sanitizer:v.get(NM,null),effectManager:v.get(mc,null)},H=w.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",me=d?function oh(o,a,c,d){const p=d.get(rt,!1)||c===N.ShadowDom,v=o.selectRootElement(a,p);return function fC(o){uv(o)}(v),v}(H,d,this.componentDef.encapsulation,v):Cm(H,le,function mv(o){const a=o.toLowerCase();return"svg"===a?yd:"math"===a?"math":null}(le)),ze=this.componentDef.onPush?576:528,it=hl(0,null,null,1,0,null,null,null,null,null,null),_t=Km(null,it,null,ze,null,null,P,H,v,null,null);let Ut,Xe;ql(_t);try{const Xt=this.componentDef;let Tn,mi=null;Xt.findHostDirectiveDefs?(Tn=[],mi=new Map,Xt.findHostDirectiveDefs(Xt,Tn,mi),Tn.push(Xt)):Tn=[Xt];const bl=function CC(o,a){const c=o[Ye],d=en;return o[d]=a,ih(c,d,2,"#host",null)}(_t,me),VA=function gv(o,a,c,d,h,p,v){const w=h[Ye];!function eg(o,a,c,d){for(const h of o)a.mergedAttrs=et(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(sa(a,a.mergedAttrs,!0),null!==c&&Ib(d,c,a))}(d,o,a,v);let x=null;null!==a&&(x=na(a,h[js]));const S=p.rendererFactory.createRenderer(a,c),P=Km(h,tp(c),null,c.onPush?64:16,h[o.index],o,p,S,null,null,x);return w.firstCreatePass&&a0(w,o,d.length-1),ip(h,P),h[o.index]=P}(bl,me,Xt,Tn,_t,P,H);Xe=Kc(it,en),me&&function sS(o,a,c,d){if(d)uo(o,c,["ng-version",sC.full]);else{const{attrs:h,classes:p}=function rf(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++d]):8===h&&c.push(p);else{if(!Ti(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&uo(o,c,h),p&&p.length>0&&xb(o,c,p.join(" "))}}(H,Xt,me,d),void 0!==c&&function aS(o,a,c){const d=o.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(Xe,this.ngContentSelectors,c),Ut=function xC(o,a,c,d,h,p){const v=wr(),w=h[Ye],x=Fr(v,h);mC(w,h,v,c,null,d);for(let P=0;P<c.length;P++)Qr(li(h,w,v.directiveStart+P,v),h);gC(w,h,v),x&&Qr(x,h);const S=li(h,w,v.directiveStart+v.componentOffset,v);if(o[Hn]=h[Hn]=S,null!==p)for(const P of p)P(S,a);return ep(w,v,o),S}(VA,Xt,Tn,mi,_t,[IC]),Oo(it,_t,null)}finally{Wo()}return new Jm(this.componentType,Ut,Zf(Xe,_t),_t,Xe)}}class Jm extends ra{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new EC(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;Vr(p[Ye],p,h,a,c),this.previousInputValues.set(a,c),ul(Lr(this._tNode.index,p))}}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function IC(){const o=wr();Rd(Ke()[Ye],o)}function Ur(o){let a=function h0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(po(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new be(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=Ei(o.inputs),v.declaredInputs=Ei(o.declaredInputs),v.outputs=Ei(o.outputs);const w=h.hostBindings;w&&SC(o,w);const x=h.viewQuery,S=h.contentQueries;if(x&&Mu(o,x),S&&MC(o,S),re(o.inputs,h.inputs),re(o.declaredInputs,h.declaredInputs),re(o.outputs,h.outputs),po(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(o),w===Ur&&(c=!1)}}a=Object.getPrototypeOf(a)}!function TC(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=et(h.hostAttrs,c=et(c,h.hostAttrs))}}(d)}function Ei(o){return o===he?{}:o===we?[]:o}function Mu(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function MC(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function SC(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function tg(o){return!!m0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function m0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ml(o,a,c){return o[a]=c}function Po(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function g0(o,a,c,d){const h=Ke();return Po(h,Ds(),a)&&(pn(),pl(Si(),h,o,a,c,d)),g0}function ap(o,a,c,d,h,p,v,w){const x=Ke(),S=pn(),P=o+en,H=S.firstCreatePass?function qC(o,a,c,d,h,p,v,w,x){const S=a.consts,P=ih(a,o,4,v||null,Go(S,w));dv(a,c,P,Go(S,x)),Rd(a,P);const H=P.tView=hl(2,P,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,P),H.queries=a.queries.embeddedTView(P)),P}(P,S,x,a,c,d,h,p,v):S.data[P];mo(H,!1);const le=YC(S,x,H,o);ou()&&k_(S,x,le,H),Qr(le,x),ip(x,x[P]=c0(le,x,le,H)),Ea(H)&&Rs(S,x,H),null!=v&&r0(x,H,w)}let YC=function KC(o,a,c,d){return xs(!0),a[Qt].createComment("")};function y0(o){return function Vl(o,a){return o[a]}(function om(){return Yt.lFrame.contextLView}(),en+o)}function b0(o,a,c){const d=Ke();return Po(d,Ds(),a)&&fs(pn(),Si(),d,o,a,d[Qt],c,!1),b0}function yh(o,a,c,d,h){const v=h?"class":"style";Vr(o,c,a.inputs[v],v,d)}function lg(o,a,c,d){const h=Ke(),p=pn(),v=en+o,w=h[Qt],x=p.firstCreatePass?function dS(o,a,c,d,h,p){const v=a.consts,x=ih(a,o,2,d,Go(v,h));return dv(a,c,x,Go(v,p)),null!==x.attrs&&sa(x,x.attrs,!1),null!==x.mergedAttrs&&sa(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,p,h,a,c,d):p.data[v],S=w0(p,h,x,w,a,o);h[v]=S;const P=Ea(x);return mo(x,!0),Ib(w,S,x),32!=(32&x.flags)&&ou()&&k_(p,h,S,x),0===function as(){return Yt.lFrame.elementDepthCount}()&&Qr(S,h),function Ul(){Yt.lFrame.elementDepthCount++}(),P&&(Rs(p,h,x),ep(p,x,h)),null!==d&&r0(h,x),lg}function bc(){let o=wr();$l()?Gl():(o=o.parent,mo(o,!1));const a=o;(function h_(o){return Yt.skipHydrationRootTNode===o})(a)&&function Hl(){Yt.skipHydrationRootTNode=null}(),function jl(){Yt.lFrame.elementDepthCount--}();const c=pn();return c.firstCreatePass&&(Rd(c,o),cd(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function bn(o){return 0!=(8&o.flags)}(a)&&yh(c,a,Ke(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Xn(o){return 0!=(16&o.flags)}(a)&&yh(c,a,Ke(),a.stylesWithoutHost,!1),bc}function Aa(o,a,c,d){return lg(o,a,c,d),bc(),Aa}let w0=(o,a,c,d,h,p)=>(xs(!0),Cm(d,h,function ru(){return Yt.lFrame.currentNamespace}()));function cp(o,a,c){const d=Ke(),h=pn(),p=o+en,v=h.firstCreatePass?function lp(o,a,c,d,h){const p=a.consts,v=Go(p,d),w=ih(a,o,8,"ng-container",v);return null!==v&&sa(w,v,!0),dv(a,c,w,Go(p,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,h,d,a,c):h.data[p];mo(v,!0);const w=Sv(h,d,v,o);return d[p]=w,ou()&&k_(h,d,w,v),Qr(w,d),Ea(v)&&(Rs(h,d,v),ep(h,v,d)),null!=c&&r0(d,v),cp}function up(){let o=wr();const a=pn();return $l()?Gl():(o=o.parent,mo(o,!1)),a.firstCreatePass&&(Rd(a,o),cd(o)&&a.queries.elementEnd(o)),up}let Sv=(o,a,c,d)=>(xs(!0),E_(a[Qt],""));function gr(){return Ke()}function Pn(o){return!!o&&"function"==typeof o.then}function D0(o){return!!o&&"function"==typeof o.subscribe}function Av(o,a,c,d){const h=Ke(),p=pn(),v=wr();return function E0(o,a,c,d,h,p,v){const w=Ea(d),S=o.firstCreatePass&&u0(o),P=a[Hn],H=pc(a);let le=!0;if(3&d.type||v){const it=Fr(d,a),_t=v?v(it):it,Ut=H.length,Xe=v?Tn=>v(fi(Tn[d.index])):d.index;let Xt=null;if(!v&&w&&(Xt=function Rv(o,a,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===c&&h[p+1]===d){const w=a[is],x=h[p+2];return w.length>x?w[x]:null}"string"==typeof v&&(p+=2)}return null}(o,a,h,d.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=p,Xt.__ngLastListenerFn__=p,le=!1;else{p=C0(d,a,P,p,!1);const Tn=c.listen(_t,h,p);H.push(p,Tn),S&&S.push(h,Xe,Ut,Ut+1)}}else p=C0(d,a,P,p,!1);const me=d.outputs;let ze;if(le&&null!==me&&(ze=me[h])){const it=ze.length;if(it)for(let _t=0;_t<it;_t+=2){const mi=a[ze[_t]][ze[_t+1]].subscribe(p),bl=H.length;H.push(p,mi),S&&S.push(h,d.index,bl,-(bl+1))}}}(p,h,h[Qt],v,o,a,d),Av}function XC(o,a,c,d){try{return ss(6,a,c),!1!==c(d)}catch(h){return Qm(o,h),!1}finally{ss(7,a,c)}}function C0(o,a,c,d,h){return function p(v){if(v===Function)return d;ul(o.componentOffset>-1?Lr(o.index,a):a);let x=XC(a,c,d,v),S=p.__ngNextListenerFn__;for(;S;)x=XC(a,c,S,v)&&x,S=S.__ngNextListenerFn__;return h&&!1===x&&v.preventDefault(),x}}function x0(o=1){return function am(o){return(Yt.lFrame.contextLView=function lm(o,a){for(;o>0;)a=a[Ha],o--;return a}(o,Yt.lFrame.contextLView))[Hn]}(o)}function I0(o,a){let c=null;const d=function Pc(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?Vs(o,p,!0):ns(d,p))return h}else c=h}return c}function dp(o){const a=Ke()[zn][Bn];if(!a.projection){const d=a.projection=Ms(o?o.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const v=o?I0(p,o):0;null!==v&&(h[v]?h[v].projectionNext=p:d[v]=p,h[v]=p),p=p.next}}}function hp(o,a=0,c){const d=Ke(),h=pn(),p=ih(h,en+o,16,null,c||null);null===p.projection&&(p.projection=a),Gl(),(!d[hr]||qs())&&32!=(32&p.flags)&&function Cb(o,a,c){R_(a[Qt],0,a,c,T_(o,c,a),OE(c.parent||a[Bn],c,a))}(h,d,p)}function Ov(o,a){return o<<17|a<<2}function Ou(o){return o>>17&32767}function Pv(o){return 2|o}function bh(o){return(131068&o)>>2}function nr(o,a){return-131069&o|a<<2}function Nv(o){return 1|o}function gp(o,a,c,d,h){const p=o[c+1],v=null===a;let w=d?Ou(p):bh(p),x=!1;for(;0!==w&&(!1===x||v);){const P=o[w+1];ix(o[w],a)&&(x=!0,o[w+1]=d?Nv(P):Pv(P)),w=d?Ou(P):bh(P)}x&&(o[c+1]=d?Pv(p):Nv(p))}function ix(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&j(o,a)>=0}function _l(o,a,c){return da(o,a,c,!1),_l}function Nu(o,a){return da(o,a,null,!0),Nu}function da(o,a,c,d){const h=Ke(),p=pn(),v=function Ks(o){const a=Yt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);p.firstUpdatePass&&function cg(o,a,c,d){const h=o.data;if(null===h[c+1]){const p=h[Dr()],v=function B0(o,a){return a>=o.expandoStartIndex}(o,c);(function Fu(o,a){return 0!=(o.flags&(a?8:16))})(p,d)&&null===a&&!v&&(a=!1),a=function wh(o,a,c,d){const h=function qi(o){const a=Yt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Ch(c=Lv(null,o,a,c,d),a.attrs,d),p=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=Lv(h,o,a,c,d),null===p){let x=function Dh(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==bh(d))return o[Ou(d)]}(o,a,d);void 0!==x&&Array.isArray(x)&&(x=Lv(null,o,a,x[1],d),x=Ch(x,a.attrs,d),function Eh(o,a,c,d){o[Ou(c?a.classBindings:a.styleBindings)]=d}(o,a,d,x))}else p=function ug(o,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Ch(d,o[p].hostAttrs,c);return Ch(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function P0(o,a,c,d,h,p){let v=p?a.classBindings:a.styleBindings,w=Ou(v),x=bh(v);o[d]=c;let P,S=!1;if(Array.isArray(c)?(P=c[1],(null===P||j(c,P)>0)&&(S=!0)):P=c,h)if(0!==x){const le=Ou(o[w+1]);o[d+1]=Ov(le,w),0!==le&&(o[le+1]=nr(o[le+1],d)),o[w+1]=function mp(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Ov(w,0),0!==w&&(o[w+1]=nr(o[w+1],d)),w=d;else o[d+1]=Ov(x,0),0===w?w=d:o[x+1]=nr(o[x+1],d),x=d;S&&(o[d+1]=Pv(o[d+1])),gp(o,P,d,!0),gp(o,P,d,!1),function nx(o,a,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&j(p,a)>=0&&(c[d+1]=Nv(c[d+1]))}(a,P,o,d,p),v=Ov(w,x),p?a.classBindings=v:a.styleBindings=v}(h,p,a,c,v,d)}}(p,o,v,d),a!==on&&Po(h,v,a)&&function H0(o,a,c,d,h,p,v,w){if(!(3&a.type))return;const x=o.data,S=x[w+1],P=function O0(o){return 1==(1&o)}(S)?z0(x,a,c,h,bh(S),v):void 0;xh(P)||(xh(p)||function R0(o){return 2==(2&o)}(S)&&(p=z0(x,null,c,h,w,v)),function wM(o,a,c,d,h){if(a)h?o.addClass(c,d):o.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:As.DashCase;null==h?o.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=As.Important),o.setStyle(c,d,h,p))}}(d,v,Ll(Dr(),c),h,p))}(p,p.data[Dr()],h,h[Qt],o,h[v+1]=function dg(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=oe(ta(o)))),o}(a,c),d,v)}function Lv(o,a,c,d,h){let p=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(p=a[w],d=Ch(d,p.hostAttrs,h),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Ch(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const v=a[p];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),I(o,v,!!c||a[++p]))}return void 0===o?null:o}function z0(o,a,c,d,h,p){const v=null===a;let w;for(;h>0;){const x=o[h],S=Array.isArray(x),P=S?x[1]:x,H=null===P;let le=c[h+1];le===on&&(le=H?we:void 0);let me=H?R(le,d):P===d?le:void 0;if(S&&!xh(me)&&(me=R(x,d)),xh(me)&&(w=me,v))return w;const ze=o[h+1];h=v?Ou(ze):bh(ze)}if(null!==a){let x=p?a.residualClasses:a.residualStyles;null!=x&&(w=R(x,d))}return w}function xh(o){return void 0!==o}function cx(o,a=""){const c=Ke(),d=pn(),h=o+en,p=d.firstCreatePass?ih(d,h,1,a,null):d.data[h],v=$0(d,c,p,a,o);c[h]=v,ou()&&k_(d,c,v,p),mo(p,!1)}let $0=(o,a,c,d,h)=>(xs(!0),function Of(o,a){return o.createText(a)}(a[Qt],d));function G0(o){return Lu("",o,""),G0}function Lu(o,a,c){const d=Ke(),h=function ua(o,a,c,d){return Po(o,Ds(),c)?a+Fe(c)+d:on}(d,o,a,c);return h!==on&&function $n(o,a,c){const d=Ll(a,o);!function ME(o,a,c){o.setValue(a,c)}(o[Qt],d,c)}(d,Dr(),h),Lu}function vl(o,a,c){const d=Ke();return Po(d,Ds(),a)&&fs(pn(),Si(),d,o,a,d[Qt],c,!0),vl}const Mh=void 0;var CS=["en",[["a","p"],["AM","PM"],Mh],[["AM","PM"],Mh,Mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mh,"{1} 'at' {0}",Mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yx(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Sh={};function vp(o){const a=function Ah(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=tw(a);if(c)return c;const d=a.split("-")[0];if(c=tw(d),c)return c;if("en"===d)return CS;throw new be(701,!1)}function bx(o){return vp(o)[Kt.PluralCase]}function tw(o){return o in Sh||(Sh[o]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[o]),Sh[o]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const kh="en-US";let jr=kh;function Dw(o,a,c,d,h){if(o=q(o),Array.isArray(o))for(let p=0;p<o.length;p++)Dw(o[p],a,c,d,h);else{const p=pn(),v=Ke();let w=Eu(o)?o:q(o.provide),x=Vm(o);const S=wr(),P=1048575&S.providerIndexes,H=S.directiveStart,le=S.providerIndexes>>20;if(Eu(o)||!o.multi){const me=new Za(x,h,nh),ze=Cg(w,a,h?P:P+le,H);-1===ze?(qo(It(S,v),p,w),Dg(p,o,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(me),v.push(me)):(c[ze]=me,v[ze]=me)}else{const me=Cg(w,a,P+le,H),ze=Cg(w,a,P,P+le),_t=ze>=0&&c[ze];if(h&&!_t||!h&&!(me>=0&&c[me])){qo(It(S,v),p,w);const Ut=function HS(o,a,c,d,h){const p=new Za(o,c,nh);return p.multi=[],p.index=a,p.componentProviders=0,Eg(p,h,d&&!c),p}(h?Cp:Bx,c.length,h,d,x);!h&&_t&&(c[ze].providerFactory=Ut),Dg(p,o,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),c.push(Ut),v.push(Ut)}else Dg(p,o,me>-1?me:ze,Eg(c[h?ze:me],x,!h&&d));!h&&d&&_t&&c[ze].componentProviders++}}}function Dg(o,a,c,d){const h=Eu(a),p=function Lm(o){return!!o.useClass}(a);if(h||p){const x=(p?q(a.useClass):a).prototype.ngOnDestroy;if(x){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const P=S.indexOf(c);-1===P?S.push(c,[d,x]):S[P+1].push(d,x)}else S.push(c,x)}}}function Eg(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Cg(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function Bx(o,a,c,d){return xg(this.multi,[])}function Cp(o,a,c,d){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=li(c,c[Ye],this.providerFactory.index,d);p=w.slice(0,v),xg(h,p);for(let x=v;x<w.length;x++)p.push(w[x])}else p=[],xg(h,p);return p}function xg(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Ux(o,a=[]){return c=>{c.providersResolver=(d,h)=>function ww(o,a,c){const d=pn();if(d.firstCreatePass){const h=po(o);Dw(c,d.data,d.blueprint,h,!0),Dw(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Fh{}class Ew{}function zS(o,a){return new Cw(o,a??null,[])}class Cw extends Fh{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const h=Yn(a);this._bootstrapComponents=Ge(h.bootstrap),this._r3Injector=Jf(a,c,[{provide:Fh,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver},...d],oe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Ig extends Ew{constructor(a){super(),this.moduleType=a}create(a){return new Cw(this.moduleType,a,[])}}class oy extends Fh{constructor(a){super(),this.componentFactoryResolver=new ah(this),this.instance=null;const c=new Hb([...a.providers,{provide:Fh,useValue:this},{provide:Yf,useValue:this.componentFactoryResolver}],a.parent||W_(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Hx(o,a,c=null){return new oy({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let xw=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Bb(0,c.type),h=d.length>0?Hx([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=tt({token:o,providedIn:"environment",factory:()=>new o(_n(Jd))}),o})();function Iw(o){o.getStandaloneInjector=a=>a.get(xw).getOrCreateStandaloneInjector(o)}function ly(o,a,c,d){return function Qx(o,a,c,d,h,p){const v=a+c;return Po(o,v,h)?ml(o,v+1,p?d.call(p,h):d(h)):Mg(o,v+1)}(Ke(),Wr(),o,a,c,d)}function cy(o,a,c,d,h){return function Xx(o,a,c,d,h,p,v){const w=a+c;return function Su(o,a,c,d){const h=Po(o,a,c);return Po(o,a+1,d)||h}(o,w,h,p)?ml(o,w+2,v?d.call(v,h,p):d(h,p)):Mg(o,w+2)}(Ke(),Wr(),o,a,c,d,h)}function Mg(o,a){const c=o[a];return c===on?void 0:c}function Nw(o){return a=>{setTimeout(o,void 0,a)}}const ha=class Pw extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),v=d;if(a&&"object"==typeof a){const x=a;h=x.next?.bind(x),p=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(p=Nw(p),h&&(h=Nw(h)),v&&(v=Nw(v)));const w=super.subscribe({next:h,error:p,complete:v});return a instanceof V.w0&&a.add(w),w}};function QS(){return this._results[Symbol.iterator]()}class Ag{get changes(){return this._changes||(this._changes=new ha)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ag.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=QS)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function To(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ts(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Vw,o})();const Fw=kg,Lw=class extends Fw{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,d){const h=this._declarationTContainer.tView,p=Km(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,c||null,d||null);p[Tl]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Eo];return null!==w&&(p[Eo]=w.createEmbeddedView(h)),Oo(h,p,a),new la(p)}};function Vw(){return xc(wr(),Ke())}function xc(o,a){return 4&o.type?new Lw(a,o,Zf(o,a)):null}let Tp=(()=>{class o{}return o.__NG_ELEMENT_ID__=eA,o})();function eA(){return fy(wr(),Ke())}const zw=Tp,oI=class extends zw{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Zf(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const a=cu(this._hostTNode,this._hostLView);if(Zl(a)){const c=hn(a,this._hostLView),d=lu(a);return new Ta(c[Ye].data[d+8],c)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=hy(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Gi}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const w=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(w,h,false),w}createComponent(a,c,d,h,p){const v=a&&!function nc(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const it=c||{};w=it.index,d=it.injector,h=it.projectableNodes,p=it.environmentInjector||it.ngModuleRef}const x=v?a:new ch(yn(a)),S=d||this.parentInjector;if(!p&&null==x.ngModule){const _t=(v?S:this.parentInjector).get(Jd,null);_t&&(p=_t)}yn(x.componentType??{});const me=x.create(S,h,null,p);return this.insertImpl(me.hostView,w,false),me}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView,p=h[Ye];if(function Dd(o){return Nr(o[Jt])}(h)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const S=h[Jt],P=new oI(S,S[Bn],S[Jt]);P.detach(P.indexOf(a))}}const v=this._adjustIndex(c),w=this._lContainer;if(function _b(o,a,c,d){const h=Gi+d,p=c.length;d>0&&(c[h-1][si]=a),d<p-Gi?(a[si]=c[h],Tf(c,Gi+d,a)):(c.push(a),a[si]=null),a[Jt]=c;const v=a[Tl];null!==v&&c!==v&&function vb(o,a){const c=o[ho];a[zn]!==a[Jt][Jt][zn]&&(o[ys]=!0),null===c?o[ho]=[a]:c.push(a)}(v,a);const w=a[Eo];null!==w&&w.insertView(o),a[Ct]|=128}(p,h,w,v),!d){const x=Wd(v,w),S=h[Qt],P=Gd(S,w[$s]);null!==P&&function C_(o,a,c,d,h,p){d[nt]=h,d[Bn]=a,yu(o,d,c,1,h,p)}(p,w[Bn],S,h,P,x)}return a.attachToViewContainerRef(),Tf($w(w),v,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=hy(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=x_(this._lContainer,c);d&&(Vd($w(this._lContainer),c),AE(d[Ye],d))}detach(a){const c=this._adjustIndex(a,-1),d=x_(this._lContainer,c);return d&&null!=Vd($w(this._lContainer),c)?new la(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function hy(o){return o[Sl]}function $w(o){return o[Sl]||(o[Sl]=[])}function fy(o,a){let c;const d=a[o.index];return Nr(d)?c=d:(c=c0(d,a,null,o),a[o.index]=c,ip(a,c)),py(c,a,o,d),new oI(c,o,a)}let py=function Gw(o,a,c,d){if(o[$s])return;let h;h=8&c.type?fi(d):function sI(o,a){const c=o[Qt],d=c.createComment(""),h=Fr(a,o);return lc(c,Gd(c,h),d,function wb(o,a){return o.nextSibling(a)}(c,h),!1),d}(a,c),o[$s]=h};class Og{constructor(a){this.queryList=a,this.matches=null}clone(){return new Og(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ww{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const v=c.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Ww(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==gy(a,c).matches&&this.queries[c].setDirty()}}class my{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Pg{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Pg(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Ng{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Ng(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,iA(c,p)),this.matchTNodeWithReadOption(a,c,Is(c,a,p,!1,!1))}else d===kg?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Is(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===qm||h===Tp||h===kg&&4&c.type)this.addMatch(c.index,-2);else{const p=Is(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function iA(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function rA(o,a,c,d){return-1===c?function Fg(o,a){return 11&o.type?Zf(o,a):4&o.type?xc(o,a):null}(a,o):-2===c?function qw(o,a,c){return c===qm?Zf(a,o):c===kg?xc(a,o):c===Tp?fy(a,o):void 0}(o,a,d):li(o,o[Ye],c,a)}function Yw(o,a,c,d){const h=a[Eo].queries[d];if(null===h.matches){const p=o.data,v=c.matches,w=[];for(let x=0;x<v.length;x+=2){const S=v[x];w.push(S<0?null:rA(a,p[S],v[x+1],c.metadata.read))}h.matches=w}return h.matches}function Hu(o,a,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const v=Yw(o,a,h,c);for(let w=0;w<p.length;w+=2){const x=p[w];if(x>0)d.push(v[w/2]);else{const S=p[w+1],P=a[-x];for(let H=Gi;H<P.length;H++){const le=P[H];le[Tl]===le[Jt]&&Hu(le[Ye],le,S,d)}if(null!==P[ho]){const H=P[ho];for(let le=0;le<H.length;le++){const me=H[le];Hu(me[Ye],me,S,d)}}}}}return d}function Kw(o){const a=Ke(),c=pn(),d=iu();Es(d+1);const h=gy(c,d);if(o.dirty&&function Zc(o){return 4==(4&o[Ct])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?Hu(c,a,d,[]):Yw(c,a,h,d);o.reset(p,Yb),o.notifyOnChanges()}return!0}return!1}function Lg(o,a,c){const d=pn();d.firstCreatePass&&(Vg(d,new my(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),cI(d,Ke(),a)}function aI(o,a,c,d){const h=pn();if(h.firstCreatePass){const p=wr();Vg(h,new my(a,c,d),p.index),function Zw(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}cI(h,Ke(),c)}function lI(){return function oA(o,a){return o[Eo].queries[a].queryList}(Ke(),iu())}function cI(o,a,c){const d=new Ag(4==(4&c));(function Os(o,a,c,d){const h=pc(a);h.push(c),o.firstCreatePass&&u0(o).push(d,h.length-1)})(o,a,d,d.destroy),null===a[Eo]&&(a[Eo]=new Ww),a[Eo].queries.push(new Og(d))}function Vg(o,a,c){null===o.queries&&(o.queries=new Pg),o.queries.track(new Ng(a,c))}function gy(o,a){return o.queries.getByIndex(a)}function _y(o,a){return xc(o,a)}function yy(o){return!!Yn(o)}const sD=new Kn("Application Initializer");let jh=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=an(sD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(Pn(p))c.push(p);else if(D0(p)){const v=new Promise((w,x)=>{p.subscribe({complete:w,error:x})});c.push(v)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),xI=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const fa=new Kn("LocaleId",{providedIn:"root",factory:()=>an(fa,kt.Optional|kt.SkipSelf)||function yl(){return typeof $localize<"u"&&$localize.locale||kh}()}),HO=new Kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pA{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let II=(()=>{class o{compileModuleSync(c){return new Ig(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Ge(Yn(c).declarations).reduce((v,w)=>{const x=yn(w);return x&&v.push(new ch(x)),v},[]);return new pA(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const cD=(()=>Promise.resolve(0))();function uD(o){typeof Zone>"u"?cD.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}function MI(...o){}class no{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function gA(){let o=pt.requestAnimationFrame,a=pt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function RI(o){const a=()=>{!function kI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(pt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,zg(o),o.isCheckStableRunning=!0,Tc(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),zg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,v,w)=>{try{return Ap(o),c.invokeTask(h,p,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),OI(o)}},onInvoke:(c,d,h,p,v,w,x)=>{try{return Ap(o),c.invoke(h,p,v,w,x)}finally{o.shouldCoalesceRunChangeDetection&&a(),OI(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,zg(o),Tc(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(no.isInAngularZone())throw new be(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,a,AI,MI,MI);try{return p.runTask(v,c,d)}finally{p.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const AI={};function Tc(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function zg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Ap(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function OI(o){o._nesting--,Tc(o)}class Ey{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const $g=new Kn("",{providedIn:"root",factory:dD});function dD(){const o=an(no);let a=!0;const c=new O.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new O.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{no.assertNotInAngularZone(),uD(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const v=o.onUnstable.subscribe(()=>{no.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,ne.T)(c,d.pipe((0,Y.B)()))}const kp=new Kn(""),PI=new Kn("");let Hh,Cy=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hh||(function fD(o){Hh=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),uD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uD(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(_n(no),_n(hD),_n(PI))},o.\u0275prov=tt({token:o,factory:o.\u0275fac}),o})(),hD=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Hh?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Qo=null;const Rp=new Kn("AllowMultipleToken"),pD=new Kn("PlatformDestroyListeners"),Wu=new Kn("appBootstrapListener");class Iy{constructor(a,c){this.name=a,this.token=c}}function NI(o,a,c=[]){const d=`Platform: ${a}`,h=new Kn(d);return(p=[])=>{let v=My();if(!v||v.injector.get(Rp,!1)){const w=[...c,...p,{provide:h,useValue:!0}];o?o(w):function vA(o){if(Qo&&!Qo.get(Rp,!1))throw new be(400,!1);(function xy(){!function Gc(o){_d=o}(()=>{throw new be(600,!1)})})(),Qo=o;const a=o.get(mD);(function Gg(o){o.get(zb,null)?.forEach(c=>c())})(o)}(function FI(o=[],a){return fc.create({name:a,providers:[{provide:Xd,useValue:"platform"},{provide:pD,useValue:new Set([()=>Qo=null])},...o]})}(w,d))}return function Ty(o){const a=My();if(!a)throw new be(401,!1);return a}()}}function My(){return Qo?.get(mD)??null}let mD=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function LI(o="zone.js",a){return"noop"===o?new Ey:"zone.js"===o?new no(a):o}(d?.ngZone,function gD(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function $S(o,a,c){return new Cw(o,a,c)}(c.moduleType,this.injector,function DA(o){return[{provide:no,useFactory:o},{provide:Pm,multi:!0,useFactory:()=>{const a=an(wA,{optional:!0});return()=>a.initialize()}},{provide:bA,useFactory:qO},{provide:$g,useFactory:dD}]}(()=>h)),v=p.injector.get(ks,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:x=>{v.handleError(x)}});p.onDestroy(()=>{zh(this._modules,p),w.unsubscribe()})}),function _D(o,a,c){try{const d=c();return Pn(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(v,h,()=>{const w=p.injector.get(jh);return w.runInitializers(),w.donePromise.then(()=>(function Ex(o){Je(o,"Expected localeId to be defined"),"string"==typeof o&&(jr=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(fa,kh)||kh),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=vD({},d);return function $O(o,a,c){const d=new Ig(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(qu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new be(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(pD,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(_n(fc))},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function vD(o,a){return Array.isArray(a)?a.reduce(vD,o):{...o,...a}}let qu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(bA),this.componentTypes=[],this.components=[],this.isStable=an($g),this._injector=an(Jd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Jr;if(!this._injector.get(jh).done)throw!h&&wa(c),new be(405,!1);let v;v=h?c:this._injector.get(Yf).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const w=function _A(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Fh),S=v.create(fc.NULL,[],d||v.selector,w),P=S.location.nativeElement,H=S.injector.get(kp,null);return H?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),zh(this.components,S),H?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;zh(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Wu,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>zh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function zh(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const bA=new Kn("",{providedIn:"root",factory:()=>an(ks).handleError.bind(void 0)});function qO(){const o=an(no),a=an(ks);return c=>o.runOutsideAngular(()=>a.handleError(c))}let wA=(()=>{class o{constructor(){this.zone=an(no),this.applicationRef=an(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Mc(){return!1}let EA=(()=>{class o{}return o.__NG_ELEMENT_ID__=Yu,o})();function Yu(o){return function CA(o,a,c){if(Co(o)&&!c){const d=Lr(o.index,a);return new la(d,d)}return 47&o.type?new la(a[zn],a):null}(wr(),Ke(),16==(16&o))}class MA{constructor(){}supports(a){return tg(a)}create(a){return new AA(a)}}const SA=(o,a)=>a;class AA{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||SA}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const v=!d||c&&c.currentIndex<ED(d,h,p)?c:d,w=ED(v,h,p),x=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{p||(p=[]);const S=w-h,P=x-h;if(S!=P){for(let le=0;le<S;le++){const me=le<p.length?p[le]:p[le]=0,ze=me+le;P<=ze&&ze<S&&(p[le]=me+1)}p[v.previousIndex]=P-S}}w!==x&&a(v,w,x)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!tg(a))throw new be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],v=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,p,v,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,v,w),d=!0),c=c._next}else h=0,function PC(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new kA(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new zI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class kA{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JO{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class zI{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new JO,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ED(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Sc{constructor(){}supports(a){return a instanceof Map||m0(a)}create(){return new RA}}class RA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||m0(a)))throw new be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const d=new OA(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class OA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $I(){return new CD([new MA])}let CD=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||$I()),deps:[[o,new mn,new rl]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new be(901,!1)}}return o.\u0275prov=tt({token:o,providedIn:"root",factory:$I}),o})();function GI(){return new xD([new Sc])}let xD=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||GI()),deps:[[o,new mn,new rl]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new be(901,!1)}}return o.\u0275prov=tt({token:o,providedIn:"root",factory:GI}),o})();const NA=NI(null,"core",[]);let ID=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(_n(qu))},o.\u0275mod=wo({type:o}),o.\u0275inj=zt({}),o})(),TD=(()=>{class o{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=an(no),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(c=>{this.resolve=c})})}add(){if(this.completed)return-1;const c=this.taskId++;return this.collection.add(c),c}remove(c){this.completed||(this.collection.delete(c),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function AD(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Vy(o){const a=yn(o);if(!a)return null;const c=new ch(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone}}}},5855:(se,K,M)=>{M.d(K,{O4:()=>vt});var u=M(2223);class X extends Error{constructor(Pe,tt){super(function re(Et,Pe){return`NG0${Math.abs(Et)}${Pe?": "+Pe:""}`}(Pe,tt)),this.code=Pe}}function vt(Et,Pe){const tt=!Pe?.manualCleanup;tt&&!Pe?.injector&&(0,u.gHi)(vt);const Rt=tt?Pe?.injector?.get(u.ktI)??(0,u.f3M)(u.ktI):null;let zt;zt=(0,u.tdS)(Pe?.requireSync?{kind:0}:{kind:1,value:Pe?.initialValue});const vn=Et.subscribe({next:xn=>zt.set({kind:1,value:xn}),error:xn=>zt.set({kind:2,error:xn})});return Rt?.onDestroy(vn.unsubscribe.bind(vn)),(0,u.Flj)(()=>{const xn=zt();switch(xn.kind){case 1:return xn.value;case 2:throw xn.error;case 0:throw new X(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},3942:(se,K,M)=>{M.d(K,{Z:()=>Ze});var u=M(2090),V=M(4859),O=M(6881),ne=M(1877);class Y{constructor(be,Ae){this._delegate=be,this.firebase=Ae,(0,O._addComponent)(be,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(be,Ae=O._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(be);return!Le.isInitialized()&&"EXPLICIT"===(null===(Fe=Le.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ae})}_removeServiceInstance(be,Ae=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ae)}_addComponent(be){(0,O._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,O._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ee(){const st=function oe(st){const be={},Ae={__esModule:!0,initializeApp:function Re(Ue,de={}){const ft=O.initializeApp(Ue,de);if((0,u.r3)(be,ft.name))return be[ft.name];const ct=new st(ft,Ae);return be[ft.name]=ct,ct},app:Le,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function je(Ue){const de=Ue.name,ft=de.replace("-compat","");if(O._registerComponent(Ue)&&"PUBLIC"===Ue.type){const ct=(Dn=Le())=>{if("function"!=typeof Dn[ft])throw re.create("invalid-app-argument",{appName:de});return Dn[ft]()};void 0!==Ue.serviceProps&&(0,u.ZB)(ct,Ue.serviceProps),Ae[ft]=ct,st.prototype[ft]=function(...Dn){return this._getService.bind(this,de).apply(this,Ue.multipleInstances?Dn:[])}}return"PUBLIC"===Ue.type?Ae[ft]:null},removeApp:function Fe(Ue){delete be[Ue]},useAsService:function We(Ue,de){return"serverAuth"===de?null:de},modularAPIs:O}};function Le(Ue){if(!(0,u.r3)(be,Ue=Ue||O._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:Ue});return be[Ue]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Se(){return Object.keys(be).map(Ue=>be[Ue])}}),Le.App=st,Ae}(Y);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function be(Ae){(0,u.ZB)(st,Ae)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),st}(),z=new ne.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=G;!function Me(st){(0,O.registerVersion)("@firebase/app-compat","0.2.11",st)}()},6881:(se,K,M)=>{M.r(K),M.d(K,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>Ii,_addOrOverwriteComponent:()=>dr,_apps:()=>pt,_clearComponents:()=>kn,_components:()=>ui,_getProvider:()=>ii,_registerComponent:()=>ni,_removeServiceInstance:()=>ji,deleteApp:()=>_n,getApp:()=>ri,getApps:()=>bi,initializeApp:()=>bo,onLog:()=>oi,registerVersion:()=>an,setLogLevel:()=>Or});var u=M(9671),V=M(4859),O=M(1877),ne=M(2090);const Y=(Ne,ge)=>ge.some(et=>Ne instanceof et);let X,re;const G=new WeakMap,z=new WeakMap,q=new WeakMap,ve=new WeakMap,Me=new WeakMap;let be={get(Ne,ge,et){if(Ne instanceof IDBTransaction){if("done"===ge)return z.get(Ne);if("objectStoreNames"===ge)return Ne.objectStoreNames||q.get(Ne);if("store"===ge)return et.objectStoreNames[1]?void 0:et.objectStore(et.objectStoreNames[0])}return Re(Ne[ge])},set:(Ne,ge,et)=>(Ne[ge]=et,!0),has:(Ne,ge)=>Ne instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in Ne};function Le(Ne){return"function"==typeof Ne?function Fe(Ne){return Ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ne)?function(...ge){return Ne.apply(Se(this),ge),Re(G.get(this))}:function(...ge){return Re(Ne.apply(Se(this),ge))}:function(ge,...et){const At=Ne.call(Se(this),ge,...et);return q.set(At,ge.sort?ge.sort():[ge]),Re(At)}}(Ne):(Ne instanceof IDBTransaction&&function st(Ne){if(z.has(Ne))return;const ge=new Promise((et,At)=>{const Wt=()=>{Ne.removeEventListener("complete",un),Ne.removeEventListener("error",In),Ne.removeEventListener("abort",In)},un=()=>{et(),Wt()},In=()=>{At(Ne.error||new DOMException("AbortError","AbortError")),Wt()};Ne.addEventListener("complete",un),Ne.addEventListener("error",In),Ne.addEventListener("abort",In)});z.set(Ne,ge)}(Ne),Y(Ne,function oe(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ne,be):Ne)}function Re(Ne){if(Ne instanceof IDBRequest)return function Ze(Ne){const ge=new Promise((et,At)=>{const Wt=()=>{Ne.removeEventListener("success",un),Ne.removeEventListener("error",In)},un=()=>{et(Re(Ne.result)),Wt()},In=()=>{At(Ne.error),Wt()};Ne.addEventListener("success",un),Ne.addEventListener("error",In)});return ge.then(et=>{et instanceof IDBCursor&&G.set(et,Ne)}).catch(()=>{}),Me.set(ge,Ne),ge}(Ne);if(ve.has(Ne))return ve.get(Ne);const ge=Le(Ne);return ge!==Ne&&(ve.set(Ne,ge),Me.set(ge,Ne)),ge}const Se=Ne=>Me.get(Ne),Ue=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],ft=new Map;function ct(Ne,ge){if(!(Ne instanceof IDBDatabase)||ge in Ne||"string"!=typeof ge)return;if(ft.get(ge))return ft.get(ge);const et=ge.replace(/FromIndex$/,""),At=ge!==et,Wt=de.includes(et);if(!(et in(At?IDBIndex:IDBObjectStore).prototype)||!Wt&&!Ue.includes(et))return;const un=function(){var In=(0,u.Z)(function*(Fi,...wi){const Ti=this.transaction(Fi,Wt?"readwrite":"readonly");let Ls=Ti.store;return At&&(Ls=Ls.index(wi.shift())),(yield Promise.all([Ls[et](...wi),Wt&&Ti.done]))[0]});return function(wi){return In.apply(this,arguments)}}();return ft.set(ge,un),un}!function Ae(Ne){be=Ne(be)}(Ne=>({...Ne,get:(ge,et,At)=>ct(ge,et)||Ne.get(ge,et,At),has:(ge,et)=>!!ct(ge,et)||Ne.has(ge,et)}));class Dn{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function Zn(Ne){const ge=Ne.getComponent();return"VERSION"===ge?.type}(et)){const At=et.getImmediate();return`${At.library}/${At.version}`}return null}).filter(et=>et).join(" ")}}const Pi="@firebase/app",Ie=new O.Yd("@firebase/app"),fn="[DEFAULT]",Ot={[Pi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,ui=new Map;function Ii(Ne,ge){try{Ne.container.addComponent(ge)}catch(et){Ie.debug(`Component ${ge.name} failed to register with FirebaseApp ${Ne.name}`,et)}}function dr(Ne,ge){Ne.container.addOrOverwriteComponent(ge)}function ni(Ne){const ge=Ne.name;if(ui.has(ge))return Ie.debug(`There were multiple attempts to register component ${ge}.`),!1;ui.set(ge,Ne);for(const et of pt.values())Ii(et,Ne);return!0}function ii(Ne,ge){const et=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Ne.container.getProvider(ge)}function ji(Ne,ge,et=fn){ii(Ne,ge).clearInstance(et)}function kn(){ui.clear()}const Zt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vi{constructor(ge,et,At){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const er="9.22.1";function bo(Ne,ge={}){let et=Ne;"object"!=typeof ge&&(ge={name:ge});const At=Object.assign({name:fn,automaticDataCollectionEnabled:!1},ge),Wt=At.name;if("string"!=typeof Wt||!Wt)throw Zt.create("bad-app-name",{appName:String(Wt)});if(et||(et=(0,ne.aH)()),!et)throw Zt.create("no-options");const un=pt.get(Wt);if(un){if((0,ne.vZ)(et,un.options)&&(0,ne.vZ)(At,un.config))return un;throw Zt.create("duplicate-app",{appName:Wt})}const In=new V.H0(Wt);for(const wi of ui.values())In.addComponent(wi);const Fi=new vi(et,At,In);return pt.set(Wt,Fi),Fi}function ri(Ne=fn){const ge=pt.get(Ne);if(!ge&&Ne===fn&&(0,ne.aH)())return bo();if(!ge)throw Zt.create("no-app",{appName:Ne});return ge}function bi(){return Array.from(pt.values())}function _n(Ne){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(Ne){const ge=Ne.name;pt.has(ge)&&(pt.delete(ge),yield Promise.all(Ne.container.getProviders().map(et=>et.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function an(Ne,ge,et){var At;let Wt=null!==(At=Ot[Ne])&&void 0!==At?At:Ne;et&&(Wt+=`-${et}`);const un=Wt.match(/\s|\//),In=ge.match(/\s|\//);if(un||In){const Fi=[`Unable to register library "${Wt}" with version "${ge}":`];return un&&Fi.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),un&&In&&Fi.push("and"),In&&Fi.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void Ie.warn(Fi.join(" "))}ni(new V.wA(`${Wt}-version`,()=>({library:Wt,version:ge}),"VERSION"))}function oi(Ne,ge){if(null!==Ne&&"function"!=typeof Ne)throw Zt.create("invalid-log-argument");(0,O.Am)(Ne,ge)}function Or(Ne){(0,O.Ub)(Ne)}const Hi="firebase-heartbeat-database",Pr=1,te="firebase-heartbeat-store";let J=null;function L(){return J||(J=function je(Ne,ge,{blocked:et,upgrade:At,blocking:Wt,terminated:un}={}){const In=indexedDB.open(Ne,ge),Fi=Re(In);return At&&In.addEventListener("upgradeneeded",wi=>{At(Re(In.result),wi.oldVersion,wi.newVersion,Re(In.transaction),wi)}),et&&In.addEventListener("blocked",wi=>et(wi.oldVersion,wi.newVersion,wi)),Fi.then(wi=>{un&&wi.addEventListener("close",()=>un()),Wt&&wi.addEventListener("versionchange",Ti=>Wt(Ti.oldVersion,Ti.newVersion,Ti))}).catch(()=>{}),Fi}(Hi,Pr,{upgrade:(Ne,ge)=>{0===ge&&Ne.createObjectStore(te)}}).catch(Ne=>{throw Zt.create("idb-open",{originalErrorMessage:Ne.message})})),J}function N(){return(N=(0,u.Z)(function*(Ne){try{return yield(yield L()).transaction(te).objectStore(te).get(mt(Ne))}catch(ge){if(ge instanceof ne.ZR)Ie.warn(ge.message);else{const et=Zt.create("idb-get",{originalErrorMessage:ge?.message});Ie.warn(et.message)}}})).apply(this,arguments)}function he(Ne,ge){return we.apply(this,arguments)}function we(){return(we=(0,u.Z)(function*(Ne,ge){try{const At=(yield L()).transaction(te,"readwrite");yield At.objectStore(te).put(ge,mt(Ne)),yield At.done}catch(et){if(et instanceof ne.ZR)Ie.warn(et.message);else{const At=Zt.create("idb-set",{originalErrorMessage:et?.message});Ie.warn(At.message)}}})).apply(this,arguments)}function mt(Ne){return`${Ne.name}!${Ne.options.appId}`}class En{constructor(ge){this.container=ge,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new ln(et),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var ge=this;return(0,u.Z)(function*(){const At=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Vt();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!ge._heartbeatsCache.heartbeats.some(un=>un.date===Wt))return ge._heartbeatsCache.heartbeats.push({date:Wt,agent:At}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(un=>{const In=new Date(un.date).valueOf();return Date.now()-In<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,u.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const et=Vt(),{heartbeatsToSend:At,unsentEntries:Wt}=function Rn(Ne,ge=1024){const et=[];let At=Ne.slice();for(const Wt of Ne){const un=et.find(In=>In.agent===Wt.agent);if(un){if(un.dates.push(Wt.date),zi(et)>ge){un.dates.pop();break}}else if(et.push({agent:Wt.agent,dates:[Wt.date]}),zi(et)>ge){et.pop();break}At=At.slice(1)}return{heartbeatsToSend:et,unsentEntries:At}}(ge._heartbeatsCache.heartbeats),un=(0,ne.L)(JSON.stringify({version:2,heartbeats:At}));return ge._heartbeatsCache.lastSentHeartbeatDate=et,Wt.length>0?(ge._heartbeatsCache.heartbeats=Wt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),un})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class ln{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,u.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function B(Ne){return N.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var et=this;return(0,u.Z)(function*(){var At;if(yield et._canUseIndexedDBPromise){const un=yield et.read();return he(et.app,{lastSentHeartbeatDate:null!==(At=ge.lastSentHeartbeatDate)&&void 0!==At?At:un.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var et=this;return(0,u.Z)(function*(){var At;if(yield et._canUseIndexedDBPromise){const un=yield et.read();return he(et.app,{lastSentHeartbeatDate:null!==(At=ge.lastSentHeartbeatDate)&&void 0!==At?At:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...ge.heartbeats]})}})()}}function zi(Ne){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Ne})).length}!function uo(Ne){ni(new V.wA("platform-logger",ge=>new Dn(ge),"PRIVATE")),ni(new V.wA("heartbeat",ge=>new En(ge),"PRIVATE")),an(Pi,"0.9.11",Ne),an(Pi,"0.9.11","esm2017"),an("fire-js","")}("")},4859:(se,K,M)=>{M.d(K,{H0:()=>oe,wA:()=>O});var u=M(9671),V=M(2090);class O{constructor(G,z,q){this.name=G,this.instanceFactory=z,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ne="[DEFAULT]";class Y{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const q=new V.BH;if(this.instancesDeferred.set(z,q),this.isInitialized(z)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:z});ve&&q.resolve(ve)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const q=this.normalizeInstanceIdentifier(G?.identifier),ve=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Me){if(ve)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function re(ee){return"EAGER"===ee.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[z,q]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(z);try{const Me=this.getOrInitializeService({instanceIdentifier:ve});q.resolve(Me)}catch{}}}}clearInstance(G=ne){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...z.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ne){return this.instances.has(G)}getOptions(G=ne){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:q,options:z});for(const[Me,Ze]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Me)&&Ze.resolve(ve);return ve}onInit(G,z){var q;const ve=this.normalizeInstanceIdentifier(z),Me=null!==(q=this.onInitCallbacks.get(ve))&&void 0!==q?q:new Set;Me.add(G),this.onInitCallbacks.set(ve,Me);const Ze=this.instances.get(ve);return Ze&&G(Ze,ve),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,z){const q=this.onInitCallbacks.get(z);if(q)for(const ve of q)try{ve(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let q=this.instances.get(G);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=G,ee===ne?void 0:ee),options:z}),this.instances.set(G,q),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,q)}catch{}var ee;return q||null}normalizeInstanceIdentifier(G=ne){return this.component?this.component.multipleInstances?G:ne:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new Y(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(se,K,M)=>{M.d(K,{Am:()=>ee,Ub:()=>oe,Yd:()=>re,in:()=>V});const u=[];var V=(()=>((V=V||{})[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V))();const O={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ne=V.INFO,Y={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},X=(G,z,...q)=>{if(z<G.logLevel)return;const ve=(new Date).toISOString(),Me=Y[z];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Me](`[${ve}]  ${G.name}:`,...q)};class re{constructor(z){this.name=z,this._logLevel=ne,this._logHandler=X,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in V))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?O[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...z),this._logHandler(this,V.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...z),this._logHandler(this,V.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,V.INFO,...z),this._logHandler(this,V.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,V.WARN,...z),this._logHandler(this,V.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...z),this._logHandler(this,V.ERROR,...z)}}function oe(G){u.forEach(z=>{z.setLogLevel(G)})}function ee(G,z){for(const q of u){let ve=null;z&&z.level&&(ve=O[z.level]),q.userLogHandler=null===G?null:(Me,Ze,...st)=>{const be=st.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ze>=(ve??Me.logLevel)&&G({level:V[Ze].toLowerCase(),message:be,args:st,type:Me.name})}}}},5366:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2223),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8784),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(5855);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(K,M){if(this.action=K,this.timestamp=M,this.type=PERFORM_ACTION,typeof K.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(K){this.timestamp=K,this.type=RESET}}class Rollback{constructor(K){this.timestamp=K,this.type=ROLLBACK}}class Commit{constructor(K){this.timestamp=K,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(K){this.id=K,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(K,M,u=!0){this.start=K,this.end=M,this.active=u,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(K){this.index=K,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(K){this.actionId=K,this.type=JUMP_TO_ACTION}}class ImportState{constructor(K){this.nextLiftedState=K,this.type=IMPORT_STATE}}class LockChanges{constructor(K){this.status=K,this.type=LOCK_CHANGES}}class PauseRecording{constructor(K){this.status=K,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(se){const K={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof se?se():se,V=M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||K.features;!0===V.import&&(V.import="custom");const O=Object.assign({},K,{features:V},M);if(O.maxAge&&O.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${O.maxAge}`);return O}function difference(se,K){return se.filter(M=>K.indexOf(M)<0)}function unliftState(se){const{computedStates:K,currentStateIndex:M}=se;if(M>=K.length){const{state:V}=K[K.length-1];return V}const{state:u}=K[M];return u}function unliftAction(se){return se.actionsById[se.nextActionId-1]}function liftAction(se){return new PerformAction(se,+Date.now())}function sanitizeActions(se,K){return Object.keys(K).reduce((M,u)=>{const V=Number(u);return M[V]=sanitizeAction(se,K[V],V),M},{})}function sanitizeAction(se,K,M){return{...K,action:se(K.action,M)}}function sanitizeStates(se,K){return K.map((M,u)=>({state:sanitizeState(se,M.state,u),error:M.error}))}function sanitizeState(se,K,M){return se(K,M)}function shouldFilterActions(se){return se.predicate||se.actionsSafelist||se.actionsBlocklist}function filterLiftedState(se,K,M,u){const V=[],O={},ne=[];return se.stagedActionIds.forEach((Y,X)=>{const re=se.actionsById[Y];re&&(X&&isActionFiltered(se.computedStates[X],re,K,M,u)||(O[Y]=re,V.push(Y),ne.push(se.computedStates[X])))}),{...se,stagedActionIds:V,actionsById:O,computedStates:ne}}function isActionFiltered(se,K,M,u,V){const O=M&&!M(se,K.action),ne=u&&!K.action.type.match(u.map(X=>escapeRegExp(X)).join("|")),Y=V&&K.action.type.match(V.map(X=>escapeRegExp(X)).join("|"));return O||ne||Y}function escapeRegExp(se){return se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class se extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return se.\u0275fac=function(){let K;return function(u){return(K||(K=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(se)))(u||se)}}(),se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:se,factory:se.\u0275fac}),se})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(se,K,M){this.config=K,this.dispatcher=M,this.devtoolsExtension=se,this.createActionStreams()}notify(se,K){if(this.devtoolsExtension)if(se.type===PERFORM_ACTION){if(K.isLocked||K.isPaused)return;const M=unliftState(K);if(shouldFilterActions(this.config)&&isActionFiltered(M,se,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const u=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,K.currentStateIndex):M,V=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,se,K.nextActionId):se;this.sendToReduxDevtools(()=>this.extensionConnection.send(V,u))}else{const M={...K,stagedActionIds:K.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,K.actionsById):K.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,K.computedStates):K.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(se=>{const K=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=K,K.init(),K.subscribe(M=>se.next(M)),K.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const se=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),K=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.START)),M=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.STOP)),u=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Y=>Y.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(X=>X.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Y),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y))),O=se.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),ne=u.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>O)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ne))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(se){const K={name:se.name,features:se.features,serialize:se.serialize,autoPause:se.autoPause??!1,trace:se.trace??!1,traceLimit:se.traceLimit??75};return!1!==se.maxAge&&(K.maxAge=se.maxAge),K}sendToReduxDevtools(se){try{se()}catch(K){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",K)}}}return DevtoolsExtension.\u0275fac=function se(K){return new(K||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(se,K,M,u,V){if(u)return{state:M,error:"Interrupted by an error up the chain"};let ne,O=M;try{O=se(M,K)}catch(Y){ne=Y.toString(),V.handleError(Y)}return{state:O,error:ne}}function recomputeStates(se,K,M,u,V,O,ne,Y,X){if(K>=se.length&&se.length===O.length)return se;const re=se.slice(0,K),oe=O.length-(X?1:0);for(let ee=K;ee<oe;ee++){const G=O[ee],z=V[G].action,q=re[ee-1],ve=q?q.state:u,Me=q?q.error:void 0,st=ne.indexOf(G)>-1?q:computeNextEntry(M,z,ve,Me,Y);re.push(st)}return X&&re.push(se[se.length-1]),re}function liftInitialState(se,K){return{monitorState:K(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:se,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(se,K,M,u,V={}){return O=>(ne,Y)=>{let{monitorState:X,actionsById:re,nextActionId:oe,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:ve,isLocked:Me,isPaused:Ze}=ne||K;function st(Fe){let Le=Fe,Re=ee.slice(1,Le+1);for(let Se=0;Se<Re.length;Se++){if(ve[Se+1].error){Le=Se,Re=ee.slice(1,Le+1);break}delete re[Re[Se]]}G=G.filter(Se=>-1===Re.indexOf(Se)),ee=[0,...ee.slice(Le+1)],z=ve[Le].state,ve=ve.slice(Le),q=q>Le?q-Le:0}function be(){re={0:liftAction(INIT_ACTION)},oe=1,ee=[0],G=[],z=ve[q].state,q=0,ve=[]}ne||(re=Object.create(re));let Ae=0;switch(Y.type){case LOCK_CHANGES:Me=Y.status,Ae=1/0;break;case PAUSE_RECORDING:Ze=Y.status,Ze?(ee=[...ee,oe],re[oe]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),oe++,Ae=ee.length-1,ve=ve.concat(ve[ve.length-1]),q===ee.length-2&&q++,Ae=1/0):be();break;case RESET:re={0:liftAction(INIT_ACTION)},oe=1,ee=[0],G=[],z=se,q=0,ve=[];break;case COMMIT:be();break;case ROLLBACK:re={0:liftAction(INIT_ACTION)},oe=1,ee=[0],G=[],q=0,ve=[];break;case TOGGLE_ACTION:{const{id:Fe}=Y;G=-1===G.indexOf(Fe)?[Fe,...G]:G.filter(Re=>Re!==Fe),Ae=ee.indexOf(Fe);break}case SET_ACTIONS_ACTIVE:{const{start:Fe,end:Le,active:Re}=Y,Se=[];for(let je=Fe;je<Le;je++)Se.push(je);G=Re?difference(G,Se):[...G,...Se],Ae=ee.indexOf(Fe);break}case JUMP_TO_STATE:q=Y.index,Ae=1/0;break;case JUMP_TO_ACTION:{const Fe=ee.indexOf(Y.actionId);-1!==Fe&&(q=Fe),Ae=1/0;break}case SWEEP:ee=difference(ee,G),G=[],q=Math.min(q,ee.length-1);break;case PERFORM_ACTION:{if(Me)return ne||K;if(Ze||ne&&isActionFiltered(ne.computedStates[q],Y,V.predicate,V.actionsSafelist,V.actionsBlocklist)){const Le=ve[ve.length-1];ve=[...ve.slice(0,-1),computeNextEntry(O,Y.action,Le.state,Le.error,M)],Ae=1/0;break}V.maxAge&&ee.length===V.maxAge&&st(1),q===ee.length-1&&q++;const Fe=oe++;re[Fe]=Y,ee=[...ee,Fe],Ae=ee.length-1;break}case IMPORT_STATE:({monitorState:X,actionsById:re,nextActionId:oe,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:ve,isLocked:Me,isPaused:Ze}=Y.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Ae=0,V.maxAge&&ee.length>V.maxAge&&(ve=recomputeStates(ve,Ae,O,z,re,ee,G,M,Ze),st(ee.length-V.maxAge),Ae=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ve.filter(Le=>Le.error).length>0)Ae=0,V.maxAge&&ee.length>V.maxAge&&(ve=recomputeStates(ve,Ae,O,z,re,ee,G,M,Ze),st(ee.length-V.maxAge),Ae=1/0);else{if(!Ze&&!Me){q===ee.length-1&&q++;const Le=oe++;re[Le]=new PerformAction(Y,+Date.now()),ee=[...ee,Le],Ae=ee.length-1,ve=recomputeStates(ve,Ae,O,z,re,ee,G,M,Ze)}ve=ve.map(Le=>({...Le,state:O(Le.state,RECOMPUTE_ACTION)})),q=ee.length-1,V.maxAge&&ee.length>V.maxAge&&st(ee.length-V.maxAge),Ae=1/0}break;default:Ae=1/0}return ve=recomputeStates(ve,Ae,O,z,re,ee,G,M,Ze),X=u(X,Y),{monitorState:X,actionsById:re,nextActionId:oe,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:ve,isLocked:Me,isPaused:Ze}}}let StoreDevtools=(()=>{class se{constructor(M,u,V,O,ne,Y,X,re){const oe=liftInitialState(X,re.monitor),ee=liftReducerWith(X,oe,Y,re.monitor,re),G=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(u.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),O.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,O.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee)),q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),ve=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:be},[Ae,Fe])=>{let Le=Fe(be,Ae);return Ae.type!==PERFORM_ACTION&&shouldFilterActions(re)&&(Le=filterLiftedState(Le,re.predicate,re.actionsSafelist,re.actionsBlocklist)),O.notify(Ae,Le),{state:Le,action:Ae}},{state:oe,action:null})).subscribe(({state:be,action:Ae})=>{q.next(be),Ae.type===PERFORM_ACTION&&ne.next(Ae.action)}),Me=O.start$.subscribe(()=>{this.refresh()}),Ze=q.asObservable(),st=Ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(st,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(st,{manualCleanup:!0,requireSync:!0})}),this.extensionStartSubscription=Me,this.stateSubscription=ve,this.dispatcher=M,this.liftedState=Ze,this.state=st}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return se.\u0275fac=function(M){return new(M||se)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},se.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:se,factory:se.\u0275fac}),se})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(se,K){return!!se||K.monitor!==noMonitor}function createReduxDevtoolsExtension(){const se="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[se]<"u"?window[se]:null}function provideStoreDevtools(se={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:se},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(se){return se.state}let StoreDevtoolsModule=(()=>{class se{static instrument(M={}){return{ngModule:se,providers:[provideStoreDevtools(M)]}}}return se.\u0275fac=function(M){return new(M||se)},se.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:se}),se.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),se})()},8784:(se,K,M)=>{M.d(K,{UO:()=>de,qg:()=>Ue,Y6:()=>Zn,mK:()=>Ji,n$:()=>qn,Y$:()=>pt,FR:()=>Ii,yh:()=>ji,CK:()=>Mi,Aw:()=>$i,cr:()=>yn,wb:()=>ti,PH:()=>Ze,ZF:()=>En,Lq:()=>Yn,P1:()=>mt,on:()=>wa,Ky:()=>st,Ys:()=>Rr});var u=M(2223),V=M(1135),O=M(9751),ne=M(7579),Y=M(233),X=M(5363),re=M(1365),oe=M(5026),ee=M(4004),z=M(1884),q=M(5855);const ve={};function Ze($,_e){if(ve[$]=(ve[$]||0)+1,"function"==typeof _e)return Ae($,(...ke)=>({..._e(...ke),type:$}));switch(_e?_e._as:"empty"){case"empty":return Ae($,()=>({type:$}));case"props":return Ae($,ke=>({...ke,type:$}));default:throw new Error("Unexpected config.")}}function st(){return{_as:"props",_p:void 0}}function Ae($,_e){return Object.defineProperty(_e,"type",{value:$,writable:!1})}const Ue="@ngrx/store/init";let de=(()=>{class $ extends V.X{constructor(){super({type:Ue})}next(fe){if("function"==typeof fe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof fe>"u")throw new TypeError("Actions must be objects");if(typeof fe.type>"u")throw new TypeError("Actions must have a type property");super.next(fe)}complete(){}ngOnDestroy(){super.complete()}}return $.\u0275fac=function(fe){return new(fe||$)},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const ft=[de],ct=new u.OlP("@ngrx/store Internal Root Guard"),Dn=new u.OlP("@ngrx/store Internal Initial State"),Zn=new u.OlP("@ngrx/store Initial State"),Pi=new u.OlP("@ngrx/store Reducer Factory"),lo=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),Ie=new u.OlP("@ngrx/store Initial Reducers"),Ve=new u.OlP("@ngrx/store Internal Initial Reducers"),$e=new u.OlP("@ngrx/store Store Features"),Qe=new u.OlP("@ngrx/store Internal Store Reducers"),at=new u.OlP("@ngrx/store Internal Feature Reducers"),Je=new u.OlP("@ngrx/store Internal Feature Configs"),qe=new u.OlP("@ngrx/store Internal Store Features"),vt=new u.OlP("@ngrx/store Internal Feature Reducers Token"),Et=new u.OlP("@ngrx/store Feature Reducers"),Pe=new u.OlP("@ngrx/store User Provided Meta Reducers"),tt=new u.OlP("@ngrx/store Meta Reducers"),Rt=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),zt=new u.OlP("@ngrx/store User Runtime Checks Config"),vn=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),xn=new u.OlP("@ngrx/store Internal Runtime Checks"),Qn=new u.OlP("@ngrx/store Check if Action types are unique");function jn($,_e={}){const fe=Object.keys($),ke={};for(let nt=0;nt<fe.length;nt++){const Ye=fe[nt];"function"==typeof $[Ye]&&(ke[Ye]=$[Ye])}const dt=Object.keys(ke);return function(Ye,Ct){Ye=void 0===Ye?_e:Ye;let Jt=!1;const si={};for(let Cn=0;Cn<dt.length;Cn++){const Bn=dt[Cn],Hn=Ye[Bn],js=(0,ke[Bn])(Hn,Ct);si[Bn]=js,Jt=Jt||js!==Hn}return Jt?si:Ye}}function Ho(...$){return function(_e){if(0===$.length)return _e;const fe=$[$.length-1];return $.slice(0,-1).reduceRight((dt,nt)=>nt(dt),fe(_e))}}function co($,_e){return Array.isArray(_e)&&_e.length>0&&($=Ho.apply(null,[..._e,$])),(fe,ke)=>{const dt=$(fe);return(nt,Ye)=>dt(nt=void 0===nt?ke:nt,Ye)}}new u.OlP("@ngrx/store Root Store Provider"),new u.OlP("@ngrx/store Feature State Provider");class qn extends O.y{}class Ji extends de{}const ti="@ngrx/store/update-reducers";let fn=(()=>{class $ extends V.X{get currentReducers(){return this.reducers}constructor(fe,ke,dt,nt){super(nt(dt,ke)),this.dispatcher=fe,this.initialState=ke,this.reducers=dt,this.reducerFactory=nt}addFeature(fe){this.addFeatures([fe])}addFeatures(fe){const ke=fe.reduce((dt,{reducers:nt,reducerFactory:Ye,metaReducers:Ct,initialState:Jt,key:si})=>{const Cn="function"==typeof nt?function kt($){const _e=Array.isArray($)&&$.length>0?Ho(...$):fe=>fe;return(fe,ke)=>(fe=_e(fe),(dt,nt)=>fe(dt=void 0===dt?ke:dt,nt))}(Ct)(nt,Jt):co(Ye,Ct)(nt,Jt);return dt[si]=Cn,dt},{});this.addReducers(ke)}removeFeature(fe){this.removeFeatures([fe])}removeFeatures(fe){this.removeReducers(fe.map(ke=>ke.key))}addReducer(fe,ke){this.addReducers({[fe]:ke})}addReducers(fe){this.reducers={...this.reducers,...fe},this.updateReducers(Object.keys(fe))}removeReducer(fe){this.removeReducers([fe])}removeReducers(fe){fe.forEach(ke=>{this.reducers=function kr($,_e){return Object.keys($).filter(fe=>fe!==_e).reduce((fe,ke)=>Object.assign(fe,{[ke]:$[ke]}),{})}(this.reducers,ke)}),this.updateReducers(fe)}updateReducers(fe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ti,features:fe})}ngOnDestroy(){this.complete()}}return $.\u0275fac=function(fe){return new(fe||$)(u.LFG(Ji),u.LFG(Zn),u.LFG(Ie),u.LFG(Pi))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const Ot=[fn,{provide:qn,useExisting:fn},{provide:Ji,useExisting:de}];let pt=(()=>{class $ extends ne.x{ngOnDestroy(){this.complete()}}return $.\u0275fac=function(){let _e;return function(ke){return(_e||(_e=u.n5z($)))(ke||$)}}(),$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const ui=[pt];class Ii extends O.y{}let dr=(()=>{class $ extends V.X{constructor(fe,ke,dt,nt){super(nt);const si=fe.pipe((0,X.Q)(Y.N)).pipe((0,re.M)(ke)).pipe((0,oe.R)(ni,{state:nt}));this.stateSubscription=si.subscribe(({state:Cn,action:Bn})=>{this.next(Cn),dt.next(Bn)}),this.state=(0,q.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return $.INIT=Ue,$.\u0275fac=function(fe){return new(fe||$)(u.LFG(de),u.LFG(qn),u.LFG(pt),u.LFG(Zn))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();function ni($={state:void 0},[_e,fe]){const{state:ke}=$;return{state:fe(ke,_e),action:_e}}const ii=[dr,{provide:Ii,useExisting:dr}];let ji=(()=>{class $ extends O.y{constructor(fe,ke,dt){super(),this.actionsObserver=ke,this.reducerManager=dt,this.source=fe,this.state=fe.state}select(fe,...ke){return Rr.call(null,fe,...ke)(this)}selectSignal(fe,ke){return(0,u.Flj)(()=>fe(this.state()),{equal:ke?.equal||((dt,nt)=>dt===nt)})}lift(fe){const ke=new $(this,this.actionsObserver,this.reducerManager);return ke.operator=fe,ke}dispatch(fe){this.actionsObserver.next(fe)}next(fe){this.actionsObserver.next(fe)}error(fe){this.actionsObserver.error(fe)}complete(){this.actionsObserver.complete()}addReducer(fe,ke){this.reducerManager.addReducer(fe,ke)}removeReducer(fe){this.reducerManager.removeReducer(fe)}}return $.\u0275fac=function(fe){return new(fe||$)(u.LFG(Ii),u.LFG(de),u.LFG(fn))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const kn=[ji];function Rr($,_e,...fe){return function(dt){let nt;if("string"==typeof $){const Ye=[_e,...fe].filter(Boolean);nt=dt.pipe(function G(...$){const _e=$.length;if(0===_e)throw new Error("list of properties cannot be empty.");return(0,ee.U)(fe=>{let ke=fe;for(let dt=0;dt<_e;dt++){const nt=ke?.[$[dt]];if(!(typeof nt<"u"))return;ke=nt}return ke})}($,...Ye))}else{if("function"!=typeof $)throw new TypeError(`Unexpected type '${typeof $}' in select operator, expected 'string' or 'function'`);nt=dt.pipe((0,ee.U)(Ye=>$(Ye,_e)))}return nt.pipe((0,z.x)())}}const Zt="https://ngrx.io/guide/store/configuration/runtime-checks";function vi($){return void 0===$}function er($){return null===$}function bo($){return Array.isArray($)}function di($){return"object"==typeof $&&null!==$}function Or($){return"function"==typeof $}let te=!1;function B($,_e){return $===_e}function we($,_e=B,fe=B){let nt,ke=null,dt=null;return{memoized:function si(){if(void 0!==nt)return nt.result;if(!ke)return dt=$.apply(null,arguments),ke=arguments,dt;if(!function N($,_e,fe){for(let ke=0;ke<$.length;ke++)if(!fe($[ke],_e[ke]))return!0;return!1}(arguments,ke,_e))return dt;const Cn=$.apply(null,arguments);return ke=arguments,fe(dt,Cn)?dt:(dt=Cn,Cn)},reset:function Ye(){ke=null,dt=null},setResult:function Ct(Cn=void 0){nt={result:Cn}},clearResult:function Jt(){nt=void 0}}}function mt(...$){return function $t($,_e={stateFn:Gt}){return function(...fe){let ke=fe;if(Array.isArray(ke[0])){const[Cn,...Bn]=ke;ke=[...Cn,...Bn]}else 1===ke.length&&function Vt($){return!!$&&"object"==typeof $&&Object.values($).every(_e=>"function"==typeof _e)}(ke[0])&&(ke=function Rn($){const _e=Object.values($),fe=Object.keys($);return[..._e,(...dt)=>fe.reduce((nt,Ye,Ct)=>({...nt,[Ye]:dt[Ct]}),{})]}(ke[0]));const dt=ke.slice(0,ke.length-1),nt=ke[ke.length-1],Ye=dt.filter(Cn=>Cn.release&&"function"==typeof Cn.release),Ct=$(function(...Cn){return nt.apply(null,Cn)}),Jt=we(function(Cn,Bn){return _e.stateFn.apply(null,[Cn,dt,Bn,Ct])});return Object.assign(Jt.memoized,{release:function si(){Jt.reset(),Ct.reset(),Ye.forEach(Cn=>Cn.release())},projector:Ct.memoized,setResult:Jt.setResult,clearResult:Jt.clearResult})}}(we)(...$)}function Gt($,_e,fe,ke){if(void 0===fe){const nt=_e.map(Ye=>Ye($));return ke.memoized.apply(null,nt)}const dt=_e.map(nt=>nt($,fe));return ke.memoized.apply(null,[...dt,fe])}function En($){return mt(_e=>{const fe=_e[$];return!function L(){return te}()&&(0,u.X6Q)()&&!($ in _e)&&console.warn(`@ngrx/store: The feature name "${$}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${$}', ...) or StoreModule.forFeature('${$}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),fe},_e=>_e)}function Ne($){return $ instanceof u.OlP?(0,u.f3M)($):$}function ge($,_e){return _e.map((fe,ke)=>{if($[ke]instanceof u.OlP){const dt=(0,u.f3M)($[ke]);return{key:fe.key,reducerFactory:dt.reducerFactory?dt.reducerFactory:jn,metaReducers:dt.metaReducers?dt.metaReducers:[],initialState:dt.initialState}}return fe})}function et($){return $.map(_e=>_e instanceof u.OlP?(0,u.f3M)(_e):_e)}function At($){return"function"==typeof $?$():$}function Wt($,_e){return $.concat(_e)}function un(){if((0,u.f3M)(ji,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Fi($){Object.freeze($);const _e=Or($);return Object.getOwnPropertyNames($).forEach(fe=>{if(!fe.startsWith("\u0275")&&function Pr($,_e){return Object.prototype.hasOwnProperty.call($,_e)}($,fe)&&(!_e||"caller"!==fe&&"callee"!==fe&&"arguments"!==fe)){const ke=$[fe];(di(ke)||Or(ke))&&!Object.isFrozen(ke)&&Fi(ke)}}),$}function Ti($,_e=[]){return(vi($)||er($))&&0===_e.length?{path:["root"],value:$}:Object.keys($).reduce((ke,dt)=>{if(ke)return ke;const nt=$[dt];return function Hi($){return Or($)&&$.hasOwnProperty("\u0275cmp")}(nt)?ke:!(vi(nt)||er(nt)||function _n($){return"number"==typeof $}(nt)||function bi($){return"boolean"==typeof $}(nt)||function ri($){return"string"==typeof $}(nt)||bo(nt))&&(function oi($){if(!function an($){return di($)&&!bo($)}($))return!1;const _e=Object.getPrototypeOf($);return _e===Object.prototype||null===_e}(nt)?Ti(nt,[..._e,dt]):{path:[..._e,dt],value:nt})},!1)}function Ls($,_e){if(!1===$)return;const fe=$.path.join("."),ke=new Error(`Detected unserializable ${_e} at "${fe}". ${Zt}#strict${_e}serializability`);throw ke.value=$.value,ke.unserializablePath=fe,ke}function Pc($){return(0,u.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...$}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Bs({strictActionSerializability:$,strictStateSerializability:_e}){return fe=>$||_e?function wi($,_e){return function(fe,ke){_e.action(ke)&&Ls(Ti(ke),"action");const dt=$(fe,ke);return _e.state()&&Ls(Ti(dt),"state"),dt}}(fe,{action:ke=>$&&!ns(ke),state:()=>_e}):fe}function ts({strictActionImmutability:$,strictStateImmutability:_e}){return fe=>$||_e?function In($,_e){return function(fe,ke){const dt=_e.action(ke)?Fi(ke):ke,nt=$(fe,dt);return _e.state()?Fi(nt):nt}}(fe,{action:ke=>$&&!ns(ke),state:()=>_e}):fe}function ns($){return $.type.startsWith("@ngrx")}function Nc({strictActionWithinNgZone:$}){return _e=>$?function Vs($,_e){return function(fe,ke){if(_e.action(ke)&&!u.R0b.isInAngularZone())throw new Error(`Action '${ke.type}' running outside NgZone. ${Zt}#strictactionwithinngzone`);return $(fe,ke)}}(_e,{action:fe=>$&&!ns(fe)}):_e}function Ua($){return[{provide:vn,useValue:$},{provide:zt,useFactory:rf,deps:[vn]},{provide:xn,deps:[zt],useFactory:Pc},{provide:tt,multi:!0,deps:[xn],useFactory:ts},{provide:tt,multi:!0,deps:[xn],useFactory:Bs},{provide:tt,multi:!0,deps:[xn],useFactory:Nc}]}function yi(){return[{provide:Qn,multi:!0,deps:[xn],useFactory:zo}]}function rf($){return $}function zo($){if(!$.strictActionTypeUniqueness)return;const _e=Object.entries(ve).filter(([,fe])=>fe>1).map(([fe])=>fe);if(_e.length)throw new Error(`Action types are registered more than once, ${_e.map(fe=>`"${fe}"`).join(", ")}. ${Zt}#strictactiontypeuniqueness`)}function Il($={},_e={}){return[{provide:ct,useFactory:un},{provide:Dn,useValue:_e.initialState},{provide:Zn,useFactory:At,deps:[Dn]},{provide:Ve,useValue:$},{provide:Qe,useExisting:$ instanceof u.OlP?$:Ve},{provide:Ie,deps:[Ve,[new u.tBr(Qe)]],useFactory:Ne},{provide:Pe,useValue:_e.metaReducers?_e.metaReducers:[]},{provide:Rt,deps:[tt,Pe],useFactory:Wt},{provide:lo,useValue:_e.reducerFactory?_e.reducerFactory:jn},{provide:Pi,deps:[lo,Rt],useFactory:co},ft,Ot,ui,ii,kn,Ua(_e.runtimeChecks),yi()]}function ba($,_e,fe={}){return[{provide:Je,multi:!0,useValue:$ instanceof Object?{}:fe},{provide:$e,multi:!0,useValue:{key:$ instanceof Object?$.name:$,reducerFactory:fe instanceof u.OlP||!fe.reducerFactory?jn:fe.reducerFactory,metaReducers:fe instanceof u.OlP||!fe.metaReducers?[]:fe.metaReducers,initialState:fe instanceof u.OlP||!fe.initialState?void 0:fe.initialState}},{provide:qe,deps:[Je,$e],useFactory:ge},{provide:at,multi:!0,useValue:$ instanceof Object?$.reducer:_e},{provide:vt,multi:!0,useExisting:_e instanceof u.OlP?_e:at},{provide:Et,multi:!0,deps:[at,[new u.tBr(vt)]],useFactory:et},yi()]}let yn=(()=>{class ${constructor(fe,ke,dt,nt,Ye,Ct){}}return $.\u0275fac=function(fe){return new(fe||$)(u.LFG(de),u.LFG(qn),u.LFG(pt),u.LFG(ji),u.LFG(ct,8),u.LFG(Qn,8))},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})(),Mi=(()=>{class ${constructor(fe,ke,dt,nt,Ye){this.features=fe,this.featureReducers=ke,this.reducerManager=dt;const Ct=fe.map((Jt,si)=>{const Bn=ke.shift()[si];return{...Jt,reducers:Bn,initialState:At(Jt.initialState)}});dt.addFeatures(Ct)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return $.\u0275fac=function(fe){return new(fe||$)(u.LFG(qe),u.LFG(Et),u.LFG(fn),u.LFG(yn),u.LFG(Qn,8))},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})(),$i=(()=>{class ${static forRoot(fe,ke){return{ngModule:yn,providers:[...Il(fe,ke)]}}static forFeature(fe,ke,dt={}){return{ngModule:Mi,providers:[...ba(fe,ke,dt)]}}}return $.\u0275fac=function(fe){return new(fe||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})();function wa(...$){return{reducer:$.pop(),types:$.map(ke=>ke.type)}}function Yn($,..._e){const fe=new Map;for(const ke of _e)for(const dt of ke.types){const nt=fe.get(dt);fe.set(dt,nt?(Ct,Jt)=>ke.reducer(nt(Ct,Jt),Jt):ke.reducer)}return function(ke=$,dt){const nt=fe.get(dt.type);return nt?nt(ke,dt):ke}}},259:(se,K,M)=>{M.d(K,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=M(6881);(0,u.registerVersion)("firebase","9.22.1","app")},9260:(se,K,M)=>{M.d(K,{Z:()=>u.Z});var u=M(3942);u.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(se,K,M)=>{M.r(K);var u=M(9671),V=M(3942),O=M(1389),ne=M(2090),re=(M(6881),M(1877),M(4859));function oe(){return window}function z(){return z=(0,u.Z)(function*(L,B,N){var he;const{BuildInfo:we}=oe();(0,O.as)(B.sessionId,"AuthEvent did not contain a session ID");const mt=yield function Ae(L){return Fe.apply(this,arguments)}(B.sessionId),Gt={};return(0,O.at)()?Gt.ibi=we.packageName:(0,O.au)()?Gt.apn=we.packageName:(0,O.av)(L,"operation-not-supported-in-this-environment"),we.displayName&&(Gt.appDisplayName=we.displayName),Gt.sessionId=mt,(0,O.aw)(L,N,B.type,void 0,null!==(he=B.eventId)&&void 0!==he?he:void 0,Gt)}),z.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(L){const{BuildInfo:B}=oe(),N={};(0,O.at)()?N.iosBundleId=B.packageName:(0,O.au)()?N.androidPackageName=B.packageName:(0,O.av)(L,"operation-not-supported-in-this-environment"),yield(0,O.ax)(L,N)})).apply(this,arguments)}function st(){return(st=(0,u.Z)(function*(L,B,N){const{cordova:he}=oe();let we=()=>{};try{yield new Promise((mt,Gt)=>{let $t=null;function En(){var ln;mt();const zi=null===(ln=he.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof zi&&zi(),"function"==typeof N?.close&&N.close()}function Vt(){$t||($t=window.setTimeout(()=>{Gt((0,O.az)(L,"redirect-cancelled-by-user"))},2e3))}function Rn(){"visible"===document?.visibilityState&&Vt()}B.addPassiveListener(En),document.addEventListener("resume",Vt,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Rn,!1),we=()=>{B.removePassiveListener(En),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",Rn,!1),$t&&window.clearTimeout($t)}})}finally{we()}})).apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(L){const B=function Le(L){if((0,O.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const B=new ArrayBuffer(L.length),N=new Uint8Array(B);for(let he=0;he<L.length;he++)N[he]=L.charCodeAt(he);return N}(L),N=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(N)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Se extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(B)),super.onEvent(B)}initialized(){var B=this;return(0,u.Z)(function*(){yield B.initPromise})()}}function Ue(L){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(L){const B=yield Dn()._get(Zn(L));return B&&(yield Dn()._remove(Zn(L))),B})).apply(this,arguments)}function ct(){const L=[];for(let N=0;N<20;N++){const he=Math.floor(62*Math.random());L.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return L.join("")}function Dn(){return(0,O.aC)(O.b)}function Zn(L){return(0,O.aD)("authEvent",L.config.apiKey,L.name)}function Ie(L){if(!L?.includes("?"))return{};const[B,...N]=L.split("?");return(0,ne.zd)(N.join("?"))}const Qe=class $e{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var N=this;return(0,u.Z)(function*(){const he=B._key();let we=N.eventManagers.get(he);return we||(we=new Se(B),N.eventManagers.set(he,we),N.attachCallbackListeners(B,we)),we})()}_openPopup(B){(0,O.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,N,he,we){var mt=this;return(0,u.Z)(function*(){!function be(L){var B,N,he,we,mt,Gt,$t,En,Vt,Rn;const ln=oe();(0,O.aA)("function"==typeof(null===(B=ln?.universalLinks)||void 0===B?void 0:B.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(N=ln?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(mt=null===(we=null===(he=ln?.cordova)||void 0===he?void 0:he.plugins)||void 0===we?void 0:we.browsertab)||void 0===mt?void 0:mt.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(En=null===($t=null===(Gt=ln?.cordova)||void 0===Gt?void 0:Gt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===En?void 0:En.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Rn=null===(Vt=ln?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===Rn?void 0:Rn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Gt=yield mt._initialize(B);yield Gt.initialized(),Gt.resetRedirect(),(0,O.aG)(),yield mt._originValidation(B);const $t=function je(L,B,N=null){return{type:B,eventId:N,urlResponse:null,sessionId:ct(),postBody:null,tenantId:L.tenantId,error:(0,O.az)(L,"no-auth-event")}}(B,he,we);yield function We(L,B){return Dn()._set(Zn(L),B)}(B,$t);const En=yield function G(L,B,N){return z.apply(this,arguments)}(B,$t,N),Vt=yield function Me(L){const{cordova:B}=oe();return new Promise(N=>{B.plugins.browsertab.isAvailable(he=>{let we=null;he?B.plugins.browsertab.openUrl(L):we=B.InAppBrowser.open(L,(0,O.ay)()?"_blank":"_system","location=yes"),N(we)})})}(En);return function Ze(L,B,N){return st.apply(this,arguments)}(B,Gt,Vt)})()}_isIframeWebStorageSupported(B,N){throw new Error("Method not implemented.")}_originValidation(B){const N=B._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function q(L){return ve.apply(this,arguments)}(B)),this.originValidationPromises[N]}attachCallbackListeners(B,N){const{universalLinks:he,handleOpenURL:we,BuildInfo:mt}=oe(),Gt=setTimeout((0,u.Z)(function*(){yield Ue(B),N.onEvent(at())}),500),$t=function(){var Rn=(0,u.Z)(function*(ln){clearTimeout(Gt);const zi=yield Ue(B);let uo=null;zi&&ln?.url&&(uo=function ft(L,B){var N,he;const we=function lo(L){const B=Ie(L),N=B.link?decodeURIComponent(B.link):void 0,he=Ie(N).link,we=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return Ie(we).link||we||he||N||L}(B);if(we.includes("/__/auth/callback")){const mt=Ie(we),Gt=mt.firebaseError?function Pi(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(mt.firebaseError)):null,$t=null===(he=null===(N=Gt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===he?void 0:he[1],En=$t?(0,O.az)($t):null;return En?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:En,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:we,postBody:null}}return null}(zi,ln.url)),N.onEvent(uo||at())});return function(zi){return Rn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,$t);const En=we,Vt=`${mt.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Rn=(0,u.Z)(function*(ln){if(ln.toLowerCase().startsWith(Vt)&&$t({url:ln}),"function"==typeof En)try{En(ln)}catch(zi){console.error(zi)}});return function(ln){return Rn.apply(this,arguments)}}()}};function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function Pe(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function Rt(L=(0,ne.z$)()){return!("file:"!==Pe()&&"ionic:"!==Pe()&&"capacitor:"!==Pe()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ui(){try{const L=self.localStorage,B=O.aL();if(L)return L.setItem(B,"1"),L.removeItem(B),!function Qn(L=(0,ne.z$)()){return function vn(){return(0,ne.w1)()&&11===document?.documentMode}()||function xn(L=(0,ne.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ne.hl)()}catch{return Ni()&&(0,ne.hl)()}return!1}function Ni(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function tt(){return"http:"===Pe()||"https:"===Pe()}()||(0,ne.ru)()||Rt())&&!function zt(){return(0,ne.b$)()||(0,ne.UG)()}()&&Ui()&&!Ni()}function kr(){return Rt()&&typeof document<"u"}function co(){return(co=(0,u.Z)(function*(){return!!kr()&&new Promise(L=>{const B=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),L(!0)})})})).apply(this,arguments)}const qn={LOCAL:"local",NONE:"none",SESSION:"session"},Ji=O.aA,ti="persistence";function Ot(L){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(L){yield L._initializationPromise;const B=Ii(),N=O.aD(ti,L.config.apiKey,L.name);B&&B.setItem(N,L._getPersistence())})).apply(this,arguments)}function Ii(){var L;try{return(null===(L=function kt(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const dr=O.aA;class ni{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(Qe),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(B){var N=this;return(0,u.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,N,he,we){var mt=this;return(0,u.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(B,N,he,we)})()}_openRedirect(B,N,he,we){var mt=this;return(0,u.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(B,N,he,we)})()}_isIframeWebStorageSupported(B,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,N)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return kr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,u.Z)(function*(){if(B.underlyingResolver)return;const N=yield function Ho(){return co.apply(this,arguments)}();B.underlyingResolver=N?B.cordovaResolver:B.browserResolver})()}}function ii(L){return L.unwrap()}function kn(L){return Zt(L)}function Zt(L){const{_tokenResponse:B}=L instanceof ne.ZR?L.customData:L;if(!B)return null;if(!(L instanceof ne.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return O.P.credentialFromResult(L);const N=B.providerId;if(!N||N===O.p.PASSWORD)return null;let he;switch(N){case O.p.GOOGLE:he=O.V;break;case O.p.FACEBOOK:he=O.U;break;case O.p.GITHUB:he=O.W;break;case O.p.TWITTER:he=O.Z;break;default:const{oauthIdToken:we,oauthAccessToken:mt,oauthTokenSecret:Gt,pendingToken:$t,nonce:En}=B;return mt||Gt||we||$t?$t?N.startsWith("saml.")?O.aO._create(N,$t):O.L._fromParams({providerId:N,signInMethod:N,pendingToken:$t,idToken:we,accessToken:mt}):new O.X(N).credential({idToken:we,accessToken:mt,rawNonce:En}):null}return L instanceof ne.ZR?he.credentialFromError(L):he.credentialFromResult(L)}function vi(L,B){return B.catch(N=>{throw N instanceof ne.ZR&&function Rr(L,B){var N;const he=null===(N=B.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new ri(L,O.aq(L,B));else if(he){const we=Zt(B),mt=B;we&&(mt.credential=we,mt.tenantId=he.tenantId||void 0,mt.email=he.email||void 0,mt.phoneNumber=he.phoneNumber||void 0)}}(L,N),N}).then(N=>{const we=N.user;return{operationType:N.operationType,credential:kn(N),additionalUserInfo:O.ao(N),user:bi.getOrCreate(we)}})}function er(L,B){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(L,B){const N=yield B;return{verificationId:N.verificationId,confirm:he=>vi(L,N.confirm(he))}})).apply(this,arguments)}class ri{constructor(B,N){this.resolver=N,this.auth=function ji(L){return L.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return vi(ii(this.auth),this.resolver.resolveSignIn(B))}}class bi{constructor(B){this._delegate=B,this.multiFactor=O.ar(B)}static getOrCreate(B){return bi.USER_MAP.has(B)||bi.USER_MAP.set(B,new bi(B)),bi.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var N=this;return(0,u.Z)(function*(){return vi(N.auth,O.a0(N._delegate,B))})()}linkWithPhoneNumber(B,N){var he=this;return(0,u.Z)(function*(){return er(he.auth,O.l(he._delegate,B,N))})()}linkWithPopup(B){var N=this;return(0,u.Z)(function*(){return vi(N.auth,O.d(N._delegate,B,ni))})()}linkWithRedirect(B){var N=this;return(0,u.Z)(function*(){return yield Ot(O.aH(N.auth)),O.g(N._delegate,B,ni)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var N=this;return(0,u.Z)(function*(){return vi(N.auth,O.a1(N._delegate,B))})()}reauthenticateWithPhoneNumber(B,N){return er(this.auth,O.r(this._delegate,B,N))}reauthenticateWithPopup(B){return vi(this.auth,O.e(this._delegate,B,ni))}reauthenticateWithRedirect(B){var N=this;return(0,u.Z)(function*(){return yield Ot(O.aH(N.auth)),O.h(N._delegate,B,ni)})()}sendEmailVerification(B){return O.ae(this._delegate,B)}unlink(B){var N=this;return(0,u.Z)(function*(){return yield O.an(N._delegate,B),N})()}updateEmail(B){return O.aj(this._delegate,B)}updatePassword(B){return O.ak(this._delegate,B)}updatePhoneNumber(B){return O.u(this._delegate,B)}updateProfile(B){return O.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,N){return O.af(this._delegate,B,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bi.USER_MAP=new WeakMap;const _n=O.aA;let di=(()=>{class L{constructor(N,he){if(this.app=N,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:we}=N.options;_n(we,"invalid-api-key",{appName:N.name}),_n(we,"invalid-api-key",{appName:N.name});const mt=typeof window<"u"?ni:void 0;this._delegate=he.initialize({options:{persistence:oi(we,N.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,he){O.I(this._delegate,N,he)}applyActionCode(N){return O.a5(this._delegate,N)}checkActionCode(N){return O.a6(this._delegate,N)}confirmPasswordReset(N,he){return O.a4(this._delegate,N,he)}createUserWithEmailAndPassword(N,he){var we=this;return(0,u.Z)(function*(){return vi(we._delegate,O.a8(we._delegate,N,he))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return O.ad(this._delegate,N)}isSignInWithEmailLink(N){return O.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,u.Z)(function*(){_n(jn(),N._delegate,"operation-not-supported-in-this-environment");const he=yield O.j(N._delegate,ni);return he?vi(N._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Je(L,B){(0,O.aH)(L)._logFramework(B)}(this._delegate,N)}onAuthStateChanged(N,he,we){const{next:mt,error:Gt,complete:$t}=an(N,he,we);return this._delegate.onAuthStateChanged(mt,Gt,$t)}onIdTokenChanged(N,he,we){const{next:mt,error:Gt,complete:$t}=an(N,he,we);return this._delegate.onIdTokenChanged(mt,Gt,$t)}sendSignInLinkToEmail(N,he){return O.aa(this._delegate,N,he)}sendPasswordResetEmail(N,he){return O.a3(this._delegate,N,he||void 0)}setPersistence(N){var he=this;return(0,u.Z)(function*(){let we;switch(function fn(L,B){Ji(Object.values(qn).includes(B),L,"invalid-persistence-type"),(0,ne.b$)()?Ji(B!==qn.SESSION,L,"unsupported-persistence-type"):(0,ne.UG)()?Ji(B===qn.NONE,L,"unsupported-persistence-type"):Ni()?Ji(B===qn.NONE||B===qn.LOCAL&&(0,ne.hl)(),L,"unsupported-persistence-type"):Ji(B===qn.NONE||Ui(),L,"unsupported-persistence-type")}(he._delegate,N),N){case qn.SESSION:we=O.a;break;case qn.LOCAL:we=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case qn.NONE:we=O.N;break;default:return O.av("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(we)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return vi(this._delegate,O._(this._delegate))}signInWithCredential(N){return vi(this._delegate,O.$(this._delegate,N))}signInWithCustomToken(N){return vi(this._delegate,O.a2(this._delegate,N))}signInWithEmailAndPassword(N,he){return vi(this._delegate,O.a9(this._delegate,N,he))}signInWithEmailLink(N,he){return vi(this._delegate,O.ac(this._delegate,N,he))}signInWithPhoneNumber(N,he){return er(this._delegate,O.s(this._delegate,N,he))}signInWithPopup(N){var he=this;return(0,u.Z)(function*(){return _n(jn(),he._delegate,"operation-not-supported-in-this-environment"),vi(he._delegate,O.c(he._delegate,N,ni))})()}signInWithRedirect(N){var he=this;return(0,u.Z)(function*(){return _n(jn(),he._delegate,"operation-not-supported-in-this-environment"),yield Ot(he._delegate),O.f(he._delegate,N,ni)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return O.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=qn,L})();function an(L,B,N){let he=L;"function"!=typeof L&&({next:he,error:B,complete:N}=L);const we=he;return{next:Gt=>we(Gt&&bi.getOrCreate(Gt)),error:B,complete:N}}function oi(L,B){const N=function ui(L,B){const N=Ii();if(!N)return[];const he=O.aD(ti,L,B);switch(N.getItem(he)){case qn.NONE:return[O.N];case qn.LOCAL:return[O.i,O.a];case qn.SESSION:return[O.a];default:return[]}}(L,B);if(typeof self<"u"&&!N.includes(O.i)&&N.push(O.i),typeof window<"u")for(const he of[O.b,O.a])N.includes(he)||N.push(he);return N.includes(O.N)||N.push(O.N),N}class Or{constructor(){this.providerId="phone",this._delegate=new O.P(ii(V.Z.auth()))}static credential(B,N){return O.P.credential(B,N)}verifyPhoneNumber(B,N){return this._delegate.verifyPhoneNumber(B,N)}unwrap(){return this._delegate}}Or.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Or.PROVIDER_ID=O.P.PROVIDER_ID;const Hi=O.aA;class Pr{constructor(B,N,he=V.Z.app()){var we;Hi(null===(we=he.options)||void 0===we?void 0:we.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new O.R(B,N,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(L){L.INTERNAL.registerComponent(new re.wA("auth-compat",B=>{const N=B.getProvider("app-compat").getImmediate(),he=B.getProvider("auth");return new di(N,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:Or,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Pr,TwitterAuthProvider:O.Z,Auth:di,AuthCredential:O.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)}},se=>{se(se.s=8802)}]);