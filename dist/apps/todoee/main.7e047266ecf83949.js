"use strict";(self.webpackChunktodoee=self.webpackChunktodoee||[]).push([[179],{2011:(ce,K,S)=>{S.d(K,{Dh:()=>se,GT:()=>Q,cc:()=>Ae,hO:()=>be,on:()=>G,pX:()=>Y,xv:()=>ee});var c=S(2223),B=S(9260),R=S(8405);ce=S.hmd(ce);const ne=["ngOnDestroy"],Y=(ke,Le,Be,Re={})=>new Proxy(ke,{get:(Me,je)=>Be.runOutsideAngular(()=>{var Ge;if(ke[je])return!(null===(Ge=Re?.spy)||void 0===Ge)&&Ge.get&&Re.spy.get(je,ke[je]),ke[je];if(ne.indexOf(je)>-1)return()=>{};const Ue=Le.toPromise().then(de=>{const pt=de&&de[je];return"function"==typeof pt?pt.bind(de):pt&&pt.then?pt.then(ut=>Be.run(()=>ut)):Be.run(()=>pt)});return new Proxy(()=>{},{get:(de,pt)=>Ue[pt],apply:(de,pt,ut)=>Ue.then(bn=>{var Wn;const ki=bn&&bn(...ut);return!(null===(Wn=Re?.spy)||void 0===Wn)&&Wn.apply&&Re.spy.apply(je,ut,ki),ki})})})}),Q=(ke,Le)=>{Le.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Re=>{Object.defineProperty(ke.prototype,Re,Object.getOwnPropertyDescriptor(Be.prototype||Be,Re))})})};class oe{constructor(Le){return Le}}const se=new c.OlP("angularfire2.app.options"),ee=new c.OlP("angularfire2.app.name");function G(ke,Le,Be){const Me="object"==typeof Be&&Be||{};Me.name=Me.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ge=B.Z.apps.filter(Ue=>Ue&&Ue.name===Me.name)[0]||Le.runOutsideAngular(()=>B.Z.initializeApp(ke,Me));try{JSON.stringify(ke)!==JSON.stringify(Ge.options)&&z("error",`${Ge.name} Firebase App already initialized with different options${ce.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Ge)}const z=(ke,...Le)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ke](...Le)},q={provide:oe,useFactory:G,deps:[se,c.R0b,[new c.FiY,ee]]};let be=(()=>{class ke{constructor(Be){B.Z.registerVersion("angularfire",R.q4.full,"core"),B.Z.registerVersion("angularfire",R.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Be.toString())}static initializeApp(Be,Re){return{ngModule:ke,providers:[{provide:se,useValue:Be},{provide:ee,useValue:Re}]}}}return ke.\u0275fac=function(Be){return new(Be||ke)(c.LFG(c.Lbi))},ke.\u0275mod=c.oAB({type:ke}),ke.\u0275inj=c.cJS({providers:[q]}),ke})();function Ae(ke,Le,Be,Re,Me){const[,je,Ge]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===ke)||[];if(je)return function Ke(ke,Le){try{return ke.toString()===Le.toString()}catch{return ke===Le}}(Me,Ge)||(we("error",`${Le} was already initialized on the ${Be} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Me,was:Ge})),je;{const Ue=Re();return globalThis.\u0275AngularfireInstanceCache.push([ke,Ue,Me]),Ue}}const lt=!!ce.hot,we=(ke,...Le)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ke](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(ce,K,S)=>{S.d(K,{q4:()=>Oa,iC:()=>Us,HU:()=>hc,vb:()=>ym,JM:()=>dc});var c=S(2223),B=S(259),R=S(9671),ne=S(6881),Y=S(2090),Q=S(4859),oe=S(1877);const se=(D,T)=>T.some(O=>D instanceof O);let ee,G;const be=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,lt=new WeakMap,we=new WeakMap;let Be={get(D,T,O){if(D instanceof IDBTransaction){if("done"===T)return Ae.get(D);if("objectStoreNames"===T)return D.objectStoreNames||Ke.get(D);if("store"===T)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Ge(D[T])},set:(D,T,O)=>(D[T]=O,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function je(D){return"function"==typeof D?function Me(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(Ue(this),T),Ge(be.get(this))}:function(...T){return Ge(D.apply(Ue(this),T))}:function(T,...O){const j=D.call(Ue(this),T,...O);return Ke.set(j,T.sort?T.sort():[T]),Ge(j)}}(D):(D instanceof IDBTransaction&&function Le(D){if(Ae.has(D))return;const T=new Promise((O,j)=>{const re=()=>{D.removeEventListener("complete",me),D.removeEventListener("error",Pe),D.removeEventListener("abort",Pe)},me=()=>{O(),re()},Pe=()=>{j(D.error||new DOMException("AbortError","AbortError")),re()};D.addEventListener("complete",me),D.addEventListener("error",Pe),D.addEventListener("abort",Pe)});Ae.set(D,T)}(D),se(D,function z(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Be):D)}function Ge(D){if(D instanceof IDBRequest)return function ke(D){const T=new Promise((O,j)=>{const re=()=>{D.removeEventListener("success",me),D.removeEventListener("error",Pe)},me=()=>{O(Ge(D.result)),re()},Pe=()=>{j(D.error),re()};D.addEventListener("success",me),D.addEventListener("error",Pe)});return T.then(O=>{O instanceof IDBCursor&&be.set(O,D)}).catch(()=>{}),we.set(T,D),T}(D);if(lt.has(D))return lt.get(D);const T=je(D);return T!==D&&(lt.set(D,T),we.set(T,D)),T}const Ue=D=>we.get(D),ut=["get","getKey","getAll","getAllKeys","count"],bn=["put","add","delete","clear"],Wn=new Map;function ki(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(Wn.get(T))return Wn.get(T);const O=T.replace(/FromIndex$/,""),j=T!==O,re=bn.includes(O);if(!(O in(j?IDBIndex:IDBObjectStore).prototype)||!re&&!ut.includes(O))return;const me=function(){var Pe=(0,R.Z)(function*(_t,...ft){const Rt=this.transaction(_t,re?"readwrite":"readonly");let tn=Rt.store;return j&&(tn=tn.index(ft.shift())),(yield Promise.all([tn[O](...ft),re&&Rt.done]))[0]});return function(ft){return Pe.apply(this,arguments)}}();return Wn.set(T,me),me}!function Re(D){Be=D(Be)}(D=>({...D,get:(T,O,j)=>ki(T,O)||D.get(T,O,j),has:(T,O)=>!!ki(T,O)||D.has(T,O)}));const io="@firebase/installations",Te="0.6.4",Ve=1e4,$e=`w:${Te}`,Ze="FIS_v2",ct="https://firebaseinstallations.googleapis.com/v1",et=36e5,Ne=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(D){return D instanceof Y.ZR&&D.code.includes("request-failed")}function Ot({projectId:D}){return`${ct}/projects/${D}/installations`}function zt(D){return{token:D.token,requestStatus:2,expiresIn:Ir(D.expiresIn),creationTime:Date.now()}}function mn(D,T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,R.Z)(function*(D,T){const j=(yield T.json()).error;return Ne.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function qn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Oi(D){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,R.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function Ir(D){return Number(D.replace("s","000"))}function kt(){return(kt=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:O}){const j=Ot(D),re=qn(D),me=T.getImmediate({optional:!0});if(me){const Rt=yield me.getHeartbeatsHeader();Rt&&re.append("x-firebase-client",Rt)}const _t={method:"POST",headers:re,body:JSON.stringify({fid:O,authVersion:Ze,appId:D.appId,sdkVersion:$e})},ft=yield Oi(()=>fetch(j,_t));if(ft.ok){const Rt=yield ft.json();return{fid:Rt.fid||O,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:zt(Rt.authToken)}}throw yield mn("Create Installation",ft)})).apply(this,arguments)}function Hn(D){return new Promise(T=>{setTimeout(T,D)})}const Qn=/^[cdef][\w-]{21}$/,hn="";function Pt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function mt(D){return function er(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Qn.test(O)?O:hn}catch{return hn}}function li(D){return`${D.appName}!${D.appId}`}const Ci=new Map;function pr(D,T){const O=li(D);Bi(O,T),function An(D,T){const O=function Xt(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=D=>{Bi(D.data.key,D.data.fid)}),Ar}();O&&O.postMessage({key:D,fid:T}),function mi(){0===Ci.size&&Ar&&(Ar.close(),Ar=null)}()}(O,T)}function Bi(D,T){const O=Ci.get(D);if(O)for(const j of O)j(T)}let Ar=null;const tr="firebase-installations-database",To=1,ei="firebase-installations-store";let vi=null;function pn(){return vi||(vi=function de(D,T,{blocked:O,upgrade:j,blocking:re,terminated:me}={}){const Pe=indexedDB.open(D,T),_t=Ge(Pe);return j&&Pe.addEventListener("upgradeneeded",ft=>{j(Ge(Pe.result),ft.oldVersion,ft.newVersion,Ge(Pe.transaction))}),O&&Pe.addEventListener("blocked",()=>O()),_t.then(ft=>{me&&ft.addEventListener("close",()=>me()),re&&ft.addEventListener("versionchange",()=>re())}).catch(()=>{}),_t}(tr,To,{upgrade:(D,T)=>{0===T&&D.createObjectStore(ei)}})),vi}function ci(D,T){return on.apply(this,arguments)}function on(){return(on=(0,R.Z)(function*(D,T){const O=li(D),re=(yield pn()).transaction(ei,"readwrite"),me=re.objectStore(ei),Pe=yield me.get(O);return yield me.put(T,O),yield re.done,(!Pe||Pe.fid!==T.fid)&&pr(D,T.fid),T})).apply(this,arguments)}function ti(D){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(D){const T=li(D),j=(yield pn()).transaction(ei,"readwrite");yield j.objectStore(ei).delete(T),yield j.done})).apply(this,arguments)}function Vi(D,T){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,R.Z)(function*(D,T){const O=li(D),re=(yield pn()).transaction(ei,"readwrite"),me=re.objectStore(ei),Pe=yield me.get(O),_t=T(Pe);return void 0===_t?yield me.delete(O):yield me.put(_t,O),yield re.done,_t&&(!Pe||Pe.fid!==_t.fid)&&pr(D,_t.fid),_t})).apply(this,arguments)}function te(D){return J.apply(this,arguments)}function J(){return J=(0,R.Z)(function*(D){let T;const O=yield Vi(D.appConfig,j=>{const re=function L(D){return $t(D||{fid:Pt(),registrationStatus:0})}(j),me=function V(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ne.create("app-offline"))};const O={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},j=function N(D,T){return fe.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:j}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:De(D)}:{installationEntry:T}}(D,re);return T=me.registrationPromise,me.installationEntry});return O.fid===hn?{installationEntry:yield T}:{installationEntry:O,registrationPromise:T}}),J.apply(this,arguments)}function fe(){return fe=(0,R.Z)(function*(D,T){try{const O=yield function ro(D,T){return kt.apply(this,arguments)}(D,T);return ci(D.appConfig,O)}catch(O){throw nt(O)&&409===O.customData.serverCode?yield ti(D.appConfig):yield ci(D.appConfig,{fid:T.fid,registrationStatus:0}),O}}),fe.apply(this,arguments)}function De(D){return gt.apply(this,arguments)}function gt(){return(gt=(0,R.Z)(function*(D){let T=yield Gt(D.appConfig);for(;1===T.registrationStatus;)yield Hn(100),T=yield Gt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:O,registrationPromise:j}=yield te(D);return j||O}return T})).apply(this,arguments)}function Gt(D){return Vi(D,T=>{if(!T)throw Ne.create("installation-not-found");return $t(T)})}function $t(D){return function wn(D){return 1===D.registrationStatus&&D.registrationTime+Ve<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Sn(){return(Sn=(0,R.Z)(function*({appConfig:D,heartbeatServiceProvider:T},O){const j=function sn(D,{fid:T}){return`${Ot(D)}/${T}/authTokens:generate`}(D,O),re=function Li(D,{refreshToken:T}){const O=qn(D);return O.append("Authorization",function Yo(D){return`${Ze} ${D}`}(T)),O}(D,O),me=T.getImmediate({optional:!0});if(me){const Rt=yield me.getHeartbeatsHeader();Rt&&re.append("x-firebase-client",Rt)}const _t={method:"POST",headers:re,body:JSON.stringify({installation:{sdkVersion:$e,appId:D.appId}})},ft=yield Oi(()=>fetch(j,_t));if(ft.ok)return zt(yield ft.json());throw yield mn("Generate Auth Token",ft)})).apply(this,arguments)}function Ui(D){return oo.apply(this,arguments)}function oo(){return oo=(0,R.Z)(function*(D,T=!1){let O;const j=yield Vi(D.appConfig,me=>{if(!an(me))throw Ne.create("not-registered");const Pe=me.authToken;if(!T&&function En(D){return 2===D.requestStatus&&!function Ri(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+et}(D)}(Pe))return me;if(1===Pe.requestStatus)return O=function Fe(D,T){return ve.apply(this,arguments)}(D,T),me;{if(!navigator.onLine)throw Ne.create("app-offline");const _t=function yi(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}(me);return O=function Mt(D,T){return Wt.apply(this,arguments)}(D,_t),_t}});return O?yield O:j.authToken}),oo.apply(this,arguments)}function ve(){return(ve=(0,R.Z)(function*(D,T){let O=yield tt(D.appConfig);for(;1===O.authToken.requestStatus;)yield Hn(100),O=yield tt(D.appConfig);const j=O.authToken;return 0===j.requestStatus?Ui(D,T):j})).apply(this,arguments)}function tt(D){return Vi(D,T=>{if(!an(T))throw Ne.create("not-registered");return function Ei(D){return 1===D.requestStatus&&D.requestTime+Ve<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Wt(){return Wt=(0,R.Z)(function*(D,T){try{const O=yield function Vt(D,T){return Sn.apply(this,arguments)}(D,T),j=Object.assign(Object.assign({},T),{authToken:O});return yield ci(D.appConfig,j),O}catch(O){if(!nt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ci(D.appConfig,j)}else yield ti(D.appConfig);throw O}}),Wt.apply(this,arguments)}function an(D){return void 0!==D&&2===D.registrationStatus}function Xs(){return(Xs=(0,R.Z)(function*(D){const T=D,{installationEntry:O,registrationPromise:j}=yield te(T);return j?j.catch(console.error):Ui(T).catch(console.error),O.fid})).apply(this,arguments)}function Ko(){return Ko=(0,R.Z)(function*(D,T=!1){const O=D;return yield function ps(D){return ms.apply(this,arguments)}(O),(yield Ui(O,T)).token}),Ko.apply(this,arguments)}function ms(){return(ms=(0,R.Z)(function*(D){const{registrationPromise:T}=yield te(D);T&&(yield T)})).apply(this,arguments)}function so(D){return Ne.create("missing-app-config-values",{valueName:D})}const Js="installations",ea=D=>{const T=D.getProvider("app").getImmediate(),O=function Ja(D){if(!D||!D.options)throw so("App Configuration");if(!D.name)throw so("App Name");const T=["projectId","apiKey","appId"];for(const O of T)if(!D.options[O])throw so(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:O,heartbeatServiceProvider:(0,ne._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ca=D=>{const T=D.getProvider("app").getImmediate(),O=(0,ne._getProvider)(T,Js).getImmediate();return{getId:()=>function Qs(D){return Xs.apply(this,arguments)}(O),getToken:re=>function Hc(D){return Ko.apply(this,arguments)}(O,re)}};(function gn(){(0,ne._registerComponent)(new Q.wA(Js,ea,"PUBLIC")),(0,ne._registerComponent)(new Q.wA("installations-internal",Ca,"PRIVATE"))})(),(0,ne.registerVersion)(io,Te),(0,ne.registerVersion)(io,Te,"esm2017");const xi="@firebase/remote-config",ye=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vl{constructor(T,O,j,re){this.client=T,this.storage=O,this.storageCache=j,this.logger=re}isCachedDataFresh(T,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-O,re=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${re}.`),re}fetch(T){var O=this;return(0,R.Z)(function*(){const[j,re]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(re&&O.isCachedDataFresh(T.cacheMaxAgeMillis,j))return re;T.eTag=re&&re.eTag;const me=yield O.client.fetch(T),Pe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Pe.push(O.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Pe),me})()}}function ia(D=navigator){return D.languages&&D.languages[0]||D.language}class Ao{constructor(T,O,j,re,me,Pe){this.firebaseInstallations=T,this.sdkVersion=O,this.namespace=j,this.projectId=re,this.apiKey=me,this.appId=Pe}fetch(T){var O=this;return(0,R.Z)(function*(){const[j,re]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ft={sdk_version:O.sdkVersion,app_instance_id:j,app_instance_id_token:re,app_id:O.appId,language_code:ia()},Rt={method:"POST",headers:_t,body:JSON.stringify(ft)},tn=fetch(Pe,Rt),it=new Promise((Nr,os)=>{T.signal.addEventListener(()=>{const yu=new Error("The operation was aborted.");yu.name="AbortError",os(yu)})});let _n;try{yield Promise.race([tn,it]),_n=yield tn}catch(Nr){let os="fetch-client-network";throw"AbortError"===Nr?.name&&(os="fetch-timeout"),ye.create(os,{originalErrorMessage:Nr?.message})}let $n=_n.status;const ml=_n.headers.get("ETag")||void 0;let gl,pc;if(200===_n.status){let Nr;try{Nr=yield _n.json()}catch(os){throw ye.create("fetch-client-parse",{originalErrorMessage:os?.message})}gl=Nr.entries,pc=Nr.state}if("INSTANCE_STATE_UNSPECIFIED"===pc?$n=500:"NO_CHANGE"===pc?$n=304:("NO_TEMPLATE"===pc||"EMPTY_CONFIG"===pc)&&(gl={}),304!==$n&&200!==$n)throw ye.create("fetch-status",{httpStatus:$n});return{status:$n,eTag:ml,config:gl}})()}}class Ms{constructor(T,O){this.client=T,this.storage=O}fetch(T){var O=this;return(0,R.Z)(function*(){const j=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:O,backoffCount:j}){var re=this;return(0,R.Z)(function*(){yield function Ss(D,T){return new Promise((O,j)=>{const re=Math.max(T-Date.now(),0),me=setTimeout(O,re);D.addEventListener(()=>{clearTimeout(me),j(ye.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,O);try{const me=yield re.client.fetch(T);return yield re.storage.deleteThrottleMetadata(),me}catch(me){if(!function Xp(D){if(!(D instanceof Y.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(me))throw me;const Pe={throttleEndTimeMillis:Date.now()+(0,Y.$s)(j),backoffCount:j+1};return yield re.storage.setThrottleMetadata(Pe),re.attemptFetch(T,Pe)}})()}}class tl{constructor(T,O,j,re,me){this.app=T,this._client=O,this._storageCache=j,this._storage=re,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nn(D,T){const O=D.target.error||void 0;return ye.create(T,{originalErrorMessage:O&&O?.message})}const nl="app_namespace_store";class jl{constructor(T,O,j,re=function ra(){return new Promise((D,T)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=j=>{T(nn(j,"storage-open"))},O.onsuccess=j=>{D(j.target.result)},O.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(nl,{keyPath:"compositeKey"})}}catch(O){T(ye.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=T,this.appName=O,this.namespace=j,this.openDbPromise=re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var O=this;return(0,R.Z)(function*(){const j=yield O.openDbPromise;return new Promise((re,me)=>{const _t=j.transaction([nl],"readonly").objectStore(nl),ft=O.createCompositeKey(T);try{const Rt=_t.get(ft);Rt.onerror=tn=>{me(nn(tn,"storage-get"))},Rt.onsuccess=tn=>{const it=tn.target.result;re(it?it.value:void 0)}}catch(Rt){me(ye.create("storage-get",{originalErrorMessage:Rt?.message}))}})})()}set(T,O){var j=this;return(0,R.Z)(function*(){const re=yield j.openDbPromise;return new Promise((me,Pe)=>{const ft=re.transaction([nl],"readwrite").objectStore(nl),Rt=j.createCompositeKey(T);try{const tn=ft.put({compositeKey:Rt,value:O});tn.onerror=it=>{Pe(nn(it,"storage-set"))},tn.onsuccess=()=>{me()}}catch(tn){Pe(ye.create("storage-set",{originalErrorMessage:tn?.message}))}})})()}delete(T){var O=this;return(0,R.Z)(function*(){const j=yield O.openDbPromise;return new Promise((re,me)=>{const _t=j.transaction([nl],"readwrite").objectStore(nl),ft=O.createCompositeKey(T);try{const Rt=_t.delete(ft);Rt.onerror=tn=>{me(nn(tn,"storage-delete"))},Rt.onsuccess=()=>{re()}}catch(Rt){me(ye.create("storage-delete",{originalErrorMessage:Rt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ao{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const O=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),re=T.storage.getActiveConfig(),me=yield O;me&&(T.lastFetchStatus=me);const Pe=yield j;Pe&&(T.lastSuccessfulFetchTimestampMillis=Pe);const _t=yield re;_t&&(T.activeConfig=_t)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function lo(){return kr.apply(this,arguments)}function kr(){return(kr=(0,R.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function _s(){(0,ne._registerComponent)(new Q.wA("remote-config",function D(T,{instanceIdentifier:O}){const j=T.getProvider("app").getImmediate(),re=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ye.create("registration-window");if(!(0,Y.hl)())throw ye.create("indexed-db-unavailable");const{projectId:me,apiKey:Pe,appId:_t}=j.options;if(!me)throw ye.create("registration-project-id");if(!Pe)throw ye.create("registration-api-key");if(!_t)throw ye.create("registration-app-id");const ft=new jl(_t,j.name,O=O||"firebase"),Rt=new ao(ft),tn=new oe.Yd(xi);tn.logLevel=oe.in.ERROR;const it=new Ao(re,ne.SDK_VERSION,O,me,Pe,_t),_n=new Ms(it,ft),$n=new Vl(_n,ft,Rt,tn),ml=new tl(j,$n,Rt,ft,tn);return function Rn(D){const T=(0,Y.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ml),ml},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(xi,"0.4.4"),(0,ne.registerVersion)(xi,"0.4.4","esm2017")}();const hd=(D,T)=>T.some(O=>D instanceof O);let So,Ta;const Hl=new WeakMap,Gc=new WeakMap,wr=new WeakMap,Wc=new WeakMap,zl=new WeakMap;let Qh={get(D,T,O){if(D instanceof IDBTransaction){if("done"===T)return Gc.get(D);if("objectStoreNames"===T)return D.objectStoreNames||wr.get(D);if("store"===T)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return vs(D[T])},set:(D,T,O)=>(D[T]=O,!0),has:(D,T)=>D instanceof IDBTransaction&&("done"===T||"store"===T)||T in D};function Xh(D){return"function"==typeof D?function C_(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fd(){return Ta||(Ta=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...T){return D.apply(md(this),T),vs(Hl.get(this))}:function(...T){return vs(D.apply(md(this),T))}:function(T,...O){const j=D.call(md(this),T,...O);return wr.set(j,T.sort?T.sort():[T]),vs(j)}}(D):(D instanceof IDBTransaction&&function pd(D){if(Gc.has(D))return;const T=new Promise((O,j)=>{const re=()=>{D.removeEventListener("complete",me),D.removeEventListener("error",Pe),D.removeEventListener("abort",Pe)},me=()=>{O(),re()},Pe=()=>{j(D.error||new DOMException("AbortError","AbortError")),re()};D.addEventListener("complete",me),D.addEventListener("error",Pe),D.addEventListener("abort",Pe)});Gc.set(D,T)}(D),hd(D,function co(){return So||(So=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Qh):D)}function vs(D){if(D instanceof IDBRequest)return function Zh(D){const T=new Promise((O,j)=>{const re=()=>{D.removeEventListener("success",me),D.removeEventListener("error",Pe)},me=()=>{O(vs(D.result)),re()},Pe=()=>{j(D.error),re()};D.addEventListener("success",me),D.addEventListener("error",Pe)});return T.then(O=>{O instanceof IDBCursor&&Hl.set(O,D)}).catch(()=>{}),zl.set(T,D),T}(D);if(Wc.has(D))return Wc.get(D);const T=Xh(D);return T!==D&&(Wc.set(D,T),zl.set(T,D)),T}const md=D=>zl.get(D);function qc(D,T,{blocked:O,upgrade:j,blocking:re,terminated:me}={}){const Pe=indexedDB.open(D,T),_t=vs(Pe);return j&&Pe.addEventListener("upgradeneeded",ft=>{j(vs(Pe.result),ft.oldVersion,ft.newVersion,vs(Pe.transaction))}),O&&Pe.addEventListener("blocked",()=>O()),_t.then(ft=>{me&&ft.addEventListener("close",()=>me()),re&&ft.addEventListener("versionchange",()=>re())}).catch(()=>{}),_t}function Yc(D,{blocked:T}={}){const O=indexedDB.deleteDatabase(D);return T&&O.addEventListener("blocked",()=>T()),vs(O).then(()=>{})}const em=["get","getKey","getAll","getAllKeys","count"],Kc=["put","add","delete","clear"],Zc=new Map;function gd(D,T){if(!(D instanceof IDBDatabase)||T in D||"string"!=typeof T)return;if(Zc.get(T))return Zc.get(T);const O=T.replace(/FromIndex$/,""),j=T!==O,re=Kc.includes(O);if(!(O in(j?IDBIndex:IDBObjectStore).prototype)||!re&&!em.includes(O))return;const me=function(){var Pe=(0,R.Z)(function*(_t,...ft){const Rt=this.transaction(_t,re?"readwrite":"readonly");let tn=Rt.store;return j&&(tn=tn.index(ft.shift())),(yield Promise.all([tn[O](...ft),re&&Rt.done]))[0]});return function(ft){return Pe.apply(this,arguments)}}();return Zc.set(T,me),me}!function Jp(D){Qh=D(Qh)}(D=>({...D,get:(T,O,j)=>gd(T,O)||D.get(T,O,j),has:(T,O)=>!!gd(T,O)||D.has(T,O)}));const _d="/firebase-messaging-sw.js",Jh="/firebase-cloud-messaging-push-scope",Os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vd="https://fcmregistrations.googleapis.com/v1",ef="google.c.a.c_id",ui="google.c.a.c_l",tm="google.c.a.ts";var Rs=(()=>((Rs=Rs||{}).PUSH_RECEIVED="push-received",Rs.NOTIFICATION_CLICKED="notification-clicked",Rs))();function Zo(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nf(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(O),re=new Uint8Array(j.length);for(let me=0;me<j.length;++me)re[me]=j.charCodeAt(me);return re}const $r="fcm_token_details_db",oa=5,ar="fcm_token_object_Store";function Qc(){return Qc=(0,R.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes($r))return null;let T=null;return(yield qc($r,oa,{upgrade:(j=(0,R.Z)(function*(re,me,Pe,_t){var ft;if(me<2||!re.objectStoreNames.contains(ar))return;const Rt=_t.objectStore(ar),tn=yield Rt.index("fcmSenderId").get(D);if(yield Rt.clear(),tn)if(2===me){const it=tn;if(!it.auth||!it.p256dh||!it.endpoint)return;T={token:it.fcmToken,createTime:null!==(ft=it.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:it.auth,p256dh:it.p256dh,endpoint:it.endpoint,swScope:it.swScope,vapidKey:"string"==typeof it.vapidKey?it.vapidKey:Zo(it.vapidKey)}}}else if(3===me){const it=tn;T={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Zo(it.auth),p256dh:Zo(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Zo(it.vapidKey)}}}else if(4===me){const it=tn;T={token:it.fcmToken,createTime:it.createTime,subscriptionOptions:{auth:Zo(it.auth),p256dh:Zo(it.p256dh),endpoint:it.endpoint,swScope:it.swScope,vapidKey:Zo(it.vapidKey)}}}}),function(me,Pe,_t,ft){return j.apply(this,arguments)})})).close(),yield Yc($r),yield Yc("fcm_vapid_details_db"),yield Yc("undefined"),function Gl(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var j}),Qc.apply(this,arguments)}const yd="firebase-messaging-database",sa=1,Mo="firebase-messaging-store";let Xc=null;function bd(){return Xc||(Xc=qc(yd,sa,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Mo)}})),Xc}function Ia(D){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,R.Z)(function*(D){const T=im(D),j=yield(yield bd()).transaction(Mo).objectStore(Mo).get(T);if(j)return j;{const re=yield function $l(D){return Qc.apply(this,arguments)}(D.appConfig.senderId);if(re)return yield Aa(D,re),re}}),Jc.apply(this,arguments)}function Aa(D,T){return rf.apply(this,arguments)}function rf(){return(rf=(0,R.Z)(function*(D,T){const O=im(D),re=(yield bd()).transaction(Mo,"readwrite");return yield re.objectStore(Mo).put(T,O),yield re.done,T})).apply(this,arguments)}function Wl(){return(Wl=(0,R.Z)(function*(D){const T=im(D),j=(yield bd()).transaction(Mo,"readwrite");yield j.objectStore(Mo).delete(T),yield j.done})).apply(this,arguments)}function im({appConfig:D}){return D.appId}const lr=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function E_(D,T){return il.apply(this,arguments)}function il(){return(il=(0,R.Z)(function*(D,T){const O=yield Yl(D),j=nu(T),re={method:"POST",headers:O,body:JSON.stringify(j)};let me;try{me=yield(yield fetch(wd(D.appConfig),re)).json()}catch(Pe){throw lr.create("token-subscribe-failed",{errorInfo:Pe?.toString()})}if(me.error)throw lr.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw lr.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(D,T){const O=yield Yl(D),j=nu(T.subscriptionOptions),re={method:"PATCH",headers:O,body:JSON.stringify(j)};let me;try{me=yield(yield fetch(`${wd(D.appConfig)}/${T.token}`,re)).json()}catch(Pe){throw lr.create("token-update-failed",{errorInfo:Pe?.toString()})}if(me.error)throw lr.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw lr.create("token-update-no-token");return me.token})).apply(this,arguments)}function sm(D,T){return ql.apply(this,arguments)}function ql(){return(ql=(0,R.Z)(function*(D,T){const j={method:"DELETE",headers:yield Yl(D)};try{const me=yield(yield fetch(`${wd(D.appConfig)}/${T}`,j)).json();if(me.error)throw lr.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(re){throw lr.create("token-unsubscribe-failed",{errorInfo:re?.toString()})}})).apply(this,arguments)}function wd({projectId:D}){return`${vd}/projects/${D}/registrations`}function Yl(D){return tu.apply(this,arguments)}function tu(){return(tu=(0,R.Z)(function*({appConfig:D,installations:T}){const O=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function nu({p256dh:D,auth:T,endpoint:O,vapidKey:j}){const re={web:{endpoint:O,auth:T,p256dh:D}};return j!==Os&&(re.web.applicationPubKey=j),re}const ys=6048e5;function Cd(){return Cd=(0,R.Z)(function*(D){const T=yield function Zl(D,T){return Rr.apply(this,arguments)}(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Zo(T.getKey("auth")),p256dh:Zo(T.getKey("p256dh"))},j=yield Ia(D.firebaseDependencies);if(j){if(function ru(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}(j.subscriptionOptions,O))return Date.now()>=j.createTime+ys?function Kl(D,T){return Or.apply(this,arguments)}(D,{token:j.token,createTime:Date.now(),subscriptionOptions:O}):j.token;try{yield sm(D.firebaseDependencies,j.token)}catch(re){console.warn(re)}return rl(D.firebaseDependencies,O)}return rl(D.firebaseDependencies,O)}),Cd.apply(this,arguments)}function Ed(){return Ed=(0,R.Z)(function*(D){const T=yield Ia(D.firebaseDependencies);T&&(yield sm(D.firebaseDependencies,T.token),yield function nm(D){return Wl.apply(this,arguments)}(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Ed.apply(this,arguments)}function Or(){return Or=(0,R.Z)(function*(D,T){try{const O=yield function om(D,T){return eu.apply(this,arguments)}(D.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:O,createTime:Date.now()});return yield Aa(D.firebaseDependencies,j),O}catch(O){throw yield function di(D){return Ed.apply(this,arguments)}(D),O}}),Or.apply(this,arguments)}function rl(D,T){return iu.apply(this,arguments)}function iu(){return(iu=(0,R.Z)(function*(D,T){const j={token:yield E_(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Aa(D,j),j.token})).apply(this,arguments)}function Rr(){return(Rr=(0,R.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nf(T)})})).apply(this,arguments)}function Ql(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function xd(D,T){if(!T.notification)return;D.notification={};const O=T.notification.title;O&&(D.notification.title=O);const j=T.notification.body;j&&(D.notification.body=j);const re=T.notification.image;re&&(D.notification.image=re);const me=T.notification.icon;me&&(D.notification.icon=me)}(T,D),function Qo(D,T){T.data&&(D.data=T.data)}(T,D),function am(D,T){var O,j,re,me,Pe;if(!(T.fcmOptions||null!==(O=T.notification)&&void 0!==O&&O.click_action))return;D.fcmOptions={};const _t=null!==(re=null===(j=T.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==re?re:null===(me=T.notification)||void 0===me?void 0:me.click_action;_t&&(D.fcmOptions.link=_t);const ft=null===(Pe=T.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;ft&&(D.fcmOptions.analyticsLabel=ft)}(T,D),T}function Td(D,T){const O=[];for(let j=0;j<D.length;j++)O.push(D.charAt(j)),j<T.length&&O.push(T.charAt(j));return O.join("")}function Id(D){return lr.create("missing-app-config-values",{valueName:D})}Td("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Td("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sf{constructor(T,O,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const re=function lm(D){if(!D||!D.options)throw Id("App Configuration Object");if(!D.name)throw Id("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const j of T)if(!O[j])throw Id(j);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:re,installations:O,analyticsProvider:j}}_delete(){return Promise.resolve()}}function su(){return(su=(0,R.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(_d,{scope:Jh}),D.swRegistration.update().catch(()=>{})}catch(T){throw lr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function bs(){return(bs=(0,R.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield function Kt(D){return su.apply(this,arguments)}(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function Jl(){return(Jl=(0,R.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Os)})).apply(this,arguments)}function aa(){return aa=(0,R.Z)(function*(D,T){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield function Xl(D,T){return Jl.apply(this,arguments)}(D,T?.vapidKey),yield function au(D,T){return bs.apply(this,arguments)}(D,T?.serviceWorkerRegistration),function Dd(D){return Cd.apply(this,arguments)}(D)}),aa.apply(this,arguments)}function Ad(){return(Ad=(0,R.Z)(function*(D,T,O){const j=function cm(D){switch(D){case Rs.NOTIFICATION_CLICKED:return"notification_open";case Rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:O[ef],message_name:O[ui],message_time:O[tm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ec(){return ec=(0,R.Z)(function*(D,T){const O=T.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Rs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ql(O)):D.onMessageHandler.next(Ql(O)));const j=O.data;(function ou(D){return"object"==typeof D&&!!D&&ef in D})(j)&&"1"===j["google.c.a.e"]&&(yield function x_(D,T,O){return Ad.apply(this,arguments)}(D,O.messageType,j))}),ec.apply(this,arguments)}const Ye="@firebase/messaging",tc=D=>{const T=new sf(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Sd(D,T){return ec.apply(this,arguments)}(T,O)),T},af=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:j=>function lu(D,T){return aa.apply(this,arguments)}(T,j)}};function cu(){return ol.apply(this,arguments)}function ol(){return(ol=(0,R.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dr(){(0,ne._registerComponent)(new Q.wA("messaging",tc,"PUBLIC")),(0,ne._registerComponent)(new Q.wA("messaging-internal",af,"PRIVATE")),(0,ne.registerVersion)(Ye,"0.12.4"),(0,ne.registerVersion)(Ye,"0.12.4","esm2017")}();const uu="analytics",Ps="firebase_id",ca="origin",Md=6e4,lf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kd="https://www.googletagmanager.com/gtag/js",zi=new oe.Yd("@firebase/analytics"),$i=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function du(D){if(!D.startsWith(kd)){const T=$i.create("invalid-gtag-resource",{gtagURL:D});return zi.warn(T.message),""}return D}function Ns(D){return Promise.all(D.map(T=>T.catch(O=>O)))}function sl(){return(sl=(0,R.Z)(function*(D,T,O,j,re,me){const Pe=j[re];try{if(Pe)yield T[Pe];else{const ft=(yield Ns(O)).find(Rt=>Rt.measurementId===re);ft&&(yield T[ft.appId])}}catch(_t){zi.error(_t)}D("config",re,me)})).apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(D,T,O,j,re){try{let me=[];if(re&&re.send_to){let Pe=re.send_to;Array.isArray(Pe)||(Pe=[Pe]);const _t=yield Ns(O);for(const ft of Pe){const Rt=_t.find(it=>it.measurementId===ft),tn=Rt&&T[Rt.appId];if(!tn){me=[];break}me.push(tn)}}0===me.length&&(me=Object.values(T)),yield Promise.all(me),D("event",j,re||{})}catch(me){zi.error(me)}})).apply(this,arguments)}const Cr=30,uf=new class Ti{constructor(T={},O=1e3){this.throttleMetadata=T,this.intervalMillis=O}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,O){this.throttleMetadata[T]=O}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function T_(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function hf(){return(hf=(0,R.Z)(function*(D){var T;const{appId:O,apiKey:j}=D,re={method:"GET",headers:T_(j)},me=lf.replace("{app-id}",O),Pe=yield fetch(me,re);if(200!==Pe.status&&304!==Pe.status){let _t="";try{const ft=yield Pe.json();null!==(T=ft.error)&&void 0!==T&&T.message&&(_t=ft.error.message)}catch{}throw $i.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:_t})}return Pe.json()})).apply(this,arguments)}function Pd(){return(Pd=(0,R.Z)(function*(D,T=uf,O){const{appId:j,apiKey:re,measurementId:me}=D.options;if(!j)throw $i.create("no-app-id");if(!re){if(me)return{measurementId:me,appId:j};throw $i.create("no-api-key")}const Pe=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_t=new Fd;return setTimeout((0,R.Z)(function*(){_t.abort()}),void 0!==O?O:Md),fu({appId:j,apiKey:re,measurementId:me},Pe,_t,T)})).apply(this,arguments)}function fu(D,T,O){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,R.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:O},j,re=uf){var me;const{appId:Pe,measurementId:_t}=D;try{yield function ff(D,T){return new Promise((O,j)=>{const re=Math.max(T-Date.now(),0),me=setTimeout(O,re);D.addEventListener(()=>{clearTimeout(me),j($i.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(j,T)}catch(ft){if(_t)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Pe,measurementId:_t};throw ft}try{const ft=yield function df(D){return hf.apply(this,arguments)}(D);return re.deleteThrottleMetadata(Pe),ft}catch(ft){const Rt=ft;if(!function Nd(D){if(!(D instanceof Y.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Rt)){if(re.deleteThrottleMetadata(Pe),_t)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:Pe,measurementId:_t};throw ft}const tn=503===Number(null===(me=Rt?.customData)||void 0===me?void 0:me.httpStatus)?(0,Y.$s)(O,re.intervalMillis,Cr):(0,Y.$s)(O,re.intervalMillis),it={throttleEndTimeMillis:Date.now()+tn,backoffCount:O+1};return re.setThrottleMetadata(Pe,it),zi.debug(`Calling attemptFetch again in ${tn} millis`),fu(D,it,j,re)}}),Ls.apply(this,arguments)}class Fd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let al,ln;function Ld(){return(Ld=(0,R.Z)(function*(D,T,O,j,re){if(re&&re.global)D("event",O,j);else{const me=yield T;D("event",O,Object.assign(Object.assign({},j),{send_to:me}))}})).apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(){if(!(0,Y.hl)())return zi.warn($i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(D){return zi.warn($i.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Jo(){return Jo=(0,R.Z)(function*(D,T,O,j,re,me,Pe){var _t;const ft=function hu(D){return Pd.apply(this,arguments)}(D);ft.then($n=>{O[$n.measurementId]=$n.appId,D.options.measurementId&&$n.measurementId!==D.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>zi.error($n)),T.push(ft);const Rt=function cn(){return cr.apply(this,arguments)}().then($n=>{if($n)return j.getId()}),[tn,it]=yield Promise.all([ft,Rt]);(function fm(D){const T=window.document.getElementsByTagName("script");for(const O of Object.values(T))if(O.src&&O.src.includes(kd)&&O.src.includes(D))return O;return null})(me)||function dm(D,T){const O=function rc(D,T){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(D,T)),O}("firebase-js-sdk-policy",{createScriptURL:du}),j=document.createElement("script"),re=`${kd}?l=${D}&id=${T}`;j.src=O?O?.createScriptURL(re):re,j.async=!0,document.head.appendChild(j)}(me,tn.measurementId),ln&&(re("consent","default",ln),function fo(D){ln=D}(void 0)),re("js",new Date);const _n=null!==(_t=Pe?.config)&&void 0!==_t?_t:{};return _n[ca]="firebase",_n.update=!0,null!=it&&(_n[Ps]=it),re("config",tn.measurementId,_n),al&&(re("set",al),function Gi(D){al=D}(void 0)),tn.measurementId}),Jo.apply(this,arguments)}class cl{constructor(T){this.app=T}_delete(){return delete gr[this.app.options.appId],Promise.resolve()}}let gr={},Ft=[];const Wr={};let ws,qr,es="dataLayer",Ma=!1;function bi(D,T,O){!function ns(){const D=[];if((0,Y.ru)()&&D.push("This is a browser extension environment."),(0,Y.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((j,re)=>`(${re+1}) ${j}`).join(" "),O=$i.create("invalid-analytics-context",{errorInfo:T});zi.warn(O.message)}}();const j=D.options.appId;if(!j)throw $i.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw $i.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gr[j])throw $i.create("already-exists",{id:j});if(!Ma){!function oc(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(es);const{wrappedGtag:me,gtagCore:Pe}=function hm(D,T,O,j,re){let me=function(...Pe){window[j].push(arguments)};return window[re]&&"function"==typeof window[re]&&(me=window[re]),window[re]=function Xo(D,T,O,j){function me(){return me=(0,R.Z)(function*(Pe,..._t){try{if("event"===Pe){const[ft,Rt]=_t;yield function Rd(D,T,O,j,re){return Sa.apply(this,arguments)}(D,T,O,ft,Rt)}else if("config"===Pe){const[ft,Rt]=_t;yield function cf(D,T,O,j,re,me){return sl.apply(this,arguments)}(D,T,O,j,ft,Rt)}else if("consent"===Pe){const[ft]=_t;D("consent","update",ft)}else if("get"===Pe){const[ft,Rt,tn]=_t;D("get",ft,Rt,tn)}else if("set"===Pe){const[ft]=_t;D("set",ft)}else D(Pe,..._t)}catch(ft){zi.error(ft)}}),me.apply(this,arguments)}return function re(Pe){return me.apply(this,arguments)}}(me,D,T,O),{gtagCore:me,wrappedGtag:window[re]}}(gr,Ft,Wr,es,"gtag");qr=me,ws=Pe,Ma=!0}return gr[j]=function Wi(D,T,O,j,re,me,Pe){return Jo.apply(this,arguments)}(D,Ft,Wr,T,ws,es,O),new cl(D)}function qi(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,R.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}const Bd="@firebase/analytics";!function cc(){(0,ne._registerComponent)(new Q.wA(uu,(T,{options:O})=>bi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ne._registerComponent)(new Q.wA("analytics-internal",function D(T){try{const O=T.getProvider(uu).getImmediate();return{logEvent:(j,re,me)=>function ha(D,T,O,j){D=(0,Y.m9)(D),function pu(D,T,O,j,re){return Ld.apply(this,arguments)}(qr,gr[D.app.options.appId],T,O,j).catch(re=>zi.error(re))}(O,j,re,me)}}catch(O){throw $i.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ne.registerVersion)(Bd,"0.10.0"),(0,ne.registerVersion)(Bd,"0.10.0","esm2017")}();var vf=S(233),Vd=S(4986),fa=S(8505),ka=S(9468),dl=S(5363);const Oa=new c.GfV("7.6.1"),hl="__angularfire_symbol__analyticsIsSupportedValue",po="__angularfire_symbol__analyticsIsSupported",fl="__angularfire_symbol__remoteConfigIsSupportedValue",pl="__angularfire_symbol__remoteConfigIsSupported",_u="__angularfire_symbol__messagingIsSupportedValue",uc="__angularfire_symbol__messagingIsSupported";function dc(D,T,O){if(T){if(1===T.length)return T[0];const me=T.filter(Pe=>Pe.app===O);if(1===me.length)return me[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[po]||(globalThis[po]=qi().then(D=>globalThis[hl]=D).catch(()=>globalThis[hl]=!1)),globalThis[uc]||(globalThis[uc]=cu().then(D=>globalThis[_u]=D).catch(()=>globalThis[_u]=!1)),globalThis[pl]||(globalThis[pl]=lo().then(D=>globalThis[fl]=D).catch(()=>globalThis[fl]=!1));const ym=(D,T)=>{const O=T?[T]:(0,B.C6)(),j=[];return O.forEach(re=>{re.container.getProvider(D).instances.forEach(Pe=>{j.includes(Pe)||j.push(Pe)})}),j};function Ra(){}class Yi{constructor(T,O=vf.N){this.zone=T,this.delegate=O}now(){return this.delegate.now()}schedule(T,O,j){const re=this.zone;return this.delegate.schedule(function(Pe){re.runGuarded(()=>{T.apply(this,[Pe])})},O,j)}}class bm{constructor(T){this.zone=T,this.task=null}call(T,O){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ra,{},Ra,Ra)),O.pipe((0,fa.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hc=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Yi(Zone.current)),this.insideAngular=O.run(()=>new Yi(Zone.current,Vd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Vs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Us(D){return Vs(),function wm(D){return function(O){return(O=O.lift(new bm(D.ngZone))).pipe((0,ka.R)(D.outsideAngular),(0,dl.Q)(D.insideAngular))}}(Vs())(D)}},1389:(ce,K,S)=>{S.d(K,{$:()=>_d,A:()=>z,D:()=>Ae,I:()=>Bl,J:()=>ea,L:()=>Bn,N:()=>Vi,P:()=>Wi,Q:()=>jl,R:()=>sc,U:()=>dd,V:()=>lo,W:()=>kr,X:()=>Hi,Y:()=>co,Z:()=>fd,_:()=>zl,a:()=>ic,a0:()=>Os,a1:()=>ef,a2:()=>$b,a3:()=>ar,a4:()=>Qc,a5:()=>yd,a6:()=>Mo,a7:()=>bd,a8:()=>Jc,a9:()=>rf,aA:()=>de,aB:()=>vm,aC:()=>ti,aD:()=>Mr,aE:()=>fl,aF:()=>_m,aG:()=>gm,aH:()=>gi,aL:()=>la,aO:()=>So,aa:()=>nm,ab:()=>im,ac:()=>rm,ad:()=>om,ae:()=>sm,af:()=>wd,ai:()=>ys,aj:()=>Cd,ak:()=>di,an:()=>C_,ao:()=>xd,aq:()=>Jl,ar:()=>Ye,as:()=>ut,at:()=>$t,au:()=>De,av:()=>Re,aw:()=>Nr,ax:()=>ym,ay:()=>wn,az:()=>Me,b:()=>uo,c:()=>qr,d:()=>bi,e:()=>Zt,f:()=>Bd,g:()=>ka,h:()=>vf,i:()=>Fs,j:()=>hl,k:()=>wf,l:()=>Er,m:()=>Du,p:()=>se,r:()=>gu,s:()=>pm,u:()=>cn});var c=S(9671),B=S(2090),R=S(6881),ne=S(655),Y=S(1877),Q=S(4859);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ke=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new Y.Yd("@firebase/auth");function Be(b,...m){ke.logLevel<=Y.in.ERROR&&ke.error(`Auth (${R.SDK_VERSION}): ${b}`,...m)}function Re(b,...m){throw Ue(b,...m)}function Me(b,...m){return Ue(b,...m)}function je(b,m,_){const C=Object.assign(Object.assign({},Ke()),{[m]:_});return new B.LL("auth","Firebase",C).create(m,{appName:b.name})}function Ge(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Re(b,"argument-error"),je(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return lt.create(b,...m)}function de(b,m,..._){if(!b)throw Ue(m,..._)}function pt(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Be(m),new Error(m)}function ut(b,m){b||pt(m)}function bn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Wn(){return"http:"===ki()||"https:"===ki()}function ki(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ve{constructor(m,_){this.shortDelay=m,this.longDelay=_,ut(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function io(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(b,m){ut(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Ze{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new Ve(3e4,6e4);function We(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function yt(b,m,_,C){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(b,m,_,C,k={}){return Ne(b,k,(0,c.Z)(function*(){let F={},he={};C&&("GET"===m?he=C:F={body:JSON.stringify(C)});const Ie=(0,B.xO)(Object.assign({key:b.config.apiKey},he)).slice(1),ie=yield b._getAdditionalHeaders();return ie["Content-Type"]="application/json",b.languageCode&&(ie["X-Firebase-Locale"]=b.languageCode),Ze.fetch()(mn(b,b.config.apiHost,_,Ie),Object.assign({method:m,headers:ie,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ne(b,m,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},ct),m);try{const k=new Cn(b),F=yield Promise.race([_(),k.promise]);k.clearNetworkTimeout();const he=yield F.json();if("needConfirmation"in he)throw qn(b,"account-exists-with-different-credential",he);if(F.ok&&!("errorMessage"in he))return he;{const Ie=F.ok?he.errorMessage:he.error.message,[ie,Ct]=Ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ie)throw qn(b,"credential-already-in-use",he);if("EMAIL_EXISTS"===ie)throw qn(b,"email-already-in-use",he);if("USER_DISABLED"===ie)throw qn(b,"user-disabled",he);const It=C[ie]||ie.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw je(b,It,Ct);Re(b,It)}}catch(k){if(k instanceof B.ZR)throw k;Re(b,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function Ot(b,m,_,C){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(b,m,_,C,k={}){const F=yield yt(b,m,_,C,k);return"mfaPendingCredential"in F&&Re(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function mn(b,m,_,C){const k=`${m}${_}?${C}`;return b.config.emulator?$e(b.config,k):`${b.config.apiScheme}://${k}`}class Cn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const k=Me(b,m,C);return k.customData._tokenResponse=_,k}function Oi(){return(Oi=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function kt(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Qn(){return(Qn=(0,c.Z)(function*(b,m=!1){const _=(0,B.m9)(b),C=yield _.getIdToken(m),k=Pt(C);de(k&&k.exp&&k.auth_time&&k.iat,_.auth,"internal-error");const F="object"==typeof k.firebase?k.firebase:void 0,he=F?.sign_in_provider;return{claims:k,token:C,authTime:kt(hn(k.auth_time)),issuedAtTime:kt(hn(k.iat)),expirationTime:kt(hn(k.exp)),signInProvider:he||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(b){return 1e3*Number(b)}function Pt(b){const[m,_,C]=b.split(".");if(void 0===m||void 0===_||void 0===C)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,B.tV)(_);return k?JSON.parse(k):(Be("Failed to decode base64 JWT payload"),null)}catch(k){return Be("Caught error parsing JWT payload as JSON",k?.toString()),null}}function li(b,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof B.ZR&&function pr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Xn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Jn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bi(b){return An.apply(this,arguments)}function An(){return An=(0,c.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),k=yield li(b,function Yo(b,m){return ro.apply(this,arguments)}(_,{idToken:C}));de(k?.users.length,_,"internal-error");const F=k.users[0];b._notifyReloadListener(F);const he=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?function tr(b){return b.map(m=>{var{providerId:_}=m,C=(0,ne._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(F.providerUserInfo):[],Ie=function mi(b,m){return[...b.filter(C=>!m.some(k=>k.providerId===C.providerId)),...m]}(b.providerData,he),It=!!b.isAnonymous&&!(b.email&&F.passwordHash||Ie?.length),Qe={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Ie,metadata:new Jn(F.createdAt,F.lastLoginAt),isAnonymous:It};Object.assign(b,Qe)}),An.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(b){const m=(0,B.m9)(b);yield Bi(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(b,m){const _=yield Ne(b,{},(0,c.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:k,apiKey:F}=b.config,he=mn(b,k,"/v1/token",`key=${F}`),Ie=yield b._getAdditionalHeaders();return Ie["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()(he,{method:"POST",headers:Ie,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){de(m.idToken,"internal-error"),de(typeof m.idToken<"u","internal-error"),de(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function mt(b){const m=Pt(b);return de(m,"internal-error"),de(typeof m.exp<"u","internal-error"),de(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,c.Z)(function*(){return de(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,c.Z)(function*(){const{accessToken:k,refreshToken:F,expiresIn:he}=yield function To(b,m){return ei.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(k,F,Number(he))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:k,expirationTime:F}=_,he=new vi;return C&&(de("string"==typeof C,"internal-error",{appName:m}),he.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:m}),he.accessToken=k),F&&(de("number"==typeof F,"internal-error",{appName:m}),he.expirationTime=F),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return pt("not implemented")}}function pn(b,m){de("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class ci{constructor(m){var{uid:_,auth:C,stsTokenManager:k}=m,F=(0,ne._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Jn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const C=yield li(_,_.stsTokenManager.getToken(_.auth,m));return de(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function er(b){return Qn.apply(this,arguments)}(this,m)}reload(){return function Ar(b){return Xt.apply(this,arguments)}(this)}_assign(m){this!==m&&(de(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new ci(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,c.Z)(function*(){let k=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),k=!0),_&&(yield Bi(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield li(m,function Li(b,m){return Oi.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,k,F,he,Ie,ie,Ct,It;const Qe=null!==(C=_.displayName)&&void 0!==C?C:void 0,mo=null!==(k=_.email)&&void 0!==k?k:void 0,qt=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,pa=null!==(he=_.photoURL)&&void 0!==he?he:void 0,vl=null!==(Ie=_.tenantId)&&void 0!==Ie?Ie:void 0,xf=null!==(ie=_._redirectEventId)&&void 0!==ie?ie:void 0,Ud=null!==(Ct=_.createdAt)&&void 0!==Ct?Ct:void 0,xm=null!==(It=_.lastLoginAt)&&void 0!==It?It:void 0,{uid:yl,emailVerified:Tm,isAnonymous:ur,providerData:Pa,stsTokenManager:oi}=_;de(yl&&oi,m,"internal-error");const bl=vi.fromJSON(this.name,oi);de("string"==typeof yl,m,"internal-error"),pn(Qe,m.name),pn(mo,m.name),de("boolean"==typeof Tm,m,"internal-error"),de("boolean"==typeof ur,m,"internal-error"),pn(qt,m.name),pn(pa,m.name),pn(vl,m.name),pn(xf,m.name),pn(Ud,m.name),pn(xm,m.name);const Im=new ci({uid:yl,auth:m,email:mo,emailVerified:Tm,displayName:Qe,isAnonymous:ur,photoURL:pa,phoneNumber:qt,tenantId:vl,stsTokenManager:bl,createdAt:Ud,lastLoginAt:xm});return Pa&&Array.isArray(Pa)&&(Im.providerData=Pa.map(O_=>Object.assign({},O_))),xf&&(Im._redirectEventId=xf),Im}static _fromIdTokenResponse(m,_,C=!1){return(0,c.Z)(function*(){const k=new vi;k.updateFromServerResponse(_);const F=new ci({uid:_.localId,auth:m,stsTokenManager:k,isAnonymous:C});return yield Bi(F),F})()}}const on=new Map;function ti(b){ut(b instanceof Function,"Expected a class definition");let m=on.get(b);return m?(ut(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,on.set(b,m),m)}const Vi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,C){var k=this;return(0,c.Z)(function*(){k.storage[_]=C})()}_get(_){var C=this;return(0,c.Z)(function*(){const k=C.storage[_];return void 0===k?null:k})()}_remove(_){var C=this;return(0,c.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function Mr(b,m,_){return`firebase:${b}:${m}:${_}`}class te{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:k,name:F}=this.auth;this.fullUserKey=Mr(this.userKey,k.apiKey,F),this.fullPersistenceKey=Mr("persistence",k.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?ci._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,c.Z)(function*(){if(!_.length)return new te(ti(Vi),m,C);const k=(yield Promise.all(_.map(function(){var Ct=(0,c.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let F=k[0]||ti(Vi);const he=Mr(C,m.config.apiKey,m.name);let Ie=null;for(const Ct of _)try{const It=yield Ct._get(he);if(It){const Qe=ci._fromJSON(m,It);Ct!==F&&(Ie=Qe),F=Ct;break}}catch{}const ie=k.filter(Ct=>Ct._shouldAllowMigration);return F._shouldAllowMigration&&ie.length?(F=ie[0],Ie&&(yield F._set(he,Ie.toJSON())),yield Promise.all(_.map(function(){var Ct=(0,c.Z)(function*(It){if(It!==F)try{yield It._remove(he)}catch{}});return function(It){return Ct.apply(this,arguments)}}())),new te(F,m,C)):new te(F,m,C)})()}}function J(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(fe(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(L(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(gt(m))return"Blackberry";if(Gt(m))return"Webos";if(V(m))return"Safari";if((m.includes("chrome/")||N(m))&&!m.includes("edge/"))return"Chrome";if(De(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function L(b=(0,B.z$)()){return/firefox\//i.test(b)}function V(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function N(b=(0,B.z$)()){return/crios\//i.test(b)}function fe(b=(0,B.z$)()){return/iemobile/i.test(b)}function De(b=(0,B.z$)()){return/android/i.test(b)}function gt(b=(0,B.z$)()){return/blackberry/i.test(b)}function Gt(b=(0,B.z$)()){return/webos/i.test(b)}function $t(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function wn(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function sn(b=(0,B.z$)()){return $t(b)||De(b)||Gt(b)||gt(b)||/windows phone/i.test(b)||fe(b)}function oo(b,m=[]){let _;switch(b){case"Browser":_=J((0,B.z$)());break;case"Worker":_=`${J((0,B.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${R.SDK_VERSION}/${C}`}function ve(){return(ve=(0,c.Z)(function*(b){return(yield yt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tt(b,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(b,m){return yt(b,"GET","/v2/recaptchaConfig",We(b,m))})).apply(this,arguments)}function Wt(b){return void 0!==b&&void 0!==b.getResponse}function an(b){return void 0!==b&&void 0!==b.enterprise}class En{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function yi(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=k=>{const F=Me("internal-error");F.customData=k,_(F)},C.type="text/javascript",C.charset="UTF-8",function Ri(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function Ei(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Ko{constructor(m){this.type="recaptcha-enterprise",this.auth=gi(m)}verify(m="verify",_=!1){var C=this;return(0,c.Z)(function*(){function F(){return F=(0,c.Z)(function*(Ie){if(!_){if(null==Ie.tenantId&&null!=Ie._agentRecaptchaConfig)return Ie._agentRecaptchaConfig.siteKey;if(null!=Ie.tenantId&&void 0!==Ie._tenantRecaptchaConfigs[Ie.tenantId])return Ie._tenantRecaptchaConfigs[Ie.tenantId].siteKey}return new Promise(function(){var ie=(0,c.Z)(function*(Ct,It){tt(Ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qe=>{if(void 0!==Qe.recaptchaKey){const mo=new En(Qe);return null==Ie.tenantId?Ie._agentRecaptchaConfig=mo:Ie._tenantRecaptchaConfigs[Ie.tenantId]=mo,Ct(mo.siteKey)}It(new Error("recaptcha Enterprise site key undefined"))}).catch(Qe=>{It(Qe)})});return function(Ct,It){return ie.apply(this,arguments)}}())}),F.apply(this,arguments)}function he(Ie,ie,Ct){const It=window.grecaptcha;an(It)?It.enterprise.ready(()=>{It.enterprise.execute(Ie,{action:m}).then(Qe=>{ie(Qe)}).catch(()=>{ie("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ie,ie)=>{(function k(Ie){return F.apply(this,arguments)})(C.auth).then(Ct=>{if(!_&&an(window.grecaptcha))he(Ct,Ie,ie);else{if(typeof window>"u")return void ie(new Error("RecaptchaVerifier is only supported in browser"));yi("https://www.google.com/recaptcha/enterprise.js?render="+Ct).then(()=>{he(Ct,Ie,ie)}).catch(It=>{ie(It)})}}).catch(Ct=>{ie(Ct)})})})()}}function ps(b,m,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(b,m,_,C=!1){const k=new Ko(b);let F;try{F=yield k.verify(_)}catch{F=yield k.verify(_,!0)}const he=Object.assign({},m);return Object.assign(he,C?{captchaResp:F}:{captchaResponse:F}),Object.assign(he,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(he,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),he})).apply(this,arguments)}class zc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=F=>new Promise((he,Ie)=>{try{he(m(F))}catch(ie){Ie(ie)}});C.onAbort=_,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===m)return;const C=[];try{for(const k of _.queue)yield k(m),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const F of C)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class As{constructor(m,_,C,k){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kh(this),this.idTokenSubscription=new Kh(this),this.beforeStateQueue=new zc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ti(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var k,F;if(!C._deleted&&(C.persistenceManager=yield te.create(C,m),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var C;const k=yield _.assertedPersistence.getCurrentUser();let F=k,he=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ie=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,ie=F?._redirectEventId,Ct=yield _.tryRedirectSignIn(m);(!Ie||Ie===ie)&&Ct?.user&&(F=Ct.user,he=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(he)try{yield _.beforeStateQueue.runMiddleware(F)}catch(Ie){F=k,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ie))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return de(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Bi(m)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Te(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const C=m?(0,B.m9)(m):null;return C&&de(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return m&&de(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(ti(m))}))}initializeRecaptchaConfig(){var m=this;return(0,c.Z)(function*(){const _=yield tt(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new En(_);null==m.tenantId?m._agentRecaptchaConfig=C:m._tenantRecaptchaConfigs[m.tenantId]=C,C.emailPasswordEnabled&&new Ko(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,c.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(_);return null===m?k.removeCurrentUser():k.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ti(m)||_._popupRedirectResolver;de(C,_,"argument-error"),_.redirectPersistenceManager=yield te.create(_,[ti(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var C,k;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,k){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),he=this._isInitialized?Promise.resolve():this._initializationPromise;return de(he,this,"internal-error"),he.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,C,k):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=oo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const k=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();k&&(C["X-Firebase-Client"]=k);const F=yield m._getAppCheckToken();return F&&(C["X-Firebase-AppCheck"]=F),C})()}_getAppCheckToken(){var m=this;return(0,c.Z)(function*(){var _;const C=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return C?.error&&function Le(b,...m){ke.logLevel<=Y.in.WARN&&ke.warn(`Auth (${R.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function gi(b){return(0,B.m9)(b)}class Kh{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bl(b,m,_){const C=gi(b);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const k=!!_?.disableWarnings,F=Ja(m),{host:he,port:Ie}=function so(b){const m=Ja(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const F=k[1];return{host:F,port:Js(C.substr(F.length+1))}}{const[F,he]=C.split(":");return{host:F,port:Js(he)}}}(m);C.config.emulator={url:`${F}//${he}${null===Ie?"":`:${Ie}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:he,port:Ie,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function $c(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ja(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Js(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ea{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return pt("not implemented")}_getIdTokenResponse(m){return pt("not implemented")}_linkToIdToken(m,_){return pt("not implemented")}_getReauthenticationResolver(m){return pt("not implemented")}}function Ca(b,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:resetPassword",We(b,m))})).apply(this,arguments)}function xi(b,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",We(b,m))})).apply(this,arguments)}function $(b,m){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithPassword",We(b,m))})).apply(this,arguments)}function pe(b,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:sendOobCode",We(b,m))})).apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(b,m){return pe(b,m)})).apply(this,arguments)}function qe(b,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(b,m){return pe(b,m)})).apply(this,arguments)}function en(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(b,m){return pe(b,m)})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(b,m){return pe(b,m)})).apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithEmailLink",We(b,m))})).apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithEmailLink",We(b,m))})).apply(this,arguments)}class Jt extends ea{constructor(m,_,C,k=null){super("password",C),this._email=m,this._password=_,this._tenantId=k}static _fromEmailAndPassword(m,_){return new Jt(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new Jt(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){var C;switch(_.signInMethod){case"password":const k={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=m._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const F=yield ps(m,k,"signInWithPassword");return $(m,F)}return $(m,k).catch(function(){var F=(0,c.Z)(function*(he){if("auth/missing-recaptcha-token"===he.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ie=yield ps(m,k,"signInWithPassword");return $(m,Ie)}return Promise.reject(he)});return function(he){return F.apply(this,arguments)}}());case"emailLink":return function gs(b,m){return Ln.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Re(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return xi(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ta(b,m){return na.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Re(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Io(b,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithIdp",We(b,m))})).apply(this,arguments)}class Bn extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Bn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:k}=_,F=(0,ne._T)(_,["providerId","signInMethod"]);if(!C||!k)return null;const he=new Bn(C,k);return he.idToken=F.idToken||void 0,he.accessToken=F.accessToken||void 0,he.secret=F.secret,he.nonce=F.nonce,he.pendingToken=F.pendingToken||null,he}_getIdTokenResponse(m){return Io(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Io(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Io(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function ia(){return(ia=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:sendVerificationCode",We(b,m))})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithPhoneNumber",We(b,m))})).apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(b,m){const _=yield Ot(b,"POST","/v1/accounts:signInWithPhoneNumber",We(b,m));if(_.temporaryProof)throw qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const mr={USER_NOT_FOUND:"user-not-found"};function tl(){return(tl=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithPhoneNumber",We(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),mr)})).apply(this,arguments)}class nn extends ea{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new nn({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new nn({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Ao(b,m){return Ss.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Xp(b,m){return Ms.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ul(b,m){return tl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:k}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:k}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:k,temporaryProof:F}=m;return C||_||k||F?new nn({verificationId:_,verificationCode:C,phoneNumber:k,temporaryProof:F}):null}}class ks{constructor(m){var _,C,k,F,he,Ie;const ie=(0,B.zd)((0,B.pd)(m)),Ct=null!==(_=ie.apiKey)&&void 0!==_?_:null,It=null!==(C=ie.oobCode)&&void 0!==C?C:null,Qe=function nl(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ie.mode)&&void 0!==k?k:null);de(Ct&&It&&Qe,"argument-error"),this.apiKey=Ct,this.operation=Qe,this.code=It,this.continueUrl=null!==(F=ie.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(he=ie.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(Ie=ie.tenantId)&&void 0!==Ie?Ie:null}static parseLink(m){const _=function ud(b){const m=(0,B.zd)((0,B.pd)(b)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||m||b}(m);try{return new ks(_)}catch{return null}}}let jl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Jt._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const k=ks.parseLink(C);return de(k,"argument-error"),Jt._fromEmailAndCode(_,k.code,k.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ao{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class _s extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Hi extends _s{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return de("providerId"in _&&"signInMethod"in _,"argument-error"),Bn._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return de(m.idToken||m.accessToken,"argument-error"),Bn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Hi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Hi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:F,nonce:he,providerId:Ie}=m;if(!C&&!k&&!_&&!F||!Ie)return null;try{return new Hi(Ie)._credential({idToken:_,accessToken:C,nonce:he,pendingToken:F})}catch{return null}}}let dd=(()=>{class b extends _s{constructor(){super("facebook.com")}static credential(_){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),lo=(()=>{class b extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:k}=_;if(!C&&!k)return null;try{return b.credential(C,k)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),kr=(()=>{class b extends _s{constructor(){super("github.com")}static credential(_){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class So extends ea{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Io(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Io(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Io(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:k,pendingToken:F}=_;return C&&k&&F&&C===k?new So(C,F):null}static _create(m,_){return new So(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class co extends ao{constructor(m){de(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return co.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return co.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=So.fromJSON(m);return de(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return So._create(C,_)}catch{return null}}}let fd=(()=>{class b extends _s{constructor(){super("twitter.com")}static credential(_,C){return Bn._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=_;if(!C||!k)return null;try{return b.credential(C,k)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Hl(b,m){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signUp",We(b,m))})).apply(this,arguments)}class wr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,k=!1){return(0,c.Z)(function*(){const F=yield ci._fromIdTokenResponse(m,C,k),he=Wc(C);return new wr({user:F,providerId:he,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const k=Wc(C);return new wr({user:m,providerId:k,_tokenResponse:C,operationType:_})})()}}function Wc(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function zl(b){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,c.Z)(function*(b){var m;const _=gi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new wr({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Hl(_,{returnSecureToken:!0}),k=yield wr._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class pd extends B.ZR{constructor(m,_,C,k){var F;super(_.code,_.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,k){return new pd(m,_,C,k)}}function Qh(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?pd._fromErrorAndOperation(b,F,m,C):F})}function Jp(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function C_(b,m){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);yield qc(!0,_,m);const{providerUserInfo:C}=yield function Fn(b,m){return Ir.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),k=Jp(C||[]);return _.providerData=_.providerData.filter(F=>k.has(F.providerId)),k.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Xh.apply(this,arguments)}function vs(b,m){return md.apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(b,m,_=!1){const C=yield li(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return wr._forOperation(b,"link",C)})).apply(this,arguments)}function qc(b,m,_){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(b,m,_){yield Bi(m);const k=!1===b?"provider-already-linked":"no-such-provider";de(Jp(m.providerData).has(_)===b,m.auth,k)})).apply(this,arguments)}function em(b,m){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(b,m,_=!1){const{auth:C}=b,k="reauthenticate";try{const F=yield li(b,Qh(C,k,m,b),_);de(F.idToken,C,"internal-error");const he=Pt(F.idToken);de(he,C,"internal-error");const{sub:Ie}=he;return de(b.uid===Ie,C,"user-mismatch"),wr._forOperation(b,k,F)}catch(F){throw"auth/user-not-found"===F?.code&&Re(C,"user-mismatch"),F}})).apply(this,arguments)}function Zc(b,m){return gd.apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(b,m,_=!1){const C="signIn",k=yield Qh(b,C,m),F=yield wr._fromIdTokenResponse(b,C,k);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function _d(b,m){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,c.Z)(function*(b,m){return Zc(gi(b),m)})).apply(this,arguments)}function Os(b,m){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);return yield qc(!1,_,m.providerId),vs(_,m)})).apply(this,arguments)}function ef(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(b,m){return em((0,B.m9)(b),m)})).apply(this,arguments)}function tf(){return(tf=(0,c.Z)(function*(b,m){return Ot(b,"POST","/v1/accounts:signInWithCustomToken",We(b,m))})).apply(this,arguments)}function $b(b,m){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,c.Z)(function*(b,m){const _=gi(b),C=yield function tm(b,m){return tf.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),k=yield wr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(k.user),k}),Rs.apply(this,arguments)}class Zo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?nf._fromServerResponse(m,_):"totpInfo"in _?$r._fromServerResponse(m,_):Re(m,"internal-error")}}class nf extends Zo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new nf(_)}}class $r extends Zo{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new $r(_)}}function oa(b,m,_){var C;de((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),de(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(de(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(de(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function ar(b,m,_){return $l.apply(this,arguments)}function $l(){return $l=(0,c.Z)(function*(b,m,_){var C;const k=gi(b),F={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const he=yield ps(k,F,"getOobCode",!0);_&&oa(k,he,_),yield qe(k,he)}else _&&oa(k,F,_),yield qe(k,F).catch(function(){var he=(0,c.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ie=yield ps(k,F,"getOobCode",!0);_&&oa(k,ie,_),yield qe(k,ie)}});return function(Ie){return he.apply(this,arguments)}}())}),$l.apply(this,arguments)}function Qc(b,m,_){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(b,m,_){yield Ca((0,B.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function yd(b,m){return sa.apply(this,arguments)}function sa(){return sa=(0,c.Z)(function*(b,m){yield function Ea(b,m){return zn.apply(this,arguments)}((0,B.m9)(b),{oobCode:m})}),sa.apply(this,arguments)}function Mo(b,m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),C=yield Ca(_,{oobCode:m}),k=C.requestType;switch(de(k,_,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,_,"internal-error");default:de(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=Zo._fromServerResponse(gi(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:k}})).apply(this,arguments)}function bd(b,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(b,m){const{data:_}=yield Mo((0,B.m9)(b),m);return _.email})).apply(this,arguments)}function Jc(b,m,_){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,c.Z)(function*(b,m,_){var C;const k=gi(b),F={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let he;if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Ct=yield ps(k,F,"signUpPassword");he=Hl(k,Ct)}else he=Hl(k,F).catch(function(){var Ct=(0,c.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qe=yield ps(k,F,"signUpPassword");return Hl(k,Qe)}return Promise.reject(It)});return function(It){return Ct.apply(this,arguments)}}());const Ie=yield he.catch(Ct=>Promise.reject(Ct)),ie=yield wr._fromIdTokenResponse(k,"signIn",Ie);return yield k._updateCurrentUser(ie.user),ie}),Aa.apply(this,arguments)}function rf(b,m,_){return _d((0,B.m9)(b),jl.credential(m,_))}function nm(b,m,_){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,c.Z)(function*(b,m,_){var C;const k=gi(b),F={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function he(Ie,ie){de(ie.handleCodeInApp,k,"argument-error"),ie&&oa(k,Ie,ie)}if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Ie=yield ps(k,F,"getOobCode",!0);he(Ie,_),yield en(k,Ie)}else he(F,_),yield en(k,F).catch(function(){var Ie=(0,c.Z)(function*(ie){if("auth/missing-recaptcha-token"!==ie.code)return Promise.reject(ie);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ct=yield ps(k,F,"getOobCode",!0);he(Ct,_),yield en(k,Ct)}});return function(ie){return Ie.apply(this,arguments)}}())}),Wl.apply(this,arguments)}function im(b,m){const _=ks.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}function rm(b,m,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),k=jl.credentialWithLink(m,_||bn());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),_d(C,k)})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:createAuthUri",We(b,m))})).apply(this,arguments)}function om(b,m){return eu.apply(this,arguments)}function eu(){return eu=(0,c.Z)(function*(b,m){const C={identifier:m,continueUri:Wn()?bn():"http://localhost"},{signinMethods:k}=yield function E_(b,m){return il.apply(this,arguments)}((0,B.m9)(b),C);return k||[]}),eu.apply(this,arguments)}function sm(b,m){return ql.apply(this,arguments)}function ql(){return ql=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),k={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&oa(_.auth,k,m);const{email:F}=yield function ht(b,m){return rt.apply(this,arguments)}(_.auth,k);F!==b.email&&(yield b.reload())}),ql.apply(this,arguments)}function wd(b,m,_){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&oa(C.auth,F,_);const{email:he}=yield function Dn(b,m){return Rn.apply(this,arguments)}(C.auth,F);he!==b.email&&(yield b.reload())}),Yl.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ys(b,m){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,B.m9)(b),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},he=yield li(C,function tu(b,m){return nu.apply(this,arguments)}(C.auth,F));C.displayName=he.displayName||null,C.photoURL=he.photoUrl||null;const Ie=C.providerData.find(({providerId:ie})=>"password"===ie);Ie&&(Ie.displayName=C.displayName,Ie.photoURL=C.photoURL),yield C._updateTokensIfNecessary(he)}),Dd.apply(this,arguments)}function Cd(b,m){return Ed((0,B.m9)(b),m,null)}function di(b,m){return Ed((0,B.m9)(b),null,m)}function Ed(b,m,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(b,m,_){const{auth:C}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const he=yield li(b,xi(C,F));yield b._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class rl{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class iu extends rl{constructor(m,_,C,k){super(m,_,C),this.username=k}}class Zl extends rl{constructor(m,_){super(m,"facebook.com",_)}}class Rr extends iu{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ru extends rl{constructor(m,_){super(m,"google.com",_)}}class Ql extends iu{constructor(m,_,C){super(m,"twitter.com",_,C)}}function xd(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Or(b){var m,_;if(!b)return null;const{providerId:C}=b,k=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const he=null===(_=null===(m=Pt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(he)return new rl(F,"anonymous"!==he&&"custom"!==he?he:null)}if(!C)return null;switch(C){case"facebook.com":return new Zl(F,k);case"github.com":return new Rr(F,k);case"google.com":return new ru(F,k);case"twitter.com":return new Ql(F,k,b.screenName||null);case"custom":case"anonymous":return new rl(F,null);default:return new rl(F,C,k)}}(_)}class bs{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new bs("enroll",m,_)}static _fromMfaPendingCredential(m){return new bs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return bs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return bs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Xl{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=gi(m),k=_.customData._serverResponse,F=(k.mfaInfo||[]).map(Ie=>Zo._fromServerResponse(C,Ie));de(k.mfaPendingCredential,C,"internal-error");const he=bs._fromMfaPendingCredential(k.mfaPendingCredential);return new Xl(he,F,function(){var Ie=(0,c.Z)(function*(ie){const Ct=yield ie._process(C,he);delete k.mfaInfo,delete k.mfaPendingCredential;const It=Object.assign(Object.assign({},k),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(_.operationType){case"signIn":const Qe=yield wr._fromIdTokenResponse(C,_.operationType,It);return yield C._updateCurrentUser(Qe.user),Qe;case"reauthenticate":return de(_.user,C,"internal-error"),wr._forOperation(_.user,_.operationType,It);default:Re(C,"internal-error")}});return function(ie){return Ie.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function Jl(b,m){var _;const C=(0,B.m9)(b),k=m;return de(m.customData.operationType,C,"argument-error"),de(null===(_=k.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Xl._fromError(C,k)}class Sd{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Zo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Sd(m)}getSession(){var m=this;return(0,c.Z)(function*(){return bs._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,c.Z)(function*(){const k=m,F=yield C.getSession(),he=yield li(C.user,k._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(he),C.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const C="string"==typeof m?m:m.uid,k=yield _.user.getIdToken();try{const F=yield li(_.user,function cm(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",We(b,m))}(_.user.auth,{idToken:k,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:he})=>he!==C),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const ec=new WeakMap;function Ye(b){const m=(0,B.m9)(b);return ec.has(m)||ec.set(m,Sd._fromUser(m)),ec.get(m)}const fn="__sak";class tc{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(fn,"1"),this.storage.removeItem(fn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const uo=(()=>{class b extends tc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function af(){const b=(0,B.z$)();return V(b)||$t(b)}()&&function Ui(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),F=this.localCache[C];k!==F&&_(C,F,k)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ie,ie,Ct)=>{this.notifyListeners(Ie,Ct)});const k=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(k);if(_.newValue!==Ie)null!==_.newValue?this.storage.setItem(k,_.newValue):this.storage.removeItem(k);else if(this.localCache[k]===_.newValue&&!C)return}const F=()=>{const Ie=this.storage.getItem(k);!C&&this.localCache[k]===Ie||this.notifyListeners(k,Ie)},he=this.storage.getItem(k);!function Sn(){return(0,B.w1)()&&10===document.documentMode}()||he===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const k=this.listeners[_];if(k)for(const F of Array.from(k))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var k=()=>super._set,F=this;return(0,c.Z)(function*(){yield k().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,k=this;return(0,c.Z)(function*(){const F=yield C().call(k,_);return k.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,k=this;return(0,c.Z)(function*(){yield C().call(k,_),delete k.localCache[_]})()}}return b.type="LOCAL",b})(),ic=(()=>{class b extends tc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Gb=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const k=new b(_);return this.receivers.push(k),k}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,c.Z)(function*(){const k=_,{eventId:F,eventType:he,data:Ie}=k.data,ie=C.handlersMap[he];if(!ie?.size)return;k.ports[0].postMessage({status:"ack",eventId:F,eventType:he});const Ct=Array.from(ie).map(function(){var Qe=(0,c.Z)(function*(mo){return mo(k.origin,Ie)});return function(mo){return Qe.apply(this,arguments)}}()),It=yield function um(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(Ct);k.ports[0].postMessage({status:"done",eventId:F,eventType:he,response:It})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function la(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class Gr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var k=this;return(0,c.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let he,Ie;return new Promise((ie,Ct)=>{const It=la("",20);F.port1.start();const Qe=setTimeout(()=>{Ct(new Error("unsupported_event"))},C);Ie={messageChannel:F,onMessage(mo){const qt=mo;if(qt.data.eventId===It)switch(qt.data.status){case"ack":clearTimeout(Qe),he=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),ie(qt.data.response);break;default:clearTimeout(Qe),clearTimeout(he),Ct(new Error("invalid_response"))}}},k.handlers.add(Ie),F.port1.addEventListener("message",Ie.onMessage),k.target.postMessage({eventType:m,eventId:It,data:_},[F.port2])}).finally(()=>{Ie&&k.removeMessageHandler(Ie)})})()}}function ii(){return window}function Ps(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function Md(){return(Md=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zi="firebaseLocalStorageDb",$i="firebaseLocalStorage",du="fbase_key";class Ns{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function rc(b,m){return b.transaction([$i],m?"readwrite":"readonly").objectStore($i)}function oc(){const b=indexedDB.open(zi,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore($i,{keyPath:du})}catch(k){_(k)}}),b.addEventListener("success",(0,c.Z)(function*(){const C=b.result;C.objectStoreNames.contains($i)?m(C):(C.close(),yield function dm(){const b=indexedDB.deleteDatabase(zi);return new Ns(b).toPromise()}(),m(yield oc()))}))})}function cf(b,m,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(b,m,_){const C=rc(b,!0).put({[du]:m,value:_});return new Ns(C).toPromise()})).apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(b,m){const _=rc(b,!1).get(m),C=yield new Ns(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Xo(b,m){const _=rc(b,!0).delete(m);return new Ns(_).toPromise()}const Fs=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield oc()),_.db})()}_withRetries(_){var C=this;return(0,c.Z)(function*(){let k=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(k++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Ps()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Gb._getInstance(function kd(){return Ps()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(k,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(k,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(k,F){return["keyChanged"]});return function(k,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var C,k;if(_.activeServiceWorker=yield function ca(){return Md.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Gr(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(C=F[0])&&void 0!==C&&C.fulfilled&&null!==(k=F[0])&&void 0!==k&&k.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function lf(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield oc();return yield cf(_,fn,"1"),yield Xo(_,fn),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var k=this;return(0,c.Z)(function*(){return k._withPendingWrite((0,c.Z)(function*(){return yield k._withRetries(F=>cf(F,_,C)),k.localCache[_]=C,k.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,c.Z)(function*(){const k=yield C._withRetries(F=>function Rd(b,m){return Sa.apply(this,arguments)}(F,_));return C.localCache[_]=k,k})()}_remove(_){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(k=>Xo(k,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const C=yield _._withRetries(he=>{const Ie=rc(he,!1).getAll();return new Ns(Ie).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const k=[],F=new Set;for(const{fbase_key:he,value:Ie}of C)F.add(he),JSON.stringify(_.localCache[he])!==JSON.stringify(Ie)&&(_.notifyListeners(he,Ie),k.push(he));for(const he of Object.keys(_.localCache))_.localCache[he]&&!F.has(he)&&(_.notifyListeners(he,null),k.push(he));return k})()}notifyListeners(_,C){this.localCache[_]=C;const k=this.listeners[_];if(k)for(const F of Array.from(k))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),hu=1e12;class Pd{constructor(m){this.auth=m,this.counter=hu,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new fu(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||hu;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||hu))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var C;return null===(C=_._widgets.get(m||hu))||void 0===C||C.execute(),""})()}}class fu{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof m?document.getElementById(m):m;de(k,"argument-error",{appName:_}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ls(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ff=Ei("rcb"),Nd=new Ve(3e4,6e4);class al{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ii().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return de(function pu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Wt(ii().grecaptcha)?Promise.resolve(ii().grecaptcha):new Promise((C,k)=>{const F=ii().setTimeout(()=>{k(Me(m,"network-request-failed"))},Nd.get());ii()[ff]=()=>{ii().clearTimeout(F),delete ii()[ff];const Ie=ii().grecaptcha;if(!Ie||!Wt(Ie))return void k(Me(m,"internal-error"));const ie=Ie.render;Ie.render=(Ct,It)=>{const Qe=ie(Ct,It);return this.counter++,Qe},this.hostLanguage=_,C(Ie)},yi(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ff,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),k(Me(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=ii().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ld{load(m){return(0,c.Z)(function*(){return new Pd(m)})()}clearedOneInstance(){}}const pf="recaptcha",mf={theme:"light",type:"image"};class sc{constructor(m,_=Object.assign({},mf),C){this.parameters=_,this.type=pf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gi(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof m?document.getElementById(m):m;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ld:new al,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const he=Ie=>{Ie&&(m.tokenChangeListeners.delete(he),F(Ie))};m.tokenChangeListeners.add(he),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=ii()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){de(Wn()&&!Ps(),m.auth,"internal-error"),yield function ll(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Fe(b){return ve.apply(this,arguments)}(m.auth);de(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gf{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=nn._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function pm(b,m,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(b,m,_){const C=gi(b),k=yield fo(C,m,(0,B.m9)(_));return new gf(k,F=>_d(C,F))})).apply(this,arguments)}function Er(b,m,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);yield qc(!1,C,"phone");const k=yield fo(C.auth,m,(0,B.m9)(_));return new gf(k,F=>Os(C,F))})).apply(this,arguments)}function gu(b,m,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),k=yield fo(C.auth,m,(0,B.m9)(_));return new gf(k,F=>ef(C,F))})).apply(this,arguments)}function fo(b,m,_){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,c.Z)(function*(b,m,_){var C;const k=yield _.verify();try{let F;if(de("string"==typeof k,b,"argument-error"),de(_.type===pf,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const he=F.session;if("phoneNumber"in F)return de("enroll"===he.type,b,"internal-error"),(yield function lu(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:start",We(b,m))}(b,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===he.type,b,"internal-error");const Ie=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return de(Ie,b,"missing-multi-factor-info"),(yield function Ti(b,m){return yt(b,"POST","/v2/accounts/mfaSignIn:start",We(b,m))}(b,{mfaPendingCredential:he.credential,mfaEnrollmentId:Ie,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield function Vl(b,m){return ia.apply(this,arguments)}(b,{phoneNumber:F.phoneNumber,recaptchaToken:k});return he}}finally{_._reset()}}),Gi.apply(this,arguments)}function cn(b,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(b,m){yield vs((0,B.m9)(b),m)})).apply(this,arguments)}let Wi=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=gi(_)}verifyPhoneNumber(_,C){return fo(this.auth,_,(0,B.m9)(C))}static credential(_,C){return nn._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:k}=_;return C&&k?nn._fromTokenResponse(C,k):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Jo(b,m){return m?ti(m):(de(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class cl extends ea{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Io(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Io(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Io(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function gr(b){return Zc(b.auth,new cl(b),b.bypassAuthState)}function Ft(b){const{auth:m,user:_}=b;return de(_,m,"internal-error"),em(_,new cl(b),b.bypassAuthState)}function Wr(b){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return de(_,m,"internal-error"),vs(_,new cl(b),b.bypassAuthState)})).apply(this,arguments)}class ts{constructor(m,_,C,k,F=!1){this.auth=m,this.resolver=C,this.user=k,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(C,k){m.pendingPromise={resolve:C,reject:k};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,k){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:F,tenantId:he,error:Ie,type:ie}=m;if(Ie)return void _.reject(Ie);const Ct={auth:_.auth,requestUri:C,sessionId:k,tenantId:he||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ie)(Ct))}catch(It){_.reject(It)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return Wr;case"reauthViaPopup":case"reauthViaRedirect":return Ft;default:Re(this.auth,"internal-error")}}resolve(m){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ws=new Ve(2e3,1e4);function qr(b,m,_){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(b,m,_){const C=gi(b);Ge(b,m,ao);const k=Jo(C,_);return new ac(C,"signInViaPopup",m,k).executeNotNull()})).apply(this,arguments)}function Zt(b,m,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Ge(C.auth,m,ao);const k=Jo(C.auth,_);return new ac(C.auth,"reauthViaPopup",m,k,C).executeNotNull()})).apply(this,arguments)}function bi(b,m,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Ge(C.auth,m,ao);const k=Jo(C.auth,_);return new ac(C.auth,"linkViaPopup",m,k,C).executeNotNull()})).apply(this,arguments)}let ac=(()=>{class b extends ts{constructor(_,C,k,F,he){super(_,C,F,he),this.provider=k,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const C=yield _.execute();return de(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,c.Z)(function*(){ut(1===_.filter.length,"Popup operations only handle one event");const C=la();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(k=>{_.reject(k)}),_.resolver._isIframeWebStorageSupported(_.auth,k=>{k||_.reject(Me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ws.get())};_()}}return b.currentPopupAction=null,b})();const qi="pendingRedirect",Bs=new Map;class mm extends ts{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let C=Bs.get(_.auth._key());if(!C){try{const F=(yield function Pr(b,m){return da.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(F)}catch(k){C=()=>Promise.reject(k)}Bs.set(_.auth._key(),C)}return _.bypassAuthState||Bs.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const k=yield C.auth._redirectUserForId(m.eventId);if(k)return C.user=k,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function da(){return(da=(0,c.Z)(function*(b,m){const _=_f(m),C=ha(b);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(_));return yield C._remove(_),k})).apply(this,arguments)}function is(b,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(b,m){return ha(b)._set(_f(m),"true")})).apply(this,arguments)}function gm(){Bs.clear()}function _m(b,m){Bs.set(b._key(),m)}function ha(b){return ti(b._redirectPersistence)}function _f(b){return Mr(qi,b.config.apiKey,b.name)}function Bd(b,m,_){return function ul(b,m,_){return cc.apply(this,arguments)}(b,m,_)}function cc(){return(cc=(0,c.Z)(function*(b,m,_){const C=gi(b);Ge(b,m,ao),yield C._initializationPromise;const k=Jo(C,_);return yield is(k,C),k._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function vf(b,m,_){return function Vd(b,m,_){return fa.apply(this,arguments)}(b,m,_)}function fa(){return(fa=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Ge(C.auth,m,ao),yield C.auth._initializationPromise;const k=Jo(C.auth,_);yield is(k,C.auth);const F=yield _u(C);return k._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function ka(b,m,_){return function dl(b,m,_){return Oa.apply(this,arguments)}(b,m,_)}function Oa(){return(Oa=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);Ge(C.auth,m,ao),yield C.auth._initializationPromise;const k=Jo(C.auth,_);yield qc(!1,C,m.providerId),yield is(k,C.auth);const F=yield _u(C);return k._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function hl(b,m){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(b,m){return yield gi(b)._initializationPromise,fl(b,m,!1)})).apply(this,arguments)}function fl(b,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(b,m,_=!1){const C=gi(b),k=Jo(C,m),he=yield new mm(C,k,_).execute();return he&&!_&&(delete he.user._redirectEventId,yield C._persistUserIfCurrent(he.user),yield C._setRedirectUser(null,m)),he})).apply(this,arguments)}function _u(b){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(b){const m=la(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class vm{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function dc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A_(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!A_(m)){const k=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,k))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(m))}saveEventToCache(m){this.cachedEventUids.add(I_(m)),this.lastProcessedEventTime=Date.now()}}function I_(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function A_({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function ym(b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(b,m={}){return yt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bm=/^https?/;function Vs(){return(Vs=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield ym(b);for(const _ of m)try{if(ko(_))return}catch{}Re(b,"unauthorized-domain")})).apply(this,arguments)}function ko(b){const m=bn(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const he=new URL(b);return""===he.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&he.hostname===C}if(!bm.test(_))return!1;if(Yi.test(b))return C===b;const k=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const rs=new Ve(3e4,6e4);function vu(){const b=ii().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Us=null;const bf=new Ve(5e3,15e3),Dm="__/auth/iframe",D="emulator/auth/iframe",T={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j(b){const m=b.config;de(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?$e(m,D):`https://${b.config.authDomain}/${Dm}`,C={apiKey:m.apiKey,appName:b.name,v:R.SDK_VERSION},k=O.get(b.config.apiHost);k&&(C.eid=k);const F=b._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function me(){return me=(0,c.Z)(function*(b){const m=yield function wm(b){return Us=Us||function fc(b){return new Promise((m,_)=>{var C,k,F;function he(){vu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{vu(),_(Me(b,"network-request-failed"))},timeout:rs.get()})}if(null!==(k=null===(C=ii().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)m(gapi.iframes.getContext());else{if(null===(F=ii().gapi)||void 0===F||!F.load){const Ie=Ei("iframefcb");return ii()[Ie]=()=>{gapi.load?he():_(Me(b,"network-request-failed"))},yi(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(ie=>_(ie))}he()}}).catch(m=>{throw Us=null,m})}(b),Us}(b),_=ii().gapi;return de(_,b,"internal-error"),m.open({where:document.body,url:j(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T,dontclear:!0},C=>new Promise(function(){var k=(0,c.Z)(function*(F,he){yield C.restyle({setHideOnLeave:!1});const Ie=Me(b,"network-request-failed"),ie=ii().setTimeout(()=>{he(Ie)},bf.get());function Ct(){ii().clearTimeout(ie),F(C)}C.ping(Ct).then(Ct,()=>{he(Ie)})});return function(F,he){return k.apply(this,arguments)}}()))}),me.apply(this,arguments)}const Pe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class it{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ml="__/auth/handler",gl="emulator/auth/handler",pc=encodeURIComponent("fac");function Nr(b,m,_,C,k,F){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(b,m,_,C,k,F){de(b.config.authDomain,b,"auth-domain-config-required"),de(b.config.apiKey,b,"invalid-api-key");const he={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:R.SDK_VERSION,eventId:k};if(m instanceof ao){m.setDefaultLanguage(b.languageCode),he.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(he.customParameters=JSON.stringify(m.getCustomParameters()));for(const[It,Qe]of Object.entries(F||{}))he[It]=Qe}if(m instanceof _s){const It=m.getScopes().filter(Qe=>""!==Qe);It.length>0&&(he.scopes=It.join(","))}b.tenantId&&(he.tid=b.tenantId);const Ie=he;for(const It of Object.keys(Ie))void 0===Ie[It]&&delete Ie[It];const ie=yield b._getAppCheckToken(),Ct=ie?`#${pc}=${encodeURIComponent(ie)}`:"";return`${function yu({config:b}){return b.emulator?$e(b,gl):`https://${b.authDomain}/${ml}`}(b)}?${(0,B.xO)(Ie).slice(1)}${Ct}`})).apply(this,arguments)}const bu="webStorageSupport",wf=class wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ic,this._completeRedirectFn=fl,this._overrideRedirectResult=_m}_openPopup(m,_,C,k){var F=this;return(0,c.Z)(function*(){var he;ut(null===(he=F.eventManagers[m._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const Ie=yield Nr(m,_,C,bn(),k);return function _n(b,m,_,C=500,k=600){const F=Math.max((window.screen.availHeight-k)/2,0).toString(),he=Math.max((window.screen.availWidth-C)/2,0).toString();let Ie="";const ie=Object.assign(Object.assign({},Pe),{width:C.toString(),height:k.toString(),top:F,left:he}),Ct=(0,B.z$)().toLowerCase();_&&(Ie=N(Ct)?"_blank":_),L(Ct)&&(m=m||"http://localhost",ie.scrollbars="yes");const It=Object.entries(ie).reduce((mo,[qt,pa])=>`${mo}${qt}=${pa},`,"");if(function Vt(b=(0,B.z$)()){var m;return $t(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Ct)&&"_self"!==Ie)return function $n(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",Ie),new it(null);const Qe=window.open(m||"",Ie,It);de(Qe,b,"popup-blocked");try{Qe.focus()}catch{}return new it(Qe)}(m,Ie,la())})()}_openRedirect(m,_,C,k){var F=this;return(0,c.Z)(function*(){return yield F._originValidation(m),function uu(b){ii().location.href=b}(yield Nr(m,_,C,bn(),k)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:k,promise:F}=this.eventManagers[_];return k?Promise.resolve(k):(ut(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const C=yield function re(b){return me.apply(this,arguments)}(m),k=new vm(m);return C.register("authEvent",F=>(de(F?.authEvent,m,"invalid-auth-event"),{status:k.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:k},_.iframes[m._key()]=C,k})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(bu,{type:bu},k=>{var F;const he=null===(F=k?.[0])||void 0===F?void 0:F[bu];void 0!==he&&_(!!he),Re(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function hc(b){return Vs.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return sn()||V()||$t()}};class S_{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return pt("unexpected MultiFactorSessionType")}}}class Df extends S_{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Df(m)}_finalizeEnroll(m,_,C){return function aa(b,m){return yt(b,"POST","/v2/accounts/mfaEnrollment:finalize",We(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function uf(b,m){return yt(b,"POST","/v2/accounts/mfaSignIn:finalize",We(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Du=(()=>{class b{constructor(){}static assertion(_){return Df._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var M_="@firebase/auth";class mc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{m(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function Ef(b){(0,R._registerComponent)(new Q.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),k=m.getProvider("heartbeat"),F=m.getProvider("app-check-internal"),{apiKey:he,authDomain:Ie}=C.options;de(he&&!he.includes(":"),"invalid-api-key",{appName:C.name});const ie={apiKey:he,authDomain:Ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oo(b)},Ct=new As(C,k,F,ie);return function Qp(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(ti);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Ct,_),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Q.wA("auth-internal",m=>{const _=gi(m.getProvider("auth").getImmediate());return new mc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(M_,"0.23.2",function _l(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,R.registerVersion)(M_,"0.23.2","esm2017")}("Browser")},2090:(ce,K,S)=>{S.d(K,{$s:()=>ti,BH:()=>je,G6:()=>$e,L:()=>ee,LL:()=>Et,Pz:()=>Me,Sg:()=>Ge,UG:()=>pt,US:()=>Q,ZB:()=>q,ZR:()=>yt,aH:()=>Re,b$:()=>Wn,eu:()=>ct,hl:()=>Ze,jU:()=>ut,m9:()=>Mr,ne:()=>li,pd:()=>Pt,r3:()=>Fn,ru:()=>bn,tV:()=>G,uI:()=>de,vZ:()=>kt,w1:()=>io,xO:()=>Qn,xb:()=>Yo,z$:()=>Ue,zI:()=>et,zd:()=>hn});const ne=function(te){const J=[];let L=0;for(let V=0;V<te.length;V++){let N=te.charCodeAt(V);N<128?J[L++]=N:N<2048?(J[L++]=N>>6|192,J[L++]=63&N|128):55296==(64512&N)&&V+1<te.length&&56320==(64512&te.charCodeAt(V+1))?(N=65536+((1023&N)<<10)+(1023&te.charCodeAt(++V)),J[L++]=N>>18|240,J[L++]=N>>12&63|128,J[L++]=N>>6&63|128,J[L++]=63&N|128):(J[L++]=N>>12|224,J[L++]=N>>6&63|128,J[L++]=63&N|128)}return J},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,J){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let N=0;N<te.length;N+=3){const fe=te[N],De=N+1<te.length,gt=De?te[N+1]:0,Gt=N+2<te.length,$t=Gt?te[N+2]:0;let Sn=(15&gt)<<2|$t>>6,sn=63&$t;Gt||(sn=64,De||(Sn=64)),V.push(L[fe>>2],L[(3&fe)<<4|gt>>4],L[Sn],L[sn])}return V.join("")},encodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(te):this.encodeByteArray(ne(te),J)},decodeString(te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(te):function(te){const J=[];let L=0,V=0;for(;L<te.length;){const N=te[L++];if(N<128)J[V++]=String.fromCharCode(N);else if(N>191&&N<224){const fe=te[L++];J[V++]=String.fromCharCode((31&N)<<6|63&fe)}else if(N>239&&N<365){const Gt=((7&N)<<18|(63&te[L++])<<12|(63&te[L++])<<6|63&te[L++])-65536;J[V++]=String.fromCharCode(55296+(Gt>>10)),J[V++]=String.fromCharCode(56320+(1023&Gt))}else{const fe=te[L++],De=te[L++];J[V++]=String.fromCharCode((15&N)<<12|(63&fe)<<6|63&De)}}return J.join("")}(this.decodeStringToByteArray(te,J))},decodeStringToByteArray(te,J){this.init_();const L=J?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let N=0;N<te.length;){const fe=L[te.charAt(N++)],gt=N<te.length?L[te.charAt(N)]:0;++N;const $t=N<te.length?L[te.charAt(N)]:64;++N;const Vt=N<te.length?L[te.charAt(N)]:64;if(++N,null==fe||null==gt||null==$t||null==Vt)throw new oe;V.push(fe<<2|gt>>4),64!==$t&&(V.push(gt<<4&240|$t>>2),64!==Vt&&V.push($t<<6&192|Vt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ee=function(te){return function(te){const J=ne(te);return Q.encodeByteArray(J,!0)}(te).replace(/\./g,"")},G=function(te){try{return Q.decodeString(te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function q(te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return J}for(const L in J)!J.hasOwnProperty(L)||!be(L)||(te[L]=q(te[L],J[L]));return te}function be(te){return"__proto__"!==te}const ke=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=te&&G(te[1]);return J&&JSON.parse(J)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Re=()=>{var te;return null===(te=ke())||void 0===te?void 0:te.config},Me=te=>{var J;return null===(J=ke())||void 0===J?void 0:J[`_${te}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,L)=>{this.resolve=J,this.reject=L})}wrapCallback(J){return(L,V)=>{L?this.reject(L):this.resolve(V),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(L):J(L,V))}}}function Ge(te,J){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=J||"demo-project",N=te.iat||0,fe=te.sub||te.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:N,exp:N+3600,auth_time:N,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},te);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(De)),""].join(".")}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function pt(){var te;const J=null===(te=ke())||void 0===te?void 0:te.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function bn(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function io(){const te=Ue();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function $e(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){try{return"object"==typeof indexedDB}catch{return!1}}function ct(){return new Promise((te,J)=>{try{let L=!0;const V="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(V);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(V),te(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var fe;J((null===(fe=N.error)||void 0===fe?void 0:fe.message)||"")}}catch(L){J(L)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yt extends Error{constructor(J,L,V){super(L),this.code=J,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(J,L,V){this.service=J,this.serviceName=L,this.errors=V}create(J,...L){const V=L[0]||{},N=`${this.service}/${J}`,fe=this.errors[J],De=fe?function Ne(te,J){return te.replace(nt,(L,V)=>{const N=J[V];return null!=N?String(N):`<${V}?>`})}(fe,V):"Error";return new yt(N,`${this.serviceName}: ${De} (${N}).`,V)}}const nt=/\{\$([^}]+)}/g;function Fn(te,J){return Object.prototype.hasOwnProperty.call(te,J)}function Yo(te){for(const J in te)if(Object.prototype.hasOwnProperty.call(te,J))return!1;return!0}function kt(te,J){if(te===J)return!0;const L=Object.keys(te),V=Object.keys(J);for(const N of L){if(!V.includes(N))return!1;const fe=te[N],De=J[N];if(Hn(fe)&&Hn(De)){if(!kt(fe,De))return!1}else if(fe!==De)return!1}for(const N of V)if(!L.includes(N))return!1;return!0}function Hn(te){return null!==te&&"object"==typeof te}function Qn(te){const J=[];for(const[L,V]of Object.entries(te))Array.isArray(V)?V.forEach(N=>{J.push(encodeURIComponent(L)+"="+encodeURIComponent(N))}):J.push(encodeURIComponent(L)+"="+encodeURIComponent(V));return J.length?"&"+J.join("&"):""}function hn(te){const J={};return te.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[N,fe]=V.split("=");J[decodeURIComponent(N)]=decodeURIComponent(fe)}}),J}function Pt(te){const J=te.indexOf("?");if(!J)return"";const L=te.indexOf("#",J);return te.substring(J,L>0?L:void 0)}function li(te,J){const L=new Ci(te,J);return L.subscribe.bind(L)}class Ci{constructor(J,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{J(this)}).catch(V=>{this.error(V)})}next(J){this.forEachObserver(L=>{L.next(J)})}error(J){this.forEachObserver(L=>{L.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,L,V){let N;if(void 0===J&&void 0===L&&void 0===V)throw new Error("Missing Observer.");N=function Xn(te,J){if("object"!=typeof te||null===te)return!1;for(const L of J)if(L in te&&"function"==typeof te[L])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:L,complete:V},void 0===N.next&&(N.next=Jn),void 0===N.error&&(N.error=Jn),void 0===N.complete&&(N.complete=Jn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),fe}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,J)}sendOne(J,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{L(this.observers[J])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const vi=1e3,pn=2,ci=144e5,on=.5;function ti(te,J=vi,L=pn){const V=J*Math.pow(L,te),N=Math.round(on*V*(Math.random()-.5)*2);return Math.min(ci,V+N)}function Mr(te){return te&&te._delegate?te._delegate:te}},4:(ce,K,S)=>{var c=S(2223);let B=null;function R(){return B}class Y{}const Q=new c.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ee)},providedIn:"platform"}),n})();const se=new c.OlP("Location Initialized");let ee=(()=>{class n extends oe{constructor(){super(),this._doc=(0,c.f3M)(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function G(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function z(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function q(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ke)},providedIn:"root"}),n})();const Ae=new c.OlP("appBaseHref");let Ke=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+q(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+q(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+q(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(Ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lt=(()=>{class n extends be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=G(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let l=this.prepareExternalUrl(r+q(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){let l=this.prepareExternalUrl(r+q(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oe),c.LFG(Ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Re(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(z(Be(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+q(i))}normalize(e){return n.stripTrailingSlash(function Le(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+q(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+q(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=q,n.joinWithSlash=G,n.stripTrailingSlash=z,n.\u0275fac=function(e){return new(e||n)(c.LFG(be))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ke(){return new we((0,c.LFG)(be))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),pt=(()=>((pt=pt||{})[pt.Short=0]="Short",pt[pt.Medium=1]="Medium",pt[pt.Long=2]="Long",pt[pt.Full=3]="Full",pt))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function ct(n,t){return Fn((0,c.cg1)(n)[c.wAp.DateFormat],t)}function et(n,t){return Fn((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function We(n,t){return Fn((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function yt(n,t){const e=(0,c.cg1)(n),i=e[c.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ut.CurrencyDecimal)return e[c.wAp.NumberSymbols][ut.Decimal];if(t===ut.CurrencyGroup)return e[c.wAp.NumberSymbols][ut.Group]}return i}function Cn(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ir(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Hn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,er={},Qn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var hn=(()=>((hn=hn||{})[hn.Short=0]="Short",hn[hn.ShortGMT=1]="ShortGMT",hn[hn.Long=2]="Long",hn[hn.Extended=3]="Extended",hn))(),Pt=(()=>((Pt=Pt||{})[Pt.FullYear=0]="FullYear",Pt[Pt.Month=1]="Month",Pt[Pt.Date=2]="Date",Pt[Pt.Hours=3]="Hours",Pt[Pt.Minutes=4]="Minutes",Pt[Pt.Seconds=5]="Seconds",Pt[Pt.FractionalSeconds=6]="FractionalSeconds",Pt[Pt.Day=7]="Day",Pt))(),mt=(()=>((mt=mt||{})[mt.DayPeriods=0]="DayPeriods",mt[mt.Days=1]="Days",mt[mt.Months=2]="Months",mt[mt.Eras=3]="Eras",mt))();function li(n,t,e,i){let r=function J(n){if(V(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,l=1]=n.split("-").map(f=>+f);return Ci(r,o-1,l)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Hn))return function L(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-e,f=Number(n[5]||0)-i,g=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,l,f,g,y),t}(i)}const t=new Date(n);if(!V(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=pr(e,t)||t;let f,l=[];for(;t;){if(f=Qn.exec(t),!f){l.push(t);break}{l=l.concat(f.slice(1));const E=l.pop();if(!E)break;t=E}}let g=r.getTimezoneOffset();i&&(g=Vi(i,g),r=function te(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Mr(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Vi(t,r)-r))}(r,i,!0));let y="";return l.forEach(E=>{const I=function Sr(n){if(ti[n])return ti[n];let t;switch(n){case"G":case"GG":case"GGG":t=Xt(mt.Eras,de.Abbreviated);break;case"GGGG":t=Xt(mt.Eras,de.Wide);break;case"GGGGG":t=Xt(mt.Eras,de.Narrow);break;case"y":t=An(Pt.FullYear,1,0,!1,!0);break;case"yy":t=An(Pt.FullYear,2,0,!0,!0);break;case"yyy":t=An(Pt.FullYear,3,0,!1,!0);break;case"yyyy":t=An(Pt.FullYear,4,0,!1,!0);break;case"Y":t=on(1);break;case"YY":t=on(2,!0);break;case"YYY":t=on(3);break;case"YYYY":t=on(4);break;case"M":case"L":t=An(Pt.Month,1,1);break;case"MM":case"LL":t=An(Pt.Month,2,1);break;case"MMM":t=Xt(mt.Months,de.Abbreviated);break;case"MMMM":t=Xt(mt.Months,de.Wide);break;case"MMMMM":t=Xt(mt.Months,de.Narrow);break;case"LLL":t=Xt(mt.Months,de.Abbreviated,Ue.Standalone);break;case"LLLL":t=Xt(mt.Months,de.Wide,Ue.Standalone);break;case"LLLLL":t=Xt(mt.Months,de.Narrow,Ue.Standalone);break;case"w":t=ci(1);break;case"ww":t=ci(2);break;case"W":t=ci(1,!0);break;case"d":t=An(Pt.Date,1);break;case"dd":t=An(Pt.Date,2);break;case"c":case"cc":t=An(Pt.Day,1);break;case"ccc":t=Xt(mt.Days,de.Abbreviated,Ue.Standalone);break;case"cccc":t=Xt(mt.Days,de.Wide,Ue.Standalone);break;case"ccccc":t=Xt(mt.Days,de.Narrow,Ue.Standalone);break;case"cccccc":t=Xt(mt.Days,de.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":t=Xt(mt.Days,de.Abbreviated);break;case"EEEE":t=Xt(mt.Days,de.Wide);break;case"EEEEE":t=Xt(mt.Days,de.Narrow);break;case"EEEEEE":t=Xt(mt.Days,de.Short);break;case"a":case"aa":case"aaa":t=Xt(mt.DayPeriods,de.Abbreviated);break;case"aaaa":t=Xt(mt.DayPeriods,de.Wide);break;case"aaaaa":t=Xt(mt.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":t=Xt(mt.DayPeriods,de.Abbreviated,Ue.Standalone,!0);break;case"bbbb":t=Xt(mt.DayPeriods,de.Wide,Ue.Standalone,!0);break;case"bbbbb":t=Xt(mt.DayPeriods,de.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xt(mt.DayPeriods,de.Abbreviated,Ue.Format,!0);break;case"BBBB":t=Xt(mt.DayPeriods,de.Wide,Ue.Format,!0);break;case"BBBBB":t=Xt(mt.DayPeriods,de.Narrow,Ue.Format,!0);break;case"h":t=An(Pt.Hours,1,-12);break;case"hh":t=An(Pt.Hours,2,-12);break;case"H":t=An(Pt.Hours,1);break;case"HH":t=An(Pt.Hours,2);break;case"m":t=An(Pt.Minutes,1);break;case"mm":t=An(Pt.Minutes,2);break;case"s":t=An(Pt.Seconds,1);break;case"ss":t=An(Pt.Seconds,2);break;case"S":t=An(Pt.FractionalSeconds,1);break;case"SS":t=An(Pt.FractionalSeconds,2);break;case"SSS":t=An(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=tr(hn.Short);break;case"ZZZZZ":t=tr(hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=tr(hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=tr(hn.Long);break;default:return null}return ti[n]=t,t}(E);y+=I?I(r,e,g):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Ci(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function pr(n,t){const e=function Wn(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(er[e]=er[e]||{},er[e][t])return er[e][t];let i="";switch(t){case"shortDate":i=ct(n,pt.Short);break;case"mediumDate":i=ct(n,pt.Medium);break;case"longDate":i=ct(n,pt.Long);break;case"fullDate":i=ct(n,pt.Full);break;case"shortTime":i=et(n,pt.Short);break;case"mediumTime":i=et(n,pt.Medium);break;case"longTime":i=et(n,pt.Long);break;case"fullTime":i=et(n,pt.Full);break;case"short":const r=pr(n,"shortTime"),o=pr(n,"shortDate");i=Xn(We(n,pt.Short),[r,o]);break;case"medium":const l=pr(n,"mediumTime"),f=pr(n,"mediumDate");i=Xn(We(n,pt.Medium),[l,f]);break;case"long":const g=pr(n,"longTime"),y=pr(n,"longDate");i=Xn(We(n,pt.Long),[g,y]);break;case"full":const E=pr(n,"fullTime"),I=pr(n,"fullDate");i=Xn(We(n,pt.Full),[E,I])}return i&&(er[e][t]=i),i}function Xn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Jn(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let l=String(n);for(;l.length<t;)l="0"+l;return i&&(l=l.slice(l.length-t)),o+l}function An(n,t,e=0,i=!1,r=!1){return function(o,l){let f=function Ar(n,t){switch(n){case Pt.FullYear:return t.getFullYear();case Pt.Month:return t.getMonth();case Pt.Date:return t.getDate();case Pt.Hours:return t.getHours();case Pt.Minutes:return t.getMinutes();case Pt.Seconds:return t.getSeconds();case Pt.FractionalSeconds:return t.getMilliseconds();case Pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||f>-e)&&(f+=e),n===Pt.Hours)0===f&&-12===e&&(f=12);else if(n===Pt.FractionalSeconds)return function Bi(n,t){return Jn(n,3).substring(0,t)}(f,t);const g=yt(l,ut.MinusSign);return Jn(f,t,g,i,r)}}function Xt(n,t,e=Ue.Format,i=!1){return function(r,o){return function mi(n,t,e,i,r,o){switch(e){case mt.Months:return function Te(n,t,e){const i=(0,c.cg1)(n),o=Fn([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],t);return Fn(o,e)}(t,r,i)[n.getMonth()];case mt.Days:return function io(n,t,e){const i=(0,c.cg1)(n),o=Fn([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],t);return Fn(o,e)}(t,r,i)[n.getDay()];case mt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(o){const y=function qn(n){const t=(0,c.cg1)(n);return Cn(t),(t[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ir(i):[Ir(i[0]),Ir(i[1])])}(t),E=function Li(n,t,e){const i=(0,c.cg1)(n);Cn(i);const o=Fn([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],t)||[];return Fn(o,e)||[]}(t,r,i),I=y.findIndex(U=>{if(Array.isArray(U)){const[W,X]=U,ae=l>=W.hours&&f>=W.minutes,le=l<X.hours||l===X.hours&&f<X.minutes;if(W.hours<X.hours){if(ae&&le)return!0}else if(ae||le)return!0}else if(U.hours===l&&U.minutes===f)return!0;return!1});if(-1!==I)return E[I]}return function ki(n,t,e){const i=(0,c.cg1)(n),o=Fn([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],t);return Fn(o,e)}(t,r,i)[l<12?0:1];case mt.Eras:return function Ve(n,t){return Fn((0,c.cg1)(n)[c.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function tr(n){return function(t,e,i){const r=-1*i,o=yt(e,ut.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case hn.Short:return(r>=0?"+":"")+Jn(l,2,o)+Jn(Math.abs(r%60),2,o);case hn.ShortGMT:return"GMT"+(r>=0?"+":"")+Jn(l,1,o);case hn.Long:return"GMT"+(r>=0?"+":"")+Jn(l,2,o)+":"+Jn(Math.abs(r%60),2,o);case hn.Extended:return 0===i?"Z":(r>=0?"+":"")+Jn(l,2,o)+":"+Jn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const To=0,ei=4;function pn(n){return Ci(n.getFullYear(),n.getMonth(),n.getDate()+(ei-n.getDay()))}function ci(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();r=1+Math.floor((l+o)/7)}else{const o=pn(e),l=function vi(n){const t=Ci(n,To,1).getDay();return Ci(n,0,1+(t<=ei?ei:ei+7)-t)}(o.getFullYear()),f=o.getTime()-l.getTime();r=1+Math.round(f/6048e5)}return Jn(r,n,yt(i,ut.MinusSign))}}function on(n,t=!1){return function(e,i){return Jn(pn(e).getFullYear(),n,yt(i,ut.MinusSign),t)}}const ti={};function Vi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function V(n){return n instanceof Date&&!isNaN(n.valueOf())}const Xs=/\s+/,Hc=[];let Ko=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Hc,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Xs):Hc}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Xs):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Xs).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class zc{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let As=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zc(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const f=i.get(o);i.move(f,l),gi(f,r)}});for(let r=0,o=i.length;r<o;r++){const f=i.get(r).context;f.index=r,f.count=o,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{gi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gi(n,t){n.context.$implicit=t.item}let br=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Qp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qp{constructor(){this.$implicit=null,this.ngIf=null}}function Bl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Ja{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let so=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Js=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ja(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(so,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ji=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();const Dn=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rn=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let gs=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return li(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function zn(n,t){return new c.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(Dn,24),c.Y36(Rn,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ul="browser";function ks(n){return"server"===n}let _s=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Hi((0,c.LFG)(Q),window)}),n})();class Hi{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=dd(this.window.history)||dd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ql extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xd extends Ql{static makeCurrent(){!function ne(n){B||(B=n)}(new xd)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function am(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}();return null==e?null:function Td(n){ou=ou||document.createElement("a"),ou.setAttribute("href",n);const t=ou.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Qs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ou,Qo=null,Id=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sf=new c.OlP("EventManagerPlugins");let Kt=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(sf),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(t){this._doc=t}}const au="ng-app-id";let bs=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ks(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${au}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(au),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(au,this.appId),l}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,l=o.get(i)?.elements;l?l.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jl=/%COMP%/g,cm=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ye(n,t){return t.map(e=>e.replace(Jl,n))}let fn=(()=>{class n{constructor(e,i,r,o,l,f,g,y=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.doc=l,this.platformId=f,this.ngZone=g,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=ks(f),this.defaultRenderer=new tc(e,l,g,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof nc?r.applyToHost(e):r instanceof uo&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.doc,f=this.ngZone,g=this.eventManager,y=this.sharedStylesHost,E=this.removeStylesOnCompDestory,I=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:o=new nc(g,y,i,this.appId,E,l,f,I);break;case c.ifc.ShadowDom:return new ol(g,y,e,i,l,f,this.nonce,I);default:o=new uo(g,y,i,E,l,f,I)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Kt),c.LFG(bs),c.LFG(c.AFp),c.LFG(cm),c.LFG(Q),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class tc{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Xl[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(cu(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(cu(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new c.vHH(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Xl[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Xl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=R().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function cu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ol extends tc{constructor(t,e,i,r,o,l,f,g){super(t,o,l,g),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=Ye(r.id,r.styles);for(const E of y){const I=document.createElement("style");f&&I.setAttribute("nonce",f),I.textContent=E,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uo extends tc{constructor(t,e,i,r,o,l,f,g){super(t,o,l,f),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=g?Ye(g,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class nc extends uo{constructor(t,e,i,r,o,l,f,g){const y=r+"-"+i.id;super(t,e,i,o,l,f,g,y),this.contentAttr=function Sd(n){return"_ngcontent-%COMP%".replace(Jl,n)}(y),this.hostAttr=function ec(n){return"_nghost-%COMP%".replace(Jl,n)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let ic=(()=>{class n extends su{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const um=["alt","control","meta","shift"],Gb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},la={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gr=(()=>{class n extends su{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),um.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),l+=y+".")}),l+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=l,g}static matchEventFullKeyCode(e,i){let r=Gb[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),um.forEach(l=>{l!==r&&(0,la[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Od=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ul},{provide:c.g9A,useValue:function Md(){xd.makeCurrent()},multi:!0},{provide:Q,useFactory:function kd(){return(0,c.RDi)(document),document},deps:[]}]),$i=new c.OlP(""),du=[{provide:c.rWj,useClass:class lm{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new c.vHH(5103,!1);return o},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const f=function(g){l=l||g,o--,0==o&&i(l)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ns=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function lf(){return new c.qLn},deps:[]},{provide:sf,useClass:ic,multi:!0,deps:[Q,c.R0b,c.Lbi]},{provide:sf,useClass:Gr,multi:!0,deps:[Q]},fn,bs,Kt,{provide:c.FYo,useExisting:fn},{provide:class hd{},useClass:Id,deps:[]},[]];let rc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($i,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Ns,...du],imports:[mr,c.hGG]}),n})(),Rd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function sl(){return new Rd((0,c.LFG)(Q))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var ho=(()=>((ho=ho||{}).FULL="dd.MM.yyyy, HH:mm",ho.DATE="dd.MM.yyyy",ho.TIME="HH:mm",ho))(),Er=(()=>((Er=Er||{})[Er.ALL=0]="ALL",Er[Er.ACTIVE=1]="ACTIVE",Er[Er.COMPLETED=2]="COMPLETED",Er))();let mu=(()=>{class n{constructor(e){this.angularDatePipe=e}transform(e){if(!e)return"";const i=e.toDate();return this.angularDatePipe.transform(i,ho.FULL)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(gs,16))},n.\u0275pipe=c.Yjl({name:"formatDate",type:n,pure:!0}),n})(),gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gs,mu],imports:[mr]}),n})();var ln=S(8784),fo=S(6451),Gi=S(9751),cn=S(7579),cr=S(4482),Wi=S(5403),Jo=S(5032),gr=S(515),Ft=S(9646),Wr=S(576);function es(n,t){const e=(0,Wr.m)(n)?n:()=>n,i=r=>r.error(e());return new Gi.y(t?r=>t.schedule(i,0,r):i)}class ws{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return qr(this,t)}do(t,e,i){const{kind:r,value:o,error:l}=this;return"N"===r?t?.(o):"E"===r?e?.(l):i?.()}accept(t,e,i){var r;return(0,Wr.m)(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,r="N"===t?(0,Ft.of)(e):"E"===t?es(()=>i):"C"===t?gr.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${t}`);return r}static createNext(t){return new ws("N",t)}static createError(t){return new ws("E",void 0,t)}static createComplete(){return ws.completeNotification}}function qr(n,t){var e,i,r;const{kind:o,value:l,error:f}=n;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(e=t.next)||void 0===e||e.call(t,l):"E"===o?null===(i=t.error)||void 0===i||i.call(t,f):null===(r=t.complete)||void 0===r||r.call(t)}ws.completeNotification=new ws("C");var Zt=S(4004),ns=S(262),bi=S(9300),ua=S(8421);function ac(n,t,e,i){return(0,cr.e)((r,o)=>{let l;t&&"function"!=typeof t?({duration:e,element:l,connector:i}=t):l=t;const f=new Map,g=X=>{f.forEach(X),X(o)},y=X=>g(ae=>ae.error(X));let E=0,I=!1;const U=new Wi.Q(o,X=>{try{const ae=n(X);let le=f.get(ae);if(!le){f.set(ae,le=i?i():new cn.x);const _e=function W(X,ae){const le=new Gi.y(_e=>{E++;const xe=ae.subscribe(_e);return()=>{xe.unsubscribe(),0==--E&&I&&U.unsubscribe()}});return le.key=X,le}(ae,le);if(o.next(_e),e){const xe=(0,Wi.x)(le,()=>{le.complete(),xe?.unsubscribe()},void 0,void 0,()=>f.delete(ae));U.add((0,ua.Xf)(e(_e)).subscribe(xe))}}le.next(l?l(X):X)}catch(ae){y(ae)}},()=>g(X=>X.complete()),y,()=>f.clear(),()=>(I=!0,0===E));r.subscribe(U)})}var qi=S(5577);function Bs(n,t){return t?e=>e.pipe(Bs((i,r)=>(0,ua.Xf)(n(i,r)).pipe((0,Zt.U)((o,l)=>t(i,o,r,l))))):(0,cr.e)((e,i)=>{let r=0,o=null,l=!1;e.subscribe((0,Wi.x)(i,f=>{o||(o=(0,Wi.x)(i,void 0,()=>{o=null,l&&i.complete()}),(0,ua.Xf)(n(f,r++)).subscribe(o))},()=>{l=!0,!o&&i.complete()}))})}var Pr=S(5698);const da={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},is="__@ngrx/effects_create__";function lc(n,t={}){const e=t.functional?n:n(),i={...da,...t};return Object.defineProperty(e,is,{value:i}),e}function _f(n){return Object.getPrototypeOf(n)}function ul(n){return"function"==typeof n}function cc(n){return n.filter(ul)}function Vd(n,t,e){const i=_f(n).constructor.name,r=function ha(n){return function gm(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(is))&&n[i][is].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][is]}))}(n)}(n).map(({propertyName:o,dispatch:l,useEffectsErrorHandler:f})=>{const g="function"==typeof n[o]?n[o]():n[o],y=f?e(g,t):g;return!1===l?y.pipe(function cl(){return(0,cr.e)((n,t)=>{n.subscribe((0,Wi.x)(t,Jo.Z))})}()):y.pipe(function Ma(){return(0,cr.e)((n,t)=>{n.subscribe((0,Wi.x)(t,e=>{t.next(ws.createNext(e))},()=>{t.next(ws.createComplete()),t.complete()},e=>{t.next(ws.createError(e)),t.complete()}))})}()).pipe((0,Zt.U)(I=>({effect:n[o],notification:I,propertyName:o,sourceName:i,sourceInstance:n})))});return(0,fo.T)(...r)}function ka(n,t,e=10){return n.pipe((0,ns.K)(i=>(t&&t.handleError(i),e<=1?n:ka(n,t,e-1))))}let dl=(()=>{class n extends Gi.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ln.Y$))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Oa(...n){return(0,bi.h)(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}const hl=new c.OlP("@ngrx/effects Internal Root Guard"),po=new c.OlP("@ngrx/effects User Provided Effects"),fl=new c.OlP("@ngrx/effects Internal Root Effects"),pl=new c.OlP("@ngrx/effects Internal Root Effects Instances"),_u=new c.OlP("@ngrx/effects Internal Feature Effects"),uc=new c.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),yf=new c.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ka}),vm="@ngrx/effects/init";(0,ln.PH)(vm);function rs(n){return vu(n,"ngrxOnInitEffects")}function vu(n,t){return n&&t in n&&"function"==typeof n[t]}let fc=(()=>{class n extends cn.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(ac(e=>function Bd(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(e)?_f(e):e),(0,qi.z)(e=>e.pipe(ac(Us))),(0,qi.z)(e=>{const i=e.pipe(Bs(o=>function wm(n,t){return e=>{const i=Vd(e,n,t);return function Vs(n){return vu(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(o)),(0,Zt.U)(o=>(function A_(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function dc(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function ym({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return`"${e}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Ra(n){try{return JSON.stringify(n)}catch{return n}}(e)}`))}}(o,this.errorHandler),o.notification)),(0,bi.h)(o=>"N"===o.kind&&null!=o.value),function mm(){return(0,cr.e)((n,t)=>{n.subscribe((0,Wi.x)(t,e=>qr(e,t)))})}()),r=e.pipe((0,Pr.q)(1),(0,bi.h)(rs),(0,Zt.U)(o=>o.ngrxOnInitEffects()));return(0,fo.T)(i,r)}))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.qLn),c.LFG(yf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Us(n){return function bm(n){return vu(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let bf=(()=>{class n{get isStarted(){return!!this.effectsSubscription}constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fc),c.LFG(ln.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dm=(()=>{class n{constructor(e,i,r,o,l,f,g){this.sources=e,i.start();for(const y of o)e.addEffects(y);r.dispatch({type:vm})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(fc),c.LFG(bf),c.LFG(ln.yh),c.LFG(pl),c.LFG(ln.cr,8),c.LFG(ln.CK,8),c.LFG(hl,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),D=(()=>{class n{constructor(e,i,r,o){const l=i.flat();for(const f of l)e.addEffects(f)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Dm),c.LFG(uc),c.LFG(ln.cr,8),c.LFG(ln.CK,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),T=(()=>{class n{static forFeature(...e){const i=e.flat(),r=cc(i);return{ngModule:D,providers:[r,{provide:_u,multi:!0,useValue:i},{provide:po,multi:!0,useValue:[]},{provide:uc,multi:!0,useFactory:O,deps:[_u,po]}]}}static forRoot(...e){const i=e.flat(),r=cc(i);return{ngModule:Dm,providers:[r,{provide:fl,useValue:[i]},{provide:hl,useFactory:j},{provide:po,multi:!0,useValue:[]},{provide:pl,useFactory:O,deps:[fl,po]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function O(n,t){const e=[];for(const i of n)e.push(...i);for(const i of t)e.push(...i);return e.map(i=>function vf(n){return n instanceof c.OlP||ul(n)}(i)?(0,c.f3M)(i):i)}function j(){const n=(0,c.f3M)(bf,{optional:!0,skipSelf:!0}),t=(0,c.f3M)(fl,{self:!0});if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var _t=S(5366),it=(()=>((it=it||{})[it.EntitiesOnly=0]="EntitiesOnly",it[it.Both=1]="Both",it[it.None=2]="None",it))();function _n(n){return function(e,i){const r={ids:[...i.ids],entities:{...i.entities}},o=n(e,r);return o===it.Both?Object.assign({},i,r):o===it.EntitiesOnly?{...i,entities:r.entities}:i}}function $n(n,t){const e=t(n);return(0,c.X6Q)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function ml(n){function t(le,_e){const xe=$n(le,n);return xe in _e.entities?it.None:(_e.ids.push(xe),_e.entities[xe]=le,it.Both)}function e(le,_e){let xe=!1;for(const Ee of le)xe=t(Ee,_e)!==it.None||xe;return xe?it.Both:it.None}function r(le,_e){const xe=$n(le,n);return xe in _e.entities?(_e.entities[xe]=le,it.EntitiesOnly):(_e.ids.push(xe),_e.entities[xe]=le,it.Both)}function f(le,_e){const Ee=(le instanceof Array?le:_e.ids.filter(He=>le(_e.entities[He]))).filter(He=>He in _e.entities).map(He=>delete _e.entities[He]).length>0;return Ee&&(_e.ids=_e.ids.filter(He=>He in _e.entities)),Ee?it.Both:it.None}function E(le,_e){return I([le],_e)}function I(le,_e){const xe={};return(le=le.filter(He=>He.id in _e.entities)).length>0?le.filter(st=>function y(le,_e,xe){const He=Object.assign({},xe.entities[_e.id],_e.changes),st=$n(He,n),dt=st!==_e.id;return dt&&(le[_e.id]=st,delete xe.entities[_e.id]),xe.entities[st]=He,dt}(xe,st,_e)).length>0?(_e.ids=_e.ids.map(st=>xe[st]||st),it.Both):it.EntitiesOnly:it.None}function ae(le,_e){const xe=[],Ee=[];for(const dt of le){const Lt=$n(dt,n);Lt in _e.entities?Ee.push({id:Lt,changes:dt}):xe.push(dt)}const He=I(Ee,_e),st=e(xe,_e);switch(!0){case st===it.None&&He===it.None:return it.None;case st===it.Both||He===it.Both:return it.Both;default:return it.EntitiesOnly}}return{removeAll:function g(le){return Object.assign({},le,{ids:[],entities:{}})},addOne:_n(t),addMany:_n(e),setAll:_n(function i(le,_e){return _e.ids=[],_e.entities={},e(le,_e),it.Both}),setOne:_n(r),setMany:_n(function o(le,_e){const xe=le.map(Ee=>r(Ee,_e));switch(!0){case xe.some(Ee=>Ee===it.Both):return it.Both;case xe.some(Ee=>Ee===it.EntitiesOnly):return it.EntitiesOnly;default:return it.None}}),updateOne:_n(E),updateMany:_n(I),upsertOne:_n(function X(le,_e){return ae([le],_e)}),upsertMany:_n(ae),removeOne:_n(function l(le,_e){return f([le],_e)}),removeMany:_n(f),map:_n(function U(le,_e){return I(_e.ids.reduce((He,st)=>{const dt=le(_e.entities[st]);return dt!==_e.entities[st]&&He.push({id:st,changes:dt}),He},[]).filter(({id:He})=>He in _e.entities),_e)}),mapOne:_n(function W({map:le,id:_e},xe){const Ee=xe.entities[_e];return Ee?E({id:_e,changes:le(Ee)},xe):it.None})}}function gl(n,t){const{removeOne:e,removeMany:i,removeAll:r}=ml(n);function o(xe,Ee){return l([xe],Ee)}function l(xe,Ee){const He=xe.filter(st=>!($n(st,n)in Ee.entities));return 0===He.length?it.None:(_e(He,Ee),it.Both)}function g(xe,Ee){const He=$n(xe,n);return He in Ee.entities?(Ee.ids=Ee.ids.filter(st=>st!==He),_e([xe],Ee),it.Both):o(xe,Ee)}function E(xe,Ee){return U([xe],Ee)}function U(xe,Ee){const He=[],st=xe.filter(dt=>function I(xe,Ee,He){if(!(Ee.id in He.entities))return!1;const dt=Object.assign({},He.entities[Ee.id],Ee.changes),Lt=$n(dt,n);return delete He.entities[Ee.id],xe.push(dt),Lt!==Ee.id}(He,dt,Ee)).length>0;if(0===He.length)return it.None;{const dt=Ee.ids,Lt=[];return Ee.ids=Ee.ids.filter((Tn,Di)=>Tn in Ee.entities||(Lt.push(Di),!1)),_e(He,Ee),!st&&Lt.every(Tn=>Ee.ids[Tn]===dt[Tn])?it.EntitiesOnly:it.Both}}function le(xe,Ee){const He=[],st=[];for(const Tn of xe){const Di=$n(Tn,n);Di in Ee.entities?st.push({id:Di,changes:Tn}):He.push(Tn)}const dt=U(st,Ee),Lt=l(He,Ee);switch(!0){case Lt===it.None&&dt===it.None:return it.None;case Lt===it.Both||dt===it.Both:return it.Both;default:return it.EntitiesOnly}}function _e(xe,Ee){xe.sort(t);const He=[];let st=0,dt=0;for(;st<xe.length&&dt<Ee.ids.length;){const Lt=xe[st],Tn=$n(Lt,n),Di=Ee.ids[dt];t(Lt,Ee.entities[Di])<=0?(He.push(Tn),st++):(He.push(Di),dt++)}Ee.ids=He.concat(st<xe.length?xe.slice(st).map(n):Ee.ids.slice(dt)),xe.forEach((Lt,Tn)=>{Ee.entities[n(Lt)]=Lt})}return{removeOne:e,removeMany:i,removeAll:r,addOne:_n(o),updateOne:_n(E),upsertOne:_n(function ae(xe,Ee){return le([xe],Ee)}),setAll:_n(function f(xe,Ee){return Ee.entities={},Ee.ids=[],l(xe,Ee),it.Both}),setOne:_n(g),setMany:_n(function y(xe,Ee){const He=xe.map(st=>g(st,Ee));switch(!0){case He.some(st=>st===it.Both):return it.Both;case He.some(st=>st===it.EntitiesOnly):return it.EntitiesOnly;default:return it.None}}),addMany:_n(l),updateMany:_n(U),upsertMany:_n(le),map:_n(function W(xe,Ee){return U(Ee.ids.reduce((st,dt)=>{const Lt=xe(Ee.entities[dt]);return Lt!==Ee.entities[dt]&&st.push({id:dt,changes:Lt}),st},[]),Ee)}),mapOne:_n(function X({map:xe,id:Ee},He){const st=He.entities[Ee];return st?E({id:Ee,changes:xe(st)},He):it.None})}}const os=(0,ln.PH)("[AUTH] sign in with google request action"),yu=(0,ln.PH)("[AUTH] sign in with google response action",(0,ln.Ky)()),bu=(0,ln.PH)("[AUTH] google auth state changed action",(0,ln.Ky)()),wu=(0,ln.PH)("[AUTH] sign out with google action"),wf=(0,ln.PH)("[TODO] fetch todo lists request action",(0,ln.Ky)()),S_=(0,ln.PH)("[TODO] fetch todo lists response action",(0,ln.Ky)()),Df=(0,ln.PH)("[TODO] modify todo list request action",(0,ln.Ky)()),Du=(0,ln.PH)("[TODO] modify todo list response action"),Cf=function pc(n={}){const{selectId:t,sortComparer:e}={selectId:n.selectId??(l=>l.id),sortComparer:n.sortComparer??!1},i=function Rt(){return{getInitialState:function n(t={}){return Object.assign({ids:[],entities:{}},t)}}}(),r=function tn(){return{getSelectors:function n(t){const e=l=>l.ids,i=l=>l.entities,r=(0,ln.P1)(e,i,(l,f)=>l.map(g=>f[g])),o=(0,ln.P1)(e,l=>l.length);return t?{selectIds:(0,ln.P1)(t,e),selectEntities:(0,ln.P1)(t,i),selectAll:(0,ln.P1)(t,r),selectTotal:(0,ln.P1)(t,o)}:{selectIds:e,selectEntities:i,selectAll:r,selectTotal:o}}}}();return{selectId:t,sortComparer:e,...i,...r,...e?gl(t,e):ml(t)}}().getInitialState({}),Wb=(0,ln.Lq)(Cf,(0,ln.on)(yu,(n,{user:t})=>({...n,googleSignedInUser:t})),(0,ln.on)(bu,(n,{user:t})=>({...n,googleSignedInUser:{...n.googleSignedInUser,user:t}})),(0,ln.on)(wu,n=>({...Cf})),(0,ln.on)(S_,(n,{todoLists:t})=>({...n,todoLists:t})));var ri=S(8996),M_=S(1389),Pn=S(2090),mc=S(6881),_l=S(1877),Ef=S(4859),Cu=S(4986),Fr=S(8405),Eu=S(8189),Em=S(3269);function b(...n){return function k_(){return(0,Eu.J)(1)}()((0,ri.D)(n,(0,Em.yG)(n)))}function m(...n){const t=(0,Em.yG)(n);return(0,cr.e)((e,i)=>{(t?b(n,e,t):b(n,e)).subscribe(i)})}function _(){return(0,cr.e)((n,t)=>{let e,i=!1;n.subscribe((0,Wi.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var Qe,C=S(5026),k=S(1884),F=S(2011),Ie=(S(9568),S(3942)),ie=S(9671),Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},mo=mo||{},qt=Ct||self;function pa(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function vl(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Ud="closure_uid_"+(1e9*Math.random()>>>0),xm=0;function yl(n,t,e){return n.call.apply(n.bind,arguments)}function Tm(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ur(n,t,e){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yl:Tm).apply(null,arguments)}function Pa(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function oi(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return t.prototype[r].apply(i,l)}}function bl(){this.s=this.s,this.o=this.o}bl.prototype.s=!1,bl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xf(n){Object.prototype.hasOwnProperty.call(n,Ud)&&n[Ud]||(n[Ud]=++xm)}(this)},bl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O_=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function R_(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function P_(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(pa(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let l=0;l<o;l++)n[r+l]=i[l]}else n.push(i)}}function Oo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Oo.prototype.h=function(){this.defaultPrevented=!0};var yS=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",()=>{},t),qt.removeEventListener("test",()=>{},t)}catch{}return n}();function Am(n){return/^[\s\xa0]*$/.test(n)}function Sm(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function wl(n){return-1!=Sm().indexOf(n)}function qb(n){return qb[" "](n),n}qb[" "]=function(){};var Zb,n,Yb=wl("Opera"),jd=wl("Trident")||wl("MSIE"),N_=wl("Edge"),Yr=N_||jd,Tf=wl("Gecko")&&!(-1!=Sm().toLowerCase().indexOf("webkit")&&!wl("Edge"))&&!(wl("Trident")||wl("MSIE"))&&!wl("Edge"),sE=-1!=Sm().toLowerCase().indexOf("webkit")&&!wl("Edge");function Kb(){var n=qt.document;return n?n.documentMode:void 0}e:{var F_="",Qb=(n=Sm(),Tf?/rv:([^\);]+)(\)|;)/.exec(n):N_?/Edge\/([\d\.]+)/.exec(n):jd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sE?/WebKit\/(\S+)/.exec(n):Yb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Qb&&(F_=Qb?Qb[1]:""),jd){var L_=Kb();if(null!=L_&&L_>parseFloat(F_)){Zb=String(L_);break e}}Zb=F_}var bS=qt.document&&jd&&(Kb()||parseInt(Zb,10))||void 0;function Mm(n,t){if(Oo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Tf){e:{try{qb(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:e0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mm.$.h.call(this)}}oi(Mm,Oo);var e0={2:"touch",3:"pen",4:"mouse"};Mm.prototype.h=function(){Mm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),wS=0;function km(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++wS,this.fa=this.ia=!1}function B_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function t0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function V_(n){const t={};for(const e in n)t[e]=n[e];return t}const r0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zd(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<r0.length;o++)e=r0[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $d(n){this.src=n,this.g={},this.h=0}function U_(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=O_(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(B_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Om(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}$d.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=Om(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new km(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var If="closure_lm_"+(1e6*Math.random()|0),o0={};function aE(n,t,e,i,r){if(i&&i.once)return cE(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)aE(n,t[o],e,i,r);return null}return e=a0(e),n&&n[Hd]?n.O(t,e,vl(i)?!!i.capture:!!i,r):lE(n,t,e,!1,i,r)}function lE(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var l=vl(r)?!!r.capture:!!r,f=Rm(n);if(f||(n[If]=f=new $d(n)),(e=f.add(t,e,i,l,o)).proxy)return e;if(i=function DS(){const t=dE;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yS||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(H_(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function cE(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)cE(n,t[o],e,i,r);return null}return e=a0(e),n&&n[Hd]?n.P(t,e,vl(i)?!!i.capture:!!i,r):lE(n,t,e,!0,i,r)}function uE(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)uE(n,t[o],e,i,r);else i=vl(i)?!!i.capture:!!i,e=a0(e),n&&n[Hd]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Om(o=n.g[t],e,i,r))&&(B_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Rm(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Om(t,e,i,r)),(e=-1<n?t[n]:null)&&j_(e))}function j_(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Hd])U_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(H_(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Rm(t))?(U_(e,n),0==e.h&&(e.src=null,t[If]=null)):B_(n)}}}function H_(n){return n in o0?o0[n]:o0[n]="on"+n}function dE(n,t){if(n.fa)n=!0;else{t=new Mm(t,this);var e=n.listener,i=n.la||n.src;n.ia&&j_(n),n=e.call(i,t)}return n}function Rm(n){return(n=n[If])instanceof $d?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function a0(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(t){return n.handleEvent(t)}),n[s0])}function xr(){bl.call(this),this.i=new $d(this),this.S=this,this.J=null}function Kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Oo(t,n);else if(t instanceof Oo)t.target=t.target||n;else{var r=t;zd(t=new Oo(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.g=e[o];r=Dl(l,i,!0,t)&&r}if(r=Dl(l=t.g=n,i,!0,t)&&r,r=Dl(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Dl(l=t.g=e[o],i,!1,t)&&r}function Dl(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==e){var f=l.listener,g=l.la||l.src;l.ia&&U_(n.i,l),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}oi(xr,bl),xr.prototype[Hd]=!0,xr.prototype.removeEventListener=function(n,t,e,i){uE(this,n,t,e,i)},xr.prototype.N=function(){if(xr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)B_(e[i]);delete n.g[t],n.h--}}this.J=null},xr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},xr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var z_=qt.JSON.stringify;function CS(){var n=$_;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Pm=new class hE{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ES,n=>n.reset());class ES{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function fE(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function pE(n){qt.setTimeout(()=>{throw n},0)}let Af,Gd=!1,$_=new class uP{constructor(){this.h=this.g=null}add(t,e){const i=Pm.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},Nm=()=>{const n=qt.Promise.resolve(void 0);Af=()=>{n.then(Fm)}};var Fm=()=>{for(var n;n=CS();){try{n.h.call(n.g)}catch(e){pE(e)}var t=Pm;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Gd=!1};function Lm(n,t){xr.call(this),this.h=n||1,this.g=t||qt,this.j=ur(this.qb,this),this.l=Date.now()}function Bm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Sf(n,t,e){if("function"==typeof n)e&&(n=ur(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ur(n.handleEvent,n)}return 2147483647<Number(t)?-1:qt.setTimeout(n,t||0)}function l0(n){n.g=Sf(()=>{n.g=null,n.i&&(n.i=!1,l0(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}oi(Lm,xr),(Qe=Lm.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(Bm(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Lm.$.N.call(this),Bm(this),delete this.g};class c0 extends bl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:l0(this)}N(){super.N(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gc(n){bl.call(this),this.h=n,this.g={}}oi(gc,bl);var mE=[];function u0(n,t,e,i){Array.isArray(e)||(e&&(mE[0]=e.toString()),e=mE);for(var r=0;r<e.length;r++){var o=aE(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function gE(n){t0(n.g,function(t,e){this.g.hasOwnProperty(e)&&j_(t)},n),n.g={}}function G_(){this.g=!0}function Wd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function d0(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<r.length;l++)r[l]=""}}}return z_(e)}catch{return t}}(n,e)+(i?" "+i:"")})}gc.prototype.N=function(){gc.$.N.call(this),gE(this)},gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},G_.prototype.Ea=function(){this.g=!1},G_.prototype.info=function(){};var ma={},vE=null;function q_(){return vE=vE||new xr}function TS(n){Oo.call(this,ma.Ta,n)}function Vm(n){const t=q_();Kr(t,new TS(t))}function Y_(n,t){Oo.call(this,ma.STAT_EVENT,n),this.stat=t}function ss(n){const t=q_();Kr(t,new Y_(t,n))}function Mf(n,t){Oo.call(this,ma.Ua,n),this.size=t}function xu(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},t)}ma.Ta="serverreachability",oi(TS,Oo),ma.STAT_EVENT="statevent",oi(Y_,Oo),ma.Ua="timingevent",oi(Mf,Oo);var kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function K_(){}function p0(){}K_.prototype.h=null;var _0,Um={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function m0(){Oo.call(this,"d")}function g0(){Oo.call(this,"c")}function Z_(){}function ga(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new gc(this),this.P=IS,this.V=new Lm(n=Yr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Of}function Of(){this.i=null,this.g="",this.h=!1}oi(m0,Oo),oi(g0,Oo),oi(Z_,K_),Z_.prototype.g=function(){return new XMLHttpRequest},Z_.prototype.i=function(){return{}},_0=new Z_;var IS=45e3,yE={},v0={};function bE(n,t,e){n.L=1,n.v=X_(Na(t)),n.s=e,n.S=!0,AS(n,null)}function AS(n,t){n.G=Date.now(),jm(n),n.A=Na(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),E0(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Of,n.g=uv(n.l,e?t:null,!n.s),0<n.O&&(n.M=new c0(ur(n.Pa,n,n.g),n.O)),u0(n.U,n.g,"readystatechange",n.nb),t=n.I?V_(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Vm(),function xS(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var l="",f=o.split("&"),g=0;g<f.length;g++){var y=f[g].split("=");if(1<y.length){var E=y[0];y=y[1];var I=E.split("_");l=2<=I.length&&"type"==I[1]?l+(E+"=")+y+"&":l+(E+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function SS(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function y0(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=MS(n,e),r==v0){4==t&&(n.o=4,ss(14),i=!1),Wd(n.j,n.m,null,"[Incomplete Response]");break}if(r==yE){n.o=4,ss(15),Wd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Wd(n.j,n.m,r,null),Yd(n,r)}SS(n)&&r!=v0&&r!=yE&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ss(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),LE(t),t.M=!0,ss(11))):(Wd(n.j,n.m,e,"[Invalid Chunked Response]"),as(n),qd(n))}function MS(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?v0:(e=Number(t.substring(e,i)),isNaN(e)?yE:(i+=1)+e>t.length?v0:(t=t.slice(i,i+e),n.C=i+e,t))}function jm(n){n.Y=Date.now()+n.P,wE(n,n.P)}function wE(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xu(ur(n.lb,n),t)}function Q_(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function qd(n){0==n.l.H||n.J||BE(n.l,n)}function as(n){Q_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,Bm(n.V),gE(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Yd(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Kd(e.i,n)))if(!n.K&&Kd(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Qd(e),Vf(e)}k0(e),ss(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=xu(ur(e.ib,e),6e3));if(1>=VS(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else _c(e,11)}else if((n.K||e.g==n)&&Qd(e),!Am(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.V=y[0],y=y[1],2==e.H)if("c"==y[0]){e.K=y[1],e.pa=y[2];const E=y[3];null!=E&&(e.ra=E,e.l.info("VER="+e.ra));const I=y[4];null!=I&&(e.Ga=I,e.l.info("SVER="+e.Ga));const U=y[5];null!=U&&"number"==typeof U&&0<U&&(e.L=i=1.5*U,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const W=n.g;if(W){const X=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var o=i.i;o.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Vn(o,o.h),o.h=null))}if(i.F){const ae=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(i.Da=ae,Ii(i.I,i.F,ae))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=cv(i,i.J?i.pa:null,i.Y),l.K){Ff(i.i,l);var f=l,g=i.L;g&&f.setTimeout(g),f.B&&(Q_(f),jm(f)),i.g=l}else FE(i);0<e.j.length&&ov(e)}else"stop"!=y[0]&&"close"!=y[0]||_c(e,7);else 3==e.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?_c(e,7):S0(e):"noop"!=y[0]&&e.h&&e.h.Aa(y),e.A=0)}Vm()}catch{}}function b0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(pa(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function CE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pa(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function DE(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pa(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Qe=ga.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const t=this.M;t&&3==_a(n)?t.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const E=_a(this.g);var t=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||Yr||this.g&&(this.h.h||this.g.ja()||OE(this.g)))){this.J||4!=E||7==t||Vm(),Q_(this);var e=this.g.da();this.ca=e;t:if(SS(this)){var i=OE(this.g);n="";var r=i.length,o=4==_a(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){as(this),qd(this);var l="";break t}this.h.i=new qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function _E(n,t,e,i,r,o,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,E,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Am(f)){var y=f;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,ss(12),as(this),qd(this);break e}Wd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yd(this,e)}this.S?(y0(this,E,l),Yr&&this.i&&3==E&&(u0(this.U,this.V,"tick",this.mb),this.V.start())):(Wd(this.j,this.m,l,null),Yd(this,l)),4==E&&as(this),this.i&&!this.J&&(4==E?BE(this.l,this):(this.i=!1,jm(this)))}else(function HS(n){const t={};n=(n.g&&2<=_a(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Am(n[i]))continue;var e=fE(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function n0(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,ss(12)):(this.o=0,ss(13)),as(this),qd(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=_a(this.g),t=this.g.ja();this.C<t.length&&(Q_(this),y0(this,n,t),this.i&&4!=n&&jm(this))}},Qe.cancel=function(){this.J=!0,as(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function W_(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Vm(),ss(17)),as(this),this.o=2,qd(this)):wE(this,this.Y-n)};var kS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rf){this.h=n.h,Pf(this,n.j),this.s=n.s,this.g=n.g,w0(this,n.m),this.l=n.l;var t=n.i,e=new Ki;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),OS(this,e),this.o=n.o}else n&&(t=String(n).match(kS))?(this.h=!1,Pf(this,t[1]||"",!0),this.s=Hm(t[2]||""),this.g=Hm(t[3]||"",!0),w0(this,t[4]),this.l=Hm(t[5]||"",!0),OS(this,t[6]||"",!0),this.o=Hm(t[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}function Na(n){return new Rf(n)}function Pf(n,t,e){n.j=e?Hm(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function w0(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function OS(n,t,e){t instanceof Ki?(n.i=t,function FS(n,t){t&&!n.j&&(Tu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(EE(this,i),E0(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=zm(t,C0)),n.i=new Ki(t,n.h))}function Ii(n,t,e){n.i.set(t,e)}function X_(n){return Ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hm(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zm(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,RS),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(zm(t,D0,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(zm(t,D0,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(zm(e,"/"==e.charAt(0)?PS:J_,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",zm(e,NS)),n.join("")};var D0=/[#\/\?@]/g,J_=/[#\?:]/g,PS=/[#\?]/g,C0=/[#\?@]/g,NS=/#/g;function Ki(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Tu(n){n.g||(n.g=new Map,n.h=0,n.i&&function dP(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function EE(n,t){Tu(n),t=Nf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function ev(n,t){return Tu(n),t=Nf(n,t),n.g.has(t)}function E0(n,t,e){EE(n,t),0<e.length&&(n.i=null,n.g.set(Nf(n,t),R_(e)),n.h+=e.length)}function Nf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function xE(n){this.l=n||TE,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ka&&qt.g.Ka()&&qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Ki.prototype).add=function(n,t){Tu(this),this.i=null,n=Nf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Qe.forEach=function(n,t){Tu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Qe.ta=function(){Tu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Qe.Z=function(n){Tu(this);let t=[];if("string"==typeof n)ev(this,n)&&(t=t.concat(this.g.get(Nf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Qe.set=function(n,t){return Tu(this),this.i=null,ev(this,n=Nf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Qe.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var TE=10;function BS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VS(n){return n.h?1:n.g?n.g.size:0}function Kd(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Vn(n,t){n.g?n.g.add(t):n.h=t}function Ff(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function x0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return R_(n.i)}xE.prototype.cancel=function(){if(this.i=x0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var IE=class{stringify(n){return qt.JSON.stringify(n,void 0)}parse(n){return qt.JSON.parse(n,void 0)}};function AE(){this.g=new IE}function T0(n,t,e){const i=e||"";try{b0(n,function(r,o){let l=r;vl(r)&&(l=z_(r)),t.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function $m(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Lf(n){this.l=n.fc||null,this.j=n.ob||!1}function Bf(n,t){xr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=SE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oi(Lf,K_),Lf.prototype.g=function(){return new Bf(this.l,this.j)},Lf.prototype.i=function(n){return function(){return n}}({}),oi(Bf,xr);var SE=0;function tv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Gm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zd(n)}function Zd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Bf.prototype).open=function(n,t){if(this.readyState!=SE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Zd(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||qt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gm(this)),this.readyState=SE},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zd(this)),this.g&&(this.readyState=3,Zd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Gm(this):Zd(this),3==this.readyState&&tv(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,Gm(this))},Qe.Ya=function(n){this.g&&(this.response=n,Gm(this))},Qe.ka=function(){this.g&&Gm(this)},Qe.setRequestHeader=function(n,t){this.v.append(n,t)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ME=qt.JSON.parse;function nr(n){xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Iu,this.L=this.M=!1}oi(nr,xr);var Iu="",jS=/^https?$/i,I0=["POST","PUT"];function kE(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,iv(n),Cl(n)}function iv(n){n.F||(n.F=!0,Kr(n,"complete"),Kr(n,"error"))}function Wm(n){if(n.h&&typeof mo<"u"&&(!n.C[1]||4!=_a(n)||2!=n.da()))if(n.v&&4==_a(n))Sf(n.La,0,n);else if(Kr(n,"readystatechange"),4==_a(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(kS)[1]||null;!r&&qt.self&&qt.self.location&&(r=qt.self.location.protocol.slice(0,-1)),i=!jS.test(r?r.toLowerCase():"")}e=i}if(e)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var o=2<_a(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",iv(n)}}finally{Cl(n)}}}function Cl(n,t){if(n.g){rv(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Kr(n,"ready");try{e.onreadystatechange=i}catch{}}}function rv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function _a(n){return n.g?n.g.readyState:0}function OE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Iu:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function A0(n){let t="";return t0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Au(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=A0(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ii(n,t,e))}function qm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function RE(n){this.Ga=0,this.j=[],this.l=new G_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qm("baseRetryDelayMs",5e3,n),this.hb=qm("retryDelaySeedMs",1e4,n),this.eb=qm("forwardChannelMaxRetries",2,n),this.xa=qm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new xE(n&&n.concurrentRequestLimit),this.Ja=new AE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function S0(n){if(M0(n),3==n.H){var t=n.W++,e=Na(n.I);if(Ii(e,"SID",n.K),Ii(e,"RID",t),Ii(e,"TYPE","terminate"),av(n,e),(t=new ga(n,n.l,t)).L=2,t.v=X_(Na(e)),e=!1,qt.navigator&&qt.navigator.sendBeacon)try{e=qt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=uv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jm(t)}Uf(n)}function Vf(n){n.g&&(LE(n),n.g.cancel(),n.g=null)}function M0(n){Vf(n),n.u&&(qt.clearTimeout(n.u),n.u=null),Qd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function ov(n){if(!BS(n.i)&&!n.m){n.m=!0;var t=n.Na;Af||Nm(),Gd||(Af(),Gd=!0),$_.add(t,n),n.C=0}}function sv(n,t){var e;e=t?t.m:n.W++;const i=Na(n.I);Ii(i,"SID",n.K),Ii(i,"RID",e),Ii(i,"AID",n.V),av(n,i),n.o&&n.s&&Au(i,n.o,n.s),e=new ga(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=NE(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Vn(n.i,e),bE(e,i,t)}function av(n,t){n.na&&t0(n.na,function(e,i){Ii(t,i,e)}),n.h&&b0({},function(e,i){Ii(t,i,e)})}function NE(n,t,e){e=Math.min(n.j.length,e);var i=n.h?ur(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const l=["count="+e];-1==o?0<e?(o=r[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let f=!0;for(let g=0;g<e;g++){let y=r[g].g;const E=r[g].map;if(y-=o,0>y)o=Math.max(0,r[g].g-100),f=!1;else try{T0(E,l,"req"+y+"_")}catch{i&&i(E)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function FE(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Af||Nm(),Gd||(Af(),Gd=!0),$_.add(t,n),n.A=0}}function k0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xu(ur(n.Ma,n),lv(n,n.A)),n.A++,0))}function LE(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function zS(n){n.g=new ga(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Na(n.wa);Ii(t,"RID","rpc"),Ii(t,"SID",n.K),Ii(t,"AID",n.V),Ii(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ii(t,"TO",n.qa),Ii(t,"TYPE","xmlhttp"),av(n,t),n.o&&n.s&&Au(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=X_(Na(t)),e.s=null,e.S=!0,AS(e,n)}function Qd(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function BE(n,t){var e=null;if(n.g==t){Qd(n),LE(n),n.g=null;var i=2}else{if(!Kd(n.i,t))return;e=t.F,Ff(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Kr(i=q_(),new Mf(i,e)),ov(n)}else FE(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function PE(n,t){return!(VS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xu(ur(n.Na,n,t),lv(n,n.C)),n.C++,0)))}(n,t)||2==i&&k0(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:_c(n,5);break;case 4:_c(n,10);break;case 3:_c(n,6);break;default:_c(n,2)}}function lv(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function _c(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=ur(n.pb,n);e||(e=new Rf("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||Pf(e,"https"),X_(e)),function US(n,t){const e=new G_;if(qt.Image){const i=new Image;i.onload=Pa($m,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Pa($m,e,i,"TestLoadImage: error",!1,t),i.onabort=Pa($m,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Pa($m,e,i,"TestLoadImage: timeout",!1,t),qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ss(2);n.H=0,n.h&&n.h.za(t),Uf(n),M0(n)}function Uf(n){if(n.H=0,n.ma=[],n.h){const t=x0(n.i);(0!=t.length||0!=n.j.length)&&(P_(n.ma,t),P_(n.ma,n.j),n.i.i.length=0,R_(n.j),n.j.length=0),n.h.ya()}}function cv(n,t,e){var i=e instanceof Rf?Na(e):new Rf(e);if(""!=i.g)t&&(i.g=t+"."+i.g),w0(i,i.m);else{var r=qt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Rf(null);i&&Pf(o,i),t&&(o.g=t),r&&w0(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Ii(i,e,t),Ii(i,"VER",n.ra),av(n,i),i}function uv(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new nr(e&&n.Ha&&!n.va?new Lf({ob:!0}):n.va)).Oa(n.J),t}function jf(){}function Xd(){if(jd&&!(10<=Number(bS)))throw Error("Environmental error: no available transport.")}function go(n,t){xr.call(this),this.g=new RE(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Am(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Am(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new vc(this)}function O0(n){m0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function dv(){g0.call(this),this.status=1}function vc(n){this.g=n}function js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ym(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],l=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;l=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(l<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(t=e+((l=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=o+((l=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function si(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Qe=nr.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_0.g(),this.C=function f0(n){return n.h||(n.h=n.i())}(this.u?this.u:_0),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void kE(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=qt.FormData&&n instanceof qt.FormData,!(0<=O_(I0,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of e)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rv(this),0<this.B&&((this.L=function nv(n){return jd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=Sf(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){kE(this,o)}},Qe.ua=function(){typeof mo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),Cl(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cl(this,!0)),nr.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?Wm(this):this.kb())},Qe.kb=function(){Wm(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<_a(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ME(t)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=RE.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new ga(this,this.l,n);let o=this.s;if(this.U&&(o?(o=V_(o),zd(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=NE(this,r,t),Ii(e=Na(this.I),"RID",n),Ii(e,"CVER",22),this.F&&Ii(e,"X-HTTP-Session-Id",this.F),av(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(A0(o)))+"&"+t:this.o&&Au(e,this.o,o)),Vn(this.i,r),this.bb&&Ii(e,"TYPE","init"),this.P?(Ii(e,"$req",t),Ii(e,"SID","null"),r.aa=!0,bE(r,e,null)):bE(r,e,t),this.H=2}}else 3==this.H&&(n?sv(this,n):0==this.j.length||BS(this.i)||sv(this))},Qe.Ma=function(){if(this.u=null,zS(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xu(ur(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ss(10),Vf(this),zS(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Vf(this),k0(this),ss(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ss(2)):(this.l.info("Failed to ping google.com"),ss(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=jf.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},Xd.prototype.g=function(n,t){return new go(n,t)},oi(go,xr),go.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;ss(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=cv(n,null,n.Y),ov(n)},go.prototype.close=function(){S0(this.g)},go.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=z_(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&ov(t)},go.prototype.N=function(){this.g.h=null,delete this.j,S0(this.g),delete this.g,go.$.N.call(this)},oi(O0,m0),oi(dv,g0),oi(vc,jf),vc.prototype.Ba=function(){Kr(this.g,"a")},vc.prototype.Aa=function(n){Kr(this.g,new O0(n))},vc.prototype.za=function(n){Kr(this.g,new dv)},vc.prototype.ya=function(){Kr(this.g,"b")},oi(js,function hP(){this.blockSize=-1}),js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},js.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)Ym(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){Ym(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){Ym(this,i),r=0;break}}this.h=r,this.i+=t},js.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var $S={};function R0(n){return-128<=n&&128>n?function Ds(n,t){var e=$S;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new si([0|t],0>t?-1:0)}):new si([0|n],0>n?-1:0)}function Fa(n){if(isNaN(n)||!isFinite(n))return Hf;if(0>n)return _o(Fa(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=N0;return new si(t,0)}var N0=4294967296,Hf=R0(0),VE=R0(1),UE=R0(16777216);function La(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Cs(n){return-1==n.h}function _o(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new si(e,~n.h).add(VE)}function Km(n,t){return n.add(_o(t))}function zf(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Su(n,t){this.g=n,this.h=t}function hv(n,t){if(La(t))throw Error("division by zero");if(La(n))return new Su(Hf,Hf);if(Cs(n))return t=hv(_o(n),t),new Su(_o(t.g),_o(t.h));if(Cs(t))return t=hv(n,_o(t)),new Su(_o(t.g),t.h);if(30<n.g.length){if(Cs(n)||Cs(t))throw Error("slowDivide_ only works with positive integers.");for(var e=VE,i=t;0>=i.X(n);)e=F0(e),i=F0(i);var r=$f(e,1),o=$f(i,1);for(i=$f(i,2),e=$f(e,2);!La(i);){var l=o.add(i);0>=l.X(n)&&(r=r.add(e),o=l),i=$f(i,1),e=$f(e,1)}return t=Km(n,r.R(t)),new Su(r,t)}for(r=Hf;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(o=Fa(e)).R(t);Cs(l)||0<l.X(n);)l=(o=Fa(e-=i)).R(t);La(o)&&(o=VE),r=r.add(o),n=Km(n,l)}return new Su(r,n)}function F0(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new si(e,n.h)}function $f(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new si(r,n.h)}(Qe=si.prototype).ea=function(){if(Cs(this))return-_o(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:N0+i)*t,t*=N0}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(La(this))return"0";if(Cs(this))return"-"+_o(this).toString(n);for(var t=Fa(Math.pow(n,6)),e=this,i="";;){var r=hv(e,t).g,o=((0<(e=Km(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(La(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Cs(n=Km(this,n))?-1:La(n)?0:1},Qe.abs=function(){return Cs(this)?_o(this):this},Qe.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),l=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(o&=65535)}return new si(e,-2147483648&e[e.length-1]?-1:0)},Qe.R=function(n){if(La(this)||La(n))return Hf;if(Cs(this))return Cs(n)?_o(this).R(_o(n)):_o(_o(this).R(n));if(Cs(n))return _o(this.R(_o(n)));if(0>this.X(UE)&&0>n.X(UE))return Fa(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,g=65535&n.D(r);e[2*i+2*r]+=l*g,zf(e,2*i+2*r),e[2*i+2*r+1]+=o*g,zf(e,2*i+2*r+1),e[2*i+2*r+1]+=l*f,zf(e,2*i+2*r+1),e[2*i+2*r+2]+=o*f,zf(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new si(e,0)},Qe.gb=function(n){return hv(this,n).h},Qe.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new si(e,this.h&n.h)},Qe.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new si(e,this.h|n.h)},Qe.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new si(e,this.h^n.h)},Xd.prototype.createWebChannel=Xd.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,h0.COMPLETE="complete",p0.EventType=Um,Um.OPEN="a",Um.CLOSE="b",Um.ERROR="c",Um.MESSAGE="d",xr.prototype.listen=xr.prototype.O,nr.prototype.listenOnce=nr.prototype.P,nr.prototype.getLastError=nr.prototype.Sa,nr.prototype.getLastErrorCode=nr.prototype.Ia,nr.prototype.getStatus=nr.prototype.da,nr.prototype.getResponseJson=nr.prototype.Wa,nr.prototype.getResponseText=nr.prototype.ja,nr.prototype.send=nr.prototype.ha,nr.prototype.setWithCredentials=nr.prototype.Oa,js.prototype.digest=js.prototype.l,js.prototype.reset=js.prototype.reset,js.prototype.update=js.prototype.j,si.prototype.add=si.prototype.add,si.prototype.multiply=si.prototype.R,si.prototype.modulo=si.prototype.gb,si.prototype.compare=si.prototype.X,si.prototype.toNumber=si.prototype.ea,si.prototype.toString=si.prototype.toString,si.prototype.getBits=si.prototype.D,si.fromNumber=Fa,si.fromString=function P0(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return _o(P0(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Fa(Math.pow(t,8)),i=Hf,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+o),t);8>o?(o=Fa(Math.pow(t,o)),i=i.R(o).add(Fa(l))):i=(i=i.R(e)).add(Fa(l))}return i};var jE=It.createWebChannelTransport=function(){return new Xd},fP=It.getStatEventTarget=function(){return q_()},L0=It.ErrorCode=kf,Zm=It.EventType=h0,GS=It.Event=ma,Jd=It.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qm=It.FetchXmlHttpFactory=Lf,fv=It.WebChannel=p0,HE=It.XhrIo=nr,WS=It.Md5=js,Gf=It.Integer=si;const zE="@firebase/firestore";class Lr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let eh="9.22.1";const El=new _l.Yd("@firebase/firestore");function th(){return El.logLevel}function at(n,...t){if(El.logLevel<=_l.in.DEBUG){const e=t.map(Wf);El.debug(`Firestore (${eh}): ${n}`,...e)}}function ir(n,...t){if(El.logLevel<=_l.in.ERROR){const e=t.map(Wf);El.error(`Firestore (${eh}): ${n}`,...e)}}function vo(n,...t){if(El.logLevel<=_l.in.WARN){const e=t.map(Wf);El.warn(`Firestore (${eh}): ${n}`,...e)}}function Wf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function At(n="Unexpected state"){const t=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: `+n;throw ir(t),new Error(t)}function Bt(n,t){n||At()}function wt(n,t){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Pn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class GE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Lr.UNAUTHENTICATED))}shutdown(){}}class qf{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class yc{constructor(t){this.t=t,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let l=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Br,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=l;t.enqueueRetryable((0,ie.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Br)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bt("string"==typeof i.accessToken),new GE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Bt(null===t||"string"==typeof t),new Lr(t)}}class qE{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class pP{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new qE(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mP{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,at("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Bt("string"==typeof e.token),this.T=e.token,new YE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KE(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class B0{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=KE(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function dn(n,t){return n<t?-1:n>t?1:0}function nh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Xm(n){return n+"\0"}class Ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?dn(this.nanoseconds,t.nanoseconds):dn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Ai(0,0))}static max(){return new Ut(new Ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yf{constructor(t,e,i){void 0===e?e=0:e>t.length&&At(),void 0===i?i=t.length-e:i>t.length-e&&At(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Yf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),l=e.get(r);if(o<l)return-1;if(o>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Dt extends Yf{construct(t,e,i){return new Dt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Xe(Se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Dt(e)}static emptyPath(){return new Dt([])}}const ZE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Yf{construct(t,e,i){return new rr(t,e,i)}static isValidIdentifier(t){return ZE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Xe(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Xe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Xe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(o(),r++)}if(o(),l)throw new Xe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rr(e)}static emptyPath(){return new rr([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(Dt.fromString(t))}static fromName(t){return new bt(Dt.fromString(t).popFirst(5))}static empty(){return new bt(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Dt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Dt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new Dt(t.slice()))}}class Jm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function pv(n){return n.fields.find(t=>2===t.kind)}function ih(n){return n.fields.filter(t=>2!==t.kind)}Jm.UNKNOWN_ID=-1;class eg{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kf{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kf(0,va.min())}}function QE(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ut.fromTimestamp(1e9===i?new Ai(e+1,0):new Ai(e,i));return new va(r,bt.empty(),t)}function XE(n){return new va(n.readTime,n.key,-1)}class va{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new va(Ut.min(),bt.empty(),-1)}static max(){return new va(Ut.max(),bt.empty(),-1)}}function mv(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=bt.comparator(n.documentKey,t.documentKey),0!==e?e:dn(n.largestBatchId,t.largestBatchId))}const V0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Hs(n){return gv.apply(this,arguments)}function gv(){return gv=(0,ie.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==V0)throw n;at("LocalStore","Unexpectedly lost primary lease")}),gv.apply(this,arguments)}class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ce((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ce?e:Ce.resolve(e)}catch(e){return Ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ce.reject(e)}static resolve(t){return new Ce((e,i)=>{e(t)})}static reject(t){return new Ce((e,i)=>{i(t)})}static waitFor(t){return new Ce((e,i)=>{let r=0,o=0,l=!1;t.forEach(f=>{++r,f.next(()=>{++o,l&&o===r&&e()},g=>i(g))}),l=!0,o===r&&e()})}static or(t){let e=Ce.resolve(!1);for(const i of t)e=e.next(r=>r?Ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Ce((i,r)=>{const o=t.length,l=new Array(o);let f=0;for(let g=0;g<o;g++){const y=g;e(t[y]).next(E=>{l[y]=E,++f,f===o&&i(l)},E=>r(E))}})}static doWhile(t,e){return new Ce((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class rh{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Br,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new wc(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=vv(i.target.error);this.v.reject(new wc(t,r))}}static open(t,e,i,r){try{return new rh(e,t.transaction(r,i))}catch(o){throw new wc(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(at("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new j0(e)}}class Ro{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Ro.S((0,Pn.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return at("SimpleDb","Removing database:",t),Cc(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Pn.hl)())return!1;if(Ro.C())return!0;const t=(0,Pn.z$)(),e=Ro.S(t),i=0<e&&e<10,r=Ro.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,ie.Z)(function*(){return e.db||(at("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=l=>{i(l.target.result)},o.onblocked=()=>{r(new wc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Xe(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Xe(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new wc(t,f))},o.onupgradeneeded=l=>{at("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,o.transaction,l.oldVersion,e.version).next(()=>{at("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ie.Z)(function*(){const l="readonly"===e;let f=0;for(;;){++f;try{o.db=yield o.$(t);const g=rh.open(o.db,t,l?"readonly":"readwrite",i),y=r(g).next(E=>(g.P(),E)).catch(E=>(g.abort(E),Ce.reject(E))).toPromise();return y.catch(()=>{}),yield g.R,y}catch(g){const y=g,E="FirebaseError"!==y.name&&f<3;if(at("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),o.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class U0{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Cc(this.L.delete())}}class wc extends Xe{constructor(t,e){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Dc(n){return"IndexedDbTransactionError"===n.name}class j0{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(at("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(at("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Cc(i)}add(t){return at("SimpleDb","ADD",this.store.name,t,t),Cc(this.store.add(t))}get(t){return Cc(this.store.get(t)).next(e=>(void 0===e&&(e=null),at("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return at("SimpleDb","DELETE",this.store.name,t),Cc(this.store.delete(t))}count(){return at("SimpleDb","COUNT",this.store.name),Cc(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(l,f)=>{o.push(f)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ce((o,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ce((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){at("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,l,f)=>f.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ce((i,r)=>{e.onerror=o=>{const l=vv(o.target.error);r(l)},e.onsuccess=o=>{const l=o.target.result;l?t(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(t,e){const i=[];return new Ce((r,o)=>{t.onerror=l=>{o(l.target.error)},t.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const g=new U0(f),y=e(f.primaryKey,f.value,g);if(y instanceof Ce){const E=y.catch(I=>(g.done(),Ce.reject(I)));i.push(E)}g.isDone?r():null===g.K?f.continue():f.continue(g.K)}}).next(()=>Ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Cc(n){return new Ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=vv(i.target.error);e(r)}})}let _v=!1;function vv(n){const t=Ro.S((0,Pn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _v||(_v=!0,setTimeout(()=>{throw i},0)),i}}return n}class H0{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;at("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ie.Z)(function*(){e.task=null;try{at("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Dc(i)?at("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Hs(i)}yield e.et(6e4)}))}}class ZS{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,ie.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return Ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return at("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(f=>{r-=f,i.add(l)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,o)).next(f=>(at("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const l=XE(o);mv(l,i)>0&&(i=l)}),new va(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let zs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function tg(n){return null==n}function Zf(n){return 0===n&&1/n==-1/0}function JE(n){return"number"==typeof n&&Number.isInteger(n)&&!Zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Po(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ex(t)),t=QS(n.get(e),t);return ex(t)}function QS(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function ex(n){return n+"\x01\x01"}function Ba(n){const t=n.length;if(Bt(t>=2),2===t)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Dt.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const l=n.indexOf("\x01",o);switch((l<0||l>e)&&At(),n.charAt(l+1)){case"\x01":const f=n.substring(o,l);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,l),r+="\0";break;case"\x11":r+=n.substring(o,l+1);break;default:At()}o=l+2}return new Dt(i)}const z0=["userId","batchId"];function yv(n,t){return[n,Po(t)]}function tx(n,t,e){return[n,Po(t),e]}const $s={},XS=["prefixPath","collectionGroup","readTime","documentId"],JS=["prefixPath","collectionGroup","documentId"],gP=["collectionGroup","readTime","prefixPath","documentId"],$0=["canonicalId","targetId"],nx=["targetId","path"],eM=["path","targetId"],tM=["collectionId","parent"],nM=["indexId","uid"],ix=["uid","sequenceNumber"],iM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rM=["indexId","uid","orderedDocumentKey"],G0=["userId","collectionPath","documentId"],oM=["userId","collectionPath","largestBatchId"],sM=["userId","collectionGroup","largestBatchId"],rx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aM=[...rx,"documentOverlays"],ox=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Va=ox,W0=[...Va,"indexConfiguration","indexState","indexEntries"];class q0 extends bc{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Vr(n,t){const e=wt(n);return Ro.M(e.ht,t)}function sx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ec(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Y0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class hi{constructor(t,e){this.comparator=t,this.root=e||No.EMPTY}insert(t,e){return new hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,No.BLACK,null,null))}remove(t){return new hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,No.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qf(this.root,t,this.comparator,!0)}}class Qf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class No{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??No.RED,this.left=r??No.EMPTY,this.right=o??No.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new No(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return No.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return No.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}No.EMPTY=null,No.RED=!0,No.BLACK=!1,No.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(n,t,e,i,r){return this}insert(n,t,e){return new No(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(t){this.comparator=t,this.data=new hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(t){return new K0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Si)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Si(this.comparator);return e.data=t,e}}class K0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function oh(n){return n.hasNext()?n.getNext():void 0}class ls{constructor(t){this.fields=t,t.sort(rr.comparator)}static empty(){return new ls([])}unionWith(t){let e=new Si(rr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ls(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ur{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new bv("Invalid base64 string: "+r):r}}(t);return new Ur(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Ur(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const lM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(n){if(Bt(!!n),"string"==typeof n){let t=0;const e=lM.exec(n);if(Bt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ua(n){return"string"==typeof n?Ur.fromBase64String(n):Ur.fromUint8Array(n)}function wv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Dv(n){const t=n.mapValue.fields.__previous_value__;return wv(t)?Dv(t):t}function Xf(n){const t=xl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class cM{constructor(t,e,i,r,o,l,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}class ja{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ja&&t.projectId===this.projectId&&t.database===this.database}}const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sh={nullValue:"NULL_VALUE"};function ah(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wv(n)?4:cx(n)?9007199254740991:10:At()}function Tl(n,t){if(n===t)return!0;const e=ah(n);if(e!==ah(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xf(n).isEqual(Xf(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=xl(i.timestampValue),l=xl(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ua(n.bytesValue).isEqual(Ua(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return dr(i.geoPointValue.latitude)===dr(r.geoPointValue.latitude)&&dr(i.geoPointValue.longitude)===dr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return dr(i.integerValue)===dr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=dr(i.doubleValue),l=dr(r.doubleValue);return o===l?Zf(o)===Zf(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return nh(n.arrayValue.values||[],t.arrayValue.values||[],Tl);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(sx(o)!==sx(l))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===l[f]||!Tl(o[f],l[f])))return!1;return!0}(n,t);default:return At()}var r}function Mu(n,t){return void 0!==(n.values||[]).find(e=>Tl(e,t))}function ku(n,t){if(n===t)return 0;const e=ah(n),i=ah(t);if(e!==i)return dn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const l=dr(r.integerValue||r.doubleValue),f=dr(o.integerValue||o.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,t);case 3:return ax(n.timestampValue,t.timestampValue);case 4:return ax(Xf(n),Xf(t));case 5:return dn(n.stringValue,t.stringValue);case 6:return function(r,o){const l=Ua(r),f=Ua(o);return l.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const l=r.split("/"),f=o.split("/");for(let g=0;g<l.length&&g<f.length;g++){const y=dn(l[g],f[g]);if(0!==y)return y}return dn(l.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const l=dn(dr(r.latitude),dr(o.latitude));return 0!==l?l:dn(dr(r.longitude),dr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const l=r.values||[],f=o.values||[];for(let g=0;g<l.length&&g<f.length;++g){const y=ku(l[g],f[g]);if(y)return y}return dn(l.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ya.mapValue&&o===ya.mapValue)return 0;if(r===ya.mapValue)return 1;if(o===ya.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),g=o.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let E=0;E<f.length&&E<y.length;++E){const I=dn(f[E],y[E]);if(0!==I)return I;const U=ku(l[f[E]],g[y[E]]);if(0!==U)return U}return dn(f.length,y.length)}(n.mapValue,t.mapValue);default:throw At()}}function ax(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return dn(n,t);const e=xl(n),i=xl(t),r=dn(e.seconds,i.seconds);return 0!==r?r:dn(e.nanos,i.nanos)}function Jf(n){return ng(n)}function ng(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=xl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ua(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=ng(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const f of r)l?l=!1:o+=",",o+=`${f}:${ng(i.fields[f])}`;return o+"}"}(n.mapValue):At();var t}function Ha(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Z0(n){return!!n&&"integerValue"in n}function ep(n){return!!n&&"arrayValue"in n}function Q0(n){return!!n&&"nullValue"in n}function lx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ev(n){return!!n&&"mapValue"in n}function Tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ec(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Tc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function cx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _P(n){return"nullValue"in n?sh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ha(ja.empty(),bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:At()}function uM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ha(ja.empty(),bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ya:At()}function ux(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function dx(n,t){const e=ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yo{constructor(t){this.value=t}static empty(){return new yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ev(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tc(e)}setAll(t){let e=rr.emptyPath(),i={},r=[];t.forEach((l,f)=>{if(!e.isImmediateParentOf(f)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=f.popLast()}l?i[f.lastSegment()]=Tc(l):r.push(f.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Ev(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Tl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ev(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ec(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new yo(Tc(this.value))}}function hx(n){const t=[];return Ec(n.fields,(e,i)=>{const r=new rr([e]);if(Ev(i)){const o=hx(i.mapValue).fields;if(0===o.length)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new ls(t)}class Pi{constructor(t,e,i,r,o,l,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=f}static newInvalidDocument(t){return new Pi(t,0,Ut.min(),Ut.min(),Ut.min(),yo.empty(),0)}static newFoundDocument(t,e,i,r){return new Pi(t,1,e,Ut.min(),i,r,0)}static newNoDocument(t,e){return new Pi(t,2,e,Ut.min(),Ut.min(),yo.empty(),0)}static newUnknownDocument(t,e){return new Pi(t,3,e,Ut.min(),Ut.min(),yo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ou{constructor(t,e){this.position=t,this.inclusive=e}}function X0(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(i=o.field.isKeyField()?bt.comparator(bt.fromName(l.referenceValue),e.key):ku(l,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function xv(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Tl(n.position[e],t.position[e]))return!1;return!0}class tp{constructor(t,e="asc"){this.field=t,this.dir=e}}function J0(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class fx{}class Mn extends fx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new gx(t,e,i):"array-contains"===e?new hM(t,i):"in"===e?new Av(t,i):"not-in"===e?new fM(t,i):"array-contains-any"===e?new Il(t,i):new Mn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new vP(t,i):new Iv(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ku(e,this.value)):null!==e&&ah(this.value)===ah(e)&&this.matchesComparison(ku(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fi extends fx{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new fi(t,e)}matches(t){return np(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function np(n){return"and"===n.op}function ew(n){return"or"===n.op}function tw(n){return px(n)&&np(n)}function px(n){for(const t of n.filters)if(t instanceof fi)return!1;return!0}function Tv(n){if(n instanceof Mn)return n.field.canonicalString()+n.op.toString()+Jf(n.value);if(tw(n))return n.filters.map(t=>Tv(t)).join(",");{const t=n.filters.map(e=>Tv(e)).join(",");return`${n.op}(${t})`}}function nw(n,t){return n instanceof Mn?(e=n,(i=t)instanceof Mn&&e.op===i.op&&e.field.isEqual(i.field)&&Tl(e.value,i.value)):n instanceof fi?function(e,i){return i instanceof fi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,l)=>r&&nw(o,i.filters[l]),!0)}(n,t):void At();var e,i}function mx(n,t){const e=n.filters.concat(t);return fi.create(e,n.op)}function dM(n){return n instanceof Mn?`${(t=n).field.canonicalString()} ${t.op} ${Jf(t.value)}`:n instanceof fi?function(t){return t.op.toString()+" {"+t.getFilters().map(dM).join(" ,")+"}"}(n):"Filter";var t}class gx extends Mn{constructor(t,e,i){super(t,e,i),this.key=bt.fromName(i.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vP extends Mn{constructor(t,e){super(t,"in",e),this.keys=_x(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Iv extends Mn{constructor(t,e){super(t,"not-in",e),this.keys=_x(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function _x(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>bt.fromName(i.referenceValue))}class hM extends Mn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ep(e)&&Mu(e.arrayValue,this.value)}}class Av extends Mn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Mu(this.value.arrayValue,e)}}class fM extends Mn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Mu(this.value.arrayValue,e)}}class Il extends Mn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ep(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mu(this.value.arrayValue,i))}}class ig{constructor(t,e=null,i=[],r=[],o=null,l=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=f,this.dt=null}}function Zr(n,t=null,e=[],i=[],r=null,o=null,l=null){return new ig(n,t,e,i,r,o,l)}function Gs(n){const t=wt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Tv(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),tg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Jf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Jf(i)).join(",")),t.dt=e}return t.dt}function Ru(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!J0(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!nw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!xv(n.startAt,t.startAt)&&xv(n.endAt,t.endAt)}function cs(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ip(n,t){return n.filters.filter(e=>e instanceof Mn&&e.field.isEqual(t))}function lh(n,t,e){let i=sh,r=!0;for(const o of ip(n,t)){let l=sh,f=!0;switch(o.op){case"<":case"<=":l=_P(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,f=!1;break;case"!=":case"not-in":l=sh}ux({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];ux({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function ch(n,t,e){let i=ya,r=!0;for(const o of ip(n,t)){let l=ya,f=!0;switch(o.op){case">=":case">":l=uM(o.value),f=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,f=!1;break;case"!=":case"not-in":l=ya}dx({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];dx({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class Es{constructor(t,e=null,i=[],r=[],o=null,l="F",f=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function uh(n,t,e,i,r,o,l,f){return new Es(n,t,e,i,r,o,l,f)}function za(n){return new Es(n)}function dh(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ic(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Nu(n){return null!==n.collectionGroup}function Fu(n){const t=wt(n);if(null===t.wt){t.wt=[];const e=Ic(t),i=Pu(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new tp(e)),t.wt.push(new tp(rr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tp(rr.keyField(),o))}}}return t.wt}function Fo(n){const t=wt(n);if(!t._t)if("F"===t.limitType)t._t=Zr(t.path,t.collectionGroup,Fu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Fu(t))e.push(new tp(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Ou(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ou(t.startAt.position,t.startAt.inclusive):null;t._t=Zr(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Sv(n,t){t.getFirstInequalityField(),Ic(n);const e=n.filters.concat([t]);return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function rg(n,t,e){return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rp(n,t){return Ru(Fo(n),Fo(t))&&n.limitType===t.limitType}function iw(n){return`${Gs(Fo(n))}|lt:${n.limitType}`}function Mv(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>dM(i)).join(", ")}]`),tg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Jf(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Jf(i)).join(",")),`Target(${e})`}(Fo(n))}; limitType=${n.limitType})`}function op(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):bt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Fu(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,l){const f=X0(r,o,l);return r.inclusive?f<=0:f<0}(e.startAt,Fu(e),i)||e.endAt&&!function(r,o,l){const f=X0(r,o,l);return r.inclusive?f>=0:f>0}(e.endAt,Fu(e),i)));var e,i}function rw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kv(n){return(t,e)=>{let i=!1;for(const r of Fu(n)){const o=pM(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function pM(n,t,e){const i=n.field.isKeyField()?bt.comparator(t.key,e.key):function(r,o,l){const f=o.data.field(r),g=l.data.field(r);return null!==f&&null!==g?ku(f,g):At()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At()}}class Lu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ec(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}const yP=new hi(bt.comparator);function xs(){return yP}const vx=new hi(bt.comparator);function Ov(...n){let t=vx;for(const e of n)t=t.insert(e.key,e);return t}function yx(n){let t=vx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ac(){return og()}function bx(){return og()}function og(){return new Lu(n=>n.toString(),(n,t)=>n.isEqual(t))}const mM=new hi(bt.comparator),ow=new Si(bt.comparator);function un(...n){let t=ow;for(const e of n)t=t.add(e);return t}const sw=new Si(dn);function sp(){return sw}function aw(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function ap(n){return{integerValue:""+n}}function lw(n,t){return JE(t)?ap(t):aw(n,t)}class Rv{constructor(){this._=void 0}}function sg(n,t,e){return n instanceof lp?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&wv(r)&&(r=Dv(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof hh?Pv(n,t):n instanceof Al?ag(n,t):function(i,r){const o=wx(i,r),l=Dx(o)+Dx(i.gt);return Z0(o)&&Z0(i.gt)?ap(l):aw(i.serializer,l)}(n,t)}function gM(n,t,e){return n instanceof hh?Pv(n,t):n instanceof Al?ag(n,t):e}function wx(n,t){return n instanceof lg?Z0(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class lp extends Rv{}class hh extends Rv{constructor(t){super(),this.elements=t}}function Pv(n,t){const e=Cx(t);for(const i of n.elements)e.some(r=>Tl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Al extends Rv{constructor(t){super(),this.elements=t}}function ag(n,t){let e=Cx(t);for(const i of n.elements)e=e.filter(r=>!Tl(r,i));return{arrayValue:{values:e}}}class lg extends Rv{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Dx(n){return dr(n.integerValue||n.doubleValue)}function Cx(n){return ep(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fh{constructor(t,e){this.field=t,this.transform=e}}class Ex{constructor(t,e){this.version=t,this.transformResults=e}}class Zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nv(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class cg{}function cw(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Sc(n.key,Zi.none()):new ph(n.key,n.data,Zi.none());{const e=n.data,i=yo.empty();let r=new Si(rr.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);null===l&&o.length>1&&(o=o.popLast(),l=e.field(o)),null===l?i.delete(o):i.set(o,l),r=r.add(o)}return new $a(n.key,i,new ls(r.toArray()),Zi.none())}}function xx(n,t,e){n instanceof ph?function(i,r,o){const l=i.value.clone(),f=Ix(i.fieldTransforms,r,o.transformResults);l.setAll(f),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof $a?function(i,r,o){if(!Nv(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=Ix(i.fieldTransforms,r,o.transformResults),f=r.data;f.setAll(Fv(i)),f.setAll(l),r.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ug(n,t,e,i){return n instanceof ph?function(r,o,l,f){if(!Nv(r.precondition,o))return l;const g=r.value.clone(),y=dg(r.fieldTransforms,f,o);return g.setAll(y),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof $a?function(r,o,l,f){if(!Nv(r.precondition,o))return l;const g=dg(r.fieldTransforms,f,o),y=o.data;return y.setAll(Fv(r)),y.setAll(g),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(l=e,Nv(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function vM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=wx(i.transform,r||null);null!=o&&(null===e&&(e=yo.empty()),e.set(i.field,o))}return e||null}function Tx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&nh(e,i,(r,o)=>function _M(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof hh&&i instanceof hh||e instanceof Al&&i instanceof Al?nh(e.elements,i.elements,Tl):e instanceof lg&&i instanceof lg?Tl(e.gt,i.gt):e instanceof lp&&i instanceof lp);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class ph extends cg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $a extends cg{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Fv(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Ix(n,t,e){const i=new Map;Bt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,f=t.data.field(o.field);i.set(o.field,gM(l,f,e[r]))}return i}function dg(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,sg(o,l,t))}return i}class Sc extends cg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hg extends cg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lv{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&xx(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ug(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ug(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bx();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let f=this.applyToLocalView(l,o.mutatedFields);f=e.has(r.key)?null:f;const g=cw(l,f);null!==g&&i.set(r.key,g),l.isValidDocument()||l.convertToNoDocument(Ut.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),un())}isEqual(t){return this.batchId===t.batchId&&nh(this.mutations,t.mutations,(e,i)=>Tx(e,i))&&nh(this.baseMutations,t.baseMutations,(e,i)=>Tx(e,i))}}class uw{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Bt(t.mutations.length===i.length);let r=mM;const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new uw(t,e,i,r)}}class dw{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bv{constructor(t,e){this.count=t,this.unchangedNames=e}}var or,kn;function hw(n){switch(n){default:return At();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function Ax(n){if(void 0===n)return ir("GRPC error has no .code"),Se.UNKNOWN;switch(n){case or.OK:return Se.OK;case or.CANCELLED:return Se.CANCELLED;case or.UNKNOWN:return Se.UNKNOWN;case or.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case or.INTERNAL:return Se.INTERNAL;case or.UNAVAILABLE:return Se.UNAVAILABLE;case or.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case or.NOT_FOUND:return Se.NOT_FOUND;case or.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case or.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case or.ABORTED:return Se.ABORTED;case or.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case or.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case or.DATA_LOSS:return Se.DATA_LOSS;default:return At()}}(kn=or||(or={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class fw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fg}static getOrCreateInstance(){return null===fg&&(fg=new fw),fg}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let fg=null;function Vv(){return new TextEncoder}const Sx=new Gf([4294967295,4294967295],0);function Uv(n){const t=Vv().encode(n),e=new WS;return e.update(t),new Uint8Array(e.digest())}function jv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Gf([e,i],0),new Gf([r,o],0)]}class pw{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new cp(`Invalid padding: ${e}`);if(i<0)throw new cp(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new cp(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new cp(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Gf.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Gf.fromNumber(i)));return 1===r.compare(Sx)&&(r=new Gf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Uv(t),[i,r]=jv(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new pw(o,r,e);return i.forEach(f=>l.insert(f)),l}insert(t){if(0===this.It)return;const e=Uv(t),[i,r]=jv(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class cp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class up{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,dp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new up(Ut.min(),r,new hi(dn),xs(),un())}}class dp{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new dp(i,e,un(),un(),un())}}class pg{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class Mx{constructor(t,e){this.targetId=t,this.Vt=e}}class mw{constructor(t,e,i=Ur.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class gw{constructor(){this.St=0,this.Dt=_w(),this.Ct=Ur.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=un(),e=un(),i=un();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:At()}}),new dp(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=_w()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kx{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=xs(),this.zt=Hv(),this.Wt=new hi(dn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:At()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const l=o.target;if(cs(l))if(0===r){const f=new bt(l.path);this.Yt(i,f,Pi.newNoDocument(f,Ut.min()))}else Bt(1===r);else{const f=this.ie(i);if(f!==r){const g=this.re(t,f);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=fw.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(y,E,I){var U,W,X,ae,le,_e;const xe={localCacheCount:E,existenceFilterCount:I.count},Ee=I.unchangedNames;return Ee&&(xe.bloomFilter={applied:0===y,hashCount:null!==(U=Ee?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(ae=null===(X=null===(W=Ee?.bits)||void 0===W?void 0:W.bitmap)||void 0===X?void 0:X.length)&&void 0!==ae?ae:0,padding:null!==(_e=null===(le=Ee?.bits)||void 0===le?void 0:le.padding)&&void 0!==_e?_e:0}),xe}(g,f,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:f=0}=i;let g,y;try{g=Ua(o).toUint8Array()}catch(E){if(E instanceof bv)return vo("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{y=new pw(g,l,f)}catch(E){return vo(E instanceof cp?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===y.It?1:r!==e-this.oe(t.targetId,y)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.vt(f)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,l)=>{const f=this.se(l);if(f){if(o.current&&cs(f.target)){const g=new bt(f.target.path);null!==this.jt.get(g)||this.ae(l,g)||this.Yt(l,g,Pi.newNoDocument(g,t))}o.Mt&&(e.set(l,o.Ot()),o.Ft())}});let i=un();this.zt.forEach((o,l)=>{let f=!0;l.forEachWhile(g=>{const y=this.se(g);return!y||"TargetPurposeLimboResolution"===y.purpose||(f=!1,!1)}),f&&(i=i.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(t));const r=new up(t,e,this.Wt,this.jt,i);return this.jt=xs(),this.zt=Hv(),this.Wt=new hi(dn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new gw,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Si(dn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||at("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new gw),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function Hv(){return new hi(bt.comparator)}function _w(){return new hi(bt.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class Nx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zv(n,t){return n.useProto3Json||tg(t)?t:{value:t}}function mh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function $v(n,t){return mh(n,t.toTimestamp())}function _i(n){return Bt(!!n),Ut.fromTimestamp(function(t){const e=xl(t);return new Ai(e.seconds,e.nanos)}(n))}function yw(n,t){return(e=n,new Dt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Fx(n){const t=Dt.fromString(n);return Bt(xM(t)),t}function gh(n,t){return yw(n.databaseId,t.path)}function Lo(n,t){const e=Fx(t);if(e.get(1)!==n.databaseId.projectId)throw new Xe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Xe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(bM(e))}function mg(n,t){return yw(n.databaseId,t)}function Lx(n){const t=Fx(n);return 4===t.length?Dt.emptyPath():bM(t)}function _h(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bM(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wM(n,t,e){return{name:gh(n,t),fields:e.value.mapValue.fields}}function Bx(n,t,e){const i=Lo(n,t.name),r=_i(t.updateTime),o=t.createTime?_i(t.createTime):Ut.min(),l=new yo({mapValue:{fields:t.fields}}),f=Pi.newFoundDocument(i,r,o,l);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function gg(n,t){let e;if(t instanceof ph)e={update:wM(n,t.key,t.value)};else if(t instanceof Sc)e={delete:gh(n,t.key)};else if(t instanceof $a)e={update:wM(n,t.key,t.data),updateMask:$x(t.fieldMask)};else{if(!(t instanceof hg))return At();e={verify:gh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof lp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lg)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw At()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:$v(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:At()),e;var r}function _r(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Zi.updateTime(_i(r.updateTime)):void 0!==r.exists?Zi.exists(r.exists):Zi.none():Zi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,l){let f=null;"setToServerValue"in l?(Bt("REQUEST_TIME"===l.setToServerValue),f=new lp):"appendMissingElements"in l?f=new hh(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Al(l.removeAllFromArray.values||[]):"increment"in l?f=new lg(o,l.increment):At();const g=rr.fromServerFormat(l.fieldPath);return new fh(g,f)}(n,r)):[];var r;if(t.update){const r=Lo(n,t.update.name),o=new yo({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new ls((t.updateMask.fieldPaths||[]).map(y=>rr.fromServerFormat(y)));return new $a(r,o,l,e,i)}return new ph(r,o,e,i)}if(t.delete){const r=Lo(n,t.delete);return new Sc(r,e)}if(t.verify){const r=Lo(n,t.verify);return new hg(r,e)}return At()}function jx(n,t){return{documents:[mg(n,t.path)]}}function bw(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mg(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mg(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return zx(fi.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(y=>{return{field:Bu((E=y).field),direction:Hx(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=zv(n,t.limit);var f,g;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function ww(n){let t=Lx(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Bt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=function(E){const I=Dw(E);return I instanceof fi&&tw(I)?I.getFilters():[I]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(E=>{return new tp(vh((I=E).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;e.limit&&(f=function(E){let I;return I="object"==typeof E?E.value:E,tg(I)?null:I}(e.limit));let g=null;var E;e.startAt&&(g=new Ou((E=e.startAt).values||[],!!E.before));let y=null;return e.endAt&&(y=function(E){return new Ou(E.values||[],!E.before)}(e.endAt)),uh(t,r,l,o,f,"F",g,y)}function Dw(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vh(t.unaryFilter.field);return Mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=vh(t.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vh(t.unaryFilter.field);return Mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vh(t.unaryFilter.field);return Mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(n):void 0!==n.fieldFilter?Mn.create(vh((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return fi.create(t.compositeFilter.filters.map(e=>Dw(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return At()}}(t.compositeFilter.op))}(n):At();var t}function Hx(n){return Ox[n]}function hp(n){return Rx[n]}function EM(n){return Px[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function vh(n){return rr.fromServerFormat(n.fieldPath)}function zx(n){return n instanceof Mn?function(t){if("=="===t.op){if(lx(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(Q0(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(lx(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(Q0(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:hp(t.op),value:t.value}}}(n):n instanceof fi?function(t){const e=t.getFilters().map(i=>zx(i));return 1===e.length?e[0]:{compositeFilter:{op:EM(t.op),filters:e}}}(n):At()}function $x(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function xM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ga{constructor(t,e,i,r,o=Ut.min(),l=Ut.min(),f=Ur.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(t){return new Ga(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Gv{constructor(t){this.fe=t}}function Gx(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Wv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:gh(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:mh(r,o.version.toTimestamp()),createTime:mh(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Bo(t.version)};else{if(!t.isUnknownDocument())return At();i.unknownDocument={path:e.path.toArray(),version:Bo(t.version)}}var r,o;return i}function Wv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Bo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bo(n){const t=new Ai(n.seconds,n.nanoseconds);return Ut.fromTimestamp(t)}function wo(n,t){const e=(t.baseMutations||[]).map(o=>_r(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>_r(n.fe,o)),r=Ai.fromMillis(t.localWriteTimeMs);return new Lv(t.batchId,r,e,i)}function fp(n){const t=bo(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?bo(n.lastLimboFreeSnapshotVersion):Ut.min();let i;var r;return void 0!==n.query.documents?(Bt(1===(r=n.query).documents.length),i=Fo(za(Lx(r.documents[0])))):i=Fo(ww(n.query)),new Ga(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ur.fromBase64String(n.resumeToken))}function Cw(n,t){const e=Bo(t.snapshotVersion),i=Bo(t.lastLimboFreeSnapshotVersion);let r;r=cs(t.target)?jx(n.fe,t.target):bw(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Gs(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Ew(n){const t=ww({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rg(t,t.limit,"L"):t}function xw(n,t){return new dw(t.largestBatchId,_r(n.fe,t.overlayMutation))}function Wx(n,t){const e=t.path.lastSegment();return[n,Po(t.path.popLast()),e]}function qx(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Bo(i.readTime),documentKey:Po(i.documentKey.path),largestBatchId:i.largestBatchId}}class Tw{getBundleMetadata(t,e){return pp(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:bo(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return pp(t).put({bundleId:(i=e).id,createTime:Bo(_i(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Yx(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Ew(r.bundledQuery),readTime:bo(r.readTime)};var r})}saveNamedQuery(t,e){return Yx(t).put({name:(i=e).name,readTime:Bo(_i(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pp(n){return Vr(n,"bundles")}function Yx(n){return Vr(n,"namedQueries")}class _g{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new _g(t,e.uid||"")}getOverlay(t,e){return vg(t).get(Wx(this.userId,e)).next(i=>i?xw(this.serializer,i):null)}getOverlays(t,e){const i=Ac();return Ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,l)=>{const f=new dw(e,l);r.push(this.we(t,f))}),Ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(Po(l.getCollectionPath())));const o=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(vg(t).J("collectionPathOverlayIndex",f))}),Ce.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ac(),o=Po(e),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vg(t).j("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const y=xw(this.serializer,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ac();let l;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return vg(t).X({index:"collectionGroupOverlayIndex",range:f},(g,y,E)=>{const I=xw(this.serializer,y);o.size()<r||I.largestBatchId===l?(o.set(I.getKey(),I),l=I.largestBatchId):E.done()}).next(()=>o)}we(t,e){return vg(t).put(function(i,r,o){const[l,f,g]=Wx(r,o.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:gg(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function vg(n){return Vr(n,"documentOverlays")}class yh{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(dr(t.integerValue));else if("doubleValue"in t){const i=dr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Zf(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Ua(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?cx(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):At()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),bt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Kx(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Iw(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=Kx(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}yh.Ve=new yh;class qv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=Iw(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=Iw(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class TM{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class Zx{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class mp{constructor(){this.je=new qv,this.ze=new TM(this.je),this.We=new Zx(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Vu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Vu(this.indexId,this.documentKey,this.arrayValue,i)}}function Uu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Qx(n.arrayValue,t.arrayValue),0!==e?e:(e=Qx(n.directionalValue,t.directionalValue),0!==e?e:bt.comparator(n.documentKey,t.documentKey)))}function Qx(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Aw{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Bt(t.collectionGroup===this.collectionId);const e=pv(t);if(void 0!==e&&!this.en(e))return!1;const i=ih(t);let r=0,o=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const l=i[r];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[o++],l))return!1;++r}for(;r<i.length;++r)if(o>=this.Ye.length||!this.sn(this.Ye[o++],i[r]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function yg(n){var t,e;if(Bt(n instanceof Mn||n instanceof fi),n instanceof Mn){if(n instanceof Av){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Mn.create(n.field,"==",o)))||[];return fi.create(r,"or")}return n}const i=n.filters.map(r=>yg(r));return fi.create(i,n.op)}function Xx(n){if(0===n.getFilters().length)return[];const t=Zv(yg(n));return Bt(Sw(t)),Yv(t)||Kv(t)?[t]:t.getFilters()}function Yv(n){return n instanceof Mn}function Kv(n){return n instanceof fi&&tw(n)}function Sw(n){return Yv(n)||Kv(n)||function(t){if(t instanceof fi&&ew(t)){for(const e of t.getFilters())if(!Yv(e)&&!Kv(e))return!1;return!0}return!1}(n)}function Zv(n){if(Bt(n instanceof Mn||n instanceof fi),n instanceof Mn)return n;if(1===n.filters.length)return Zv(n.filters[0]);const t=n.filters.map(i=>Zv(i));let e=fi.create(t,n.op);return e=bg(e),Sw(e)?e:(Bt(e instanceof fi),Bt(np(e)),Bt(e.filters.length>1),e.filters.reduce((i,r)=>Qv(i,r)))}function Qv(n,t){let e;return Bt(n instanceof Mn||n instanceof fi),Bt(t instanceof Mn||t instanceof fi),e=n instanceof Mn?t instanceof Mn?fi.create([n,t],"and"):Mw(n,t):t instanceof Mn?Mw(t,n):function(i,r){if(Bt(i.filters.length>0&&r.filters.length>0),np(i)&&np(r))return mx(i,r.getFilters());const o=ew(i)?i:r,l=ew(i)?r:i,f=o.filters.map(g=>Qv(g,l));return fi.create(f,"or")}(n,t),bg(e)}function Mw(n,t){if(np(t))return mx(t,n.getFilters());{const e=t.filters.map(i=>Qv(n,i));return fi.create(e,"or")}}function bg(n){if(Bt(n instanceof Mn||n instanceof fi),n instanceof Mn)return n;const t=n.getFilters();if(1===t.length)return bg(t[0]);if(px(n))return n;const e=t.map(r=>bg(r)),i=[];return e.forEach(r=>{r instanceof Mn?i.push(r):r instanceof fi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:fi.create(i,n.op)}class IM{constructor(){this.rn=new kw}addToCollectionParentIndex(t,e){return this.rn.add(e),Ce.resolve()}getCollectionParents(t,e){return Ce.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ce.resolve()}deleteFieldIndex(t,e){return Ce.resolve()}getDocumentsMatchingTarget(t,e){return Ce.resolve(null)}getIndexType(t,e){return Ce.resolve(0)}getFieldIndexes(t,e){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,e){return Ce.resolve(va.min())}getMinOffsetFromCollectionGroup(t,e){return Ce.resolve(va.min())}updateCollectionGroup(t,e,i){return Ce.resolve()}updateIndexEntries(t,e){return Ce.resolve()}}class kw{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Si(Dt.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Si(Dt.comparator)).toArray()}}const Xv=new Uint8Array(0);class AM{constructor(t,e){this.user=t,this.databaseId=e,this.on=new kw,this.un=new Lu(i=>Gs(i),(i,r)=>Ru(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Po(r)};return Jx(t).put(o)}return Ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Xm(e),""],!1,!0);return Jx(t).j(r).next(o=>{for(const l of o){if(l.collectionId!==e)break;i.push(Ba(l.parent))}return i})}addFieldIndex(t,e){const i=Jv(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const o=i.add(r);if(e.indexState){const l=Dg(t);return o.next(f=>{l.put(qx(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Jv(t),r=Dg(t),o=wg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=wg(t);let r=!0;const o=new Map;return Ce.forEach(this.cn(e),l=>this.an(t,l).next(f=>{r&&(r=!!f),o.set(l,f)})).next(()=>{if(r){let l=un();const f=[];return Ce.forEach(o,(g,y)=>{var E;at("IndexedDbIndexManager",`Using index ${E=g,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Ee=>`${Ee.fieldPath}:${Ee.kind}`).join(",")}`} to execute ${Gs(e)}`);const I=function(Ee,He){const st=pv(He);if(void 0===st)return null;for(const dt of ip(Ee,st.fieldPath))switch(dt.op){case"array-contains-any":return dt.value.arrayValue.values||[];case"array-contains":return[dt.value]}return null}(y,g),U=function(Ee,He){const st=new Map;for(const dt of ih(He))for(const Lt of ip(Ee,dt.fieldPath))switch(Lt.op){case"==":case"in":st.set(dt.fieldPath.canonicalString(),Lt.value);break;case"not-in":case"!=":return st.set(dt.fieldPath.canonicalString(),Lt.value),Array.from(st.values())}return null}(y,g),W=function(Ee,He){const st=[];let dt=!0;for(const Lt of ih(He)){const Tn=0===Lt.kind?lh(Ee,Lt.fieldPath,Ee.startAt):ch(Ee,Lt.fieldPath,Ee.startAt);st.push(Tn.value),dt&&(dt=Tn.inclusive)}return new Ou(st,dt)}(y,g),X=function(Ee,He){const st=[];let dt=!0;for(const Lt of ih(He)){const Tn=0===Lt.kind?ch(Ee,Lt.fieldPath,Ee.endAt):lh(Ee,Lt.fieldPath,Ee.endAt);st.push(Tn.value),dt&&(dt=Tn.inclusive)}return new Ou(st,dt)}(y,g),ae=this.hn(g,y,W),le=this.hn(g,y,X),_e=this.ln(g,y,U),xe=this.fn(g.indexId,I,ae,W.inclusive,le,X.inclusive,_e);return Ce.forEach(xe,Ee=>i.H(Ee,e.limit).next(He=>{He.forEach(st=>{const dt=bt.fromSegments(st.documentKey);l.has(dt)||(l=l.add(dt),f.push(dt))})}))}).next(()=>f)}return Ce.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:Xx(fi.create(t.filters,"and")).map(i=>Zr(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,l,f){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),y=g/(null!=e?e.length:1),E=[];for(let I=0;I<g;++I){const U=e?this.dn(e[I/y]):Xv,W=this.wn(t,U,i[I%y],r),X=this._n(t,U,o[I%y],l),ae=f.map(le=>this.wn(t,U,le,!0));E.push(...this.createRange(W,X,ae))}return E}wn(t,e,i,r){const o=new Vu(t,bt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new Vu(t,bt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new Aw(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let l=null;for(const f of o)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ce.forEach(r,o=>this.an(t,o).next(l=>{l?0!==i&&l.fields.length<function(f){let g=new Si(rr.comparator),y=!1;for(const E of f.filters)for(const I of E.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?y=!0:g=g.add(I.field));for(const E of f.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new mp;for(const r of ih(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const l=i.He(r.kind);yh.Ve._e(o,l)}return i.Qe()}dn(t){const e=new mp;return yh.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new mp;return yh.Ve._e(Ha(this.databaseId,e),i.He(function(r){const o=ih(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new mp);let o=0;for(const l of ih(t)){const f=i[o++];for(const g of r)if(this.yn(e,l.fieldPath)&&ep(f))r=this.pn(r,l,f);else{const y=g.He(l.kind);yh.Ve._e(f,y)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const l of i.arrayValue.values||[])for(const f of r){const g=new mp;g.seed(f.Qe()),yh.Ve._e(l,g.He(e.kind)),o.push(g)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof Mn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Jv(t),r=Dg(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const l=[];return Ce.forEach(o,f=>r.get([f.indexId,this.uid]).next(g=>{l.push(function(y,E){const I=E?new Kf(E.sequenceNumber,new va(bo(E.readTime),new bt(Ba(E.documentKey)),E.largestBatchId)):Kf.empty(),U=y.fields.map(([W,X])=>new eg(rr.fromServerFormat(W),X));return new Jm(y.indexId,y.collectionGroup,U,I)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:dn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Jv(t),o=Dg(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>Ce.forEach(f,g=>o.put(qx(g.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return Ce.forEach(e,(r,o)=>{const l=i.get(r.collectionGroup);return(l?Ce.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),Ce.forEach(f,g=>this.En(t,r,g).next(y=>{const E=this.An(o,g);return y.isEqual(E)?Ce.resolve():this.vn(t,o,g,y,E)}))))})}Rn(t,e,i,r){return wg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return wg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=wg(t);let o=new Si(Uu);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,f)=>{o=o.add(new Vu(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>o)}An(t,e){let i=new Si(Uu);const r=this.mn(e,t);if(null==r)return i;const o=pv(e);if(null!=o){const l=t.data.field(o.fieldPath);if(ep(l))for(const f of l.arrayValue.values||[])i=i.add(new Vu(e.indexId,t.key,this.dn(f),r))}else i=i.add(new Vu(e.indexId,t.key,Xv,r));return i}vn(t,e,i,r,o){at("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(f,g,y,E,I){const U=f.getIterator(),W=g.getIterator();let X=oh(U),ae=oh(W);for(;X||ae;){let le=!1,_e=!1;if(X&&ae){const xe=y(X,ae);xe<0?_e=!0:xe>0&&(le=!0)}else null!=X?_e=!0:le=!0;le?(E(ae),ae=oh(W)):_e?(I(X),X=oh(U)):(X=oh(U),ae=oh(W))}}(r,o,Uu,f=>{l.push(this.Rn(t,e,i,f))},f=>{l.push(this.Pn(t,e,i,f))}),Ce.waitFor(l)}Tn(t){let e=1;return Dg(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,f)=>Uu(l,f)).filter((l,f,g)=>!f||0!==Uu(l,g[f-1]));const r=[];r.push(t);for(const l of i){const f=Uu(l,t),g=Uu(l,e);if(0===f)r[0]=t.Je();else if(f>0&&g<0)r.push(l),r.push(l.Je());else if(g>0)break}r.push(e);const o=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];o.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Xv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Xv,[]]))}return o}bn(t,e){return Uu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(eT)}getMinOffset(t,e){return Ce.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||At())).next(eT)}}function Jx(n){return Vr(n,"collectionParents")}function wg(n){return Vr(n,"indexEntries")}function Jv(n){return Vr(n,"indexConfiguration")}function Dg(n){return Vr(n,"indexState")}function eT(n){Bt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;mv(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new va(t.readTime,t.documentKey,e)}const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Vo(t,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nT(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],l=IDBKeyRange.only(e.batchId);let f=0;const g=i.X({range:l},(E,I,U)=>(f++,U.delete()));o.push(g.next(()=>{Bt(1===f)}));const y=[];for(const E of e.mutations){const I=tx(t,E.key.path,e.batchId);o.push(r.delete(I)),y.push(E.key)}return Ce.waitFor(o).next(()=>y)}function ey(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw At();t=n.noDocument}return JSON.stringify(t).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class ty{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Bt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new ty(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(t).X({index:"userMutationsIndex",range:i},(r,o,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=gp(t),l=ju(t);return l.add({}).next(f=>{Bt("number"==typeof f);const g=new Lv(f,e,i,r),y=function(U,W,X){const ae=X.baseMutations.map(_e=>gg(U.fe,_e)),le=X.mutations.map(_e=>gg(U.fe,_e));return{userId:W,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:ae,mutations:le}}(this.serializer,this.userId,g),E=[];let I=new Si((U,W)=>dn(U.canonicalString(),W.canonicalString()));for(const U of r){const W=tx(this.userId,U.key.path,f);I=I.add(U.key.path.popLast()),E.push(l.put(y)),E.push(o.put(W,$s))}return I.forEach(U=>{E.push(this.indexManager.addToCollectionParentIndex(t,U))}),t.addOnCommittedListener(()=>{this.Vn[f]=g.keys()}),Ce.waitFor(E).next(()=>g)})}lookupMutationBatch(t,e){return ju(t).get(e).next(i=>i?(Bt(i.userId===this.userId),wo(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ce.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ju(t).X({index:"userMutationsIndex",range:r},(l,f,g)=>{f.userId===this.userId&&(Bt(f.batchId>=i),o=wo(this.serializer,f)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ju(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(t).j("userMutationsIndex",e).next(i=>i.map(r=>wo(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=yv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gp(t).X({range:r},(l,f,g)=>{const[y,E,I]=l,U=Ba(E);if(y===this.userId&&e.path.isEqual(U))return ju(t).get(I).next(W=>{if(!W)throw At();Bt(W.userId===this.userId),o.push(wo(this.serializer,W))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Si(dn);const r=[];return e.forEach(o=>{const l=yv(this.userId,o.path),f=IDBKeyRange.lowerBound(l),g=gp(t).X({range:f},(y,E,I)=>{const[U,W,X]=y,ae=Ba(W);U===this.userId&&o.path.isEqual(ae)?i=i.add(X):I.done()});r.push(g)}),Ce.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=yv(this.userId,i),l=IDBKeyRange.lowerBound(o);let f=new Si(dn);return gp(t).X({range:l},(g,y,E)=>{const[I,U,W]=g,X=Ba(U);I===this.userId&&i.isPrefixOf(X)?X.length===r&&(f=f.add(W)):E.done()}).next(()=>this.Dn(t,f))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(ju(t).get(o).next(l=>{if(null===l)throw At();Bt(l.userId===this.userId),i.push(wo(this.serializer,l))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return nT(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gp(t).X({range:i},(o,l,f)=>{if(o[0]===this.userId){const g=Ba(o[1]);r.push(g)}else f.done()}).next(()=>{Bt(0===r.length)})})}containsKey(t,e){return iT(t,this.userId,e)}xn(t){return rT(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iT(n,t,e){const i=yv(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return gp(n).X({range:o,Y:!0},(f,g,y)=>{const[E,I,U]=f;E===t&&I===r&&(l=!0),y.done()}).next(()=>l)}function ju(n){return Vr(n,"mutations")}function gp(n){return Vr(n,"documentMutations")}function rT(n){return Vr(n,"mutationQueues")}class Hu{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Hu(0)}static Mn(){return new Hu(-1)}}class oT{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Hu(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Ut.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>bh(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Bt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return bh(t).X((l,f)=>{const g=fp(f);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>Ce.waitFor(o)).next(()=>r)}forEachTarget(t,e){return bh(t).X((i,r)=>{const o=fp(r);e(o)})}$n(t){return Ow(t).get("targetGlobalKey").next(e=>(Bt(null!==e),e))}On(t,e){return Ow(t).put("targetGlobalKey",e)}Fn(t,e){return bh(t).put(Cw(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Gs(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return bh(t).X({range:r,index:"queryTargetsIndex"},(l,f,g)=>{const y=fp(f);Ru(e,y.target)&&(o=y,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Mc(t);return e.forEach(l=>{const f=Po(l.path);r.push(o.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,l))}),Ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=Mc(t);return Ce.forEach(e,o=>{const l=Po(o.path);return Ce.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Mc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mc(t);let o=un();return r.X({range:i,Y:!0},(l,f,g)=>{const y=Ba(l[1]),E=new bt(y);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=Po(e.path),r=IDBKeyRange.bound([i],[Xm(i)],!1,!0);let o=0;return Mc(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],g,y)=>{0!==l&&(o++,y.done())}).next(()=>o>0)}le(t,e){return bh(t).get(e).next(i=>i?fp(i):null)}}function bh(n){return Vr(n,"targets")}function Ow(n){return Vr(n,"targetGlobal")}function Mc(n){return Vr(n,"targetDocuments")}function Rw([n,t],[e,i]){const r=dn(n,e);return 0===r?dn(t,i):r}class sT{constructor(t){this.Ln=t,this.buffer=new Si(Rw),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Rw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Pw{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;at("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ie.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Dc(i)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Hs(i)}yield e.Qn(3e5)}))}}class aT{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ce.resolve(zs.ct);const i=new sT(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(tT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,l,f,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,l=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,f=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(y=Date.now(),th()<=_l.in.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-E}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${o} targets in `+(g-f)+`ms\n\tRemoved ${I} documents in `+(y-g)+`ms\nTotal Duration: ${y-E}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class Nw{constructor(t,e){this.db=t,this.garbageCollector=function ny(n,t){return new aT(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return Ml(t,i)}removeReference(t,e,i){return Ml(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Ml(t,e)}Xn(t,e){return function(i,r){let o=!1;return rT(i).Z(l=>iT(i,l,r).next(f=>(f&&(o=!0),Ce.resolve(!f)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(l,f)=>{if(f<=e){const g=this.Xn(t,l).next(y=>{if(!y)return o++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Ut.min()),Mc(t).delete([0,Po(l.path)])))});r.push(g)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Ml(t,e)}Yn(t,e){const i=Mc(t);let r,o=zs.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:y})=>{0===l?(o!==zs.ct&&e(new bt(Ba(r)),o),o=y,r=g):o=zs.ct}).next(()=>{o!==zs.ct&&e(new bt(Ba(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ml(n,t){return Mc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Po(t.path),sequenceNumber:i}));var i}class lT{constructor(){this.changes=new Lu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Pi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SM{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return _p(t).put(i)}removeEntry(t,e,i){return _p(t).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Wv(o),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Pi.newInvalidDocument(e);return _p(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vp(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Pi.newInvalidDocument(e)};return _p(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vp(e))},(r,o)=>{i={document:this.ts(e,o),size:ey(o)}}).next(()=>i)}getEntries(t,e){let i=xs();return this.ns(t,e,(r,o)=>{const l=this.ts(r,o);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=xs(),r=new hi(bt.comparator);return this.ns(t,e,(o,l)=>{const f=this.ts(o,l);i=i.insert(o,f),r=r.insert(o,ey(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ce.resolve();let r=new Si(MM);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(vp(r.first()),vp(r.last())),l=r.getIterator();let f=l.getNext();return _p(t).X({index:"documentKeyIndex",range:o},(g,y,E)=>{const I=bt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;f&&MM(f,I)<0;)i(f,null),f=l.getNext();f&&f.isEqual(I)&&(i(f,y),f=l.hasNext()?l.getNext():null),f?E.G(vp(f)):E.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,l=[o.popLast().toArray(),o.lastSegment(),Wv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _p(t).j(IDBKeyRange.bound(l,f,!0)).next(g=>{let y=xs();for(const E of g){const I=this.ts(bt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);I.isFoundDocument()&&(op(e,I)||r.has(I.key))&&(y=y.insert(I.key,I))}return y})}getAllFromCollectionGroup(t,e,i,r){let o=xs();const l=Fw(e,i),f=Fw(e,va.max());return _p(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,y,E)=>{const I=this.ts(bt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(I.key,I),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new bP(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return iy(t).get("remoteDocumentGlobalKey").next(e=>(Bt(!!e),e))}Zn(t,e){return iy(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function Sl(n,t){let e;if(t.document)e=Bx(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=bt.fromSegments(t.noDocument.path),r=bo(t.noDocument.readTime);e=Pi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return At();{const i=bt.fromSegments(t.unknownDocument.path),r=bo(t.unknownDocument.version);e=Pi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ai(i[0],i[1]);return Ut.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Ut.min()))return i}return Pi.newInvalidDocument(t)}}function wh(n){return new SM(n)}class bP extends lT{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Lu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Si((o,l)=>dn(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const f=this.us.get(o);if(e.push(this.os.removeEntry(t,o,f.readTime)),l.isValidDocument()){const g=Gx(this.os.serializer,l);r=r.add(o.path.popLast());const y=ey(g);i+=y-f.size,e.push(this.os.addEntry(t,o,g))}else if(i-=f.size,this.trackRemovals){const g=Gx(this.os.serializer,l.convertToNoDocument(Ut.min()));e.push(this.os.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),Ce.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,l)=>{this.us.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function iy(n){return Vr(n,"remoteDocumentGlobal")}function _p(n){return Vr(n,"remoteDocumentsV14")}function vp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Fw(n,t){const e=t.documentKey.path.toArray();return[n,Wv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function MM(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=dn(e[o],i[o]),r)return r;return r=dn(e.length,i.length),r||(r=dn(e[e.length-2],i[i.length-2]),r||dn(e[e.length-1],i[i.length-1]))}class Qt{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class cT{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ug(i.mutation,r,ls.empty(),Ai.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,un()).next(()=>i))}getLocalViewOfDocuments(t,e,i=un()){const r=Ac();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let l=Ov();return o.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Ac();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,un()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,f)=>{e.set(l,f)})})}computeViews(t,e,i,r){let o=xs();const l=og(),f=og();return e.forEach((g,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof $a)?o=o.insert(y.key,y):void 0!==E?(l.set(y.key,E.mutation.getFieldMask()),ug(E.mutation,y,E.mutation.getFieldMask(),Ai.now())):l.set(y.key,ls.empty())}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((y,E)=>l.set(y,E)),e.forEach((y,E)=>{var I;return f.set(y,new Qt(E,null!==(I=l.get(y))&&void 0!==I?I:null))}),f))}recalculateAndSaveOverlays(t,e){const i=og();let r=new hi((l,f)=>l-f),o=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const f of l)f.keys().forEach(g=>{const y=e.get(g);if(null===y)return;let E=i.get(g)||ls.empty();E=f.applyToLocalView(y,E),i.set(g,E);const I=(r.get(f.batchId)||un()).add(g);r=r.insert(f.batchId,I)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,E=g.value,I=bx();E.forEach(U=>{if(!o.has(U)){const W=cw(e.get(U),i.get(U));null!==W&&I.set(U,W),o=o.add(U)}}),l.push(this.documentOverlayCache.saveOverlays(t,y,I))}return Ce.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return bt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Nu(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Ce.resolve(Ac());let f=-1,g=o;return l.next(y=>Ce.forEach(y,(E,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),o.get(E)?Ce.resolve():this.remoteDocumentCache.getEntry(t,E).next(U=>{g=g.insert(E,U)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,g,y,un())).next(E=>({batchId:f,changes:yx(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next(i=>{let r=Ov();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Ov();return this.indexManager.getCollectionParents(t,r).next(l=>Ce.forEach(l,f=>{const g=(y=e,E=f.child(r),new Es(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(y=>{y.forEach((E,I)=>{o=o.insert(E,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((f,g)=>{const y=g.getKey();null===o.get(y)&&(o=o.insert(y,Pi.newInvalidDocument(y)))});let l=Ov();return o.forEach((f,g)=>{const y=r.get(f);void 0!==y&&ug(y.mutation,g,ls.empty(),Ai.now()),op(e,g)&&(l=l.insert(f,g))}),l})}}class kM{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ce.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:_i(i.createTime)}),Ce.resolve()}getNamedQuery(t,e){return Ce.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:Ew(i.bundledQuery),readTime:_i(i.readTime)}),Ce.resolve();var i}}class OM{constructor(){this.overlays=new hi(bt.comparator),this.ls=new Map}getOverlay(t,e){return Ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ac();return Ce.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),Ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),Ce.resolve()}getOverlaysForCollection(t,e,i){const r=Ac(),o=e.length+1,l=new bt(e.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return Ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new hi((y,E)=>y-E);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let E=o.get(y.largestBatchId);null===E&&(E=Ac(),o=o.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=Ac(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=r)););return Ce.resolve(f)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new dw(e,i));let o=this.ls.get(e);void 0===o&&(o=un(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class zu{constructor(){this.fs=new Si(Qr.ds),this.ws=new Si(Qr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Qr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Qr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new bt(new Dt([])),i=new Qr(e,t),r=new Qr(e,t+1),o=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new bt(new Dt([])),i=new Qr(e,t),r=new Qr(e,t+1);let o=un();return this.ws.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new Qr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Qr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return bt.comparator(t.key,e.key)||dn(t.As,e.As)}static _s(t,e){return dn(t.As,e.As)||bt.comparator(t.key,e.key)}}class ry{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Si(Qr.ds)}checkEmpty(t){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const l=new Lv(o,e,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new Qr(f.key,o)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Ce.resolve(l)}lookupMutationBatch(t,e){return Ce.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qr(e,0),r=new Qr(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);o.push(f)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Si(dn);return e.forEach(r=>{const o=new Qr(r,0),l=new Qr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],f=>{i=i.add(f.As)})}),Ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;bt.isDocumentKey(o)||(o=o.child(""));const l=new Qr(new bt(o),0);let f=new Si(dn);return this.Rs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(f=f.add(g.As)),!0)},l),Ce.resolve(this.Vs(f))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Bt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ce.forEach(e.mutations,r=>{const o=new Qr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Qr(e,0),r=this.Rs.firstAfterOrEqual(i);return Ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ce.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oy{constructor(t){this.Ds=t,this.docs=new hi(bt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ce.resolve(i?i.document.mutableCopy():Pi.newInvalidDocument(e))}getEntries(t,e){let i=xs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Pi.newInvalidDocument(r))}),Ce.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=xs();const l=e.path,f=new bt(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!l.isPrefixOf(y.path))break;y.path.length>l.length+1||mv(XE(E),i)<=0||(r.has(E.key)||op(e,E))&&(o=o.insert(E.key,E.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(t,e,i,r){At()}Cs(t,e){return Ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hr(this)}getSize(t){return Ce.resolve(this.size)}}class hr extends lT{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ce.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class wP{constructor(t){this.persistence=t,this.xs=new Lu(e=>Gs(e),Ru),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zu,this.targetCount=0,this.Ms=Hu.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ce.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Hu(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ce.resolve()}updateTargetData(t,e){return this.Fn(e),Ce.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),Ce.waitFor(o).next(()=>r)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ce.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ce.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ce.resolve(i)}containsKey(t,e){return Ce.resolve(this.ks.containsKey(e))}}class sy{constructor(t,e){this.$s={},this.overlays={},this.Os=new zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new wP(this),this.indexManager=new IM,this.remoteDocumentCache=new oy(i=>this.referenceDelegate.Ls(i)),this.serializer=new Gv(e),this.qs=new kM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new OM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new ry(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const r=new uT(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return Ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class uT extends bc{constructor(t){super(),this.currentSequenceNumber=t}}class ay{constructor(t){this.persistence=t,this.Qs=new zu,this.js=null}static zs(t){return new ay(t)}get Ws(){if(this.js)return this.js;throw At()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ce.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ce.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ws,i=>{const r=bt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Ut.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ce.or([()=>Ce.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class dT{constructor(t){this.serializer=t}O(t,e,i,r){const o=new rh("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z0,{unique:!0}),f.createObjectStore("documentMutations"),Lw(t),function(f){f.createObjectStore("remoteDocuments")}(t));let l=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),Lw(t)),l=l.next(()=>function(f){const g=f.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,g){return g.store("mutations").j().next(y=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z0,{unique:!0});const E=g.store("mutations"),I=y.map(U=>E.put(U));return Ce.waitFor(I)})}(t,o))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(o))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(o))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,o))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(o))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:G0});g.createIndex("collectionPathOverlayIndex",oM,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",sM,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:XS});g.createIndex("documentKeyIndex",JS),g.createIndex("collectionGroupIndex",gP)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,o))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:nM}).createIndex("sequenceNumberIndex",ix,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:iM}).createIndex("documentKeyIndex",rM,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=ey(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ce.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>Ce.forEach(f,g=>{Bt(g.userId===o.userId);const y=wo(this.serializer,g);return nT(t,o.userId,y).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((l,f)=>{const g=new Dt(l),y=[0,Po(g)];o.push(e.get(y).next(E=>E?Ce.resolve():e.put({targetId:0,path:Po(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:tM});const i=e.store("collectionParents"),r=new kw,o=l=>{if(r.add(l)){const f=l.lastSegment(),g=l.popLast();return i.put({collectionId:f,parent:Po(g)})}};return e.store("remoteDocuments").X({Y:!0},(l,f)=>{const g=new Dt(l);return o(g.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,f,g],y)=>{const E=Ba(f);return o(E.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=fp(r),l=Cw(this.serializer,o);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,l)=>{const f=e.store("remoteDocumentsV14"),g=(y=l,y.document?new bt(Dt.fromString(y.document.name).popFirst(5)):y.noDocument?bt.fromSegments(y.noDocument.path):y.unknownDocument?bt.fromSegments(y.unknownDocument.path):At()).path.toArray();var y;const E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(E))}).next(()=>Ce.waitFor(r))}si(t,e){const i=e.store("mutations"),r=wh(this.serializer),o=new sy(ay.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(g=>{var y;let E=null!==(y=f.get(g.userId))&&void 0!==y?y:un();wo(this.serializer,g).keys().forEach(I=>E=E.add(I)),f.set(g.userId,E)}),Ce.forEach(f,(g,y)=>{const E=new Lr(y),I=_g.de(this.serializer,E),U=o.getIndexManager(E),W=ty.de(E,this.serializer,U,o.referenceDelegate);return new cT(r,W,I,U).recalculateAndSaveOverlaysForDocumentKeys(new q0(e,zs.ct),g).next()})})}}function Lw(n){n.createObjectStore("targetDocuments",{keyPath:nx}).createIndex("documentTargetsIndex",eM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$0,{unique:!0}),n.createObjectStore("targetGlobal")}const ly="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bw{constructor(t,e,i,r,o,l,f,g,y,E,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=l,this.document=f,this.ri=y,this.oi=E,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=U=>Promise.resolve(),!Bw.D())throw new Xe(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nw(this,r),this.di=e+"main",this.serializer=new Gv(g),this.wi=new Ro(this.di,this.ui,new dT(this.serializer)),this.Bs=new oT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wh(this.serializer),this.qs=new Tw,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Se.FAILED_PRECONDITION,ly);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new zs(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,ie.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,ie.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,ie.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>cy(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Dc(t))return at("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Eg(t).get("owner").next(e=>Ce.resolve(this.Ri(e)))}Pi(t){return cy(t).delete(this.clientId)}bi(){var t=this;return(0,ie.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vr(i,"clientMetadata");return r.j().next(o=>{const l=t.Si(o,18e5),f=o.filter(g=>-1===l.indexOf(g));return Ce.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ce.resolve(!0):Eg(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Xe(Se.FAILED_PRECONDITION,ly);return!1}}return!(!this.networkEnabled||!this.inForeground)||cy(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&at("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ie.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new q0(e,zs.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>cy(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return ty.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new AM(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return _g.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){at("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ui)?W0:14===l?Va:13===l?ox:12===l?aM:11===l?rx:void At();var l;let f;return this.wi.runTransaction(t,r,o,g=>(f=new q0(g,this.Os?this.Os.next():zs.ct),"readwrite-primary"===e?this.Ti(f).next(y=>!!y||this.Ei(f)).next(y=>{if(!y)throw ir(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Xe(Se.FAILED_PRECONDITION,V0);return i(f)}).next(y=>this.vi(f).next(()=>y)):this.Oi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Oi(t){return Eg(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Xe(Se.FAILED_PRECONDITION,ly)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eg(t).put("owner",e)}static D(){return Ro.D()}Ai(t){const e=Eg(t);return e.get("owner").next(i=>this.Ri(i)?(at("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ce.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ir(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Pn.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return at("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){ir("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Eg(n){return Vr(n,"owner")}function cy(n){return Vr(n,"clientMetadata")}function Dh(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Vw{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=un(),r=un();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Vw(t,e.fromCache,i,r)}}class hT{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(dh(e))return Ce.resolve(null);let i=Fo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=rg(e,null,"F"),i=Fo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=un(...o);return this.Ui.getDocuments(t,l).next(f=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.ji(e,f);return this.zi(e,y,l,g.readTime)?this.Ki(t,rg(e,null,"F")):this.Wi(t,y,e,g)}))})))}Gi(t,e,i,r){return dh(e)||r.isEqual(Ut.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const l=this.ji(e,o);return this.zi(e,l,i,r)?this.Qi(t,e):(th()<=_l.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mv(e)),this.Wi(t,l,e,QE(r,-1)))})}ji(t,e){let i=new Si(kv(t));return e.forEach((r,o)=>{op(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return th()<=_l.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Mv(e)),this.Ui.getDocumentsMatchingQuery(t,e,va.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}class RM{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new hi(dn),this.Yi=new Lu(o=>Gs(o),Ru),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function xg(n,t,e,i){return new RM(n,t,e,i)}function Uw(n,t){return uy.apply(this,arguments)}function uy(){return uy=(0,ie.Z)(function*(n,t){const e=wt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],f=[];let g=un();for(const y of r){l.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return e.localDocuments.getDocuments(i,g).next(y=>({er:y,removedBatchIds:l,addedBatchIds:f}))})})}),uy.apply(this,arguments)}function pT(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function yp(n,t,e){let i=un(),r=un();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=xs();return e.forEach((f,g)=>{const y=o.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Ut.min())?(t.removeEntry(f,g.readTime),l=l.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(g),l=l.insert(f,g)):at("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{nr:l,sr:r}})}function PM(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function bp(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,Ce.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new Ga(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function wp(n,t,e){return dy.apply(this,arguments)}function dy(){return dy=(0,ie.Z)(function*(n,t,e){const i=wt(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Dc(l))throw l;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),dy.apply(this,arguments)}function Ig(n,t,e){const i=wt(n);let r=Ut.min(),o=un();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,g,y){const E=wt(f),I=E.Yi.get(y);return void 0!==I?Ce.resolve(E.Ji.get(I)):E.Bs.getTargetData(g,y)}(i,l,Fo(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{o=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:Ut.min(),e?o:un())).next(f=>(Hw(i,rw(t),f),{documents:f,ir:o})))}function jw(n,t){const e=wt(n),i=wt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(l=>l?l.target:null))}function mT(n,t){const e=wt(n),i=e.Xi.get(t)||Ut.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,QE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Hw(e,t,r),r))}function Hw(n,t,e){let i=n.Xi.get(t)||Ut.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function zw(){return zw=(0,ie.Z)(function*(n,t,e,i){const r=wt(n);let o=un(),l=xs();for(const y of e){const E=t.rr(y.metadata.name);y.document&&(o=o.add(E));const I=t.ur(y);I.setReadTime(t.cr(y.metadata.readTime)),l=l.insert(E,I)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),g=yield bp(r,(y=i,Fo(za(Dt.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>yp(y,f,l).next(E=>(f.apply(y),E)).next(E=>r.Bs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Bs.addMatchingKeys(y,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.nr,E.sr)).next(()=>E.nr)))}),zw.apply(this,arguments)}function DP(n,t){return gT.apply(this,arguments)}function gT(){return gT=(0,ie.Z)(function*(n,t,e=un()){const i=yield bp(n,Fo(Ew(t.bundledQuery))),r=wt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=_i(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(o,t);const f=i.withResumeToken(Ur.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(o,f).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),gT.apply(this,arguments)}function FM(n,t){return`firestore_clients_${n}_${t}`}function LM(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function hy(n,t){return`firestore_targets_${n}_${t}`}class Ch{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Xe(r.error.code,r.error.message))),l?new Ch(t,e,r.state,o):(ir("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ag{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Xe(i.error.code,i.error.message))),o?new Ag(t,i.state,r):(ir("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fy{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=sp();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=JE(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new fy(t,o):(ir("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class py{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new py(e.clientId,e.onlineState):(ir("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Eh{constructor(){this.activeTargetIds=sp()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $w{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hi(dn),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=FM(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Eh),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ie.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(FM(t.persistenceKey,r));if(o){const l=fy.ar(r,o);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(hy(this.persistenceKey,t));if(i){const r=Ag.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(hy(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return at("SharedClientState","READ",t,e),e}setItem(t,e){at("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){at("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(at("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ie.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let l=zs.ct;if(null!=o)try{const f=JSON.parse(o);Bt("number"==typeof f),l=f}catch(f){ir("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==zs.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new Ch(this.currentUser,t,e,i),o=LM(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=LM(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=hy(this.persistenceKey,t),o=new Ag(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return fy.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return Ch.ar(new Lr(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Ag.ar(r,e)}br(t){return py.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,ie.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);at("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),l=[],f=[];return o.forEach(g=>{r.has(g)||l.push(g)}),r.forEach(g=>{o.has(g)||f.push(g)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=sp();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class _T{constructor(){this.Hr=new Eh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Eh,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BM{Yr(t){}shutdown(){}}class vT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gw=null;function Ww(){return null===Gw?Gw=268435456+Math.round(2147483648*Math.random()):Gw++,"0x"+Gw.toString(16)}const yT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Uo="WebChannelConnection";class Sg extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const l=Ww(),f=this.To(t,e);at("RestConnection",`Sending RPC '${t}' ${l}:`,f,i);const g={};return this.Eo(g,r,o),this.Ao(t,f,g,i).then(y=>(at("RestConnection",`Received RPC '${t}' ${l}: `,y),y),y=>{throw vo("RestConnection",`RPC '${t}' ${l} failed with error: `,y,"url: ",f,"request:",i),y})}vo(t,e,i,r,o,l){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+eh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${yT[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=Ww();return new Promise((l,f)=>{const g=new HE;g.setWithCredentials(!0),g.listenOnce(Zm.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case L0.NO_ERROR:const E=g.getResponseJson();at(Uo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(E)),l(E);break;case L0.TIMEOUT:at(Uo,`RPC '${t}' ${o} timed out`),f(new Xe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case L0.HTTP_ERROR:const I=g.getStatus();if(at(Uo,`RPC '${t}' ${o} failed with status:`,I,"response text:",g.getResponseText()),I>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const W=U?.error;if(W&&W.status&&W.message){const X=function(ae){const le=ae.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(le)>=0?le:Se.UNKNOWN}(W.status);f(new Xe(X,W.message))}else f(new Xe(Se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Xe(Se.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{at(Uo,`RPC '${t}' ${o} completed.`)}});const y=JSON.stringify(r);at(Uo,`RPC '${t}' ${o} sending request:`,r),g.send(e,"POST",y,i,15)})}Ro(t,e,i){const r=Ww(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=jE(),f=fP(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.xmlHttpFactory=new Qm({})),this.Eo(g.initMessageHeaders,e,i),g.encodeInitMessageHeaders=!0;const E=o.join("");at(Uo,`Creating RPC '${t}' stream ${r}: ${E}`,g);const I=l.createWebChannel(E,g);let U=!1,W=!1;const X=new VM({ro:le=>{W?at(Uo,`Not sending because RPC '${t}' stream ${r} is closed:`,le):(U||(at(Uo,`Opening RPC '${t}' stream ${r} transport.`),I.open(),U=!0),at(Uo,`RPC '${t}' stream ${r} sending:`,le),I.send(le))},oo:()=>I.close()}),ae=(le,_e,xe)=>{le.listen(_e,Ee=>{try{xe(Ee)}catch(He){setTimeout(()=>{throw He},0)}})};return ae(I,fv.EventType.OPEN,()=>{W||at(Uo,`RPC '${t}' stream ${r} transport opened.`)}),ae(I,fv.EventType.CLOSE,()=>{W||(W=!0,at(Uo,`RPC '${t}' stream ${r} transport closed`),X.wo())}),ae(I,fv.EventType.ERROR,le=>{W||(W=!0,vo(Uo,`RPC '${t}' stream ${r} transport errored:`,le),X.wo(new Xe(Se.UNAVAILABLE,"The operation could not be completed")))}),ae(I,fv.EventType.MESSAGE,le=>{var _e;if(!W){const xe=le.data[0];Bt(!!xe);const He=xe.error||(null===(_e=xe[0])||void 0===_e?void 0:_e.error);if(He){at(Uo,`RPC '${t}' stream ${r} received error:`,He);const st=He.status;let dt=function(Tn){const Di=or[Tn];if(void 0!==Di)return Ax(Di)}(st),Lt=He.message;void 0===dt&&(dt=Se.INTERNAL,Lt="Unknown error status: "+st+" with message "+He.message),W=!0,X.wo(new Xe(dt,Lt)),I.close()}else at(Uo,`RPC '${t}' stream ${r} received:`,xe),X._o(xe)}}),ae(f,GS.STAT_EVENT,le=>{le.stat===Jd.PROXY?at(Uo,`RPC '${t}' stream ${r} detected buffering proxy`):le.stat===Jd.NOPROXY&&at(Uo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{X.fo()},0),X}}function bT(){return typeof window<"u"?window:null}function Mg(){return typeof document<"u"?document:null}function kg(n){return new Nx(n,!0)}class my{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&at("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class wT{constructor(t,e,i,r,o,l,f,g){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new my(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,ie.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,ie.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,ie.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Se.RESOURCE_EXHAUSTED?(ir(e.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Xe(Se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,ie.Z)(function*(){t.state=0,t.start()}))}tu(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DT extends wT{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function Vx(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:At(),r=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(Bt(void 0===y||"string"==typeof y),Ur.fromBase64String(y||"")):(Bt(void 0===y||y instanceof Uint8Array),Ur.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,f=l&&function(g){const y=void 0===g.code?Se.UNKNOWN:Ax(g.code);return new Xe(y,g.message||"")}(l);e=new mw(i,r,o,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Lo(n,i.document.name),o=_i(i.document.updateTime),l=i.document.createTime?_i(i.document.createTime):Ut.min(),f=new yo({mapValue:{fields:i.document.fields}}),g=Pi.newFoundDocument(r,o,l,f);e=new pg(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=Lo(n,i.document),o=i.readTime?_i(i.readTime):Ut.min(),l=Pi.newNoDocument(r,o);e=new pg([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=Lo(n,i.document);e=new pg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return At();{const i=t.filter,{count:r=0,unchangedNames:o}=i,l=new Bv(r,o);e=new Mx(i.targetId,l)}}var g;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Ut.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ut.min():o.readTime?_i(o.readTime):Ut.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=_h(this.serializer),e.addTarget=function(r,o){let l;const f=o.target;if(l=cs(f)?{documents:jx(r,f)}:{query:bw(r,f)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vw(r,o.resumeToken);const g=zv(r,o.expectedCount);null!==g&&(l.expectedCount=g)}else if(o.snapshotVersion.compareTo(Ut.min())>0){l.readTime=mh(r,o.snapshotVersion.toTimestamp());const g=zv(r,o.expectedCount);null!==g&&(l.expectedCount=g)}return l}(this.serializer,t);const i=function CM(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=_h(this.serializer),e.removeTarget=t,this.Wo(e)}}class UM extends wT{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function Ux(n,t){return n&&n.length>0?(Bt(void 0!==t),n.map(e=>function(i,r){let o=_i(i.updateTime?i.updateTime:r);return o.isEqual(Ut.min())&&(o=_i(r)),new Ex(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=_i(t.commitTime);return this.listener.cu(i,e)}return Bt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=_h(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>gg(this.serializer,i))};this.Wo(e)}}class qw extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Xe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Xe(Se.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(t,e,i,o,l,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Se.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class CT{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ir(e),this.mu=!1):at("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HM{constructor(t,e,i,r,o){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(f=>{i.enqueueAndForget((0,ie.Z)(function*(){var g;Gu(l)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,ie.Z)(function*(y){const E=wt(y);E.vu.add(4),yield $u(E),E.bu.set("Unknown"),E.vu.delete(4),yield Og(E)}),function(y){return g.apply(this,arguments)})(l))}))}),this.bu=new CT(i,r)}}function Og(n){return Yw.apply(this,arguments)}function Yw(){return Yw=(0,ie.Z)(function*(n){if(Gu(n))for(const t of n.Ru)yield t(!0)}),Yw.apply(this,arguments)}function $u(n){return Kw.apply(this,arguments)}function Kw(){return Kw=(0,ie.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),Kw.apply(this,arguments)}function Rg(n,t){const e=wt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),Xw(e)?Qw(e):Dp(e).Ko()&&Zw(e,t))}function Pg(n,t){const e=wt(n),i=Dp(e);e.Au.delete(t),i.Ko()&&ET(e,t),0===e.Au.size&&(i.Ko()?i.jo():Gu(e)&&e.bu.set("Unknown"))}function Zw(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Dp(n).su(t)}function ET(n,t){n.Vu.qt(t),Dp(n).iu(t)}function Qw(n){n.Vu=new kx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Dp(n).start(),n.bu.gu()}function Xw(n){return Gu(n)&&!Dp(n).Uo()&&n.Au.size>0}function Gu(n){return 0===wt(n).vu.size}function xT(n){n.Vu=void 0}function zM(n){return _y.apply(this,arguments)}function _y(){return _y=(0,ie.Z)(function*(n){n.Au.forEach((t,e)=>{Zw(n,t)})}),_y.apply(this,arguments)}function TT(n,t){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,ie.Z)(function*(n,t){xT(n),Xw(n)?(n.bu.Iu(t),Qw(n)):n.bu.set("Unknown")}),Jw.apply(this,arguments)}function $M(n,t,e){return vy.apply(this,arguments)}function vy(){return vy=(0,ie.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof mw&&2===t.state&&t.cause)try{yield(i=(0,ie.Z)(function*(r,o){const l=o.cause;for(const f of o.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield yy(n,i)}else if(t instanceof pg?n.Vu.Ht(t):t instanceof Mx?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Ut.min()))try{const i=yield pT(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const l=r.Vu.ce(o);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=r.Au.get(g);y&&r.Au.set(g,y.withResumeToken(f.resumeToken,o))}}),l.targetMismatches.forEach((f,g)=>{const y=r.Au.get(f);if(!y)return;r.Au.set(f,y.withResumeToken(Ur.EMPTY_BYTE_STRING,y.snapshotVersion)),ET(r,f);const E=new Ga(y.target,f,g,y.sequenceNumber);Zw(r,E)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){at("RemoteStore","Failed to raise snapshot:",i),yield yy(n,i)}var i}),vy.apply(this,arguments)}function yy(n,t,e){return eD.apply(this,arguments)}function eD(){return eD=(0,ie.Z)(function*(n,t,e){if(!Dc(t))throw t;n.vu.add(1),yield $u(n),n.bu.set("Offline"),e||(e=()=>pT(n.localStore)),n.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Og(n)}))}),eD.apply(this,arguments)}function IT(n,t){return t().catch(e=>yy(n,e,t))}function Wu(n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ie.Z)(function*(n){const t=wt(n),e=kc(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;AT(t);)try{const r=yield PM(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,tD(t,r)}catch(r){yield yy(t,r)}ST(t)&&MT(t)}),Ng.apply(this,arguments)}function AT(n){return Gu(n)&&n.Eu.length<10}function tD(n,t){n.Eu.push(t);const e=kc(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function ST(n){return Gu(n)&&!kc(n).Uo()&&n.Eu.length>0}function MT(n){kc(n).start()}function nD(n){return iD.apply(this,arguments)}function iD(){return iD=(0,ie.Z)(function*(n){kc(n).hu()}),iD.apply(this,arguments)}function kT(n){return qu.apply(this,arguments)}function qu(){return qu=(0,ie.Z)(function*(n){const t=kc(n);for(const e of n.Eu)t.uu(e.mutations)}),qu.apply(this,arguments)}function OT(n,t,e){return rD.apply(this,arguments)}function rD(){return rD=(0,ie.Z)(function*(n,t,e){const i=n.Eu.shift(),r=uw.from(i,t,e);yield IT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wu(n)}),rD.apply(this,arguments)}function CP(n,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,ie.Z)(function*(n,t){var e;t&&kc(n).ou&&(yield(e=(0,ie.Z)(function*(i,r){if(hw(o=r.code)&&o!==Se.ABORTED){const l=i.Eu.shift();kc(i).Qo(),yield IT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Wu(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),ST(n)&&MT(n)}),Fg.apply(this,arguments)}function by(n,t){return oD.apply(this,arguments)}function oD(){return oD=(0,ie.Z)(function*(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const i=Gu(e);e.vu.add(3),yield $u(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Og(e)}),oD.apply(this,arguments)}function wy(n,t){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,ie.Z)(function*(n,t){const e=wt(n);t?(e.vu.delete(2),yield Og(e)):t||(e.vu.add(2),yield $u(e),e.bu.set("Unknown"))}),Dy.apply(this,arguments)}function Dp(n){return n.Su||(n.Su=function(t,e,i){const r=wt(t);return r.fu(),new DT(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:zM.bind(null,n),ao:TT.bind(null,n),nu:$M.bind(null,n)}),n.Ru.push(function(){var t=(0,ie.Z)(function*(e){e?(n.Su.Qo(),Xw(n)?Qw(n):n.bu.set("Unknown")):(yield n.Su.stop(),xT(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function kc(n){return n.Du||(n.Du=function(t,e,i){const r=wt(t);return r.fu(),new UM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:nD.bind(null,n),ao:CP.bind(null,n),au:kT.bind(null,n),cu:OT.bind(null,n)}),n.Ru.push(function(){var t=(0,ie.Z)(function*(e){e?(n.Du.Qo(),yield Wu(n)):(yield n.Du.stop(),n.Eu.length>0&&(at("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class Lg{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,f=new Lg(t,e,l,r,o);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(n,t){if(ir("AsyncQueue",`${t}: ${n}`),Dc(n))return new Xe(Se.UNAVAILABLE,`${t}: ${n}`);throw n}class Th{constructor(t){this.comparator=t?(e,i)=>t(e,i)||bt.comparator(e.key,i.key):(e,i)=>bt.comparator(e.key,i.key),this.keyedMap=Ov(),this.sortedSet=new hi(this.comparator)}static emptySet(t){return new Th(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Th)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Th;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class sD{constructor(){this.Cu=new hi(bt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):At():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ih{constructor(t,e,i,r,o,l,f,g,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach(f=>{l.push({type:0,doc:f})}),new Ih(t,e,Th.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class GM{constructor(){this.Nu=void 0,this.listeners=[]}}class WM{constructor(){this.queries=new Lu(t=>iw(t),rp),this.onlineState="Unknown",this.ku=new Set}}function aD(n,t){return lD.apply(this,arguments)}function lD(){return lD=(0,ie.Z)(function*(n,t){const e=wt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new GM),r)try{o.Nu=yield e.onListen(i)}catch(l){const f=xh(l,`Initialization of query '${Mv(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&cD(e)}),lD.apply(this,arguments)}function Cy(n,t){return RT.apply(this,arguments)}function RT(){return RT=(0,ie.Z)(function*(n,t){const e=wt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const l=o.listeners.indexOf(t);l>=0&&(o.listeners.splice(l,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),RT.apply(this,arguments)}function PT(n,t){const e=wt(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&cD(e)}function qM(n,t,e){const i=wt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function cD(n){n.ku.forEach(t=>{t.next()})}class NT{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ih(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Ih.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class YM{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class FT{constructor(t){this.serializer=t}rr(t){return Lo(this.serializer,t)}ur(t){return t.metadata.exists?Bx(this.serializer,t.document,!1):Pi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return _i(t)}}class KM{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uD(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Dt.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new FT(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(e.get(l)||un()).add(o);e.set(l,f)}}return e}complete(){var t=this;return(0,ie.Z)(function*(){const e=yield function NM(n,t,e,i){return zw.apply(this,arguments)}(t.localStore,new FT(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield DP(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function uD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dD{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class BT{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=un(),this.mutatedKeys=un(),this.tc=kv(t),this.ec=new Th(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new sD,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,I)=>{const U=r.get(E),W=op(this.query,I)?I:null,X=!!U&&this.mutatedKeys.has(U.key),ae=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let le=!1;U&&W?U.data.isEqual(W.data)?X!==ae&&(i.track({type:3,doc:W}),le=!0):this.rc(U,W)||(i.track({type:2,doc:W}),le=!0,(g&&this.tc(W,g)>0||y&&this.tc(W,y)<0)&&(f=!0)):!U&&W?(i.track({type:0,doc:W}),le=!0):U&&!W&&(i.track({type:1,doc:U}),le=!0,(g||y)&&(f=!0)),le&&(W?(l=l.add(W),o=ae?o.add(E):o.delete(E)):(l=l.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const E="F"===this.query.limitType?l.last():l.first();l=l.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{ec:l,ic:i,zi:f,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((y,E)=>function(I,U){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return W(I)-W(U)}(y.type,E.type)||this.tc(y.doc,E.doc)),this.oc(i);const l=e?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==o.length||g?{snapshot:new Ih(this.query,t.ec,r,o,t.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sD,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=un(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new LT(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new dD(i))}),e}hc(t){this.Yu=t.ir,this.Zu=un();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Ih.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ZM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class QM{constructor(t){this.key=t,this.fc=!1}}class XM{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Lu(f=>iw(f),rp),this._c=new Map,this.mc=new Set,this.gc=new hi(bt.comparator),this.yc=new Map,this.Ic=new zu,this.Tc={},this.Ec=new Map,this.Ac=Hu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function JM(n,t){return hD.apply(this,arguments)}function hD(){return hD=(0,ie.Z)(function*(n,t){const e=AD(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const l=yield bp(e.localStore,Fo(t)),f=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield Ah(e,t,i,"current"===f,l.resumeToken),e.isPrimaryClient&&Rg(e.remoteStore,l)}return r}),hD.apply(this,arguments)}function Ah(n,t,e,i,r){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,ie.Z)(function*(n,t,e,i,r){n.Rc=(I,U,W)=>{return(X=(0,ie.Z)(function*(ae,le,_e,xe){let Ee=le.view.sc(_e);Ee.zi&&(Ee=yield Ig(ae.localStore,le.query,!1).then(({documents:dt})=>le.view.sc(dt,Ee)));const He=xe&&xe.targetChanges.get(le.targetId),st=le.view.applyChanges(Ee,ae.isPrimaryClient,He);return vD(ae,le.targetId,st.cc),st.snapshot}),function(ae,le,_e,xe){return X.apply(this,arguments)})(n,I,U,W);var X};const o=yield Ig(n.localStore,t,!0),l=new BT(t,o.ir),f=l.sc(o.documents),g=dp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=l.applyChanges(f,n.isPrimaryClient,g);vD(n,e,y.cc);const E=new ZM(t,e,l);return n.wc.set(t,E),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),y.snapshot}),Ey.apply(this,arguments)}function VT(n,t){return xy.apply(this,arguments)}function xy(){return xy=(0,ie.Z)(function*(n,t){const e=wt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!rp(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wp(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Pg(e.remoteStore,i.targetId),Yu(e,i.targetId)}).catch(Hs))):(Yu(e,i.targetId),yield wp(e.localStore,i.targetId,!0))}),xy.apply(this,arguments)}function Ty(){return Ty=(0,ie.Z)(function*(n,t,e){const i=SD(n);try{const r=yield function(o,l){const f=wt(o),g=Ai.now(),y=l.reduce((U,W)=>U.add(W.key),un());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let W=xs(),X=un();return f.Zi.getEntries(U,y).next(ae=>{W=ae,W.forEach((le,_e)=>{_e.isValidDocument()||(X=X.add(le))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,W)).next(ae=>{E=ae;const le=[];for(const _e of l){const xe=vM(_e,E.get(_e.key).overlayedDocument);null!=xe&&le.push(new $a(_e.key,xe,hx(xe.value.mapValue),Zi.exists(!0)))}return f.mutationQueue.addMutationBatch(U,g,le,l)}).next(ae=>{I=ae;const le=ae.applyToLocalDocumentSet(E,X);return f.documentOverlayCache.saveOverlays(U,ae.batchId,le)})}).then(()=>({batchId:I.batchId,changes:yx(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,f){let g=o.Tc[o.currentUser.toKey()];g||(g=new hi(dn)),g=g.insert(l,f),o.Tc[o.currentUser.toKey()]=g}(i,r.batchId,e),yield wa(i,r.changes),yield Wu(i.remoteStore)}catch(r){const o=xh(r,"Failed to persist write");e.reject(o)}}),Ty.apply(this,arguments)}function fD(n,t){return pD.apply(this,arguments)}function pD(){return pD=(0,ie.Z)(function*(n,t){const e=wt(n);try{const i=yield function Tg(n,t){const e=wt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const f=[];t.targetChanges.forEach((E,I)=>{const U=r.get(I);if(!U)return;f.push(e.Bs.removeMatchingKeys(o,E.removedDocuments,I).next(()=>e.Bs.addMatchingKeys(o,E.addedDocuments,I)));let W=U.withSequenceNumber(o.currentSequenceNumber);var X,ae,le;null!==t.targetMismatches.get(I)?W=W.withResumeToken(Ur.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):E.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(E.resumeToken,i)),r=r.insert(I,W),ae=W,le=E,(0===(X=U).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&f.push(e.Bs.updateTargetData(o,W))});let g=xs(),y=un();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(o,E))}),f.push(yp(o,l,t.documentUpdates).next(E=>{g=E.nr,y=E.sr})),!i.isEqual(Ut.min())){const E=e.Bs.getLastRemoteSnapshotVersion(o).next(I=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(E)}return Ce.waitFor(f).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,y)).next(()=>g)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const l=e.yc.get(o);l&&(Bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Bt(l.fc):r.removedDocuments.size>0&&(Bt(l.fc),l.fc=!1))}),yield wa(e,i,t)}catch(i){yield Hs(i)}}),pD.apply(this,arguments)}function ek(n,t,e){const i=wt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,l)=>{const f=l.view.Mu(t);f.snapshot&&r.push(f.snapshot)}),function(o,l){const f=wt(o);f.onlineState=l;let g=!1;f.queries.forEach((y,E)=>{for(const I of E.listeners)I.Mu(l)&&(g=!0)}),g&&cD(f)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function jT(n,t,e){return mD.apply(this,arguments)}function mD(){return mD=(0,ie.Z)(function*(n,t,e){const i=wt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let l=new hi(bt.comparator);l=l.insert(o,Pi.newNoDocument(o,Ut.min()));const f=un().add(o),g=new up(Ut.min(),new Map,new hi(dn),l,f);yield fD(i,g),i.gc=i.gc.remove(o),i.yc.delete(t),yD(i)}else yield wp(i.localStore,t,!1).then(()=>Yu(i,t,e)).catch(Hs)}),mD.apply(this,arguments)}function tk(n,t){return gD.apply(this,arguments)}function gD(){return gD=(0,ie.Z)(function*(n,t){const e=wt(n),i=t.batch.batchId;try{const r=yield function fT(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,y){const E=g.batch,I=E.keys();let U=Ce.resolve();return I.forEach(W=>{U=U.next(()=>y.getEntry(f,W)).next(X=>{const ae=g.docVersions.get(W);Bt(null!==ae),X.version.compareTo(ae)<0&&(E.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),y.addEntry(X)))})}),U.next(()=>l.mutationQueue.removeMutationBatch(f,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=un();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);_D(e,i,null),ba(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield wa(e,r)}catch(r){yield Hs(r)}}),gD.apply(this,arguments)}function nk(n,t,e){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,ie.Z)(function*(n,t,e){const i=wt(n);try{const r=yield function(o,l){const f=wt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,l).next(E=>(Bt(null!==E),y=E.keys(),f.mutationQueue.removeMutationBatch(g,E))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);_D(i,t,e),ba(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield wa(i,r)}catch(r){yield Hs(r)}}),Sh.apply(this,arguments)}function Bg(){return Bg=(0,ie.Z)(function*(n,t){const e=wt(n);Gu(e.remoteStore)||at("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const l=wt(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=xh(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Bg.apply(this,arguments)}function ba(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function _D(n,t,e){const i=wt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Yu(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||Cp(n,i)})}function Cp(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Pg(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),yD(n))}function vD(n,t,e){for(const i of e)i instanceof dD?(n.Ic.addReference(i.key,t),rk(n,i)):i instanceof LT?(at("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||Cp(n,i.key)):At()}function rk(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(at("SyncEngine","New document in limbo: "+e),n.mc.add(i),yD(n))}function yD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new bt(Dt.fromString(t)),i=n.Ac.next();n.yc.set(i,new QM(e)),n.gc=n.gc.insert(e,i),Rg(n.remoteStore,new Ga(Fo(za(e.path)),i,"TargetPurposeLimboResolution",zs.ct))}}function wa(n,t,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,ie.Z)(function*(n,t,e){const i=wt(n),r=[],o=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,g)=>{l.push(i.Rc(g,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const E=Vw.Li(g.targetId,y);o.push(E)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,ie.Z)(function*(g,y){const E=wt(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ce.forEach(y,U=>Ce.forEach(U.Fi,W=>E.persistence.referenceDelegate.addReference(I,U.targetId,W)).next(()=>Ce.forEach(U.Bi,W=>E.persistence.referenceDelegate.removeReference(I,U.targetId,W)))))}catch(I){if(!Dc(I))throw I;at("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const U=I.targetId;if(!I.fromCache){const W=E.Ji.get(U),ae=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);E.Ji=E.Ji.insert(U,ae)}}}),function(g,y){return f.apply(this,arguments)})(i.localStore,o))}),Iy.apply(this,arguments)}function ok(n,t){return bD.apply(this,arguments)}function bD(){return bD=(0,ie.Z)(function*(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const i=yield Uw(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Xe(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield wa(e,i.er)}var r}),bD.apply(this,arguments)}function wD(n,t){const e=wt(n),i=e.yc.get(t);if(i&&i.fc)return un().add(i.key);{let r=un();const o=e._c.get(t);if(!o)return r;for(const l of o){const f=e.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function sk(n,t){return DD.apply(this,arguments)}function DD(){return DD=(0,ie.Z)(function*(n,t){const e=wt(n),i=yield Ig(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&vD(e,t.targetId,r.cc),r}),DD.apply(this,arguments)}function HT(n,t){return CD.apply(this,arguments)}function CD(){return CD=(0,ie.Z)(function*(n,t){const e=wt(n);return mT(e.localStore,t).then(i=>wa(e,i))}),CD.apply(this,arguments)}function ak(n,t,e,i){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,ie.Z)(function*(n,t,e,i){const r=wt(n),o=yield function(l,f){const g=wt(l),y=wt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Sn(E,f).next(I=>I?g.localDocuments.getDocuments(E,I):Ce.resolve(null)))}(r.localStore,t);var f;null!==o?("pending"===e?yield Wu(r.remoteStore):"acknowledged"===e||"rejected"===e?(_D(r,t,i||null),ba(r,t),f=t,wt(wt(r.localStore).mutationQueue).Cn(f)):At(),yield wa(r,o)):at("SyncEngine","Cannot apply mutation batch with id: "+t)}),Ay.apply(this,arguments)}function ED(){return ED=(0,ie.Z)(function*(n,t){const e=wt(n);if(AD(e),SD(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield zT(e,i.toArray());e.vc=!0,yield wy(e.remoteStore,!0);for(const o of r)Rg(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Yu(e,l),wp(e.localStore,l,!0))),Pg(e.remoteStore,l)}),yield r,yield zT(e,i),function(o){const l=wt(o);l.yc.forEach((f,g)=>{Pg(l.remoteStore,g)}),l.Ic.Ts(),l.yc=new Map,l.gc=new hi(bt.comparator)}(e),e.vc=!1,yield wy(e.remoteStore,!1)}}),ED.apply(this,arguments)}function zT(n,t,e){return My.apply(this,arguments)}function My(){return My=(0,ie.Z)(function*(n,t,e){const i=wt(n),r=[],o=[];for(const l of t){let f;const g=i._c.get(l);if(g&&0!==g.length){f=yield bp(i.localStore,Fo(g[0]));for(const y of g){const E=i.wc.get(y),I=yield sk(i,E);I.snapshot&&o.push(I.snapshot)}}else{const y=yield jw(i.localStore,l);f=yield bp(i.localStore,y),yield Ah(i,xD(y),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(o),r}),My.apply(this,arguments)}function xD(n){return uh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TD(n){const t=wt(n);return wt(wt(t.localStore).persistence).$i()}function $T(n,t,e,i){return ID.apply(this,arguments)}function ID(){return ID=(0,ie.Z)(function*(n,t,e,i){const r=wt(n);if(r.vc)return void at("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const l=yield mT(r.localStore,rw(o[0])),f=up.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ur.EMPTY_BYTE_STRING);yield wa(r,l,f);break}case"rejected":yield wp(r.localStore,t,!0),Yu(r,t,i);break;default:At()}}),ID.apply(this,arguments)}function GT(n,t,e){return ky.apply(this,arguments)}function ky(){return ky=(0,ie.Z)(function*(n,t,e){const i=AD(n);if(i.vc){for(const r of t){if(i._c.has(r)){at("SyncEngine","Adding an already active target "+r);continue}const o=yield jw(i.localStore,r),l=yield bp(i.localStore,o);yield Ah(i,xD(o),l.targetId,!1,l.resumeToken),Rg(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield wp(i.localStore,r,!1).then(()=>{Pg(i.remoteStore,r),Yu(i,r)}).catch(Hs))}}),ky.apply(this,arguments)}function AD(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=fD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jT.bind(null,t),t.dc.nu=PT.bind(null,t.eventManager),t.dc.Pc=qM.bind(null,t.eventManager),t}function SD(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,t),t}class Mh{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ie.Z)(function*(){e.serializer=kg(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return xg(this.persistence,new hT,t.initialUser,this.serializer)}createPersistence(t){return new sy(ay.zs,this.serializer)}createSharedClientState(t){return new _T}terminate(){var t=this;return(0,ie.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Vg extends Mh{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ie.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield SD(i.Vc.syncEngine),yield Wu(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return xg(this.persistence,new hT,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Pw(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new ZS(e,this.persistence);return new H0(t.asyncQueue,i)}createPersistence(t){const e=Dh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Bw(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,bT(),Mg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new _T}}class Oy extends Vg{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ie.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof $w&&(i.sharedClientState.syncEngine={jr:ak.bind(null,r),zr:$T.bind(null,r),Wr:GT.bind(null,r),$i:TD.bind(null,r),Qr:HT.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,ie.Z)(function*(l){yield function Sy(n,t){return ED.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=bT();if(!$w.D(e))throw new Xe(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Dh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $w(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ep{initialize(t,e){var i=this;return(0,ie.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>ek(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,i.syncEngine),yield wy(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new WM}createDatastore(t){const e=kg(t.databaseInfo.databaseId),i=new Sg(t.databaseInfo);return new qw(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=f=>ek(this.syncEngine,f,0),l=vT.D()?new vT:new BM,new HM(e,i,r,o,l);var e,i,r,o,l}createSyncEngine(t,e){return function(i,r,o,l,f,g,y){const E=new XM(i,r,o,l,f,g);return y&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ie.Z)(function*(e){const i=wt(e);at("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield $u(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function qT(n,t=10240){let e=0;return{read:()=>(0,ie.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ry{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class lk{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Br,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,ie.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,ie.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,ie.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new YM(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,ie.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,ie.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,ie.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class YT{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Xe(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ie.Z)(function*(o,l){const f=wt(o),g=_h(f.serializer)+"/documents",y={documents:l.map(W=>gh(f.serializer,W))},E=yield f.vo("BatchGetDocuments",g,y,l.length),I=new Map;E.forEach(W=>{const X=function DM(n,t){return"found"in t?function(e,i){Bt(!!i.found);const r=Lo(e,i.found.name),o=_i(i.found.updateTime),l=i.found.createTime?_i(i.found.createTime):Ut.min(),f=new yo({mapValue:{fields:i.found.fields}});return Pi.newFoundDocument(r,o,l,f)}(n,t):"missing"in t?function(e,i){Bt(!!i.missing),Bt(!!i.readTime);const r=Lo(e,i.missing),o=_i(i.readTime);return Pi.newNoDocument(r,o)}(n,t):At()}(f.serializer,W);I.set(X.key.toString(),X)});const U=[];return l.forEach(W=>{const X=I.get(W.toString());Bt(!!X),U.push(X)}),U}),function(o,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=bt.fromPath(r);t.mutations.push(new hg(o,t.precondition(o)))}),yield(i=(0,ie.Z)(function*(r,o){const l=wt(r),f=_h(l.serializer)+"/documents",g={writes:o.map(y=>gg(l.serializer,y))};yield l.Io("Commit",f,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw At();e=Ut.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Xe(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ut.min())?Zi.exists(!1):Zi.updateTime(e):Zi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ut.min()))throw new Xe(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zi.updateTime(e)}return Zi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class kD{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new my(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,ie.Z)(function*(){const e=new YT(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!tg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!hw(e)}return!1}}class KT{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Lr.UNAUTHENTICATED,this.clientId=B0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,ie.Z)(function*(f){at("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(at("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,ie.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xh(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Ug(n,t){return Py.apply(this,arguments)}function Py(){return Py=(0,ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ie.Z)(function*(o){i.isEqual(o)||(yield Uw(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Py.apply(this,arguments)}function Ny(n,t){return OD.apply(this,arguments)}function OD(){return OD=(0,ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Fy(n);at("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>by(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>by(t.remoteStore,o)),n._onlineComponents=t}),OD.apply(this,arguments)}function RD(n){return"FirebaseError"===n.name?n.code===Se.FAILED_PRECONDITION||n.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Fy(n){return PD.apply(this,arguments)}function PD(){return PD=(0,ie.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ug(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!RD(e))throw e;vo("Error using user provided cache. Falling back to memory cache: "+e),yield Ug(n,new Mh)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield Ug(n,new Mh);return n._offlineComponents}),PD.apply(this,arguments)}function jg(n){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,ie.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ny(n,n._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield Ny(n,new Ep))),n._onlineComponents}),Ly.apply(this,arguments)}function jo(n){return Fy(n).then(t=>t.persistence)}function Oc(n){return Fy(n).then(t=>t.localStore)}function ZT(n){return jg(n).then(t=>t.remoteStore)}function ND(n){return jg(n).then(t=>t.syncEngine)}function Hg(n){return By.apply(this,arguments)}function By(){return By=(0,ie.Z)(function*(n){const t=yield jg(n),e=t.eventManager;return e.onListen=JM.bind(null,t.syncEngine),e.onUnlisten=VT.bind(null,t.syncEngine),e}),By.apply(this,arguments)}function Vy(n,t,e={}){const i=new Br;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(r,o,l,f,g){const y=new Ry({next:I=>{o.enqueueAndForget(()=>Cy(r,E));const U=I.docs.has(l);!U&&I.fromCache?g.reject(new Xe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&f&&"server"===f.source?g.reject(new Xe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new NT(za(l.path),y,{includeMetadataChanges:!0,Ku:!0});return aD(r,E)}(yield Hg(n),n.asyncQueue,t,e,i)})),i.promise}function LD(n,t,e={}){const i=new Br;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(r,o,l,f,g){const y=new Ry({next:I=>{o.enqueueAndForget(()=>Cy(r,E)),I.fromCache&&"server"===f.source?g.reject(new Xe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new NT(l,y,{includeMetadataChanges:!0,Ku:!0});return aD(r,E)}(yield Hg(n),n.asyncQueue,t,e,i)})),i.promise}function VD(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const QT=new Map;function xp(n,t,e){if(!e)throw new Xe(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Uy(n,t,e,i){if(!0===t&&!0===i)throw new Xe(Se.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function mk(n){if(!bt.isDocumentKey(n))throw new Xe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UD(n){if(bt.isDocumentKey(n))throw new Xe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":At()}function xn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Xe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jy(n);throw new Xe(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function kh(n,t){if(t<=0)throw new Xe(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class XT{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Xe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VD(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Xe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new WE;switch(e.type){case"firstParty":return new pP(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Xe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=QT.get(t);e&&(at("ComponentProvider","Removing Datastore"),QT.delete(t),e.terminate())}(this),Promise.resolve()}}class Qi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qi(this.firestore,t,this._key)}}class Do{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Do(this.firestore,t,this._query)}}class Rc extends Do{constructor(t,e,i){super(t,e,za(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qi(this.firestore,null,new bt(t))}withConverter(t){return new Rc(this.firestore,t,this._path)}}function JT(n,t,...e){if(n=(0,Pn.m9)(n),xp("collection","path",t),n instanceof Tp){const i=Dt.fromString(t,...e);return UD(i),new Rc(n,null,i)}{if(!(n instanceof Qi||n instanceof Rc))throw new Xe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(t,...e));return UD(i),new Rc(n.firestore,null,i)}}function zy(n,t,...e){if(n=(0,Pn.m9)(n),1===arguments.length&&(t=B0.A()),xp("doc","path",t),n instanceof Tp){const i=Dt.fromString(t,...e);return mk(i),new Qi(n,null,new bt(i))}{if(!(n instanceof Qi||n instanceof Rc))throw new Xe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(t,...e));return mk(i),new Qi(n.firestore,n instanceof Rc?n.converter:null,new bt(i))}}function jD(n,t){return n=(0,Pn.m9)(n),t=(0,Pn.m9)(t),(n instanceof Qi||n instanceof Rc)&&(t instanceof Qi||t instanceof Rc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function $y(n,t){return n=(0,Pn.m9)(n),t=(0,Pn.m9)(t),n instanceof Do&&t instanceof Do&&n.firestore===t.firestore&&rp(n._query,t._query)&&n.converter===t.converter}class _k{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new my(this,"async_queue_retry"),this.Xc=()=>{const e=Mg();e&&at("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Mg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Mg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Br;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,ie.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Dc(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=Lg.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&At()}verifyOperationInProgress(){}sa(){var t=this;return(0,ie.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function Gy(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class eI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ni extends Tp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new _k,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HD(this),this._firestoreClient.terminate()}}function fr(n){return n._firestoreClient||HD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HD(n){var t,e,i;const r=n._freezeSettings(),o=(f=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new cM(n._databaseId,f,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VD(y.experimentalLongPollingOptions),y.useFetchStreams));var f,y;n._firestoreClient=new KT(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function iI(n,t,e){const i=new Br;return n.asyncQueue.enqueue((0,ie.Z)(function*(){try{yield Ug(n,e),yield Ny(n,t),i.resolve()}catch(r){const o=r;if(!RD(o))throw o;vo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function wk(n){if(n._initialized||n._terminated)throw new Xe(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pc(Ur.fromBase64String(t))}catch(e){throw new Xe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Pc(Ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ku{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Xe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nc{constructor(t){this._methodName=t}}class $g{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dn(this._lat,t._lat)||dn(this._long,t._long)}}const Ck=/^__.*__$/;class qy{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $a(t,this.data,this.fieldMask,e,this.fieldTransforms):new ph(t,this.data,e,this.fieldTransforms)}}class oI{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $a(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class zD{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new zD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Qy(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(Ek(this.ca)&&Ck.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class MP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||kg(t)}ya(t,e,i,r=!1){return new zD({ca:t,methodName:e,ga:i,path:rr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(n){const t=n._freezeSettings(),e=kg(n._databaseId);return new MP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Yy(n,t,e,i,r,o={}){const l=n.ya(o.merge||o.mergeFields?2:0,t,e,r);Xr("Data must be an object, but it was:",l,i);const f=lI(i,l);let g,y;if(o.merge)g=new ls(l.fieldMask),y=l.fieldTransforms;else if(o.mergeFields){const E=[];for(const I of o.mergeFields){const U=Wg(t,I,e);if(!l.contains(U))throw new Xe(Se.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Xy(E,U)||E.push(U)}g=new ls(E),y=l.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,y=l.fieldTransforms;return new qy(new yo(f),g,y)}class Gg extends Nc{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gg}}function xk(n,t,e){return new zD({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $D extends Nc{_toFieldTransform(t){return new fh(t.path,new lp)}isEqual(t){return t instanceof $D}}class sI extends Nc{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xk(this,t,!0),i=this.pa.map(o=>Zu(o,e)),r=new hh(i);return new fh(t.path,r)}isEqual(t){return this===t}}class aI extends Nc{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xk(this,t,!0),i=this.pa.map(o=>Zu(o,e)),r=new Al(i);return new fh(t.path,r)}isEqual(t){return this===t}}class kP extends Nc{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new lg(t.serializer,lw(t.serializer,this.Ia));return new fh(t.path,e)}isEqual(t){return this===t}}function Ws(n,t,e,i){const r=n.ya(1,t,e);Xr("Data must be an object, but it was:",r,i);const o=[],l=yo.empty();Ec(i,(g,y)=>{const E=Zy(t,g,e);y=(0,Pn.m9)(y);const I=r.da(E);if(y instanceof Gg)o.push(E);else{const U=Zu(y,I);null!=U&&(o.push(E),l.set(E,U))}});const f=new ls(o);return new oI(l,f,r.fieldTransforms)}function GD(n,t,e,i,r,o){const l=n.ya(1,t,e),f=[Wg(t,i,e)],g=[r];if(o.length%2!=0)throw new Xe(Se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<o.length;U+=2)f.push(Wg(t,o[U])),g.push(o[U+1]);const y=[],E=yo.empty();for(let U=f.length-1;U>=0;--U)if(!Xy(y,f[U])){const W=f[U];let X=g[U];X=(0,Pn.m9)(X);const ae=l.da(W);if(X instanceof Gg)y.push(W);else{const le=Zu(X,ae);null!=le&&(y.push(W),E.set(W,le))}}const I=new ls(y);return new oI(E,I,l.fieldTransforms)}function Ky(n,t,e,i=!1){return Zu(e,n.ya(i?4:3,t))}function Zu(n,t){if(Tk(n=(0,Pn.m9)(n)))return Xr("Unsupported field value:",t,n),lI(n,t);if(n instanceof Nc)return function(e,i){if(!Ek(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const l of e){let f=Zu(l,i.wa(o));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Pn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lw(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ai.fromDate(e);return{timestampValue:mh(i.serializer,r)}}if(e instanceof Ai){const r=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mh(i.serializer,r)}}if(e instanceof $g)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pc)return{bytesValue:vw(i.serializer,e._byteString)};if(e instanceof Qi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:yw(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${jy(e)}`)}(n,t)}function lI(n,t){const e={};return Y0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ec(n,(i,r)=>{const o=Zu(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function Tk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof $g||n instanceof Pc||n instanceof Qi||n instanceof Nc)}function Xr(n,t,e){if(!Tk(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jy(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Wg(n,t,e){if((t=(0,Pn.m9)(t))instanceof Ku)return t._internalPath;if("string"==typeof t)return Zy(n,t);throw Qy("Field path arguments must be of type string or ",n,!1,void 0,e)}const WD=new RegExp("[~\\*/\\[\\]]");function Zy(n,t,e){if(t.search(WD)>=0)throw Qy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ku(...t.split("."))._internalPath}catch{throw Qy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Qy(n,t,e,i,r){const o=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(o||l)&&(g+=" (found",o&&(g+=` in field ${i}`),l&&(g+=` in document ${r}`),g+=")"),new Xe(Se.INVALID_ARGUMENT,f+n+g)}function Xy(n,t){return n.some(e=>e.isEqual(t))}class Ip{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Jy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class cI extends Ip{data(){return super.data()}}function Jy(n,t){return"string"==typeof t?Zy(n,t):t instanceof Ku?t._internalPath:t._delegate._internalPath}function qD(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Xe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eb{}class Ap extends eb{}function Fc(n,t,...e){let i=[];t instanceof eb&&i.push(t),i=i.concat(e),function(r){const o=r.filter(f=>f instanceof Sp).length,l=r.filter(f=>f instanceof qg).length;if(o>1||o>0&&l>0)throw new Xe(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class qg extends Ap{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new qg(t,e,i)}_apply(t){const e=this._parse(t);return ZD(t._query,e),new Do(t.firestore,t.converter,Sv(t._query,e))}_parse(t){const e=Oh(t.firestore);return function(r,o,l,f,g,y,E){let I;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Xe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){fI(E,y);const U=[];for(const W of E)U.push(KD(f,r,W));I={arrayValue:{values:U}}}else I=KD(f,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||fI(E,y),I=Ky(l,"where",E,"in"===y||"not-in"===y);return Mn.create(g,y,I)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Sp extends eb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Sp(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const f of l)ZD(o,f),o=Sv(o,f)}(t._query,e),new Do(t.firestore,t.converter,Sv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tb extends Ap{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new tb(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new tp(r,o);return function(f,g){if(null===Pu(f)){const y=Ic(f);null!==y&&Ok(0,y,g.field)}}(i,l),l}(t._query,this._field,this._direction);return new Do(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Es(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Mp extends Ap{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Mp(t,e,i)}_apply(t){return new Do(t.firestore,t.converter,rg(t._query,this._limit,this._limitType))}}class Yg extends Ap{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Yg(t,e,i)}_apply(t){const e=kk(t,this.type,this._docOrFields,this._inclusive);return new Do(t.firestore,t.converter,(r=e,new Es((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class nb extends Ap{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nb(t,e,i)}_apply(t){const e=kk(t,this.type,this._docOrFields,this._inclusive);return new Do(t.firestore,t.converter,(r=e,new Es((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function kk(n,t,e,i){if(e[0]=(0,Pn.m9)(e[0]),e[0]instanceof Ip)return function(r,o,l,f,g){if(!f)throw new Xe(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const E of Fu(r))if(E.field.isKeyField())y.push(Ha(o,f.key));else{const I=f.data.field(E.field);if(wv(I))throw new Xe(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const U=E.field.canonicalString();throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}y.push(I)}return new Ou(y,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Oh(n.firestore);return function(o,l,f,g,y,E){const I=o.explicitOrderBy;if(y.length>I.length)throw new Xe(Se.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let W=0;W<y.length;W++){const X=y[W];if(I[W].field.isKeyField()){if("string"!=typeof X)throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof X}`);if(!Nu(o)&&-1!==X.indexOf("/"))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${X}' contains a slash.`);const ae=o.path.child(Dt.fromString(X));if(!bt.isDocumentKey(ae))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const le=new bt(ae);U.push(Ha(l,le))}else{const ae=Ky(f,g,X);U.push(ae)}}return new Ou(U,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function KD(n,t,e){if("string"==typeof(e=(0,Pn.m9)(e))){if(""===e)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nu(t)&&-1!==e.indexOf("/"))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Dt.fromString(e));if(!bt.isDocumentKey(i))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ha(n,new bt(i))}if(e instanceof Qi)return Ha(n,e._key);throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(e)}.`)}function fI(n,t){if(!Array.isArray(n)||0===n.length)throw new Xe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ZD(n,t){if(t.isInequality()){const i=Ic(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Pu(n);null!==o&&Ok(0,r,o)}const e=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Xe(Se.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function Ok(n,t,e){if(!e.isEqual(t))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class rb{convertValue(t,e="none"){switch(ah(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ua(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw At()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ec(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new $g(dr(t.latitude),dr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Dv(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xf(t));default:return null}}convertTimestamp(t){const e=xl(t);return new Ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Dt.fromString(t);Bt(xM(i));const r=new ja(i.get(1),i.get(3)),o=new bt(i.popFirst(5));return r.isEqual(e)||ir(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Kg(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Rk extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,e)}}class Qu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lc extends Ip{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Jy("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Zg extends Lc{data(t={}){return super.data(t)}}class Ph{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Qu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Zg(this._firestore,this._userDataWriter,i.key,i,new Qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Xe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Zg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Zg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==l.type&&(g=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),y=o.indexOf(l.doc.key)),{type:pI(l.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function mI(n,t){return n instanceof Lc&&t instanceof Lc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ph&&t instanceof Ph&&n._firestore===t._firestore&&$y(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Nh extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,e)}}function _I(n,t,e){n=xn(n,Qi);const i=xn(n.firestore,Ni),r=Kg(n.converter,t,e);return Op(i,[Yy(Oh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Zi.none())])}function Uk(n,t,e,...i){n=xn(n,Qi);const r=xn(n.firestore,Ni),o=Oh(r);let l;return l="string"==typeof(t=(0,Pn.m9)(t))||t instanceof Ku?GD(o,"updateDoc",n._key,t,e,i):Ws(o,"updateDoc",n._key,t),Op(r,[l.toMutation(n._key,Zi.exists(!0))])}function jk(n,...t){var e,i,r;n=(0,Pn.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||Gy(t[l])||(o=t[l],l++);const f={includeMetadataChanges:o.includeMetadataChanges};if(Gy(t[l])){const I=t[l];t[l]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[l+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[l+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let g,y,E;if(n instanceof Qi)y=xn(n.firestore,Ni),E=za(n._key.path),g={next:I=>{t[l]&&t[l](Rp(y,n,I))},error:t[l+1],complete:t[l+2]};else{const I=xn(n,Do);y=xn(I.firestore,Ni),E=I._query;const U=new Nh(y);g={next:W=>{t[l]&&t[l](new Ph(y,U,I,W))},error:t[l+1],complete:t[l+2]},qD(n._query)}return function(I,U,W,X){const ae=new Ry(X),le=new NT(U,ae,W);return I.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return aD(yield Hg(I),le)})),()=>{ae.Dc(),I.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return Cy(yield Hg(I),le)}))}}(fr(y),E,f,g)}function Op(n,t){return function(e,i){const r=new Br;return e.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function UT(n,t,e){return Ty.apply(this,arguments)}(yield ND(e),i,r)})),r.promise}(fr(n),t)}function Rp(n,t,e){const i=e.docs.get(t._key),r=new Nh(n);return new Lc(n,r,t._key,i,new Qu(e.hasPendingWrites,e.fromCache),t.converter)}const CI={maxAttempts:5};class EI{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Oh(t)}set(t,e,i){this._verifyNotCommitted();const r=Xu(t,this._firestore),o=Kg(r.converter,e,i),l=Yy(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Zi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Xu(t,this._firestore);let l;return l="string"==typeof(e=(0,Pn.m9)(e))||e instanceof Ku?GD(this._dataReader,"WriteBatch.update",o._key,e,i,r):Ws(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Zi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Xu(t,this._firestore);return this._mutations=this._mutations.concat(new Sc(e._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xu(n,t){if((n=(0,Pn.m9)(n)).firestore!==t)throw new Xe(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zk extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Oh(t)}get(t){const e=Xu(t,this._firestore),i=new Rk(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return At();const o=r[0];if(o.isFoundDocument())return new Ip(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Ip(this._firestore,i,e._key,null,e.converter);throw At()})}set(t,e,i){const r=Xu(t,this._firestore),o=Kg(r.converter,e,i),l=Yy(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const o=Xu(t,this._firestore);let l;return l="string"==typeof(e=(0,Pn.m9)(e))||e instanceof Ku?GD(this._dataReader,"Transaction.update",o._key,e,i,r):Ws(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,l),this}delete(t){const e=Xu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Xu(t,this._firestore),i=new Nh(this._firestore);return super.get(t).then(r=>new Lc(this._firestore,i,e._key,r._document,new Qu(!1,!1),e.converter))}}function eC(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function MI(){if(typeof Uint8Array>"u")throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function Kk(){if(!function xc(){return typeof atob<"u"}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){eh=mc.SDK_VERSION,(0,mc._registerComponent)(new Ef.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),l=new Ni(new yc(e.getProvider("auth-internal")),new mP(e.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Xe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(f.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(zE,"3.12.1",n),(0,mc.registerVersion)(zE,"3.12.1","esm2017")}();class sb{constructor(t){this._delegate=t}static fromBase64String(t){return Kk(),new sb(Pc.fromBase64String(t))}static fromUint8Array(t){return MI(),new sb(Pc.fromUint8Array(t))}toBase64(){return Kk(),this._delegate.toBase64()}toUint8Array(){return MI(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tC(n){return function Zk(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Qk{enableIndexedDbPersistence(t,e){return function tI(n,t){wk(n=xn(n,Ni));const e=fr(n);if(e._uninitializedComponentsProvider)throw new Xe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ep;return iI(e,r,new Vg(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function nI(n){wk(n=xn(n,Ni));const t=fr(n);if(t._uninitializedComponentsProvider)throw new Xe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");vo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Ep;return iI(t,i,new Oy(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function bk(n){if(n._initialized&&!n._terminated)throw new Xe(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{yield(e=(0,ie.Z)(function*(i){if(!Ro.D())return Promise.resolve();const r=i+"main";yield Ro.delete(r)}),function(i){return e.apply(this,arguments)})(Dh(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class kI{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ja||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&vo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Hy(n,t,e,i={}){var r;const o=(n=xn(n,Tp))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&vo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let l,f;if("string"==typeof i.mockUserToken)l=i.mockUserToken,f=Lr.MOCK_USER;else{l=(0,Pn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Xe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lr(g)}n._authCredentials=new qf(new GE(l,f))}}(this._delegate,t,e,i)}enableNetwork(){return function rI(n){return function FD(n){return n.asyncQueue.enqueue((0,ie.Z)(function*(){const t=yield jo(n),e=yield ZT(n);return t.setNetworkEnabled(!0),function(i){const r=wt(i);return r.vu.delete(0),Og(r)}(e)}))}(fr(n=xn(n,Ni)))}(this._delegate)}disableNetwork(){return function TP(n){return function zg(n){return n.asyncQueue.enqueue((0,ie.Z)(function*(){const t=yield jo(n),e=yield ZT(n);return t.setNetworkEnabled(!1),(i=(0,ie.Z)(function*(r){const o=wt(r);o.vu.add(0),yield $u(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(fr(n=xn(n,Ni)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Uy("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xP(n){return function(t){const e=new Br;return t.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function ik(n,t){return Bg.apply(this,arguments)}(yield ND(t),e)})),e.promise}(fr(n=xn(n,Ni)))}(this._delegate)}onSnapshotsInSync(t){return function LP(n,t){return function hk(n,t){const e=new Ry(t);return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return i=yield Hg(n),r=e,wt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return i=yield Hg(n),r=e,void wt(i).ku.delete(r);var i,r}))}}(fr(n=xn(n,Ni)),Gy(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new e_(this,JT(this._delegate,t))}catch(e){throw Ho(e,"collection()","Firestore.collection()")}}doc(t){try{return new qs(this,zy(this._delegate,t))}catch(e){throw Ho(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new zo(this,function gk(n,t){if(n=xn(n,Tp),xp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Xe(Se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(n,null,(e=t,new Es(Dt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ho(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function $k(n,t,e){n=xn(n,Ni);const i=Object.assign(Object.assign({},CI),e);return function(r){if(r.maxAttempts<1)throw new Xe(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const f=new Br;return r.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){const g=yield function ck(n){return jg(n).then(t=>t.datastore)}(r);new kD(r.asyncQueue,g,l,o,f).run()})),f.promise}(fr(n),r=>t(new zk(n,r)),i)}(this._delegate,e=>t(new Xk(this,e)))}batch(){return fr(this._delegate),new RI(new EI(this._delegate,t=>Op(this._delegate,t)))}loadBundle(t){return function IP(n,t){const e=fr(n=xn(n,Ni)),i=new eI;return function fk(n,t,e,i){const r=function(o,l){let f;return f="string"==typeof o?Vv().encode(o):o,g=function(g,y){if(g instanceof Uint8Array)return qT(g,y);if(g instanceof ArrayBuffer)return qT(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new lk(g,l);var g}(e,kg(t));n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){!function MD(n,t,e){const i=wt(n);var r;(r=(0,ie.Z)(function*(o,l,f){try{const g=yield l.getMetadata();if(yield function(U,W){const X=wt(U),ae=_i(W.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",le=>X.qs.getBundleMetadata(le,W.id)).then(le=>!!le&&le.createTime.compareTo(ae)>=0)}(o.localStore,g))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(U=g).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);f._updateProgress(uD(g));const y=new KM(g,o.localStore,l.serializer);let E=yield l.bc();for(;E;){const U=yield y.zu(E);U&&f._updateProgress(U),E=yield l.bc()}const I=yield y.complete();return yield wa(o,I.Ju,void 0),yield function(U,W){const X=wt(U);return X.persistence.runTransaction("Save bundle","readwrite",ae=>X.qs.saveBundleMetadata(ae,W))}(o.localStore,g),f._completeWith(I.progress),Promise.resolve(I.Hu)}catch(g){return vo("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var U}),function(o,l,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ND(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function AP(n,t){return function pk(n,t){return n.asyncQueue.enqueue((0,ie.Z)(function*(){return function(e,i){const r=wt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield Oc(n),t)}))}(fr(n=xn(n,Ni)),t).then(e=>e?new Do(n,null,e.query):null)}(this._delegate,t).then(e=>e?new zo(this,e):null)}}class Qg extends rb{constructor(t){super(),this.firestore=t}convertBytes(t){return new sb(new Pc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return qs.forKey(e,this.firestore,null)}}class Xk{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Qg(t)}get(t){const e=Lh(t);return this._delegate.get(e).then(i=>new Xg(this._firestore,new Lc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Lh(t);return i?(eC("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Lh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Lh(t);return this._delegate.delete(e),this}}class RI{constructor(t){this._delegate=t}set(t,e,i){const r=Lh(t);return i?(eC("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Lh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Lh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Bc{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Zg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Jg(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Bc.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Bc(t,new Qg(t),e),r.set(e,o)),o}}Bc.INSTANCES=new WeakMap;class qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qg(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new qs(e,new Qi(e._delegate,i,new bt(t)))}static forKey(t,e,i){return new qs(e,new Qi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new e_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new e_(this.firestore,JT(this._delegate,t))}catch(e){throw Ho(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Pn.m9)(t))instanceof Qi&&jD(this._delegate,t)}set(t,e){e=eC("DocumentReference.set",e);try{return e?_I(this._delegate,t,e):_I(this._delegate,t)}catch(i){throw Ho(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Uk(this._delegate,t):Uk(this._delegate,t,e,...i)}catch(r){throw Ho(r,"updateDoc()","DocumentReference.update()")}}delete(){return function NP(n){return Op(xn(n.firestore,Ni),[new Sc(n._key,Zi.none())])}(this._delegate)}onSnapshot(...t){const e=PI(t),i=ab(t,r=>new Xg(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return jk(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function RP(n){n=xn(n,Qi);const t=xn(n.firestore,Ni),e=fr(t),i=new Nh(t);return function uk(n,t){const e=new Br;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(i=(0,ie.Z)(function*(r,o,l){try{const f=yield function(g,y){const E=wt(g);return E.persistence.runTransaction("read document","readonly",I=>E.localDocuments.getDocument(I,y))}(r,o);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Xe(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=xh(f,`Failed to get document '${o} from cache`);l.reject(g)}}),function(r,o,l){return i.apply(this,arguments)})(yield Oc(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Lc(t,i,n._key,r,new Qu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function PP(n){n=xn(n,Qi);const t=xn(n.firestore,Ni);return Vy(fr(t),n._key,{source:"server"}).then(e=>Rp(t,n,e))}(this._delegate):function Lk(n){n=xn(n,Qi);const t=xn(n.firestore,Ni);return Vy(fr(t),n._key).then(e=>Rp(t,n,e))}(this._delegate),e.then(i=>new Xg(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new qs(this.firestore,this._delegate.withConverter(t?Bc.getInstance(this.firestore,t):null))}}function Ho(n,t,e){return n.message=n.message.replace(t,e),n}function PI(n){for(const t of n)if("object"==typeof t&&!tC(t))return t;return{}}function ab(n,t){var e,i;let r;return r=tC(n[0])?n[0]:tC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Xg{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new qs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return mI(this._delegate,t._delegate)}}class Jg extends Xg{data(t){const e=this._delegate.data(t);return function qS(n,t){n||At()}(void 0!==e),e}}class zo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qg(t)}where(t,e,i){try{return new zo(this.firestore,Fc(this._delegate,function uI(n,t,e){const i=t,r=Jy("where",n);return qg._create(r,i,e)}(t,e,i)))}catch(r){throw Ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new zo(this.firestore,Fc(this._delegate,function YD(n,t="asc"){const e=t,i=Jy("orderBy",n);return tb._create(i,e)}(t,e)))}catch(i){throw Ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new zo(this.firestore,Fc(this._delegate,function Ik(n){return kh("limit",n),Mp._create("limit",n,"F")}(t)))}catch(e){throw Ho(e,"limit()","Query.limit()")}}limitToLast(t){try{return new zo(this.firestore,Fc(this._delegate,function OP(n){return kh("limitToLast",n),Mp._create("limitToLast",n,"L")}(t)))}catch(e){throw Ho(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new zo(this.firestore,Fc(this._delegate,function Ak(...n){return Yg._create("startAt",n,!0)}(...t)))}catch(e){throw Ho(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new zo(this.firestore,Fc(this._delegate,function Sk(...n){return Yg._create("startAfter",n,!1)}(...t)))}catch(e){throw Ho(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new zo(this.firestore,Fc(this._delegate,function Mk(...n){return nb._create("endBefore",n,!1)}(...t)))}catch(e){throw Ho(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new zo(this.firestore,Fc(this._delegate,function hI(...n){return nb._create("endAt",n,!0)}(...t)))}catch(e){throw Ho(e,"endAt()","Query.endAt()")}}isEqual(t){return $y(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Bk(n){n=xn(n,Do);const t=xn(n.firestore,Ni),e=fr(t),i=new Nh(t);return function dk(n,t){const e=new Br;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(i=(0,ie.Z)(function*(r,o,l){try{const f=yield Ig(r,o,!0),g=new BT(o,f.ir),y=g.sc(f.documents),E=g.applyChanges(y,!1);l.resolve(E.snapshot)}catch(f){const g=xh(f,`Failed to execute query '${o} against cache`);l.reject(g)}}),function(r,o,l){return i.apply(this,arguments)})(yield Oc(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ph(t,i,n,r))}(this._delegate):"server"===t?.source?function Vk(n){n=xn(n,Do);const t=xn(n.firestore,Ni),e=fr(t),i=new Nh(t);return LD(e,n._query,{source:"server"}).then(r=>new Ph(t,i,n,r))}(this._delegate):function gI(n){n=xn(n,Do);const t=xn(n.firestore,Ni),e=fr(t),i=new Nh(t);return qD(n._query),LD(e,n._query).then(r=>new Ph(t,i,n,r))}(this._delegate),e.then(i=>new lb(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=PI(t),i=ab(t,r=>new lb(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return jk(this._delegate,e,i)}withConverter(t){return new zo(this.firestore,this._delegate.withConverter(t?Bc.getInstance(this.firestore,t):null))}}class NI{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Jg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lb{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Jg(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new NI(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Jg(this._firestore,i))})}isEqual(t){return mI(this._delegate,t._delegate)}}class e_ extends zo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new qs(this.firestore,t):null}doc(t){try{return new qs(this.firestore,void 0===t?zy(this._delegate):zy(this._delegate,t))}catch(e){throw Ho(e,"doc()","CollectionReference.doc()")}}add(t){return function FP(n,t){const e=xn(n.firestore,Ni),i=zy(n),r=Kg(n.converter,t);return Op(e,[Yy(Oh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new qs(this.firestore,e))}isEqual(t){return jD(this._delegate,t._delegate)}withConverter(t){return new e_(this.firestore,this._delegate.withConverter(t?Bc.getInstance(this.firestore,t):null))}}function Lh(n){return xn(n,Qi)}class Pp{constructor(...t){this._delegate=new Ku(...t)}static documentId(){return new Pp(rr.keyField().canonicalString())}isEqual(t){return(t=(0,Pn.m9)(t))instanceof Ku&&this._delegate._internalPath.isEqual(t._internalPath)}}class Np{constructor(t){this._delegate=t}static serverTimestamp(){const t=function TI(){return new $D("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Np(t)}static delete(){const t=function xI(){return new Gg("deleteField")}();return t._methodName="FieldValue.delete",new Np(t)}static arrayUnion(...t){const e=function II(...n){return new sI("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Np(e)}static arrayRemove(...t){const e=function Gk(...n){return new aI("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Np(e)}static increment(t){const e=function Wk(n){return new kP("increment",n)}(t);return e._methodName="FieldValue.increment",new Np(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Jk={Firestore:kI,GeoPoint:$g,Timestamp:Ai,Blob:sb,Transaction:Xk,WriteBatch:RI,DocumentReference:qs,DocumentSnapshot:Xg,Query:zo,QueryDocumentSnapshot:Jg,QuerySnapshot:lb,CollectionReference:e_,FieldPath:Pp,FieldValue:Np,setLogLevel:function OI(n){!function $E(n){El.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function zP(n){(function HP(n,t){n.INTERNAL.registerComponent(new Ef.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Jk)))})(n,(t,e)=>new kI(t,e,new Qk)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(Ie.Z);var cb=S(5363),$o=S(3900),$P=S(4707),GP=S(3099);function eO(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,GP.B)({connector:()=>new $P.t(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const nC=(0,S(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iC(n){return(0,cr.e)((t,e)=>{let i=!1;t.subscribe((0,Wi.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function nO(n=WP){return(0,cr.e)((t,e)=>{let i=!1;t.subscribe((0,Wi.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function WP(){return new nC}var rC=S(4671);function Ju(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,bi.h)((r,o)=>n(r,o,i)):rC.y,(0,Pr.q)(1),e?iC(t):nO(()=>new nC))}function iO(n,t){return(0,Wr.m)(t)?(0,$o.w)(()=>n,t):(0,$o.w)(()=>n)}var s=S(9468);S(259);const Yt=new Map,vn={activated:!1,tokenObservers:[]},ai={initialized:!1,enabled:!1};function Gn(n){return Yt.get(n)||Object.assign({},vn)}function LI(){return ai}const rO="https://content-firebaseappcheck.googleapis.com/v1",LU="exchangeDebugToken",qP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class VU{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ie.Z)(function*(){e.stop();try{e.pending=new Pn.BH,yield function UU(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Pn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const us=new Pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oO(n){if(!Gn(n).activated)throw us.create("use-before-activation",{appName:n.name})}function UI(n,t){return aO.apply(this,arguments)}function aO(){return aO=(0,ie.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let l,f;try{l=yield fetch(n,o)}catch(I){throw us.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==l.status)throw us.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(I){throw us.create("fetch-parse-error",{originalErrorMessage:I?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const y=1e3*Number(g[1]),E=Date.now();return{token:f.token,expireTimeMillis:E+y,issuedAtTimeMillis:E}}),aO.apply(this,arguments)}function YP(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${rO}/projects/${e}/apps/${i}:${LU}?key=${r}`,body:{debug_token:t}}}const $U="firebase-app-check-database",GU=1,oC="firebase-app-check-store";let jI=null;function lO(){return lO=(0,ie.Z)(function*(n,t){const i=(yield function ZP(){return jI||(jI=new Promise((n,t)=>{try{const e=indexedDB.open($U,GU);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(us.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(oC,{keyPath:"compositeKey"})}}catch(e){t(us.create("storage-open",{originalErrorMessage:e?.message}))}}),jI)}()).transaction(oC,"readwrite"),o=i.objectStore(oC).put({compositeKey:n,value:t});return new Promise((l,f)=>{o.onsuccess=g=>{l()},i.onerror=g=>{var y;f(us.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),lO.apply(this,arguments)}const sC=new _l.Yd("@firebase/app-check");function dO(n,t){return(0,Pn.hl)()?function qU(n,t){return function QP(n,t){return lO.apply(this,arguments)}(function JP(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{sC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function fO(){return LI().enabled}function pO(){return mO.apply(this,arguments)}function mO(){return mO=(0,ie.Z)(function*(){const n=LI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),mO.apply(this,arguments)}const JU={error:"UNKNOWN_ERROR"};function ej(n){return Pn.US.encodeString(JSON.stringify(n),!1)}function HI(n){return gO.apply(this,arguments)}function gO(){return gO=(0,ie.Z)(function*(n,t=!1){const e=n.app;oO(e);const i=Gn(e);let o,r=i.token;if(r&&!ub(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(ub(g)?r=g:yield dO(e,void 0))}if(!t&&r&&ub(r))return{token:r.token};let f,l=!1;if(fO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=UI(YP(e,yield pO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const g=yield i.exchangeTokenPromise;return yield dO(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Gn(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?sC.warn(g.message):sC.error(g),o=g}return r?o?f=ub(r)?{token:r.token,internalError:o}:iN(o):(f={token:r.token},i.token=r,yield dO(e,r)):f=iN(o),l&&function nN(n,t){const e=Gn(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,f),f}),gO.apply(this,arguments)}function _O(){return _O=(0,ie.Z)(function*(n){const t=n.app;oO(t);const{provider:e}=Gn(t);if(fO()){const i=yield pO(),{token:r}=yield UI(YP(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),_O.apply(this,arguments)}function yO(n,t){const e=Gn(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function tN(n){const{app:t}=n,e=Gn(t);let i=e.tokenRefresher;i||(i=function tj(n){const{app:t}=n;return new VU((0,ie.Z)(function*(){let i;if(i=Gn(t).token?yield HI(n,!0):yield HI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Gn(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},qP.RETRIAL_MIN_WAIT,qP.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ub(n){return n.expireTimeMillis-Date.now()>0}function iN(n){return{token:ej(JU),error:n}}class nj{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Gn(this.app);for(const e of t)yO(this.app,e.next);return Promise.resolve()}}const dN="app-check-internal";!function gj(){(0,mc._registerComponent)(new Ef.wA("app-check",n=>function ij(n,t){return new nj(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(dN).initialize()})),(0,mc._registerComponent)(new Ef.wA(dN,n=>function rj(n){return{getToken:t=>HI(n,t),getLimitedUseToken:()=>function eN(n){return _O.apply(this,arguments)}(n),addTokenListener:t=>function vO(n,t,e,i){const{app:r}=n,o=Gn(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&ub(o.token)){const f=o.token;Promise.resolve().then(()=>{e({token:f.token}),tN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>tN(n))}(n,"INTERNAL",t),removeTokenListener:t=>yO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mc.registerVersion)("@firebase/app-check","0.8.0")}();class CO{constructor(){return(0,Fr.vb)("app-check")}}typeof window<"u"&&window,S(9260);const fN=new c.OlP("angularfire2.auth.use-emulator"),pN=new c.OlP("angularfire2.auth.settings"),mN=new c.OlP("angularfire2.auth.tenant-id"),gN=new c.OlP("angularfire2.auth.langugage-code"),_N=new c.OlP("angularfire2.auth.use-device-language"),vN=new c.OlP("angularfire.auth.persistence"),yN=(n,t,e,i,r,o,l,f)=>(0,F.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),l)for(const[y,E]of Object.entries(l))g.settings[y]=E;return f&&g.setPersistence(f),g},[e,i,r,o,l,f]);let $I=(()=>{class n{constructor(e,i,r,o,l,f,g,y,E,I,U,W){const X=new cn.x,ae=(0,Ft.of)(void 0).pipe((0,cb.Q)(l.outsideAngular),(0,$o.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,9568)))),(0,Zt.U)(()=>(0,F.on)(e,o,i)),(0,Zt.U)(le=>yN(le,o,f,y,E,I,g,U)),eO({bufferSize:1,refCount:!1}));if(ks(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ft.of)(null);else{ae.pipe(Ju()).subscribe();const _e=ae.pipe((0,$o.w)(He=>He.getRedirectResult().then(st=>st,()=>null)),Fr.iC,eO({bufferSize:1,refCount:!1})),xe=ae.pipe((0,$o.w)(He=>new Gi.y(st=>({unsubscribe:o.runOutsideAngular(()=>He.onAuthStateChanged(dt=>st.next(dt),dt=>st.error(dt),()=>st.complete()))})))),Ee=ae.pipe((0,$o.w)(He=>new Gi.y(st=>({unsubscribe:o.runOutsideAngular(()=>He.onIdTokenChanged(dt=>st.next(dt),dt=>st.error(dt),()=>st.complete()))}))));this.authState=_e.pipe(iO(xe),(0,s.R)(l.outsideAngular),(0,cb.Q)(l.insideAngular)),this.user=_e.pipe(iO(Ee),(0,s.R)(l.outsideAngular),(0,cb.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,$o.w)(He=>He?(0,ri.D)(He.getIdToken()):(0,Ft.of)(null))),this.idTokenResult=this.user.pipe((0,$o.w)(He=>He?(0,ri.D)(He.getIdTokenResult()):(0,Ft.of)(null))),this.credential=(0,fo.T)(_e,X,this.authState.pipe((0,bi.h)(He=>!He))).pipe((0,Zt.U)(He=>He?.user?He:null),(0,s.R)(l.outsideAngular),(0,cb.Q)(l.insideAngular))}return(0,F.pX)(this,ae,o,{spy:{apply:(le,_e,xe)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&xe.then(Ee=>X.next(Ee))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(F.Dh),c.LFG(F.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(fN,8),c.LFG(pN,8),c.LFG(mN,8),c.LFG(gN,8),c.LFG(_N,8),c.LFG(vN,8),c.LFG(CO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bN(n,t){return function Dj(n,t=Cu.z){return new Gi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function xO(n,t){return bN(n,t).pipe((0,Zt.U)(e=>({payload:e,type:"query"})))}function GI(n,t){return xO(n,t).pipe(m(void 0),_(),(0,Zt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const g=r.find(E=>E.doc.ref.isEqual(l.ref)),y=e?.payload.docs.find(E=>E.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),o}))}function wN(n,t,e){return GI(n,e).pipe((0,C.R)((i,r)=>function Ej(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function xj(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return TO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return TO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return TO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),(0,k.x)(),(0,Zt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function TO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function DN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=GI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Zt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(m(void 0),_(),(0,bi.h)(([i,r])=>r.length>0||!i),(0,Zt.U)(([i,r])=>r),Fr.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,C.R)((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=DN(t);return wN(this.query,e,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(t={}){return xO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Fr.iC)}get(t){return(0,ri.D)(this.query.get(t)).pipe(Fr.iC)}add(t){return this.ref.add(t)}doc(t){return new EN(this.ref.doc(t),this.afs)}}class EN{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=xN(i,e);return new CN(r,o,this.afs)}snapshotChanges(){return function Cj(n,t){return bN(n,t).pipe(m(void 0),_(),(0,Zt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Zt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ri.D)(this.ref.get(t)).pipe(Fr.iC)}}class Tj{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?GI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),(0,bi.h)(e=>e.length>0),Fr.iC):GI(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,C.R)((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=DN(t);return wN(this.query,e,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(t={}){return xO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Zt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Fr.iC)}get(t){return(0,ri.D)(this.query.get(t)).pipe(Fr.iC)}}const Ij=new c.OlP("angularfire2.enableFirestorePersistence"),Aj=new c.OlP("angularfire2.firestore.persistenceSettings"),Sj=new c.OlP("angularfire2.firestore.settings"),Mj=new c.OlP("angularfire2.firestore.use-emulator");function xN(n,t=(e=>e)){return{query:t(n),ref:n}}let kj=(()=>{class n{constructor(e,i,r,o,l,f,g,y,E,I,U,W,X,ae,le,_e,xe){this.schedulers=g;const Ee=(0,F.on)(e,f,i),He=E;I&&yN(Ee,f,U,X,ae,le,W,_e),[this.firestore,this.persistenceEnabled$]=(0,F.cc)(`${Ee.name}.firestore`,"AngularFirestore",Ee.name,()=>{const st=f.runOutsideAngular(()=>Ee.firestore());if(o&&st.settings(o),He&&st.useEmulator(...He),r&&!ks(l)){const dt=()=>{try{return(0,ri.D)(st.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Lt){return typeof console<"u"&&console.warn(Lt),(0,Ft.of)(!1)}};return[st,f.runOutsideAngular(dt)]}return[st,(0,Ft.of)(!1)]},[o,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:l}=xN(r,i),f=this.schedulers.ngZone.run(()=>o);return new CN(f,l,this)}collectionGroup(e,i){const r=i||(l=>l),o=this.firestore.collectionGroup(e);return new Tj(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new EN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(F.Dh),c.LFG(F.xv,8),c.LFG(Ij,8),c.LFG(Sj,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(Aj,8),c.LFG(Mj,8),c.LFG($I,8),c.LFG(fN,8),c.LFG(pN,8),c.LFG(mN,8),c.LFG(gN,8),c.LFG(_N,8),c.LFG(vN,8),c.LFG(CO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oj=(()=>{class n{constructor(e,i){this.afs=e,this.angularFireAuth=i}signInWithGoogle(){return(0,ri.D)(this.angularFireAuth.signInWithPopup(new M_.V))}signOutWithGoogle(){this.angularFireAuth.signOut()}fetchTodoLists(e){return this.afs.collection("todoee-todolists",i=>i.where("author","==",e.uid)).valueChanges()}modifyTodoList(e){return(0,ri.D)(this.afs.doc(`todoee-todolists/${e.id}`).set(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(kj),c.LFG($I))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rj=(()=>{class n{constructor(e,i){this.actions$=e,this.appService=i,this.signInWithGoogle$=lc(()=>this.actions$.pipe(Oa(os),(0,qi.z)(()=>this.appService.signInWithGoogle().pipe((0,Zt.U)(r=>yu({user:Object.freeze(r)})))))),this.signOutWithGoogle$=lc(()=>this.actions$.pipe(Oa(wu),(0,Zt.U)(()=>this.appService.signOutWithGoogle())),{dispatch:!1}),this.fetchTodoLists$=lc(()=>this.actions$.pipe(Oa(wf),(0,qi.z)(({signedInUser:r})=>this.appService.fetchTodoLists(r).pipe((0,Zt.U)(o=>S_({todoLists:o})))))),this.modifyTodoList$=lc(()=>this.actions$.pipe(Oa(Df),(0,qi.z)(({todoList:r,onSuccess:o})=>this.appService.modifyTodoList(r).pipe((0,Zt.U)(()=>(o&&o(),Du()))))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(dl),c.LFG(Oj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TN=(0,ln.ZF)("appReducer"),Pj=(0,ln.P1)(TN,n=>n?.googleSignedInUser),Nj=(0,ln.P1)(TN,n=>n?.todoLists);let IN=(()=>{class n{constructor(e){this.store=e,this.getSignedInUser$=this.store.pipe((0,ln.Ys)(Pj)),this.getTodoLists$=this.store.pipe((0,ln.Ys)(Nj))}signInWithGoogle(){this.store.dispatch(os())}updateGoogleSignedInUser(e){this.store.dispatch(bu({user:e}))}signOutWithGoogle(){this.store.dispatch(wu())}fetchTodoLists(e){this.store.dispatch(wf({signedInUser:e}))}modifyTodoList(e,i){this.store.dispatch(Df({todoList:e,onSuccess:i}))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ln.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IN],imports:[ln.Aw.forRoot({}),ln.Aw.forFeature("appReducer",Wb),T.forRoot([]),T.forFeature([Rj]),_t.FT.instrument({maxAge:25})]}),n})();var Ts=S(727),kl=S(1135);const{isArray:Bj}=Array,{getPrototypeOf:Vj,prototype:Uj,keys:jj}=Object;function AN(n){if(1===n.length){const t=n[0];if(Bj(t))return{args:t,keys:null};if(function Hj(n){return n&&"object"==typeof n&&Vj(n)===Uj}(t)){const e=jj(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:zj}=Array;function IO(n){return(0,Zt.U)(t=>function $j(n,t){return zj(t)?n(...t):n(t)}(n,t))}function SN(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Gj=S(9672);function WI(...n){const t=(0,Em.yG)(n),e=(0,Em.jO)(n),{args:i,keys:r}=AN(n);if(0===i.length)return(0,ri.D)([],t);const o=new Gi.y(function Wj(n,t,e=rC.y){return i=>{MN(t,()=>{const{length:r}=n,o=new Array(r);let l=r,f=r;for(let g=0;g<r;g++)MN(t,()=>{const y=(0,ri.D)(n[g],t);let E=!1;y.subscribe((0,Wi.x)(i,I=>{o[g]=I,E||(E=!0,f--),f||i.next(e(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>SN(r,l):rC.y));return e?o.pipe(IO(e)):o}function MN(n,t,e){n?(0,Gj.f)(e,n,t):t()}function qI(n){return new Gi.y(t=>{(0,ua.Xf)(n()).subscribe(t)})}var qj=S(9635);function AO(){return(0,cr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Wi.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class kN extends Gi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,cr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ts.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Wi.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ts.w0.EMPTY)}return t}refCount(){return AO()(this)}}var aC=S(4351),Ys=S(8505);function SO(n){return n<=0?()=>gr.E:(0,cr.e)((t,e)=>{let i=[];t.subscribe((0,Wi.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function MO(n){return(0,cr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const yn="primary",lC=Symbol("RouteTitle");class Zj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function db(n){return new Zj(n)}function Qj(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],f=n[o];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ed(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ON(n[r],t[r]))return!1;return!0}function ON(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function RN(n){return n.length>0?n[n.length-1]:null}function Fp(n){return function Lj(n){return!!n&&(n instanceof Gi.y||(0,Wr.m)(n.lift)&&(0,Wr.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,ri.D)(Promise.resolve(n)):(0,Ft.of)(n)}const Jj={exact:function FN(n,t,e){if(!t_(n.segments,t.segments)||!YI(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!FN(n.children[i],t.children[i],e))return!1;return!0},subset:LN},PN={exact:function eH(n,t){return ed(n,t)},subset:function tH(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ON(n[e],t[e]))},ignored:()=>!0};function NN(n,t,e){return Jj[e.paths](n.root,t.root,e.matrixParams)&&PN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function LN(n,t,e){return BN(n,t,t.segments,e)}function BN(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!t_(r,e)||t.hasChildren()||!YI(r,e,i))}if(n.segments.length===e.length){if(!t_(n.segments,e)||!YI(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!LN(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(t_(n.segments,r)&&YI(n.segments,r,i)&&n.children[yn])&&BN(n.children[yn],t,o,i)}}function YI(n,t,e){return t.every((i,r)=>PN[e](n[r].parameters,i.parameters))}class hb{constructor(t=new wi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=db(this.queryParams)),this._queryParamMap}toString(){return rH.serialize(this)}}class wi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KI(this)}}class cC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=db(this.parameters)),this._parameterMap}toString(){return jN(this)}}function t_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new kO},providedIn:"root"}),n})();class kO{parse(t){const e=new mH(t);return new hb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${dC(t.root,!0)}`,i=function aH(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ZI(e)}=${ZI(r)}`).join("&"):`${ZI(e)}=${ZI(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function oH(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const rH=new kO;function KI(n){return n.segments.map(t=>jN(t)).join("/")}function dC(n,t){if(!n.hasChildren())return KI(n);if(t){const e=n.children[yn]?dC(n.children[yn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==yn&&i.push(`${r}:${dC(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function iH(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===yn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==yn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===yn?[dC(n.children[yn],!1)]:[`${r}:${dC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${KI(n)}/${e[0]}`:`${KI(n)}/(${e.join("//")})`}}function VN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ZI(n){return VN(n).replace(/%3B/gi,";")}function OO(n){return VN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function QI(n){return decodeURIComponent(n)}function UN(n){return QI(n.replace(/\+/g,"%20"))}function jN(n){return`${OO(n.path)}${function sH(n){return Object.keys(n).map(t=>`;${OO(t)}=${OO(n[t])}`).join("")}(n.parameters)}`}const lH=/^[^\/()?;#]+/;function RO(n){const t=n.match(lH);return t?t[0]:""}const cH=/^[^\/()?;=#]+/,dH=/^[^=?&#]+/,fH=/^[^&#]+/;class mH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wi([],{}):new wi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yn]=new wi(t,e)),i}parseSegment(){const t=RO(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new cC(QI(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function uH(n){const t=n.match(cH);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=RO(this.remaining);r&&(i=r,this.capture(i))}t[QI(e)]=QI(i)}parseQueryParam(t){const e=function hH(n){const t=n.match(dH);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function pH(n){const t=n.match(fH);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=UN(e),o=UN(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=RO(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=yn);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[yn]:new wi([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function HN(n){return n.segments.length>0?new wi([],{[yn]:n}):n}function zN(n){const t={};for(const i of Object.keys(n.children)){const o=zN(n.children[i]);if(i===yn&&0===o.segments.length&&o.hasChildren())for(const[l,f]of Object.entries(o.children))t[l]=f;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function gH(n){if(1===n.numberOfChildren&&n.children[yn]){const t=n.children[yn];return new wi(n.segments.concat(t.segments),t.children)}return n}(new wi(n.segments,t))}function n_(n){return n instanceof hb}function $N(n){let t;const r=HN(function e(o){const l={};for(const g of o.children){const y=e(g);l[g.outlet]=y}const f=new wi(o.url,l);return o===n&&(t=f),f}(n.root));return t??r}function GN(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return PO(r,r,r,e,i);const o=function vH(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qN(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Object.entries(o.outlets).forEach(([g,y])=>{f[g]="string"==typeof y?y.split("/"):y}),[...r,{outlets:f}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,o]},[]);return new qN(e,t,i)}(t);if(o.toRoot())return PO(r,r,new wi([],{}),e,i);const l=function yH(n,t,e){if(n.isAbsolute)return new JI(t,!0,0);if(!e)return new JI(t,!1,NaN);if(null===e.parent)return new JI(e,!0,0);const i=XI(n.commands[0])?0:1;return function bH(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new JI(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),f=l.processChildren?fC(l.segmentGroup,l.index,o.commands):YN(l.segmentGroup,l.index,o.commands);return PO(r,l.segmentGroup,f,e,i)}function XI(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hC(n){return"object"==typeof n&&null!=n&&n.outlets}function PO(n,t,e,i,r){let l,o={};i&&Object.entries(i).forEach(([g,y])=>{o[g]=Array.isArray(y)?y.map(E=>`${E}`):`${y}`}),l=n===t?e:WN(n,t,e);const f=HN(zN(l));return new hb(f,o,r)}function WN(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:WN(o,t,e)}),new wi(n.segments,i)}class qN{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&XI(i[0]))throw new c.vHH(4003,!1);const r=i.find(hC);if(r&&r!==RN(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JI{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function YN(n,t,e){if(n||(n=new wi([],{})),0===n.segments.length&&n.hasChildren())return fC(n,t,e);const i=function DH(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const l=n.segments[r],f=e[i];if(hC(f))break;const g=`${f}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!ZN(g,y,l))return o;i+=2}else{if(!ZN(g,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new wi(n.segments.slice(0,i.pathIndex),{});return o.children[yn]=new wi(n.segments.slice(i.pathIndex),n.children),fC(o,0,r)}return i.match&&0===r.length?new wi(n.segments,{}):i.match&&!n.hasChildren()?NO(n,t,e):i.match?fC(n,0,r):NO(n,t,e)}function fC(n,t,e){if(0===e.length)return new wi(n.segments,{});{const i=function wH(n){return hC(n[0])?n[0].outlets:{[yn]:n}}(e),r={};if(!i[yn]&&n.children[yn]&&1===n.numberOfChildren&&0===n.children[yn].segments.length){const o=fC(n.children[yn],t,e);return new wi(n.segments,o.children)}return Object.entries(i).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[o]=YN(n.children[o],t,l))}),Object.entries(n.children).forEach(([o,l])=>{void 0===i[o]&&(r[o]=l)}),new wi(n.segments,r)}}function NO(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(hC(o)){const g=CH(o.outlets);return new wi(i,g)}if(0===r&&XI(e[0])){i.push(new cC(n.segments[t].path,KN(e[0]))),r++;continue}const l=hC(o)?o.outlets[yn]:`${o}`,f=r<e.length-1?e[r+1]:null;l&&f&&XI(f)?(i.push(new cC(l,KN(f))),r+=2):(i.push(new cC(l,{})),r++)}return new wi(i,{})}function CH(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=NO(new wi([],{}),0,i))}),t}function KN(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function ZN(n,t,e){return n==e.path&&ed(t,e.parameters)}const pC="imperative";class td{constructor(t,e){this.id=t,this.url=e}}class FO extends td{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class i_ extends td{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eA extends td{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mC extends td{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class LO extends td{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EH extends td{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xH extends td{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TH extends td{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IH extends td{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AH extends td{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gC,this.attachRef=null}}let gC=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new NH,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=BO(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=BO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=VO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return VO(t,this._root).map(e=>e.value)}}function BO(n,t){if(n===t.value)return t;for(const e of t.children){const i=BO(n,e);if(i)return i}return null}function VO(n,t){if(n===t.value)return[t];for(const e of t.children){const i=VO(n,e);if(i.length)return i.unshift(t),i}return[]}class Bh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class JN extends XN{constructor(t,e){super(t),this.snapshot=e,UO(this,t)}toString(){return this.snapshot.toString()}}function eF(n,t){const e=function FH(n,t){const l=new tA([],{},{},"",{},yn,t,null,{});return new nF("",new Bh(l,[]))}(0,t),i=new kl.X([new cC("",{})]),r=new kl.X({}),o=new kl.X({}),l=new kl.X({}),f=new kl.X(""),g=new r_(i,r,l,f,o,yn,t,e.root);return g.snapshot=e.root,new JN(new Bh(g,[]),e)}class r_{constructor(t,e,i,r,o,l,f,g){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=l,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,Zt.U)(y=>y[lC]))??(0,Ft.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Zt.U)(t=>db(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Zt.U)(t=>db(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tF(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function LH(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class tA{get title(){return this.data?.[lC]}constructor(t,e,i,r,o,l,f,g,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=f,this.routeConfig=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=db(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=db(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nF extends XN{constructor(t,e){super(e),this.url=t,UO(this,e)}toString(){return iF(this._root)}}function UO(n,t){t.value._routerState=n,t.children.forEach(e=>UO(n,e))}function iF(n){const t=n.children.length>0?` { ${n.children.map(iF).join(", ")} } `:"";return`${n.value}${t}`}function jO(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ed(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ed(t.params,e.params)||n.paramsSubject.next(e.params),function Xj(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ed(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),ed(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function HO(n,t){const e=ed(n.params,t.params)&&function nH(n,t){return t_(n,t)&&n.every((e,i)=>ed(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||HO(n.parent,t.parent))}let zO=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(gC),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(nA,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new BH(e,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class BH{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===r_?this.route:t===gC?this.childContexts:this.parent.get(t,e)}}const nA=new c.OlP("");let rF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=WI([i.queryParams,i.params,i.data]).pipe((0,$o.w)(([o,l,f],g)=>(f={...o,...l,...f},0===g?(0,Ft.of)(f):Promise.resolve(f)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const l=(0,c.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)e.activatedComponentRef.setInput(f,o[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _C(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function UH(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _C(n,i,r);return _C(n,i)})}(n,t,e);return new Bh(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(f=>_C(n,f)),l}}const i=function jH(n){return new r_(new kl.X(n.url),new kl.X(n.params),new kl.X(n.queryParams),new kl.X(n.fragment),new kl.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>_C(n,o));return new Bh(i,r)}}const $O="ngNavigationCancelingError";function oF(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=n_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=sF(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function sF(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[$O]=!0,i.cancellationCode=t,e&&(i.url=e),i}function aF(n){return lF(n)&&n_(n.url)}function lF(n){return n&&n[$O]}let cF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[zO],encapsulation:2}),n})();function GO(n){const t=n.children&&n.children.map(GO),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yn&&(e.component=cF),e}function Vc(n){return n.outlet||yn}function vC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class YH{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),jO(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fb(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=fb(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=fb(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=fb(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new PH(o.value.snapshot))}),t.children.length&&this.forwardEvent(new OH(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(jO(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),jO(f.route.value),this.activateChildRoutes(t,null,l.children)}else{const f=vC(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class uF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class iA{constructor(t,e){this.component=t,this.route=e}}function KH(n,t,e){const i=n._root;return yC(i,t?t._root:null,e,[i.value])}function pb(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function yC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fb(t);return n.children.forEach(l=>{(function QH(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const g=function XH(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!t_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!t_(n.url,t.url)||!ed(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HO(n,t)||!ed(n.queryParams,t.queryParams);default:return!HO(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new uF(i)):(o.data=l.data,o._resolvedData=l._resolvedData),yC(n,t,o.component?f?f.children:null:e,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new iA(f.outlet.component,l))}else l&&bC(t,f,r),r.canActivateChecks.push(new uF(i)),yC(n,null,o.component?f?f.children:null:e,i,r)})(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,f])=>bC(f,e.getContext(l),r)),r}function bC(n,t,e){const i=fb(n),r=n.value;Object.entries(i).forEach(([o,l])=>{bC(l,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new iA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function wC(n){return"function"==typeof n}function dF(n){return n instanceof nC||"EmptyError"===n?.name}const rA=Symbol("INITIAL_VALUE");function mb(){return(0,$o.w)(n=>WI(n.map(t=>t.pipe((0,Pr.q)(1),m(rA)))).pipe((0,Zt.U)(t=>{for(const e of t)if(!0!==e){if(e===rA)return rA;if(!1===e||e instanceof hb)return e}return!0}),(0,bi.h)(t=>t!==rA),(0,Pr.q)(1)))}function hF(n){return(0,qj.z)((0,Ys.b)(t=>{if(n_(t))throw oF(0,t)}),(0,Zt.U)(t=>!0===t))}class oA{constructor(t){this.segmentGroup=t||null}}class fF{constructor(t){this.urlTree=t}}function gb(n){return es(new oA(n))}function pF(n){return es(new fF(n))}class y3{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Ft.of)(i);if(r.numberOfChildren>1||!r.children[yn])return es(new c.vHH(4e3,!1));r=r.children[yn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new hb(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);i[r]=e[f]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let l={};return Object.entries(e.children).forEach(([f,g])=>{l[f]=this.createSegmentGroup(t,g,i,r)}),new wi(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const WO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b3(n,t,e,i,r){const o=qO(n,t,e);return o.matched?(i=function HH(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function g3(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,Ft.of)(!0);const o=r.map(l=>{const f=pb(l,n);return Fp(function o3(n){return n&&wC(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))});return(0,Ft.of)(o).pipe(mb(),hF())}(i,t,e).pipe((0,Zt.U)(l=>!0===l?o:{...WO}))):(0,Ft.of)(o)}function qO(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...WO}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Qj)(e,n,t);if(!r)return{...WO};const o={};Object.entries(r.posParams??{}).forEach(([f,g])=>{o[f]=g.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function mF(n,t,e,i){return e.length>0&&function C3(n,t,e){return e.some(i=>sA(n,t,i)&&Vc(i)!==yn)}(n,e,i)?{segmentGroup:new wi(t,D3(i,new wi(e,n.children))),slicedSegments:[]}:0===e.length&&function E3(n,t,e){return e.some(i=>sA(n,t,i))}(n,e,i)?{segmentGroup:new wi(n.segments,w3(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new wi(n.segments,n.children),slicedSegments:e}}function w3(n,t,e,i,r){const o={};for(const l of i)if(sA(n,e,l)&&!r[Vc(l)]){const f=new wi([],{});o[Vc(l)]=f}return{...r,...o}}function D3(n,t){const e={};e[yn]=t;for(const i of n)if(""===i.path&&Vc(i)!==yn){const r=new wi([],{});e[Vc(i)]=r}return e}function sA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class A3{constructor(t,e,i,r,o,l,f){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new y3(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=mF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yn).pipe((0,ns.K)(e=>{if(e instanceof fF)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof oA?this.noMatchError(e):e}),(0,Zt.U)(e=>{const i=new tA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,{}),r=new Bh(i,e),o=new nF("",r),l=function _H(n,t,e=null,i=null){return GN($N(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,yn).pipe((0,ns.K)(i=>{throw i instanceof oA?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=tF(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,ri.D)(r).pipe((0,aC.b)(o=>{const l=i.children[o],f=function WH(n,t){const e=n.filter(i=>Vc(i)===t);return e.push(...n.filter(i=>Vc(i)!==t)),e}(e,o);return this.processSegmentGroup(t,f,l,o)}),(0,C.R)((o,l)=>(o.push(...l),o)),iC(null),function Yj(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,bi.h)((r,o)=>n(r,o,i)):rC.y,SO(1),e?iC(t):nO(()=>new nC))}(),(0,qi.z)(o=>{if(null===o)return gb(i);const l=gF(o);return function S3(n){n.sort((t,e)=>t.value.outlet===yn?-1:e.value.outlet===yn?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,Ft.of)(l)}))}processSegment(t,e,i,r,o,l){return(0,ri.D)(e).pipe((0,aC.b)(f=>this.processSegmentAgainstRoute(f._injector??t,e,f,i,r,o,l).pipe((0,ns.K)(g=>{if(g instanceof oA)return(0,Ft.of)(null);throw g}))),Ju(f=>!!f),(0,ns.K)(f=>{if(dF(f))return function T3(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?(0,Ft.of)([]):gb(i);throw f}))}processSegmentAgainstRoute(t,e,i,r,o,l,f){return function x3(n,t,e,i){return!!(Vc(n)===i||i!==yn&&sA(t,e,n))&&("**"===n.path||qO(t,n,e).matched)}(i,r,o,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,l):gb(r):gb(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pF(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,qi.z)(l=>{const f=new wi(l,{});return this.processSegment(t,e,f,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){const{matched:f,consumedSegments:g,remainingSegments:y,positionalParamSegments:E}=qO(e,r,o);if(!f)return gb(e);const I=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,E);return r.redirectTo.startsWith("/")?pF(I):this.applyRedirects.lineralizeSegments(r,I).pipe((0,qi.z)(U=>this.processSegment(t,i,e,U.concat(y),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,l){let f;if("**"===i.path){const g=r.length>0?RN(r).parameters:{},y=new tA(r,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_F(i),Vc(i),i.component??i._loadedComponent??null,i,vF(i));f=(0,Ft.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),e.children={}}else f=b3(e,i,r,t).pipe((0,Zt.U)(({matched:g,consumedSegments:y,remainingSegments:E,parameters:I})=>g?{snapshot:new tA(y,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_F(i),Vc(i),i.component??i._loadedComponent??null,i,vF(i)),consumedSegments:y,remainingSegments:E}:null));return f.pipe((0,$o.w)(g=>null===g?gb(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,$o.w)(({routes:y})=>{const E=i._loadedInjector??t,{snapshot:I,consumedSegments:U,remainingSegments:W}=g,{segmentGroup:X,slicedSegments:ae}=mF(e,U,W,y);if(0===ae.length&&X.hasChildren())return this.processChildren(E,y,X).pipe((0,Zt.U)(_e=>null===_e?null:[new Bh(I,_e)]));if(0===y.length&&0===ae.length)return(0,Ft.of)([new Bh(I,[])]);const le=Vc(i)===o;return this.processSegment(E,y,X,ae,le?yn:o,!0).pipe((0,Zt.U)(_e=>[new Bh(I,_e)]))}))))}getChildConfig(t,e,i){return e.children?(0,Ft.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Ft.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function m3(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,Ft.of)(!0);const o=r.map(l=>{const f=pb(l,n);return Fp(function e3(n){return n&&wC(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))});return(0,Ft.of)(o).pipe(mb(),hF())}(t,e,i).pipe((0,qi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Ys.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function v3(n){return es(sF(!1,3))}())):(0,Ft.of)({routes:[],injector:t})}}function M3(n){const t=n.value.routeConfig;return t&&""===t.path}function gF(n){const t=[],e=new Set;for(const i of n){if(!M3(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=gF(i.children);t.push(new Bh(i.value,r))}return t.filter(i=>!e.has(i))}function _F(n){return n.data||{}}function vF(n){return n.resolve||{}}function yF(n){return"string"==typeof n.title||null===n.title}function YO(n){return(0,$o.w)(t=>{const e=n(t);return e?(0,ri.D)(e).pipe((0,Zt.U)(()=>t)):(0,Ft.of)(t)})}const _b=new c.OlP("ROUTES");let KO=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Ft.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Fp(e.loadComponent()).pipe((0,Zt.U)(bF),(0,Ys.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),MO(()=>{this.componentLoaders.delete(e)})),r=new kN(i,()=>new cn.x).pipe(AO());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Ft.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Zt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y;return Array.isArray(f)?y=f:(g=f.create(e).injector,y=g.get(_b,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:y.map(GO),injector:g}}),MO(()=>{this.childrenLoaders.delete(i)})),l=new kN(o,()=>new cn.x).pipe(AO());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Fp(e()).pipe((0,Zt.U)(bF),(0,qi.z)(i=>i instanceof c.YKP||Array.isArray(i)?(0,Ft.of)(i):(0,ri.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bF(n){return function L3(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let aA=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new cn.x,this.configLoader=(0,c.f3M)(KO),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(uC),this.rootContexts=(0,c.f3M)(gC),this.inputBindingEnabled=null!==(0,c.f3M)(nA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ft.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new MH(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new SH(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new kl.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pC,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,bi.h)(i=>0!==i.id),(0,Zt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),(0,$o.w)(i=>{let r=!1,o=!1;return(0,Ft.of)(i).pipe((0,Ys.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$o.w)(l=>{const f=e.browserUrlTree.toString(),g=!e.navigated||l.extractedUrl.toString()!==f||f!==e.currentUrlTree.toString();if(!g&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new mC(l.id,e.serializeUrl(i.rawUrl),E,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),gr.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return wF(l.source)&&(e.browserUrlTree=l.extractedUrl),(0,Ft.of)(l).pipe((0,$o.w)(E=>{const I=this.transitions?.getValue();return this.events.next(new FO(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),I!==this.transitions?.getValue()?gr.E:Promise.resolve(E)}),function k3(n,t,e,i,r,o){return(0,qi.z)(l=>function I3(n,t,e,i,r,o,l="emptyOnly"){return new A3(n,t,e,i,r,l,o).recognize()}(n,t,e,i,l.extractedUrl,r,o).pipe((0,Zt.U)(({state:f,tree:g})=>({...l,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ys.b)(E=>{if(i.targetSnapshot=E.targetSnapshot,i.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const U=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(U,E)}e.browserUrlTree=E.urlAfterRedirects}const I=new EH(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:I,source:U,restoredState:W,extras:X}=l,ae=new FO(E,this.urlSerializer.serialize(I),U,W);this.events.next(ae);const le=eF(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:le,urlAfterRedirects:I,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},(0,Ft.of)(i)}{const E="";return this.events.next(new mC(l.id,e.serializeUrl(i.extractedUrl),E,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),gr.E}}),(0,Ys.b)(l=>{const f=new xH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,Zt.U)(l=>i={...l,guards:KH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function a3(n,t){return(0,qi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?(0,Ft.of)({...e,guardsResult:!0}):function l3(n,t,e,i){return(0,ri.D)(n).pipe((0,qi.z)(r=>function p3(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ft.of)(!0);const l=o.map(f=>{const g=vC(t)??r,y=pb(f,g);return Fp(function r3(n){return n&&wC(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):g.runInContext(()=>y(n,t,e,i))).pipe(Ju())});return(0,Ft.of)(l).pipe(mb())}(r.component,r.route,e,t,i)),Ju(r=>!0!==r,!0))}(l,i,r,n).pipe((0,qi.z)(f=>f&&function JH(n){return"boolean"==typeof n}(f)?function c3(n,t,e,i){return(0,ri.D)(t).pipe((0,aC.b)(r=>b(function d3(n,t){return null!==n&&t&&t(new kH(n)),(0,Ft.of)(!0)}(r.route.parent,i),function u3(n,t){return null!==n&&t&&t(new RH(n)),(0,Ft.of)(!0)}(r.route,i),function f3(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function ZH(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>qI(()=>{const f=l.guards.map(g=>{const y=vC(l.node)??e,E=pb(g,y);return Fp(function n3(n){return n&&wC(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(Ju())});return(0,Ft.of)(f).pipe(mb())}));return(0,Ft.of)(o).pipe(mb())}(n,r.path,e),function h3(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ft.of)(!0);const r=i.map(o=>qI(()=>{const l=vC(t)??e,f=pb(o,l);return Fp(function t3(n){return n&&wC(n.canActivate)}(f)?f.canActivate(t,n):l.runInContext(()=>f(t,n))).pipe(Ju())}));return(0,Ft.of)(r).pipe(mb())}(n,r.route,e))),Ju(r=>!0!==r,!0))}(i,o,n,t):(0,Ft.of)(f)),(0,Zt.U)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Ys.b)(l=>{if(i.guardsResult=l.guardsResult,n_(l.guardsResult))throw oF(0,l.guardsResult);const f=new TH(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),(0,bi.h)(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),YO(l=>{if(l.guards.canActivateChecks.length)return(0,Ft.of)(l).pipe((0,Ys.b)(f=>{const g=new IH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),(0,$o.w)(f=>{let g=!1;return(0,Ft.of)(f).pipe(function O3(n,t){return(0,qi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Ft.of)(e);let o=0;return(0,ri.D)(r).pipe((0,aC.b)(l=>function R3(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!yF(r)&&(o[lC]=r.title),function P3(n,t,e,i){const r=function N3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,Ft.of)({});const o={};return(0,ri.D)(r).pipe((0,qi.z)(l=>function F3(n,t,e,i){const r=vC(t)??i,o=pb(n,r);return Fp(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[l],t,e,i).pipe(Ju(),(0,Ys.b)(f=>{o[l]=f}))),SO(1),function Kj(n){return(0,Zt.U)(()=>n)}(o),(0,ns.K)(l=>dF(l)?gr.E:es(l)))}(o,n,t,i).pipe((0,Zt.U)(l=>(n._resolvedData=l,n.data=tF(n,e).resolve,r&&yF(r)&&(n.data[lC]=r.title),null)))}(l.route,i,n,t)),(0,Ys.b)(()=>o++),SO(1),(0,qi.z)(l=>o===r.length?(0,Ft.of)(e):gr.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ys.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Ys.b)(f=>{const g=new AH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),YO(l=>{const f=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Ys.b)(E=>{g.component=E}),(0,Zt.U)(()=>{})));for(const E of g.children)y.push(...f(E));return y};return WI(f(l.targetSnapshot.root)).pipe(iC(),(0,Pr.q)(1))}),YO(()=>this.afterPreactivation()),(0,Zt.U)(l=>{const f=function VH(n,t,e){const i=_C(n,t._root,e?e._root:void 0);return new JN(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:f}}),(0,Ys.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e,i)=>(0,Zt.U)(r=>(new YH(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),(0,Pr.q)(1),(0,Ys.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new i_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),MO(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),(0,ns.K)(l=>{if(o=!0,lF(l)){aF(l)||(e.navigated=!0,e.restoreHistory(i,!0));const f=new eA(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),aF(l)){const g=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||wF(i.source)};e.scheduleNavigation(g,pC,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const f=new LO(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(e.errorHandler(l))}catch(g){i.reject(g)}}return gr.E}))}))}cancelNavigationTransition(e,i,r){const o=new eA(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wF(n){return n!==pC}let DF=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===yn);return i}getResolvedTitleForRoute(e){return e.data[lC]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(B3)},providedIn:"root"}),n})(),B3=(()=>{class n extends DF{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(j3)},providedIn:"root"}),n})();class U3{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let j3=(()=>{class n extends U3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lA=new c.OlP("",{providedIn:"root",factory:()=>({})});let H3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(z3)},providedIn:"root"}),n})(),z3=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Wa=(()=>((Wa=Wa||{})[Wa.COMPLETE=0]="COMPLETE",Wa[Wa.FAILED=1]="FAILED",Wa[Wa.REDIRECTING=2]="REDIRECTING",Wa))();function CF(n,t){n.events.pipe((0,bi.h)(e=>e instanceof i_||e instanceof eA||e instanceof LO||e instanceof mC),(0,Zt.U)(e=>e instanceof i_||e instanceof mC?Wa.COMPLETE:e instanceof eA&&(0===e.code||1===e.code)?Wa.REDIRECTING:Wa.FAILED),(0,bi.h)(e=>e!==Wa.REDIRECTING),(0,Pr.q)(1)).subscribe(()=>{t()})}function $3(n){throw n}function G3(n,t,e){return t.parse("/")}const W3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},q3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qa=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(lA,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||$3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||G3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(H3),this.routeReuseStrategy=(0,c.f3M)(V3),this.titleStrategy=(0,c.f3M)(DF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(_b,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(aA),this.urlSerializer=(0,c.f3M)(uC),this.location=(0,c.f3M)(we),this.componentInputBindingEnabled=!!(0,c.f3M)(nA,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hb,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pC,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const f=this.parseUrl(e);this.scheduleNavigation(f,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(GO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:f,preserveFragment:g}=i,y=g?this.currentUrlTree.fragment:l;let I,E=null;switch(f){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}null!==E&&(E=this.removeEmptyProps(E));try{I=$N(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),I=this.currentUrlTree.root}return GN(I,e,E,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=n_(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,pC,null,i)}navigate(e,i={skipLocationChange:!1}){return function Y3(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...W3}:!1===i?{...q3}:i,n_(e))return NN(this.currentUrlTree,e,r);const o=this.parseUrl(e);return NN(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let f,g,y;l?(f=l.resolve,g=l.reject,y=l.promise):y=new Promise((I,U)=>{f=I,g=U});const E=this.pendingTasks.add();return CF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:f,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EF{}let Q3=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,bi.h)(e=>e instanceof i_),(0,aC.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,f=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,ri.D)(r).pipe((0,Eu.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Ft.of)(null);const o=r.pipe((0,qi.z)(l=>null===l?(0,Ft.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,ri.D)([o,l]).pipe((0,Eu.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qa),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(EF),c.LFG(KO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QO=new c.OlP("");let xF=(()=>{class n{constructor(e,i,r,o,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof FO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof i_?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof mC&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof QN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vh(n,t){return{\u0275kind:n,\u0275providers:t}}function IF(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(qa),r=n.get(AF);1===n.get(XO)&&i.initialNavigation(),n.get(SF,null,c.XFs.Optional)?.setUpPreloading(),n.get(QO,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const AF=new c.OlP("",{factory:()=>new cn.x}),XO=new c.OlP("",{providedIn:"root",factory:()=>1}),SF=new c.OlP("");function tz(n){return Vh(0,[{provide:SF,useExisting:Q3},{provide:EF,useExisting:n}])}const MF=new c.OlP("ROUTER_FORROOT_GUARD"),iz=[we,{provide:uC,useClass:kO},qa,gC,{provide:r_,useFactory:function TF(n){return n.routerState.root},deps:[qa]},KO,[]];function rz(){return new c.PXZ("Router",qa)}let kF=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[iz,[],{provide:_b,multi:!0,useValue:e},{provide:MF,useFactory:lz,deps:[[qa,new c.FiY,new c.tp0]]},{provide:lA,useValue:i||{}},i?.useHash?{provide:be,useClass:lt}:{provide:be,useClass:Ke},{provide:QO,useFactory:()=>{const n=(0,c.f3M)(_s),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(lA),i=(0,c.f3M)(aA),r=(0,c.f3M)(uC);return e.scrollOffset&&n.setOffset(e.scrollOffset),new xF(r,i,n,t,e)}},i?.preloadingStrategy?tz(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:rz},i?.initialNavigation?cz(i):[],i?.bindToComponentInputs?Vh(8,[rF,{provide:nA,useExisting:rF}]).\u0275providers:[],[{provide:OF,useFactory:IF},{provide:c.tb,multi:!0,useExisting:OF}]]}}static forChild(e){return{ngModule:n,providers:[{provide:_b,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(MF,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function lz(n){return"guarded"}function cz(n){return["disabled"===n.initialNavigation?Vh(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(qa);return()=>{t.setUpLocationChangeListener()}}},{provide:XO,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vh(2,[{provide:XO,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(se,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(qa),o=t.get(AF);CF(r,()=>{i(!0)}),t.get(aA).afterPreactivation=()=>(i(!0),o.closed?(0,Ft.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const OF=new c.OlP("");let RF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),o_=(()=>{class n extends RF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ol=new c.OlP("NgValueAccessor"),fz={provide:Ol,useExisting:(0,c.Gpc)(()=>vb),multi:!0},mz=new c.OlP("CompositionEventMode");let vb=(()=>{class n extends RF{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pz(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(mz,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[c._Bn([fz]),c.qOj]}),n})();function Lp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function NF(n){return null!=n&&"number"==typeof n.length}const Go=new c.OlP("NgValidators"),Bp=new c.OlP("NgAsyncValidators"),gz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yb{static min(t){return function FF(n){return t=>{if(Lp(t.value)||Lp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function LF(n){return t=>{if(Lp(t.value)||Lp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function BF(n){return Lp(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function VF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function UF(n){return Lp(n.value)||gz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function jF(n){return t=>Lp(t.value)||!NF(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return HF(t)}static pattern(t){return function zF(n){if(!n)return cA;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Lp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return KF(t)}static composeAsync(t){return ZF(t)}}function HF(n){return t=>NF(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function cA(n){return null}function $F(n){return null!=n}function GF(n){return(0,c.QGY)(n)?(0,ri.D)(n):n}function WF(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function qF(n,t){return t.map(e=>e(n))}function YF(n){return n.map(t=>function _z(n){return!n.validate}(t)?t:e=>t.validate(e))}function KF(n){if(!n)return null;const t=n.filter($F);return 0==t.length?null:function(e){return WF(qF(e,t))}}function JO(n){return null!=n?KF(YF(n)):null}function ZF(n){if(!n)return null;const t=n.filter($F);return 0==t.length?null:function(e){return function dz(...n){const t=(0,Em.jO)(n),{args:e,keys:i}=AN(n),r=new Gi.y(o=>{const{length:l}=e;if(!l)return void o.complete();const f=new Array(l);let g=l,y=l;for(let E=0;E<l;E++){let I=!1;(0,ua.Xf)(e[E]).subscribe((0,Wi.x)(o,U=>{I||(I=!0,y--),f[E]=U},()=>g--,void 0,()=>{(!g||!I)&&(y||o.next(i?SN(i,f):f),o.complete())}))}});return t?r.pipe(IO(t)):r}(qF(e,t).map(GF)).pipe((0,Zt.U)(WF))}}function e1(n){return null!=n?ZF(YF(n)):null}function QF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function XF(n){return n._rawValidators}function JF(n){return n._rawAsyncValidators}function t1(n){return n?Array.isArray(n)?n:[n]:[]}function uA(n,t){return Array.isArray(n)?n.includes(t):n===t}function eL(n,t){const e=t1(t);return t1(n).forEach(r=>{uA(e,r)||e.push(r)}),e}function tL(n,t){return t1(t).filter(e=>!uA(n,e))}class nL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=e1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ks extends nL{get formDirective(){return null}get path(){return null}}class nd extends nL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iL{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let s_=(()=>{class n extends iL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nd,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),dA=(()=>{class n extends iL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ks,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const DC="VALID",fA="INVALID",bb="PENDING",CC="DISABLED";function o1(n){return(pA(n)?n.validators:n)||null}function s1(n,t){return(pA(t)?t.asyncValidators:n)||null}function pA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oL(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function sL(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class mA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===DC}get invalid(){return this.status===fA}get pending(){return this.status==bb}get disabled(){return this.status===CC}get enabled(){return this.status!==CC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(eL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tL(t,this._rawAsyncValidators))}hasValidator(t){return uA(this._rawValidators,t)}hasAsyncValidator(t){return uA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=CC,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=DC,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===DC||this.status===bb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?CC:DC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bb,this._hasOwnPendingAsyncValidator=!0;const e=GF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?CC:this.errors?fA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bb)?bb:this._anyControlsHaveStatus(fA)?fA:DC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function wz(n){return Array.isArray(n)?JO(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Dz(n){return Array.isArray(n)?e1(n):n||null}(this._rawAsyncValidators)}}class EC extends mA{constructor(t,e,i){super(o1(e),s1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){sL(this,0,t),Object.keys(t).forEach(i=>{oL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class aL extends EC{}const a_=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xC}),xC="always";function TC(n,t,e=xC){a1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Ez(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lL(n,t)})}(n,t),function Tz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function xz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Cz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _A(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),yA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function a1(n,t){const e=XF(n);null!==t.validator?n.setValidators(QF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=JF(n);null!==t.asyncValidator?n.setAsyncValidators(QF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vA(t._rawValidators,r),vA(t._rawAsyncValidators,r)}function yA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=XF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=JF(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return vA(t._rawValidators,i),vA(t._rawAsyncValidators,i),e}function lL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cL(n,t){a1(n,t)}function c1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function uL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function u1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vb?e=o:function Sz(n){return Object.getPrototypeOf(n.constructor)===o_}(o)?i=o:r=o}),r||i||e||null}const kz={provide:Ks,useExisting:(0,c.Gpc)(()=>bA)},IC=(()=>Promise.resolve())();let bA=(()=>{class n extends Ks{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new EC({},JO(e),e1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){IC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),TC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){IC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){IC.then(()=>{const i=this._findContainer(e.path),r=new EC({});cL(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){IC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){IC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,uL(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Go,10),c.Y36(Bp,10),c.Y36(a_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([kz]),c.qOj]}),n})();function dL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function hL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const l_=class extends mA{constructor(t=null,e,i){super(o1(e),s1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=hL(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){hL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let wA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Nz={provide:Ol,useExisting:(0,c.Gpc)(()=>d1),multi:!0};let d1=(()=>{class n extends o_{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([Nz]),c.qOj]}),n})(),_L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const h1=new c.OlP("NgModelWithFormControlWarning"),Vz={provide:nd,useExisting:(0,c.Gpc)(()=>AC)};let AC=(()=>{class n extends nd{set isDisabled(e){}constructor(e,i,r,o,l){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=l,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=u1(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&_A(i,this,!1),TC(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}c1(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_A(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(Go,10),c.Y36(Bp,10),c.Y36(Ol,10),c.Y36(h1,8),c.Y36(a_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Vz]),c.qOj,c.TTD]}),n})();const Uz={provide:Ks,useExisting:(0,c.Gpc)(()=>Vp)};let Vp=(()=>{class n extends Ks{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return TC(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_A(e.control||null,e,!1),function Mz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,uL(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(_A(i||null,e),(n=>n instanceof l_)(r)&&(TC(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);cL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Iz(n,t){return yA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a1(this.form,this),this._oldForm&&yA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Go,10),c.Y36(Bp,10),c.Y36(a_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Uz]),c.qOj,c.TTD]}),n})();const zz={provide:nd,useExisting:(0,c.Gpc)(()=>SC)};let SC=(()=>{class n extends nd{set isDisabled(e){}constructor(e,i,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=u1(0,o)}ngOnChanges(e){this._added||this._setUpControl(),c1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function gA(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(Ks,13),c.Y36(Go,10),c.Y36(Bp,10),c.Y36(Ol,10),c.Y36(h1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([zz]),c.qOj,c.TTD]}),n})();let c_=(()=>{class n{constructor(){this._validator=cA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):cA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const n4={provide:Go,useExisting:(0,c.Gpc)(()=>y1),multi:!0};let y1=(()=>{class n extends c_{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function CL(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>HF(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([n4]),c.qOj]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_L]}),n})();class kL extends mA{constructor(t,e,i){super(o1(e),s1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){sL(this,0,t),t.forEach((i,r)=>{oL(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function OL(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let o4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return OL(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new EC(r,o)}record(e,i=null){const r=this._reduceControls(e);return new aL(r,i)}control(e,i,r){let o={};return this.useNonNullable?(OL(i)?o=i:(o.validators=i,o.asyncValidators=r),new l_(e,{...o,nonNullable:!0})):new l_(e,i,r)}array(e,i,r){const o=e.map(l=>this._createControl(l));return new kL(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof l_||e instanceof mA?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:a_,useValue:e.callSetDisabledState??xC}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ML]}),n})(),PL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:h1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:a_,useValue:e.callSetDisabledState??xC}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ML]}),n})(),wb=(()=>{class n{constructor(){this.router=(0,c.f3M)(qa),this.fb=(0,c.f3M)(o4),this.activatedRoute=(0,c.f3M)(r_),this.facade=(0,c.f3M)(IN),this.subscriptions=new Ts.w0}navigateTo(e,i){this.router.navigate([e],{queryParams:i})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();function Uh(n){return(Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Yn(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Fi(n){Yn(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===Uh(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function b1(n){return Yn(1,arguments),n instanceof Date||"object"===Uh(n)&&"[object Date]"===Object.prototype.toString.call(n)}function DA(n){if(Yn(1,arguments),!b1(n)&&"number"!=typeof n)return!1;var t=Fi(n);return!isNaN(Number(t))}function NL(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function FL(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function l4(n,t){if(n){if("string"==typeof n)return NL(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return NL(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(y){throw y},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,o=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var y=e.next();return o=y.done,y},e:function(y){l=!0,f=y},f:function(){try{!o&&null!=e.return&&e.return()}finally{if(l)throw f}}}}var c4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Db(n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}var m4={date:Db({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Db({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Db({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},_4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function id(n){return function(t,e){var r;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,l=null!=e&&e.width?String(e.width):o;r=n.formattingValues[l]||n.formattingValues[o]}else{var f=n.defaultWidth,g=null!=e&&e.width?String(e.width):n.defaultWidth;r=n.values[g]||n.values[f]}return r[n.argumentCallback?n.argumentCallback(t):t]}}function rd(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,o=t.match(i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth]);if(!o)return null;var y,l=o[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(f)?function M4(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}(f,function(I){return I.test(l)}):function S4(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}(f,function(I){return I.test(l)});return y=n.valueCallback?n.valueCallback(g):g,{value:y=e.valueCallback?e.valueCallback(y):y,rest:t.slice(l.length)}}}function LL(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.match(n.matchPattern);if(!i)return null;var r=i[0],o=t.match(n.parsePattern);if(!o)return null;var l=n.valueCallback?n.valueCallback(o[0]):o[0];return{value:l=e.valueCallback?e.valueCallback(l):l,rest:t.slice(r.length)}}}const BL={code:"en-US",formatDistance:function(t,e,i){var r,o=c4[t];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},formatLong:m4,formatRelative:function(t,e,i,r){return _4[t]},localize:{ordinalNumber:function(t,e){var i=Number(t),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:id({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:id({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:id({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:id({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:id({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:LL({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:rd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:rd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:rd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:rd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:rd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wo(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function VL(n,t){return Yn(2,arguments),function G4(n,t){Yn(2,arguments);var e=Fi(n).getTime(),i=Wo(t);return new Date(e+i)}(n,-Wo(t))}function W4(n,t){if(null==n)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}var UL=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},jL=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const w1={p:jL,P:function(t,e){var l,i=t.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return UL(t,e);switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;default:l=e.dateTime({width:"full"})}return l.replace("{{date}}",UL(r,e)).replace("{{time}}",jL(o,e))}};function HL(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var K4=["D","DD"],Z4=["YY","YYYY"];function zL(n){return-1!==K4.indexOf(n)}function $L(n){return-1!==Z4.indexOf(n)}function CA(n,t,e){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}function Nt(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function D1(n,t){return(D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i})(n,t)}function Kn(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&D1(n,t)}function EA(n){return(EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function Zn(n){var t=function Q4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=EA(n);if(t){var o=EA(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function X4(n,t){if(t&&("object"===Uh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nt(n)}(this,r)}}function Un(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function GL(n){var t=function J4(n,t){if("object"!==Uh(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Uh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===Uh(t)?t:String(t)}function WL(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,GL(i.key),i)}}function jn(n,t,e){return t&&WL(n.prototype,t),e&&WL(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function St(n,t,e){return(t=GL(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var qL=function(){function n(){Un(this,n),St(this,"priority",void 0),St(this,"subPriority",0)}return jn(n,[{key:"validate",value:function(e,i){return!0}}]),n}(),t6=function(n){Kn(e,n);var t=Zn(e);function e(i,r,o,l,f){var g;return Un(this,e),(g=t.call(this)).value=i,g.validateValue=r,g.setValue=o,g.priority=l,f&&(g.subPriority=f),g}return jn(e,[{key:"validate",value:function(r,o){return this.validateValue(r,this.value,o)}},{key:"set",value:function(r,o,l){return this.setValue(r,o,this.value,l)}}]),e}(qL),n6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",10),St(Nt(i),"subPriority",-1),i}return jn(e,[{key:"set",value:function(r,o){if(o.timestampIsSet)return r;var l=new Date(0);return l.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),l.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),l}}]),e}(qL),pi=function(){function n(){Un(this,n),St(this,"incompatibleTokens",void 0),St(this,"priority",void 0),St(this,"subPriority",void 0)}return jn(n,[{key:"run",value:function(e,i,r,o){var l=this.parse(e,i,r,o);return l?{setter:new t6(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}},{key:"validate",value:function(e,i,r){return!0}}]),n}(),i6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",140),St(Nt(i),"incompatibleTokens",["R","u","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"G":case"GG":case"GGG":return l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"});case"GGGGG":return l.era(r,{width:"narrow"});default:return l.era(r,{width:"wide"})||l.era(r,{width:"abbreviated"})||l.era(r,{width:"narrow"})}}},{key:"set",value:function(r,o,l){return o.era=l,r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),C1=(Math.pow(10,8),6e4),E1=36e5,jr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},od_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,od_basic=/^([+-])(\d{2})(\d{2})|Z/,od_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,od_extended=/^([+-])(\d{2}):(\d{2})|Z/,od_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Hr(n,t){return n&&{value:t(n.value),rest:n.rest}}function vr(n,t){var e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function sd(n,t){var e=t.match(n);if(!e)return null;if("Z"===e[0])return{value:0,rest:t.slice(1)};var i="+"===e[1]?1:-1,r=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,l=e[5]?parseInt(e[5],10):0;return{value:i*(r*E1+o*C1+1e3*l),rest:t.slice(e[0].length)}}function KL(n){return vr(jr.anyDigitsSigned,n)}function Tr(n,t){switch(n){case 1:return vr(jr.singleDigit,t);case 2:return vr(jr.twoDigits,t);case 3:return vr(jr.threeDigits,t);case 4:return vr(jr.fourDigits,t);default:return vr(new RegExp("^\\d{1,"+n+"}"),t)}}function xA(n,t){switch(n){case 1:return vr(jr.singleDigitSigned,t);case 2:return vr(jr.twoDigitsSigned,t);case 3:return vr(jr.threeDigitsSigned,t);case 4:return vr(jr.fourDigitsSigned,t);default:return vr(new RegExp("^-?\\d{1,"+n+"}"),t)}}function x1(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ZL(n,t){var r,e=t>0,i=e?t:1-t;if(i<=50)r=n||100;else{var o=i+50;r=n+100*Math.floor(o/100)-(n>=o%100?100:0)}return e?r:1-r}function QL(n){return n%400==0||n%4==0&&n%100!=0}var u6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",130),St(Nt(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){var f=function(y){return{year:y,isTwoDigitYear:"yy"===o}};switch(o){case"y":return Hr(Tr(4,r),f);case"yo":return Hr(l.ordinalNumber(r,{unit:"year"}),f);default:return Hr(Tr(o.length,r),f)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,l){var f=r.getUTCFullYear();if(l.isTwoDigitYear){var g=ZL(l.year,f);return r.setUTCFullYear(g,0,1),r.setUTCHours(0,0,0,0),r}return r.setUTCFullYear("era"in o&&1!==o.era?1-l.year:l.year,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),XL={};function Cb(){return XL}function jh(n,t){var e,i,r,o,l,f,g,y;Yn(1,arguments);var E=Cb(),I=Wo(null!==(e=null!==(i=null!==(r=null!==(o=t?.weekStartsOn)&&void 0!==o?o:null==t||null===(l=t.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==r?r:E.weekStartsOn)&&void 0!==i?i:null===(g=E.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==e?e:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var U=Fi(n),W=U.getUTCDay(),X=(W<I?7:0)+W-I;return U.setUTCDate(U.getUTCDate()-X),U.setUTCHours(0,0,0,0),U}function T1(n,t){var e,i,r,o,l,f,g,y;Yn(1,arguments);var E=Fi(n),I=E.getUTCFullYear(),U=Cb(),W=Wo(null!==(e=null!==(i=null!==(r=null!==(o=t?.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(l=t.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==r?r:U.firstWeekContainsDate)&&void 0!==i?i:null===(g=U.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==e?e:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var X=new Date(0);X.setUTCFullYear(I+1,0,W),X.setUTCHours(0,0,0,0);var ae=jh(X,t),le=new Date(0);le.setUTCFullYear(I,0,W),le.setUTCHours(0,0,0,0);var _e=jh(le,t);return E.getTime()>=ae.getTime()?I+1:E.getTime()>=_e.getTime()?I:I-1}var d6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",130),St(Nt(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){var f=function(y){return{year:y,isTwoDigitYear:"YY"===o}};switch(o){case"Y":return Hr(Tr(4,r),f);case"Yo":return Hr(l.ordinalNumber(r,{unit:"year"}),f);default:return Hr(Tr(o.length,r),f)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,l,f){var g=T1(r,f);if(l.isTwoDigitYear){var y=ZL(l.year,g);return r.setUTCFullYear(y,0,f.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jh(r,f)}return r.setUTCFullYear("era"in o&&1!==o.era?1-l.year:l.year,0,f.firstWeekContainsDate),r.setUTCHours(0,0,0,0),jh(r,f)}}]),e}(pi);function Eb(n){Yn(1,arguments);var e=Fi(n),i=e.getUTCDay(),r=(i<1?7:0)+i-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}var h6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",130),St(Nt(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o){return xA("R"===o?4:o.length,r)}},{key:"set",value:function(r,o,l){var f=new Date(0);return f.setUTCFullYear(l,0,4),f.setUTCHours(0,0,0,0),Eb(f)}}]),e}(pi),f6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",130),St(Nt(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o){return xA("u"===o?4:o.length,r)}},{key:"set",value:function(r,o,l){return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),p6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",120),St(Nt(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"Q":case"QQ":return Tr(o.length,r);case"Qo":return l.ordinalNumber(r,{unit:"quarter"});case"QQQ":return l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return l.quarter(r,{width:"narrow",context:"formatting"});default:return l.quarter(r,{width:"wide",context:"formatting"})||l.quarter(r,{width:"abbreviated",context:"formatting"})||l.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),m6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",120),St(Nt(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"q":case"qq":return Tr(o.length,r);case"qo":return l.ordinalNumber(r,{unit:"quarter"});case"qqq":return l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return l.quarter(r,{width:"narrow",context:"standalone"});default:return l.quarter(r,{width:"wide",context:"standalone"})||l.quarter(r,{width:"abbreviated",context:"standalone"})||l.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,l){return r.setUTCMonth(3*(l-1),1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),g6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),St(Nt(i),"priority",110),i}return jn(e,[{key:"parse",value:function(r,o,l){var f=function(y){return y-1};switch(o){case"M":return Hr(vr(jr.month,r),f);case"MM":return Hr(Tr(2,r),f);case"Mo":return Hr(l.ordinalNumber(r,{unit:"month"}),f);case"MMM":return l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return l.month(r,{width:"narrow",context:"formatting"});default:return l.month(r,{width:"wide",context:"formatting"})||l.month(r,{width:"abbreviated",context:"formatting"})||l.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),e}(pi),_6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",110),St(Nt(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){var f=function(y){return y-1};switch(o){case"L":return Hr(vr(jr.month,r),f);case"LL":return Hr(Tr(2,r),f);case"Lo":return Hr(l.ordinalNumber(r,{unit:"month"}),f);case"LLL":return l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return l.month(r,{width:"narrow",context:"standalone"});default:return l.month(r,{width:"wide",context:"standalone"})||l.month(r,{width:"abbreviated",context:"standalone"})||l.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){return r.setUTCMonth(l,1),r.setUTCHours(0,0,0,0),r}}]),e}(pi);function JL(n,t){Yn(1,arguments);var e=Fi(n),i=jh(e,t).getTime()-function v6(n,t){var e,i,r,o,l,f,g,y;Yn(1,arguments);var E=Cb(),I=Wo(null!==(e=null!==(i=null!==(r=null!==(o=t?.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(l=t.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==r?r:E.firstWeekContainsDate)&&void 0!==i?i:null===(g=E.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==e?e:1),U=T1(n,t),W=new Date(0);return W.setUTCFullYear(U,0,I),W.setUTCHours(0,0,0,0),jh(W,t)}(e,t).getTime();return Math.round(i/6048e5)+1}var w6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",100),St(Nt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"w":return vr(jr.week,r);case"wo":return l.ordinalNumber(r,{unit:"week"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,l,f){return jh(function b6(n,t,e){Yn(2,arguments);var i=Fi(n),r=Wo(t),o=JL(i,e)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(r,l,f),f)}}]),e}(pi);function e2(n){Yn(1,arguments);var t=Fi(n),e=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=Eb(i),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var l=Eb(o);return t.getTime()>=r.getTime()?e+1:t.getTime()>=l.getTime()?e:e-1}function t2(n){Yn(1,arguments);var t=Fi(n),e=Eb(t).getTime()-function D6(n){Yn(1,arguments);var t=e2(n),e=new Date(0);return e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0),Eb(e)}(t).getTime();return Math.round(e/6048e5)+1}var x6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",100),St(Nt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"I":return vr(jr.week,r);case"Io":return l.ordinalNumber(r,{unit:"week"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,l){return Eb(function E6(n,t){Yn(2,arguments);var e=Fi(n),i=Wo(t),r=t2(e)-i;return e.setUTCDate(e.getUTCDate()-7*r),e}(r,l))}}]),e}(pi),T6=[31,28,31,30,31,30,31,31,30,31,30,31],I6=[31,29,31,30,31,30,31,31,30,31,30,31],A6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"subPriority",1),St(Nt(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"d":return vr(jr.date,r);case"do":return l.ordinalNumber(r,{unit:"date"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){var f=QL(r.getUTCFullYear()),g=r.getUTCMonth();return f?o>=1&&o<=I6[g]:o>=1&&o<=T6[g]}},{key:"set",value:function(r,o,l){return r.setUTCDate(l),r.setUTCHours(0,0,0,0),r}}]),e}(pi),S6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"subpriority",1),St(Nt(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"D":case"DD":return vr(jr.dayOfYear,r);case"Do":return l.ordinalNumber(r,{unit:"date"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return QL(r.getUTCFullYear())?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(r,o,l){return r.setUTCMonth(0,l),r.setUTCHours(0,0,0,0),r}}]),e}(pi);function I1(n,t,e){var i,r,o,l,f,g,y,E;Yn(2,arguments);var I=Cb(),U=Wo(null!==(i=null!==(r=null!==(o=null!==(l=e?.weekStartsOn)&&void 0!==l?l:null==e||null===(f=e.locale)||void 0===f||null===(g=f.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==o?o:I.weekStartsOn)&&void 0!==r?r:null===(y=I.locale)||void 0===y||null===(E=y.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==i?i:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var W=Fi(n),X=Wo(t),xe=((X%7+7)%7<U?7:0)+X-W.getUTCDay();return W.setUTCDate(W.getUTCDate()+xe),W}var M6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"E":case"EE":case"EEE":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return l.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,f){return(r=I1(r,l,f)).setUTCHours(0,0,0,0),r}}]),e}(pi),k6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l,f){var g=function(E){var I=7*Math.floor((E-1)/7);return(E+f.weekStartsOn+6)%7+I};switch(o){case"e":case"ee":return Hr(Tr(o.length,r),g);case"eo":return Hr(l.ordinalNumber(r,{unit:"day"}),g);case"eee":return l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});case"eeeee":return l.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"});default:return l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,f){return(r=I1(r,l,f)).setUTCHours(0,0,0,0),r}}]),e}(pi),O6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l,f){var g=function(E){var I=7*Math.floor((E-1)/7);return(E+f.weekStartsOn+6)%7+I};switch(o){case"c":case"cc":return Hr(Tr(o.length,r),g);case"co":return Hr(l.ordinalNumber(r,{unit:"day"}),g);case"ccc":return l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});case"ccccc":return l.day(r,{width:"narrow",context:"standalone"});case"cccccc":return l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"});default:return l.day(r,{width:"wide",context:"standalone"})||l.day(r,{width:"abbreviated",context:"standalone"})||l.day(r,{width:"short",context:"standalone"})||l.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,l,f){return(r=I1(r,l,f)).setUTCHours(0,0,0,0),r}}]),e}(pi),P6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",90),St(Nt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){var f=function(y){return 0===y?7:y};switch(o){case"i":case"ii":return Tr(o.length,r);case"io":return l.ordinalNumber(r,{unit:"day"});case"iii":return Hr(l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f);case"iiiii":return Hr(l.day(r,{width:"narrow",context:"formatting"}),f);case"iiiiii":return Hr(l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f);default:return Hr(l.day(r,{width:"wide",context:"formatting"})||l.day(r,{width:"abbreviated",context:"formatting"})||l.day(r,{width:"short",context:"formatting"})||l.day(r,{width:"narrow",context:"formatting"}),f)}}},{key:"validate",value:function(r,o){return o>=1&&o<=7}},{key:"set",value:function(r,o,l){return r=function R6(n,t){Yn(2,arguments);var e=Wo(t);e%7==0&&(e-=7);var r=Fi(n),g=((e%7+7)%7<1?7:0)+e-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+g),r}(r,l),r.setUTCHours(0,0,0,0),r}}]),e}(pi),N6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",80),St(Nt(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"a":case"aa":case"aaa":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(x1(l),0,0,0),r}}]),e}(pi),F6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",80),St(Nt(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"b":case"bb":case"bbb":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(x1(l),0,0,0),r}}]),e}(pi),L6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",80),St(Nt(i),"incompatibleTokens",["a","b","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"B":case"BB":case"BBB":return l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return l.dayPeriod(r,{width:"narrow",context:"formatting"});default:return l.dayPeriod(r,{width:"wide",context:"formatting"})||l.dayPeriod(r,{width:"abbreviated",context:"formatting"})||l.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,l){return r.setUTCHours(x1(l),0,0,0),r}}]),e}(pi),B6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",70),St(Nt(i),"incompatibleTokens",["H","K","k","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"h":return vr(jr.hour12h,r);case"ho":return l.ordinalNumber(r,{unit:"hour"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=12}},{key:"set",value:function(r,o,l){var f=r.getUTCHours()>=12;return r.setUTCHours(f&&l<12?l+12:f||12!==l?l:0,0,0,0),r}}]),e}(pi),V6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",70),St(Nt(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"H":return vr(jr.hour23h,r);case"Ho":return l.ordinalNumber(r,{unit:"hour"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=23}},{key:"set",value:function(r,o,l){return r.setUTCHours(l,0,0,0),r}}]),e}(pi),U6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",70),St(Nt(i),"incompatibleTokens",["h","H","k","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"K":return vr(jr.hour11h,r);case"Ko":return l.ordinalNumber(r,{unit:"hour"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,l){var f=r.getUTCHours()>=12;return r.setUTCHours(f&&l<12?l+12:l,0,0,0),r}}]),e}(pi),j6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",70),St(Nt(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"k":return vr(jr.hour24h,r);case"ko":return l.ordinalNumber(r,{unit:"hour"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=24}},{key:"set",value:function(r,o,l){return r.setUTCHours(l<=24?l%24:l,0,0,0),r}}]),e}(pi),H6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",60),St(Nt(i),"incompatibleTokens",["t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"m":return vr(jr.minute,r);case"mo":return l.ordinalNumber(r,{unit:"minute"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,l){return r.setUTCMinutes(l,0,0),r}}]),e}(pi),z6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",50),St(Nt(i),"incompatibleTokens",["t","T"]),i}return jn(e,[{key:"parse",value:function(r,o,l){switch(o){case"s":return vr(jr.second,r);case"so":return l.ordinalNumber(r,{unit:"second"});default:return Tr(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,l){return r.setUTCSeconds(l,0),r}}]),e}(pi),$6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",30),St(Nt(i),"incompatibleTokens",["t","T"]),i}return jn(e,[{key:"parse",value:function(r,o){return Hr(Tr(o.length,r),function(g){return Math.floor(g*Math.pow(10,3-o.length))})}},{key:"set",value:function(r,o,l){return r.setUTCMilliseconds(l),r}}]),e}(pi),G6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",10),St(Nt(i),"incompatibleTokens",["t","T","x"]),i}return jn(e,[{key:"parse",value:function(r,o){switch(o){case"X":return sd(od_basicOptionalMinutes,r);case"XX":return sd(od_basic,r);case"XXXX":return sd(od_basicOptionalSeconds,r);case"XXXXX":return sd(od_extendedOptionalSeconds,r);default:return sd(od_extended,r)}}},{key:"set",value:function(r,o,l){return o.timestampIsSet?r:new Date(r.getTime()-l)}}]),e}(pi),W6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",10),St(Nt(i),"incompatibleTokens",["t","T","X"]),i}return jn(e,[{key:"parse",value:function(r,o){switch(o){case"x":return sd(od_basicOptionalMinutes,r);case"xx":return sd(od_basic,r);case"xxxx":return sd(od_basicOptionalSeconds,r);case"xxxxx":return sd(od_extendedOptionalSeconds,r);default:return sd(od_extended,r)}}},{key:"set",value:function(r,o,l){return o.timestampIsSet?r:new Date(r.getTime()-l)}}]),e}(pi),q6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",40),St(Nt(i),"incompatibleTokens","*"),i}return jn(e,[{key:"parse",value:function(r){return KL(r)}},{key:"set",value:function(r,o,l){return[new Date(1e3*l),{timestampIsSet:!0}]}}]),e}(pi),Y6=function(n){Kn(e,n);var t=Zn(e);function e(){var i;Un(this,e);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return St(Nt(i=t.call.apply(t,[this].concat(o))),"priority",20),St(Nt(i),"incompatibleTokens","*"),i}return jn(e,[{key:"parse",value:function(r){return KL(r)}},{key:"set",value:function(r,o,l){return[new Date(l),{timestampIsSet:!0}]}}]),e}(pi),K6={G:new i6,y:new u6,Y:new d6,R:new h6,u:new f6,Q:new p6,q:new m6,M:new g6,L:new _6,w:new w6,I:new x6,d:new A6,D:new S6,E:new M6,e:new k6,c:new O6,i:new P6,a:new N6,b:new F6,B:new L6,h:new B6,H:new V6,K:new U6,k:new j6,m:new H6,s:new z6,S:new $6,X:new G6,x:new W6,t:new q6,T:new Y6},Z6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X6=/^'([^]*?)'?$/,J6=/''/g,e$=/\S/,t$=/[a-zA-Z]/;function TA(n,t,e,i){var r,o,l,f,g,y,E,I,U,W,X,ae,le,_e,xe,Ee,He,st;Yn(3,arguments);var dt=String(n),Lt=String(t),Tn=Cb(),Di=null!==(r=null!==(o=i?.locale)&&void 0!==o?o:Tn.locale)&&void 0!==r?r:BL;if(!Di.match)throw new RangeError("locale must contain match property");var eo=Wo(null!==(l=null!==(f=null!==(g=null!==(y=i?.firstWeekContainsDate)&&void 0!==y?y:null==i||null===(E=i.locale)||void 0===E||null===(I=E.options)||void 0===I?void 0:I.firstWeekContainsDate)&&void 0!==g?g:Tn.firstWeekContainsDate)&&void 0!==f?f:null===(U=Tn.locale)||void 0===U||null===(W=U.options)||void 0===W?void 0:W.firstWeekContainsDate)&&void 0!==l?l:1);if(!(eo>=1&&eo<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Kp=Wo(null!==(X=null!==(ae=null!==(le=null!==(_e=i?.weekStartsOn)&&void 0!==_e?_e:null==i||null===(xe=i.locale)||void 0===xe||null===(Ee=xe.options)||void 0===Ee?void 0:Ee.weekStartsOn)&&void 0!==le?le:Tn.weekStartsOn)&&void 0!==ae?ae:null===(He=Tn.locale)||void 0===He||null===(st=He.options)||void 0===st?void 0:st.weekStartsOn)&&void 0!==X?X:0);if(!(Kp>=0&&Kp<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===Lt)return""===dt?Fi(e):new Date(NaN);var Ht,Uc={firstWeekContainsDate:eo,weekStartsOn:Kp,locale:Di},Xa=[new n6],zb=Lt.match(Q6).map(function(Ji){var In=Ji[0];return In in w1?(0,w1[In])(Ji,Di.formatLong):Ji}).join("").match(Z6),to=[],Tt=FL(zb);try{var rn=function(){var In=Ht.value;!(null!=i&&i.useAdditionalWeekYearTokens)&&$L(In)&&CA(In,Lt,n),(null==i||!i.useAdditionalDayOfYearTokens)&&zL(In)&&CA(In,Lt,n);var fs=In[0],Zp=K6[fs];if(Zp){var SU=Zp.incompatibleTokens;if(Array.isArray(SU)){var MU=to.find(function(kU){return SU.includes(kU.token)||kU.token===fs});if(MU)throw new RangeError("The format string mustn't contain `".concat(MU.fullToken,"` and `").concat(In,"` at the same time"))}else if("*"===Zp.incompatibleTokens&&to.length>0)throw new RangeError("The format string mustn't contain `".concat(In,"` and any other token at the same time"));to.push({token:fs,fullToken:In});var cP=Zp.run(dt,In,Di.match,Uc);if(!cP)return{v:new Date(NaN)};Xa.push(cP.setter),dt=cP.rest}else{if(fs.match(t$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fs+"`");if("''"===In?In="'":"'"===fs&&(In=function n$(n){return n.match(X6)[1].replace(J6,"'")}(In)),0!==dt.indexOf(In))return{v:new Date(NaN)};dt=dt.slice(In.length)}};for(Tt.s();!(Ht=Tt.n()).done;){var Nn=rn();if("object"===Uh(Nn))return Nn.v}}catch(Ji){Tt.e(Ji)}finally{Tt.f()}if(dt.length>0&&e$.test(dt))return new Date(NaN);var no=Xa.map(function(Ji){return Ji.priority}).sort(function(Ji,In){return In-Ji}).filter(function(Ji,In,fs){return fs.indexOf(Ji)===In}).map(function(Ji){return Xa.filter(function(In){return In.priority===Ji}).sort(function(In,fs){return fs.subPriority-In.subPriority})}).map(function(Ji){return Ji[0]}),Da=Fi(e);if(isNaN(Da.getTime()))return new Date(NaN);var oE,xo=VL(Da,HL(Da)),jc={},Mi=FL(no);try{for(Mi.s();!(oE=Mi.n()).done;){var vS=oE.value;if(!vS.validate(xo,Uc))return new Date(NaN);var zr=vS.set(xo,jc,Uc);Array.isArray(zr)?(xo=zr[0],W4(jc,zr[1])):xo=zr}}catch(Ji){Mi.e(Ji)}finally{Mi.f()}return xo}const A1_dateFromThePastValidator=()=>n=>{if(!n?.value)return null;const t=n.value,e=function s4(n){Yn(1,arguments);var t=Fi(n);return t.setHours(0,0,0,0),t}(new Date);return function a4(n,t){Yn(2,arguments);var e=Fi(n),i=Fi(t);return e.getTime()<i.getTime()}(t,e)?{dateFromThePast:!0}:null},A1_invalidDateFormatValidator=n=>t=>t?.dirty&&t?.value?b1(t.value)?DA(t.value)?null:{invalidValue:!0}:DA(TA(t.value,n,new Date))?null:{invalidValue:!0}:null,IA={home:{base:"/home",createTodoItem:"/home/create-todo-item"}};let S1;try{S1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S1=!1}let xb,Co=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ud(n){return n===Ul}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function r2(){if(xb)return xb;if("object"!=typeof document||!document)return xb=new Set(n2),xb;let n=document.createElement("input");return xb=new Set(n2.filter(t=>(n.setAttribute("type",t),n.type===t))),xb}let MC,u_,M1;function Hh(n){return function i$(){if(null==MC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>MC=!0}))}finally{MC=MC||!1}return MC}()?n:!!n.capture}function r$(){if(null==u_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u_=!1,u_;if("scrollBehavior"in document.documentElement.style)u_=!0;else{const n=Element.prototype.scrollTo;u_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return u_}function kC(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Up(n){return n.composedPath?n.composedPath()[0]:n.target}function k1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function jp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var o2=S(5684),d_=S(2722);function qo(n){return null!=n&&"false"!=`${n}`}function Ab(n,t=0){return function h$(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function PA(n){return Array.isArray(n)?n:[n]}function Jr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function zh(n){return n instanceof c.SBq?n.nativeElement:n}var s2=S(8372);let a2=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p$=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=zh(e);return new Gi.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new cn.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(a2))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m$=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=qo(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ab(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,s2.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(p$),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[a2]}),n})();const l2=new Set;let h_,g$=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):v$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function _$(n,t){if(!l2.has(n))try{h_||(h_=document.createElement("style"),t&&(h_.nonce=t),h_.setAttribute("type","text/css"),document.head.appendChild(h_)),h_.sheet&&(h_.sheet.insertRule(`@media ${n} {body{ }}`,0),l2.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co),c.LFG(c.Ojb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let y$=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return c2(PA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=WI(c2(PA(e)).map(l=>this._registerQuery(l).observable));return o=b(o.pipe((0,Pr.q)(1)),o.pipe((0,o2.T)(1),(0,s2.b)(0))),o.pipe((0,Zt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:g,query:y})=>{f.matches=f.matches||g,f.breakpoints[y]=g}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Gi.y(l=>{const f=g=>this._zone.run(()=>l.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(m(i),(0,Zt.U)(({matches:l})=>({query:e,matches:l})),(0,d_.R)(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(g$),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c2(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let NA=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function C$(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function D$(n){try{return n.frameElement}catch{return null}}(function k$(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===f2(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=f2(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function S$(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function M$(n){return!function x$(n){return function I$(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function E$(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function T$(n){return function A$(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||h2(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function f2(n){if(!h2(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class O${get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Pr.q)(1)).subscribe(t)}}let FA=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new O$(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(NA),c.LFG(c.R0b),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R$=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=qo(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=qo(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=kC(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(FA),c.Y36(Q))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function p2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function m2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const P$=new c.OlP("cdk-input-modality-detector-options"),N$={ignoreKeys:[18,17,224,91,16]},Sb=Hh({passive:!0,capture:!0});let F$=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new kl.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Up(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(p2(l)?"keyboard":"mouse"),this._mostRecentTarget=Up(l))},this._onTouchstart=l=>{m2(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Up(l))},this._options={...N$,...o},this.modalityDetected=this._modality.pipe((0,o2.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,k.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sb),r.addEventListener("mousedown",this._onMousedown,Sb),r.addEventListener("touchstart",this._onTouchstart,Sb)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sb),document.removeEventListener("mousedown",this._onMousedown,Sb),document.removeEventListener("touchstart",this._onTouchstart,Sb))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co),c.LFG(c.R0b),c.LFG(Q),c.LFG(P$,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B$=new c.OlP("cdk-focus-monitor-default-options"),LA=Hh({passive:!0,capture:!0});let Mb=(()=>{class n{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new cn.x,this._rootNodeFocusAndBlurListener=f=>{for(let y=Up(f);y;y=y.parentElement)"focus"===f.type?this._onFocus(f,y):this._onBlur(f,y)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=zh(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,Ft.of)(null);const o=function s$(n){if(function o$(){if(null==M1){const n=typeof document<"u"?document.head:null;M1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return M1}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new cn.x,rootNode:o};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=zh(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=zh(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Up(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,LA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,LA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,d_.R)(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,LA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,LA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Co),c.LFG(F$),c.LFG(Q,8),c.LFG(B$,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V$=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new c.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Mb))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const _2="cdk-high-contrast-black-on-white",v2="cdk-high-contrast-white-on-black",N1="cdk-high-contrast-active";let y2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(y$).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(N1,_2,v2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(N1,_2):2===i&&e.add(N1,v2)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F1=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(y2))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[P1]}),n})();var U$=S(1144);const j$=["addListener","removeListener"],H$=["addEventListener","removeEventListener"],z$=["on","off"];function PC(n,t,e,i){if((0,Wr.m)(e)&&(i=e,e=void 0),i)return PC(n,t,e).pipe(IO(i));const[r,o]=function W$(n){return(0,Wr.m)(n.addEventListener)&&(0,Wr.m)(n.removeEventListener)}(n)?H$.map(l=>f=>n[l](t,f,e)):function $$(n){return(0,Wr.m)(n.addListener)&&(0,Wr.m)(n.removeListener)}(n)?j$.map(b2(n,t)):function G$(n){return(0,Wr.m)(n.on)&&(0,Wr.m)(n.off)}(n)?z$.map(b2(n,t)):[];if(!r&&(0,U$.z)(n))return(0,qi.z)(l=>PC(l,t,e))((0,ua.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Gi.y(l=>{const f=(...g)=>l.next(1<g.length?g:g[0]);return r(f),()=>o(f)})}function b2(n,t){return e=>i=>n[e](t,i)}var w2=S(4408);const NC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=NC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ts.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=NC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=NC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var D2=S(7565);new class Y$ extends D2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class q$ extends w2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=NC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(NC.cancelAnimationFrame(e),t._scheduled=void 0)}});let L1,Z$=1;const BA={};function C2(n){return n in BA&&(delete BA[n],!0)}const Q$={setImmediate(n){const t=Z$++;return BA[t]=!0,L1||(L1=Promise.resolve()),L1.then(()=>C2(t)&&n()),t},clearImmediate(n){C2(n)}},{setImmediate:X$,clearImmediate:J$}=Q$,VA={setImmediate(...n){const{delegate:t}=VA;return(t?.setImmediate||X$)(...n)},clearImmediate(n){const{delegate:t}=VA;return(t?.clearImmediate||J$)(n)},delegate:void 0};new class tG extends D2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class eG extends w2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=VA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(VA.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var rG=S(3532),oG=S(1165);function B1(n,t=Cu.z){return function iG(n){return(0,cr.e)((t,e)=>{let i=!1,r=null,o=null,l=!1;const f=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,e.next(y)}l&&e.complete()},g=()=>{o=null,l&&e.complete()};t.subscribe((0,Wi.x)(e,y=>{i=!0,r=y,o||(0,ua.Xf)(n(y)).subscribe(o=(0,Wi.x)(e,f,g))},()=>{l=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function sG(n=0,t,e=Cu.P){let i=-1;return null!=t&&((0,rG.K)(t)?e=t:i=t),new Gi.y(r=>{let o=(0,oG.q)(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}const aG=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function lG(){return(0,c.f3M)(Q)}}),cG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hp=(()=>{class n{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function uG(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?cG.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(aG,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),hG=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Gi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(B1(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ft.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,bi.h)(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=zh(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Co),c.LFG(Q,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E2=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new cn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(B1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co),c.LFG(c.R0b),c.LFG(Q,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FC,UA,FC,UA]}),n})();class V1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class LC extends V1{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class T2 extends V1{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class pG extends V1{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class U1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof LC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T2?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof pG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mG extends U1{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const f=l.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=l,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let BC=(()=>{class n extends U1{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=o=>{const l=o.element,f=this._document.createComment("dom-portal");o.setAttachedHost(this),l.parentNode.insertBefore(f,l),this._getRootNode().appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(Q))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),kb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const I2=r$();class gG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Jr(-this._previousScrollPosition.left),t.style.top=Jr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),I2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I2&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class _G{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,bi.h)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class A2{enable(){}disable(){}attach(){}}function j1(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function S2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class vG{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();j1(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yG=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new A2,this.close=l=>new _G(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new gG(this._viewportRuler,this._document),this.reposition=l=>new vG(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hG),c.LFG(E2),c.LFG(c.R0b),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class H1{constructor(t){if(this.scrollStrategy=new A2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class bG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let M2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wG=(()=>{class n extends M2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const f=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DG=(()=>{class n extends M2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Up(o)},this._clickListener=o=>{const l=Up(o),f="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const E=g[y];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(l)||E.overlayElement.contains(f))break;const I=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q),c.LFG(Co),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||k1()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),k1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q),c.LFG(Co))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VC{constructor(t,e,i,r,o,l,f,g,y,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=f,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new cn.x,this._attachments=new cn.x,this._detachments=new cn.x,this._locationChanges=Ts.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new cn.x,this._outsidePointerEvents=new cn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Jr(this._config.width),t.height=Jr(this._config.height),t.minWidth=Jr(this._config.minWidth),t.minHeight=Jr(this._config.minHeight),t.maxWidth=Jr(this._config.maxWidth),t.maxHeight=Jr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=PA(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,d_.R)((0,fo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const k2="cdk-overlay-connected-position-bounding-box",CG=/([A-Za-z%]+)$/;class O2{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new cn.x,this._resizeSubscription=Ts.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(k2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let f of this._preferredPositions){let g=this._getOriginPoint(t,r,f),y=this._getOverlayPoint(g,e,f),E=this._getOverlayFit(y,e,i,f);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(E,y,i)?o.push({position:f,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!l||l.overlayFit.visibleArea<E.visibleArea)&&(l={overlayFit:E,overlayPoint:y,originPoint:g,position:f,overlayRect:e})}if(o.length){let f=null,g=-1;for(const y of o){const E=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);E>g&&(g=E,f=y)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&f_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(k2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?l:f}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=P2(e);let{x:l,y:f}=t,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(l+=g),y&&(f+=y);let U=0-f,W=f+o.height-i.height,X=this._subtractOverflows(o.width,0-l,l+o.width-i.width),ae=this._subtractOverflows(o.height,U,W),le=X*ae;return{visibleArea:le,isCompletelyWithinViewport:o.width*o.height===le,fitsInViewportVertically:ae===o.height,fitsInViewportHorizontally:X==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,l=R2(this._overlayRef.getConfig().minHeight),f=R2(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=f&&f<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=P2(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),f=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-i.top-t.y,0),y=Math.max(o.left-i.left-t.x,0);let E=0,I=0;return E=r.width<=o.width?y||-l:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?g||-f:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:E,y:I},{x:t.x+E,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new bG(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,l,f,E,I,U;if("top"===e.overlayY)l=t.y,o=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,o=i.height-f+this._viewportMargin;else{const W=Math.min(i.bottom-t.y+i.top,t.y),X=this._lastBoundingBoxSize.height;o=2*W,l=t.y-W,o>X&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-X/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)U=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,E=i.right-t.x;else{const W=Math.min(i.right-t.x+i.left,t.x),X=this._lastBoundingBoxSize.width;E=2*W,I=t.x-W,E>X&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-X/2)}return{top:l,left:I,bottom:f,right:U,width:E,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Jr(i.height),r.top=Jr(i.top),r.bottom=Jr(i.bottom),r.width=Jr(i.width),r.left=Jr(i.left),r.right=Jr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Jr(o)),l&&(r.maxWidth=Jr(l))}this._lastBoundingBoxSize=i,f_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){f_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){f_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();f_(i,this._getExactOverlayY(e,t,E)),f_(i,this._getExactOverlayX(e,t,E))}else i.position="static";let f="",g=this._getOffset(e,"x"),y=this._getOffset(e,"y");g&&(f+=`translateX(${g}px) `),y&&(f+=`translateY(${y}px)`),i.transform=f.trim(),l.maxHeight&&(r?i.maxHeight=Jr(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Jr(l.maxWidth):o&&(i.maxWidth="")),f_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Jr(o.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Jr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S2(t,i),isOriginOutsideView:j1(t,i),isOverlayClipped:S2(e,i),isOverlayOutsideView:j1(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&PA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function f_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function R2(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(CG);return e&&"px"!==e?null:parseFloat(t)}return n||null}function P2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const N2="cdk-global-overlay-wrapper";class EG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(N2),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),y=!("100%"!==o&&"100vh"!==o||f&&"100%"!==f&&"100vh"!==f),E=this._xPosition,I=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let W="",X="",ae="";g?ae="flex-start":"center"===E?(ae="center",U?X=I:W=I):U?"left"===E||"end"===E?(ae="flex-end",W=I):("right"===E||"start"===E)&&(ae="flex-start",X=I):"left"===E||"start"===E?(ae="flex-start",W=I):("right"===E||"end"===E)&&(ae="flex-end",X=I),t.position=this._cssPosition,t.marginLeft=g?"0":W,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":X,e.justifyContent=ae,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(N2),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xG=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new EG}flexibleConnectedTo(e){return new O2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(E2),c.LFG(Q),c.LFG(Co),c.LFG(jA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TG=0,$h=(()=>{class n{constructor(e,i,r,o,l,f,g,y,E,I,U,W){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=f,this._ngZone=g,this._document=y,this._directionality=E,this._location=I,this._outsideClickDispatcher=U,this._animationsModuleType=W}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new H1(e);return l.direction=l.direction||this._directionality.value,new VC(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+TG++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new mG(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yG),c.LFG(jA),c.LFG(c._Vd),c.LFG(xG),c.LFG(wG),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(Q),c.LFG(Hp),c.LFG(we),c.LFG(DG),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SG={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[$h],useFactory:function AG(n){return()=>n.scrollStrategies.reposition()}};let HA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$h,SG],imports:[FC,kb,x2,x2]}),n})();const kG=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function MG(){return!0}});let Eo=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!k1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(y2),c.LFG(kG,8),c.LFG(Q))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FC,FC]}),n})();function B2(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=qo(t)}constructor(...t){super(...t),this._disabled=!1}}}function z1(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function V2(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=qo(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function RG(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const $1=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function PG(){return(0,c.f3M)(c.soG)}});class ds{constructor(){this._localeChanges=new cn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const zp=new c.OlP("mat-date-formats");let NG=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FG{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const U2=Hh({passive:!0,capture:!0});class LG{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Up(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,U2)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,U2)))}}const j2={enterDuration:225,exitDuration:150},H2=Hh({passive:!0,capture:!0}),z2=["mousedown","touchstart"],$2=["mouseup","mouseleave","touchend","touchcancel"];class Ob{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=zh(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...j2,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function VG(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,g=e-r.top,y=o.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=f-l+"px",E.style.top=g-l+"px",E.style.height=2*l+"px",E.style.width=2*l+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(E);const I=window.getComputedStyle(E),W=I.transitionDuration,X="none"===I.transitionProperty||"0s"===W||"0s, 0s"===W||0===r.width&&0===r.height,ae=new FG(this,E,i,X);E.style.transform="scale3d(1, 1, 1)",ae.state=0,i.persistent||(this._mostRecentTransientRipple=ae);let le=null;return!X&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _e=()=>this._finishRippleTransition(ae),xe=()=>this._destroyRipple(ae);E.addEventListener("transitionend",_e),E.addEventListener("transitioncancel",xe),le={onTransitionEnd:_e,onTransitionCancel:xe}}),this._activeRipples.set(ae,le),(X||!y)&&this._finishRippleTransition(ae),ae}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...j2,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=zh(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,z2.forEach(i=>{Ob._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$2.forEach(e=>{this._triggerElement.addEventListener(e,this,H2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=p2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!m2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(z2.forEach(e=>Ob._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&$2.forEach(e=>t.removeEventListener(e,this,H2)))}}Ob._eventManager=new LG;const G2=new c.OlP("mat-ripple-global-options");let W2=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ob(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Co),c.Y36(G2,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),zA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eo,Eo]}),n})(),UG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eo]}),n})(),q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[zA,mr,Eo,UG]}),n})();const jG=["mat-button",""],HG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],GG=["mat-icon-button",""],WG=["*"],Y2={capture:!0},K2=["focus","click","mouseenter","touchstart"],jC="mat-button-ripple-uninitialized";let qG=(()=>{class n{constructor(){this._document=(0,c.f3M)(Q,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(G2,{optional:!0}),this._platform=(0,c.f3M)(Co),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=e=>{if(e.target===this._document)return;const r=e.target.closest(`[${jC}]`);r&&(r.removeAttribute(jC),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const e of K2)this._document?.addEventListener(e,this._onInteraction,Y2)})}ngOnDestroy(){for(const e of K2)this._document?.removeEventListener(e,this._onInteraction,Y2)}_appendRipple(e){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new YG(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new Ob(r,this._ngZone,i,this._platform).setupTriggerEvents(e),e.append(i)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(jC);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new W2(new c.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,e.append(i),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YG{constructor(t,e,i){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,i)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const KG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ZG=z1(B2(V2(class{constructor(n){this._elementRef=n}})));let Z2=(()=>{class n extends ZG{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(Mb),this._rippleLoader=(0,c.f3M)(qG),this._isFab=!1;const l=e.nativeElement.classList;for(const f of KG)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(g=>{l.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,features:[c.qOj,c.TTD]}),n})(),Q2=(()=>{class n extends Z2{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Co),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:jG,ngContentSelectors:zG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(c.F$t(HG),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&e&&c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),X2=(()=>{class n extends Z2{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Co),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:GG,ngContentSelectors:WG,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),JG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eo,zA,Eo]}),n})();class J2{}class e5{}const Gh="*";function p_(n,t){return{type:7,name:n,definitions:t,options:{}}}function Rl(n,t=null){return{type:4,styles:t,timings:n}}function tB(n,t=null){return{type:2,steps:n,options:t}}function yr(n){return{type:6,styles:n,offset:null}}function Wh(n,t,e){return{type:0,name:n,styles:t,options:e}}function nB(n){return{type:5,steps:n}}function Ya(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function iB(n){Promise.resolve().then(n)}class HC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?iB(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const q1="!",t5=["matFormFieldNotchedOutline",""],n5=["*"],r5=["textField"],o5=["iconPrefixContainer"],s5=["textPrefixContainer"];function a5(n,t){1&n&&c._UZ(0,"span",19)}function l5(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(e);const r=c.oxw(2);return c.KtG(r._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,a5,1,0,"span",18),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function c5(n,t){if(1&n&&c.YNc(0,l5,3,6,"label",16),2&n){const e=c.oxw();c.Q6J("ngIf",e._hasFloatingLabel())}}function u5(n,t){1&n&&c._UZ(0,"div",20)}function d5(n,t){}function h5(n,t){if(1&n&&c.YNc(0,d5,0,0,"ng-template",22),2&n){c.oxw(2);const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function f5(n,t){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,h5,1,1,"ng-template",9),c.qZA()),2&n){const e=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),c.xp6(1),c.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function p5(n,t){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function m5(n,t){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function g5(n,t){}function _5(n,t){if(1&n&&c.YNc(0,g5,0,0,"ng-template",22),2&n){c.oxw();const e=c.MAs(1);c.Q6J("ngTemplateOutlet",e)}}function v5(n,t){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function y5(n,t){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function b5(n,t){1&n&&c._UZ(0,"div",29)}function w5(n,t){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function D5(n,t){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function C5(n,t){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,D5,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const E5=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],x5=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let zC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),T5=0;const oB=new c.OlP("MatError");let Y1=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+T5++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&c.Ikx("id",i.id)},inputs:{id:"id"},features:[c._Bn([{provide:oB,useExisting:n}])]}),n})(),I5=0,$A=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+I5++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const A5=new c.OlP("MatPrefix"),sB=new c.OlP("MatSuffix");let S5=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:sB,useExisting:n}])]}),n})(),aB=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function M5(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const lB="mdc-line-ripple--active",GA="mdc-line-ripple--deactivating";let cB=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,l=o.contains(GA);"opacity"===r.propertyName&&l&&o.remove(lB,GA)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(GA),e.add(lB)}deactivate(){this._elementRef.nativeElement.classList.add(GA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),uB=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:t5,ngContentSelectors:n5,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&e&&(c.xp6(1),c.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const k5={transitionMessages:p_("transitionMessages",[Wh("enter",yr({opacity:1,transform:"translateY(0%)"})),Ya("void => enter",[yr({opacity:0,transform:"translateY(-5px)"}),Rl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const K1=new c.OlP("MatFormField"),O5=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let hB=0,Z1=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=qo(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,l,f,g,y){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=l,this._defaults=f,this._animationMode=g,this._document=y,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+hB++,this._hintLabelId="mat-mdc-hint-"+hB++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new cn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,d_.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,fo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d_.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,d_.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Hp),c.Y36(Co),c.Y36(O5,8),c.Y36(c.QbO,8),c.Y36(Q))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,zC,5),c.Suo(r,zC,7),c.Suo(r,dB,5),c.Suo(r,A5,5),c.Suo(r,sB,5),c.Suo(r,oB,5),c.Suo(r,$A,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._labelChildNonStatic=o.first),c.iGM(o=c.CRH())&&(i._labelChildStatic=o.first),c.iGM(o=c.CRH())&&(i._formFieldControl=o.first),c.iGM(o=c.CRH())&&(i._prefixChildren=o),c.iGM(o=c.CRH())&&(i._suffixChildren=o),c.iGM(o=c.CRH())&&(i._errorChildren=o),c.iGM(o=c.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(c.Gf(r5,5),c.Gf(o5,5),c.Gf(s5,5),c.Gf(aB,5),c.Gf(uB,5),c.Gf(cB,5)),2&e){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:K1,useExisting:n}])],ngContentSelectors:x5,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(c.F$t(E5),c.YNc(0,c5,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(o){return i._control.onContainerClick(o)}),c.YNc(4,u5,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,f5,2,3,"div",5),c.YNc(7,p5,3,0,"div",6),c.YNc(8,m5,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,_5,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,v5,2,0,"div",10),c.YNc(13,y5,2,0,"div",11),c.qZA(),c.YNc(14,b5,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,w5,2,1,"div",14),c.YNc(17,C5,5,2,"div",15),c.qZA()),2&e&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[br,ji,so,Js,m$,$A,aB,uB,cB],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[k5.transitionMessages]},changeDetection:0}),n})(),$C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eo,mr,P1,Eo]}),n})();const mB=Hh({passive:!0});let N5=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return gr.E;const i=zh(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new cn.x,l="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,mB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",f,mB)}}),o}stopMonitoring(e){const i=zh(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Co),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F5=(()=>{class n{get minRows(){return this._minRows}set minRows(e){this._minRows=Ab(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Ab(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=qo(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new cn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=l=>{this._hasFocus="focus"===l.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{PC(this._getWindow(),"resize").pipe(B1(16),(0,d_.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,l=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(l);const f=e.scrollHeight-4;return e.classList.remove(l),o&&(e.style.marginBottom=i),f}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),l=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${l}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Co),c.Y36(c.R0b),c.Y36(Q,8))},n.\u0275dir=c.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&c.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),L5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const gB=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),B5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let V5=0;const U5=RG(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new cn.x}});let Q1=(()=>{class n extends U5{get disabled(){return this._disabled}set disabled(e){this._disabled=qo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(yb.required)??!1}set required(e){this._required=qo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&r2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=qo(e)}constructor(e,i,r,o,l,f,g,y,E,I){super(f,o,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=I,this._uid="mat-input-"+V5++,this.focused=!1,this.stateChanges=new cn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>r2().has(X)),this._iOSKeyupListener=X=>{const ae=X.target;!ae.value&&0===ae.selectionStart&&0===ae.selectionEnd&&(ae.setSelectionRange(1,1),ae.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,W=U.nodeName.toLowerCase();this._inputValueAccessor=g||U,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){B5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Co),c.Y36(nd,10),c.Y36(bA,8),c.Y36(Vp,8),c.Y36(NG),c.Y36(gB,10),c.Y36(N5),c.Y36(c.R0b),c.Y36(K1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:dB,useExisting:n}]),c.qOj,c.TTD]}),n})(),_B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Eo,$C,$C,L5,Eo]}),n})();const j5=["mat-calendar-body",""];function H5(n,t){if(1&n&&(c.TgZ(0,"tr",3)(1,"td",4),c._uU(2),c.qZA()()),2&n){const e=c.oxw();c.xp6(1),c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e.numCols),c.xp6(1),c.hij(" ",e.label," ")}}function z5(n,t){if(1&n&&(c.TgZ(0,"td",4),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e._firstRowOffset),c.xp6(1),c.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function $5(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",8)(1,"button",9),c.NdJ("click",function(r){const l=c.CHM(e).$implicit,f=c.oxw(2);return c.KtG(f._cellClicked(l,r))})("focus",function(r){const l=c.CHM(e).$implicit,f=c.oxw(2);return c.KtG(f._emitActiveDateChange(l,r))}),c.TgZ(2,"span",10),c._uU(3),c.qZA(),c._UZ(4,"span",11),c.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw().index,o=c.oxw();c.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),c.uIk("data-mat-row",r)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),c.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),c.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),c.xp6(1),c.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),c.xp6(1),c.hij(" ",e.displayValue," ")}}function G5(n,t){if(1&n&&(c.TgZ(0,"tr",5),c.YNc(1,z5,2,6,"td",6),c.YNc(2,$5,5,48,"td",7),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&r._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",e)}}function W5(n,t){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.long),c.xp6(2),c.Oqu(e.narrow)}}const q5=["*"];function Y5(n,t){}function K5(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o.activeDate=r)})("_userSelection",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._dateSelected(r))})("dragStarted",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._dragStarted(r))})("dragEnded",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._dragEnded(r))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Z5(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o.activeDate=r)})("monthSelected",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._goToDateInView(r,"month"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Q5(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o.activeDate=r)})("yearSelected",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){c.CHM(e);const o=c.oxw();return c.KtG(o._goToDateInView(r,"year"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function X5(n,t){}const J5=["button"];function eW(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const tW=[[["","matDatepickerToggleIcon",""]]],nW=["[matDatepickerToggleIcon]"];let GC=(()=>{class n{constructor(){this.changes=new cn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class X1{constructor(t,e,i,r,o={},l=t,f){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=l,this.rawValue=f}}let iW=1;const vB=Hh({passive:!1,capture:!0}),$p=Hh({passive:!0,capture:!0}),WA=Hh({passive:!0});let Rb=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=(0,c.f3M)(Co),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this.activeDateChange=new c.vpe,this.dragStarted=new c.vpe,this.dragEnded=new c.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=yB(r),l=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),eR(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:l?.enabled?l:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=eR(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const l=this._getCellFromElement(o);this.dragEnded.emit({value:l?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=yB(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+iW++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,vB),r.addEventListener("mouseenter",this._enterHandler,$p),r.addEventListener("focus",this._enterHandler,$p),r.addEventListener("mouseleave",this._leaveHandler,$p),r.addEventListener("blur",this._leaveHandler,$p),r.addEventListener("mousedown",this._mousedownHandler,WA),r.addEventListener("touchstart",this._mousedownHandler,WA),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,vB),e.removeEventListener("mouseenter",this._enterHandler,$p),e.removeEventListener("focus",this._enterHandler,$p),e.removeEventListener("mouseleave",this._leaveHandler,$p),e.removeEventListener("blur",this._leaveHandler,$p),e.removeEventListener("mousedown",this._mousedownHandler,WA),e.removeEventListener("touchstart",this._mousedownHandler,WA),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Pr.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return tR(e,this.startValue,this.endValue)}_isRangeEnd(e){return nR(e,this.startValue,this.endValue)}_isInRange(e){return iR(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return tR(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const l=this.rows[i-1];o=l&&l[l.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const l=this.rows[i+1];o=l&&l[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return nR(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return iR(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return tR(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return nR(e,this.previewStart,this.previewEnd)}_isInPreview(e){return iR(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=eR(e);if(i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:j5,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(c.YNc(0,H5,3,6,"tr",0),c.YNc(1,G5,3,2,"tr",1),c.TgZ(2,"label",2),c._uU(3),c.qZA(),c.TgZ(4,"label",2),c._uU(5),c.qZA()),2&e&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows),c.xp6(1),c.Q6J("id",i._startDateLabelId),c.xp6(1),c.hij(" ",i.startDateAccessibleName,"\n"),c.xp6(1),c.Q6J("id",i._endDateLabelId),c.xp6(1),c.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[Ko,As,br],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function J1(n){return"TD"===n?.nodeName}function eR(n){let t;return J1(n)?t=n:J1(n.parentNode)?t=n.parentNode:J1(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function tR(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function nR(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function iR(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function yB(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Zs{constructor(t,e){this.start=t,this.end=e}}let Gp=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new cn.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),rW=(()=>{class n extends Gp{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ds))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bB={provide:Gp,deps:[[new c.FiY,new c.tp0,Gp],ds],useFactory:function sW(n,t){return n||new rW(t)}},qA=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let wB=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Zs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o,l){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=l,this._rerenderSubscription=Ts.w0.EMPTY,this.activeDrag=null,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.dragStarted=new c.vpe,this.dragEnded=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(m(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,l;this._selected instanceof Zs?(o=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):o=l=this._getDateInCurrentMonth(this._selected),(o!==i||l!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!jp(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const l=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);l&&(this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((l,f)=>({long:l,narrow:i[f]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),f=this._shouldEnableDate(l),g=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),y=this.dateClass?this.dateClass(l,"month"):void 0;this._weeks[this._weeks.length-1].push(new X1(r+1,i[r],g,f,y,this._getCellCompareValue(l),l))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Zs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(zp,8),c.Y36(ds,8),c.Y36(Hp,8),c.Y36(qA,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Rb,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,W5,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("dragStarted",function(o){return i.dragStarted.emit(o)})("dragEnded",function(o){return i._dragEnded(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[As,Rb],encapsulation:2,changeDetection:0}),n})();const Ka=24;let DB=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),CB(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Zs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ts.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(m(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<Ka;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(l=>this._createCellForYear(l))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ka-WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ka:-Ka);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ka:Ka);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return WC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new X1(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Zs){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(ds,8),c.Y36(Hp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Rb,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Rb],encapsulation:2,changeDetection:0}),n})();function CB(n,t,e,i,r){const o=n.getYear(t),l=n.getYear(e),f=EB(n,i,r);return Math.floor((o-f)/Ka)===Math.floor((l-f)/Ka)}function WC(n,t,e,i){return function uW(n,t){return(n%t+t)%t}(n.getYear(t)-EB(n,e,i),Ka)}function EB(n,t,e){let i=0;return e?i=n.getYear(e)-Ka+1:t&&(i=n.getYear(t)),i}let xB=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Zs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Ts.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(m(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),l=this.dateClass?this.dateClass(r,"year"):void 0;return new X1(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),l)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Zs?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(zp,8),c.Y36(ds,8),c.Y36(Hp,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(Rb,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Rb],encapsulation:2,changeDetection:0}),n})(),dW=1,hW=(()=>{class n{constructor(e,i,r,o,l){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+dW++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>l.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ka)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ka)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):CB(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-WC(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Ka-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(GC),c.Y36((0,c.Gpc)(()=>sR)),c.Y36(ds,8),c.Y36(zp,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:q5,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span",3),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",4),c._UZ(6,"polygon",5),c.qZA()(),c.kcU(),c._UZ(7,"div",6),c.Hsn(8),c.TgZ(9,"button",7),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",8),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()(),c.TgZ(11,"label",9),c._uU(12),c.qZA()),2&e&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),c.xp6(2),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel),c.xp6(1),c.Q6J("id",i._periodButtonLabelId),c.xp6(1),c.Oqu(i.periodButtonDescription))},dependencies:[Q2,X2],encapsulation:2,changeDetection:0}),n})(),sR=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Zs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this._userDragDrop=new c.vpe,this._activeDrag=null,this.stateChanges=new cn.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new LC(this.headerComponent||hW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Zs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(GC),c.Y36(ds,8),c.Y36(zp,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(c.Gf(wB,5),c.Gf(xB,5),c.Gf(DB,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.monthView=r.first),c.iGM(r=c.CRH())&&(i.yearView=r.first),c.iGM(r=c.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[c._Bn([bB]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(c.YNc(0,Y5,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,K5,1,11,"mat-month-view",2),c.YNc(3,Z5,1,6,"mat-year-view",3),c.YNc(4,Q5,1,6,"mat-multi-year-view",4),c.qZA()),2&e&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},dependencies:[so,Js,V$,BC,wB,xB,DB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const TB={transformPanel:p_("transformPanel",[Ya("void => enter-dropdown",Rl("120ms cubic-bezier(0, 0, 0.2, 1)",nB([yr({opacity:0,transform:"scale(1, 0.8)"}),yr({opacity:1,transform:"scale(1, 1)"})]))),Ya("void => enter-dialog",Rl("150ms cubic-bezier(0, 0, 0.2, 1)",nB([yr({opacity:0,transform:"scale(0.7)"}),yr({transform:"none",opacity:1})]))),Ya("* => void",Rl("100ms linear",yr({opacity:0})))]),fadeInCalendar:p_("fadeInCalendar",[Wh("void",yr({opacity:0})),Wh("enter",yr({opacity:1})),Ya("void => *",Rl("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let fW=0;const IB=new c.OlP("mat-datepicker-scroll-strategy"),mW={provide:IB,deps:[$h],useFactory:function pW(n){return()=>n.scrollStrategies.reposition()}},gW=z1(class{constructor(n){this._elementRef=n}});let _W=(()=>{class n extends gW{constructor(e,i,r,o,l,f){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=l,this._subscriptions=new Ts.w0,this._animationDone=new cn.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=f.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof Zs;if(o&&this._rangeSelectionStrategy){const l=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(l,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Gp),c.Y36(ds),c.Y36(qA,8),c.Y36(GC))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&c.Gf(sR,5),2&e){let r;c.iGM(r=c.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&c.WFA("@transformPanel.start",function(o){return i._handleAnimationEvent(o)})("@transformPanel.done",function(o){return i._handleAnimationEvent(o)}),2&e&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)})("_userDragDrop",function(o){return i._handleUserDragDrop(o)}),c.qZA(),c.YNc(2,X5,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&e){let r;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},dependencies:[Ko,Q2,R$,BC,sR],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[TB.transformPanel,TB.fadeInCalendar]},changeDetection:0}),n})(),AB=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=qo(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=qo(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=qo(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function f$(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){qo(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,o,l,f,g){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=l,this._dir=f,this._model=g,this._inputStateChanges=Ts.w0.EMPTY,this._document=(0,c.f3M)(Q),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+fW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new cn.x,this._scrollStrategy=o}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof O2&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=kC(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe((0,Pr.q)(1)).subscribe(()=>{const l=this._document.activeElement;e&&(!l||l===this._document.activeElement||o.nativeElement.contains(l))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new LC(_W,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new H1({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const l=o.keyCode;(38===l||40===l||37===l||39===l||33===l||34===l)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,Pr.q)(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",l="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:l,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:l}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return(0,fo.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe((0,bi.h)(r=>27===r.keyCode&&!jp(r)||this.datepickerInput&&jp(r,"altKey")&&38===r.keyCode&&i.every(o=>!jp(r,o)))))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($h),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(IB),c.Y36(ds,8),c.Y36(Hp,8),c.Y36(Gp))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),vW=(()=>{class n extends AB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([bB,{provide:AB,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class YA{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let yW=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=qo(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new YA(this,this._elementRef.nativeElement)),this.dateChange.emit(new YA(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new cn.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ts.w0.EMPTY,this._localeSubscription=Ts.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!l||this._matchesFilter(l)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),f=this._getMinDate();return!f||!l||this._dateAdapter.compareDate(f,l)<=0?null:{matDatepickerMin:{min:f,actual:l}}},this._maxValidator=o=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),f=this._getMaxDate();return!f||!l||this._dateAdapter.compareDate(f,l)>=0?null:{matDatepickerMax:{max:f,actual:l}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function bW(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){jp(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!jp(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new YA(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new YA(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ds,8),c.Y36(zp,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const wW={provide:Ol,useExisting:(0,c.Gpc)(()=>aR),multi:!0},DW={provide:Go,useExisting:(0,c.Gpc)(()=>aR),multi:!0};let aR=(()=>{class n extends yW{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=Ts.w0.EMPTY,this._validator=yb.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ds,8),c.Y36(zp,8),c.Y36(K1,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&c.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([wW,DW,{provide:gB,useExisting:n}]),c.qOj]}),n})(),CW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),EW=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=qo(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ts.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,Ft.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ft.of)(),r=this.datepicker?(0,fo.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ft.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,fo.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(GC),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,CW,5),2&e){let o;c.iGM(o=c.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&c.Gf(J5,5),2&e){let r;c.iGM(r=c.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&c.NdJ("click",function(o){return i._open(o)}),2&e&&(c.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:nW,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(c.F$t(tW),c.TgZ(0,"button",0,1),c.YNc(2,eW,2,0,"svg",2),c.Hsn(3),c.qZA()),2&e&&(c.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),c.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),c.xp6(2),c.Q6J("ngIf",!i._customIcon))},dependencies:[br,X2],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),MB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[GC,mW],imports:[mr,JG,HA,F1,kb,Eo,UA]}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[OB,Eo,zA,mr,OB,Eo]}),n})();function LW(n,t){}class KA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let PB=(()=>{class n extends U1{constructor(e,i,r,o,l,f,g,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=l,this._ngZone=f,this._overlayRef=g,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=kC(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=kC();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(FA),c.Y36(Q,8),c.Y36(KA),c.Y36(NA),c.Y36(c.R0b),c.Y36(VC),c.Y36(Mb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(BC,7),2&e){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,LW,0,0,"ng-template",0)},dependencies:[BC],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class cR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new cn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!jp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const NB=new c.OlP("DialogScrollStrategy"),BW=new c.OlP("DialogData"),VW=new c.OlP("DefaultDialogConfig"),jW={provide:NB,deps:[$h],useFactory:function UW(n){return()=>n.scrollStrategies.block()}};let HW=0,FB=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,l,f){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new cn.x,this._afterOpenedAtThisLevel=new cn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=qI(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(m(void 0))),this._scrollStrategy=f}open(e,i){(i={...this._defaultOptions||new KA,...i}).id=i.id||"cdk-dialog-"+HW++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),l=this._overlay.create(o),f=new cR(l,i),g=this._attachContainer(l,f,i);return f.containerInstance=g,this._attachDialogContent(e,f,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){uR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){uR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),uR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new H1({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,l=[{provide:KA,useValue:r},{provide:cR,useValue:i},{provide:VC,useValue:e}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,l.push(...r.container.providers(r))):f=PB;const g=new LC(f,r.viewContainerRef,c.zs3.create({parent:o||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,i,r,o){if(e instanceof c.Rgc){const l=this._createInjector(o,i,r,void 0);let f={$implicit:o.data,dialogRef:i};o.templateContext&&(f={...f,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new T2(e,null,f,l))}else{const l=this._createInjector(o,i,r,this._injector),f=r.attachComponentPortal(new LC(e,o.viewContainerRef,l,o.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(e,i,r,o){const l=e.injector||e.viewContainerRef?.injector,f=[{provide:BW,useValue:e.data},{provide:cR,useValue:i}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(i,e,r)):f.push(...e.providers)),e.direction&&(!l||!l.get(Hp,null,{optional:!0}))&&f.push({provide:Hp,useValue:{value:e.direction,change:(0,Ft.of)()}}),c.zs3.create({parent:l||o,providers:f})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($h),c.LFG(c.zs3),c.LFG(VW,8),c.LFG(n,12),c.LFG(jA),c.LFG(NB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function uR(n,t){let e=n.length;for(;e--;)t(n[e])}let zW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[FB,jW],imports:[HA,kb,F1,kb]}),n})();function $W(n,t){}class ZA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const dR="mdc-dialog--open",LB="mdc-dialog--opening",BB="mdc-dialog--closing";let qW=(()=>{class n extends PB{constructor(e,i,r,o,l,f,g,y){super(e,i,r,o,l,f,g,y),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(FA),c.Y36(Q,8),c.Y36(ZA),c.Y36(NA),c.Y36(c.R0b),c.Y36(VC),c.Y36(Mb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const VB="--mat-dialog-transition-duration";function UB(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ab(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ab(n.substring(0,n.length-1)):"0"===n?0:null}let YW=(()=>{class n extends qW{constructor(e,i,r,o,l,f,g,y,E){super(e,i,r,o,l,f,g,E),this._animationMode=y,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?UB(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?UB(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(VB,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(LB,dR)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(dR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(dR),this._animationsEnabled?(this._hostElement.style.setProperty(VB,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(BB)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(LB,BB)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(FA),c.Y36(Q,8),c.Y36(ZA),c.Y36(NA),c.Y36(c.R0b),c.Y36(VC),c.Y36(c.QbO,8),c.Y36(Mb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[c.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,$W,0,0,"ng-template",2),c.qZA()())},dependencies:[BC],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class hR{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new cn.x,this._beforeClosed=new cn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe((0,bi.h)(r=>"opened"===r.state),(0,Pr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,bi.h)(r=>"closed"===r.state),(0,Pr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fo.T)(this.backdropClick(),this.keydownEvents().pipe((0,bi.h)(r=>27===r.keyCode&&!this.disableClose&&!jp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function KW(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,bi.h)(e=>"closing"===e.state),(0,Pr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const ZW=new c.OlP("MatMdcDialogData"),QW=new c.OlP("mat-mdc-dialog-default-options"),jB=new c.OlP("mat-mdc-dialog-scroll-strategy"),JW={provide:jB,deps:[$h],useFactory:function XW(n){return()=>n.scrollStrategies.block()}};let e8=0,t8=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,l,f,g,y,E,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new cn.x,this._afterOpenedAtThisLevel=new cn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ZA,this.afterAllClosed=qI(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(m(void 0))),this._scrollStrategy=f,this._dialog=i.get(FB)}open(e,i){let r;(i={...this._defaultOptions||new ZA,...i}).id=i.id||`${this._idPrefix}${e8++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:KA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,f,g)=>(r=new this._dialogRefConstructor(l,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),fR=(()=>{class n extends t8{constructor(e,i,r,o,l,f,g,y){super(e,i,o,f,g,l,hR,YW,ZW,y),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($h),c.LFG(c.zs3),c.LFG(we,8),c.LFG(QW,8),c.LFG(jB),c.LFG(n,12),c.LFG(jA),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),n8=0,r8=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+n8++}ngOnInit(){this._dialogRef||(this._dialogRef=function s8(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(hR,8),c.Y36(c.SBq),c.Y36(fR))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&c.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fR,JW],imports:[zW,HA,kb,Eo,Eo]}),n})();function $B(n,t){var e;Yn(1,arguments);var i=Wo(null!==(e=t?.additionalDigits)&&void 0!==e?e:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var o,r=function m8(n){var i,t={},e=n.split(QA.dateTimeDelimiter);if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],QA.timeZoneDelimiter.test(t.date)&&(t.date=n.split(QA.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){var r=QA.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}(n);if(r.date){var l=function g8(n,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:null===o?r:100*o,restDateString:n.slice((i[1]||i[2]).length)}}(r.date,i);o=function _8(n,t){if(null===t)return new Date(NaN);var e=n.match(h8);if(!e)return new Date(NaN);var i=!!e[4],r=qC(e[1]),o=qC(e[2])-1,l=qC(e[3]),f=qC(e[4]),g=qC(e[5])-1;if(i)return function E8(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}(0,f,g)?function b8(n,t,e){var i=new Date(0);i.setUTCFullYear(n,0,4);var o=7*(t-1)+e+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+o),i}(t,f,g):new Date(NaN);var y=new Date(0);return function D8(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(w8[t]||(GB(n)?29:28))}(t,o,l)&&function C8(n,t){return t>=1&&t<=(GB(n)?366:365)}(t,r)?(y.setUTCFullYear(t,o,Math.max(r,l)),y):new Date(NaN)}(l.restDateString,l.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var y,f=o.getTime(),g=0;if(r.time&&(g=function v8(n){var t=n.match(f8);if(!t)return NaN;var e=pR(t[1]),i=pR(t[2]),r=pR(t[3]);return function x8(n,t,e){return 24===n?0===t&&0===e:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}(e,i,r)?e*E1+i*C1+1e3*r:NaN}(r.time),isNaN(g)))return new Date(NaN);if(!r.timezone){var E=new Date(f+g),I=new Date(0);return I.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),I.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),I}return y=function y8(n){if("Z"===n)return 0;var t=n.match(p8);if(!t)return 0;var e="+"===t[1]?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function T8(n,t){return t>=0&&t<=59}(0,r)?e*(i*E1+r*C1):NaN}(r.timezone),isNaN(y)?new Date(NaN):new Date(f+g+y)}var QA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},h8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,f8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qC(n){return n?parseInt(n):1}function pR(n){return n&&parseFloat(n.replace(",","."))||0}var w8=[31,null,31,30,31,30,31,31,30,31,30,31];function GB(n){return n%400==0||n%4==0&&n%100!=0}function On(n,t){for(var e=n<0?"-":"",i=Math.abs(n).toString();i.length<t;)i="0"+i;return e+i}const Wp_y=function(t,e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return On("yy"===e?r%100:r,e.length)},Wp_M=function(t,e){var i=t.getUTCMonth();return"M"===e?String(i+1):On(i+1,2)},Wp_d=function(t,e){return On(t.getUTCDate(),e.length)},Wp_h=function(t,e){return On(t.getUTCHours()%12||12,e.length)},Wp_H=function(t,e){return On(t.getUTCHours(),e.length)},Wp_m=function(t,e){return On(t.getUTCMinutes(),e.length)},Wp_s=function(t,e){return On(t.getUTCSeconds(),e.length)},Wp_S=function(t,e){var i=e.length,r=t.getUTCMilliseconds();return On(Math.floor(r*Math.pow(10,i-3)),e.length)};var M8={G:function(t,e,i){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});default:return i.era(r,{width:"wide"})}},y:function(t,e,i){if("yo"===e){var r=t.getUTCFullYear();return i.ordinalNumber(r>0?r:1-r,{unit:"year"})}return Wp_y(t,e)},Y:function(t,e,i,r){var o=T1(t,r),l=o>0?o:1-o;return"YY"===e?On(l%100,2):"Yo"===e?i.ordinalNumber(l,{unit:"year"}):On(l,e.length)},R:function(t,e){return On(e2(t),e.length)},u:function(t,e){return On(t.getUTCFullYear(),e.length)},Q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return On(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,i){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return On(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,i){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Wp_M(t,e);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,i){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return On(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,i,r){var o=JL(t,r);return"wo"===e?i.ordinalNumber(o,{unit:"week"}):On(o,e.length)},I:function(t,e,i){var r=t2(t);return"Io"===e?i.ordinalNumber(r,{unit:"week"}):On(r,e.length)},d:function(t,e,i){return"do"===e?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):Wp_d(t,e)},D:function(t,e,i){var r=function A8(n){Yn(1,arguments);var t=Fi(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime();return Math.floor((e-i)/864e5)+1}(t);return"Do"===e?i.ordinalNumber(r,{unit:"dayOfYear"}):On(r,e.length)},E:function(t,e,i){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,i,r){var o=t.getUTCDay(),l=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return On(l,2);case"eo":return i.ordinalNumber(l,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,i,r){var o=t.getUTCDay(),l=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return On(l,e.length);case"co":return i.ordinalNumber(l,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,i){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return On(o,e.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,i){var o=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,i){var o,r=t.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,i){var o,r=t.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,i){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return Wp_h(t,e)},H:function(t,e,i){return"Ho"===e?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Wp_H(t,e)},K:function(t,e,i){var r=t.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(r,{unit:"hour"}):On(r,e.length)},k:function(t,e,i){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?i.ordinalNumber(r,{unit:"hour"}):On(r,e.length)},m:function(t,e,i){return"mo"===e?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Wp_m(t,e)},s:function(t,e,i){return"so"===e?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Wp_s(t,e)},S:function(t,e){return Wp_S(t,e)},X:function(t,e,i,r){var l=(r._originalDate||t).getTimezoneOffset();if(0===l)return"Z";switch(e){case"X":return qB(l);case"XXXX":case"XX":return m_(l);default:return m_(l,":")}},x:function(t,e,i,r){var l=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return qB(l);case"xxxx":case"xx":return m_(l);default:return m_(l,":")}},O:function(t,e,i,r){var l=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WB(l,":");default:return"GMT"+m_(l,":")}},z:function(t,e,i,r){var l=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WB(l,":");default:return"GMT"+m_(l,":")}},t:function(t,e,i,r){return On(Math.floor((r._originalDate||t).getTime()/1e3),e.length)},T:function(t,e,i,r){return On((r._originalDate||t).getTime(),e.length)}};function WB(n,t){var e=n>0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),o=i%60;if(0===o)return e+String(r);var l=t||"";return e+String(r)+l+On(o,2)}function qB(n,t){return n%60==0?(n>0?"-":"+")+On(Math.abs(n)/60,2):m_(n,t)}function m_(n,t){var e=t||"",i=n>0?"-":"+",r=Math.abs(n);return i+On(Math.floor(r/60),2)+e+On(r%60,2)}const k8=M8;var O8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P8=/^'([^]*?)'?$/,N8=/''/g,F8=/[a-zA-Z]/;function YB(n,t){Yn(2,arguments);var e=Fi(n),i=Wo(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),o=new Date(e.getTime());return o.setMonth(e.getMonth()+i+1,0),r>=o.getDate()?o:(e.setFullYear(o.getFullYear(),o.getMonth(),r),e)}function mR(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}const H8={long:"LLLL",short:"LLL",narrow:"LLLLL"},z8={long:"EEEE",short:"EEE",narrow:"EEEEE"};let $8=(()=>{class n extends ds{constructor(e){super(),this.setLocale(e)}getYear(e){return function a8(n){return Yn(1,arguments),Fi(n).getFullYear()}(e)}getMonth(e){return function l8(n){return Yn(1,arguments),Fi(n).getMonth()}(e)}getDate(e){return function c8(n){return Yn(1,arguments),Fi(n).getDate()}(e)}getDayOfWeek(e){return function u8(n){return Yn(1,arguments),Fi(n).getDay()}(e)}getMonthNames(e){const i=H8[e];return mR(12,r=>this.format(new Date(2017,r,1),i))}getDateNames(){const e=typeof Intl<"u"?new Intl.DateTimeFormat(this.locale.code,{day:"numeric",timeZone:"utc"}):null;return mR(31,i=>{if(e){const r=new Date;return r.setUTCFullYear(2017,0,i+1),r.setUTCHours(0,0,0,0),e.format(r).replace(/[\u200e\u200f]/g,"")}return i+""})}getDayOfWeekNames(e){const i=z8[e];return mR(7,r=>this.format(new Date(2017,0,r+1),i))}getYearName(e){return this.format(e,"y")}getFirstDayOfWeek(){return this.locale.options?.weekStartsOn??0}getNumDaysInMonth(e){return function d8(n){Yn(1,arguments);var t=Fi(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(e)}clone(e){return new Date(e.getTime())}createDate(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o.getMonth(),o}today(){return new Date}parse(e,i){if("string"==typeof e&&e.length>0){const r=$B(e);if(this.isValid(r))return r;const o=Array.isArray(i)?i:[i];if(!i.length)throw Error("Formats array must not be empty.");for(const l of o){const f=TA(e,l,new Date,{locale:this.locale});if(this.isValid(f))return f}return this.invalid()}return"number"==typeof e?new Date(e):e instanceof Date?this.clone(e):null}format(e,i){if(!this.isValid(e))throw Error("DateFnsAdapter: Cannot format invalid date.");return function L8(n,t,e){var i,r,o,l,f,g,y,E,I,U,W,X,ae,le,_e,xe,Ee,He;Yn(2,arguments);var st=String(t),dt=Cb(),Lt=null!==(i=null!==(r=e?.locale)&&void 0!==r?r:dt.locale)&&void 0!==i?i:BL,Tn=Wo(null!==(o=null!==(l=null!==(f=null!==(g=e?.firstWeekContainsDate)&&void 0!==g?g:null==e||null===(y=e.locale)||void 0===y||null===(E=y.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==f?f:dt.firstWeekContainsDate)&&void 0!==l?l:null===(I=dt.locale)||void 0===I||null===(U=I.options)||void 0===U?void 0:U.firstWeekContainsDate)&&void 0!==o?o:1);if(!(Tn>=1&&Tn<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Di=Wo(null!==(W=null!==(X=null!==(ae=null!==(le=e?.weekStartsOn)&&void 0!==le?le:null==e||null===(_e=e.locale)||void 0===_e||null===(xe=_e.options)||void 0===xe?void 0:xe.weekStartsOn)&&void 0!==ae?ae:dt.weekStartsOn)&&void 0!==X?X:null===(Ee=dt.locale)||void 0===Ee||null===(He=Ee.options)||void 0===He?void 0:He.weekStartsOn)&&void 0!==W?W:0);if(!(Di>=0&&Di<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Lt.localize)throw new RangeError("locale must contain localize property");if(!Lt.formatLong)throw new RangeError("locale must contain formatLong property");var eo=Fi(n);if(!DA(eo))throw new RangeError("Invalid time value");var Uc=VL(eo,HL(eo)),Xa={firstWeekContainsDate:Tn,weekStartsOn:Di,locale:Lt,_originalDate:eo},zb=st.match(R8).map(function(to){var Tt=to[0];return"p"===Tt||"P"===Tt?(0,w1[Tt])(to,Lt.formatLong):to}).join("").match(O8).map(function(to){if("''"===to)return"'";var Tt=to[0];if("'"===Tt)return function B8(n){var t=n.match(P8);return t?t[1].replace(N8,"'"):n}(to);var Ht=k8[Tt];if(Ht)return!(null!=e&&e.useAdditionalWeekYearTokens)&&$L(to)&&CA(to,t,String(n)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&zL(to)&&CA(to,t,String(n)),Ht(Uc,to,Lt.localize,Xa);if(Tt.match(F8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Tt+"`");return to}).join("");return zb}(e,i,{locale:this.locale})}addCalendarYears(e,i){return function V8(n,t){return Yn(2,arguments),YB(n,12*Wo(t))}(e,i)}addCalendarMonths(e,i){return YB(e,i)}addCalendarDays(e,i){return function U8(n,t){Yn(2,arguments);var e=Fi(n),i=Wo(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}(e,i)}toIso8601(e){return function j8(n,t){var e,i;Yn(1,arguments);var r=Fi(n);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var o=String(null!==(e=t?.format)&&void 0!==e?e:"extended"),l=String(null!==(i=t?.representation)&&void 0!==i?i:"complete");if("extended"!==o&&"basic"!==o)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var f="",g="",y="extended"===o?"-":"",E="extended"===o?":":"";if("time"!==l){var I=On(r.getDate(),2),U=On(r.getMonth()+1,2),W=On(r.getFullYear(),4);f="".concat(W).concat(y).concat(U).concat(y).concat(I)}if("date"!==l){var X=r.getTimezoneOffset();if(0!==X){var ae=Math.abs(X),le=On(Math.floor(ae/60),2),_e=On(ae%60,2);g="".concat(X<0?"+":"-").concat(le,":").concat(_e)}else g="Z";var dt=""===f?"":"T",Lt=[On(r.getHours(),2),On(r.getMinutes(),2),On(r.getSeconds(),2)].join(E);f="".concat(f).concat(dt).concat(Lt).concat(g)}return f}(e,{representation:"date"})}deserialize(e){if("string"==typeof e){if(!e)return null;const i=$B(e);if(this.isValid(i))return i}return super.deserialize(e)}isDateInstance(e){return b1(e)}isValid(e){return DA(e)}invalid(){return new Date(NaN)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG($1,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const G8={parse:{dateInput:"P"},display:{dateInput:"P",monthYearLabel:"LLL uuuu",dateA11yLabel:"PP",monthYearA11yLabel:"LLLL uuuu"}};let W8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:ds,useClass:$8,deps:[$1]}]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:zp,useValue:G8}],imports:[W8]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,Eo,kb,zA,P1,F1,Eo]}),n})();const tq={provide:new c.OlP("mat-select-scroll-strategy"),deps:[$h],useFactory:function eq(n){return()=>n.scrollStrategies.reposition()}};let XB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tq],imports:[mr,HA,q2,Eo,UA,$C,q2,Eo]}),n})();function _R(n,t,e){var i=function nq(n,t){return 1===t&&n.one?n.one:t>=2&&t<=4&&n.twoFour?n.twoFour:n.other}(n,t);return i[e].replace("{{count}}",String(t))}function vR(n){var t="";return"almost"===n&&(t="takmer"),"about"===n&&(t="pribli\u017ene"),t.length>0?t+" ":""}function yR(n){var t="";return"lessThan"===n&&(t="menej ne\u017e"),"over"===n&&(t="viac ne\u017e"),t.length>0?t+" ":""}var oq={xSeconds:{one:{present:"sekunda",past:"sekundou",future:"sekundu"},twoFour:{present:"{{count}} sekundy",past:"{{count}} sekundami",future:"{{count}} sekundy"},other:{present:"{{count}} sek\xfand",past:"{{count}} sekundami",future:"{{count}} sek\xfand"}},halfAMinute:{other:{present:"pol min\xfaty",past:"pol min\xfatou",future:"pol min\xfaty"}},xMinutes:{one:{present:"min\xfata",past:"min\xfatou",future:"min\xfatu"},twoFour:{present:"{{count}} min\xfaty",past:"{{count}} min\xfatami",future:"{{count}} min\xfaty"},other:{present:"{{count}} min\xfat",past:"{{count}} min\xfatami",future:"{{count}} min\xfat"}},xHours:{one:{present:"hodina",past:"hodinou",future:"hodinu"},twoFour:{present:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{present:"{{count}} hod\xedn",past:"{{count}} hodinami",future:"{{count}} hod\xedn"}},xDays:{one:{present:"de\u0148",past:"d\u0148om",future:"de\u0148"},twoFour:{present:"{{count}} dni",past:"{{count}} d\u0148ami",future:"{{count}} dni"},other:{present:"{{count}} dn\xed",past:"{{count}} d\u0148ami",future:"{{count}} dn\xed"}},xWeeks:{one:{present:"t\xfd\u017ede\u0148",past:"t\xfd\u017ed\u0148om",future:"t\xfd\u017ede\u0148"},twoFour:{present:"{{count}} t\xfd\u017edne",past:"{{count}} t\xfd\u017ed\u0148ami",future:"{{count}} t\xfd\u017edne"},other:{present:"{{count}} t\xfd\u017ed\u0148ov",past:"{{count}} t\xfd\u017ed\u0148ami",future:"{{count}} t\xfd\u017ed\u0148ov"}},xMonths:{one:{present:"mesiac",past:"mesiacom",future:"mesiac"},twoFour:{present:"{{count}} mesiace",past:"{{count}} mesiacmi",future:"{{count}} mesiace"},other:{present:"{{count}} mesiacov",past:"{{count}} mesiacmi",future:"{{count}} mesiacov"}},xYears:{one:{present:"rok",past:"rokom",future:"rok"},twoFour:{present:"{{count}} roky",past:"{{count}} rokmi",future:"{{count}} roky"},other:{present:"{{count}} rokov",past:"{{count}} rokmi",future:"{{count}} rokov"}}};var dq={date:Db({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. M. y",short:"d. M. y"},defaultWidth:"full"}),time:Db({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:Db({formats:{full:"{{date}}, {{time}}",long:"{{date}}, {{time}}",medium:"{{date}}, {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function JB(n,t,e){Yn(2,arguments);var i=jh(n,e),r=jh(t,e);return i.getTime()===r.getTime()}var bR=["nede\u013eu","pondelok","utorok","stredu","\u0161tvrtok","piatok","sobotu"];function eV(n){return 4===n?"'vo' eeee 'o' p":"'v "+bR[n]+" o' p"}var mq={lastWeek:function(t,e,i){var r=t.getUTCDay();return JB(t,e,i)?eV(r):function fq(n){var t=bR[n];switch(n){case 0:case 3:case 6:return"'minul\xfa "+t+" o' p";default:return"'minul\xfd' eeee 'o' p"}}(r)},yesterday:"'v\u010dera o' p",today:"'dnes o' p",tomorrow:"'zajtra o' p",nextWeek:function(t,e,i){var r=t.getUTCDay();return JB(t,e,i)?eV(r):function pq(n){var t=bR[n];switch(n){case 0:case 4:case 6:return"'bud\xfacu "+t+" o' p";default:return"'bud\xfaci' eeee 'o' p"}}(r)},other:"P"};const Hq={code:"sk",formatDistance:function(t,e,i){var r=function iq(n){return["lessThan","about","over","almost"].filter(function(e){return!!n.match(new RegExp("^"+e))})[0]}(t)||"",o=function rq(n){return n.charAt(0).toLowerCase()+n.slice(1)}(t.substring(r.length)),l=oq[o];return null!=i&&i.addSuffix?i.comparison&&i.comparison>0?vR(r)+"o "+yR(r)+_R(l,e,"future"):vR(r)+"pred "+yR(r)+_R(l,e,"past"):vR(r)+yR(r)+_R(l,e,"present")},formatLong:dq,formatRelative:function(t,e,i,r){var o=mq[t];return"function"==typeof o?o(e,i,r):o},localize:{ordinalNumber:function(t,e){return Number(t)+"."},era:id({values:{narrow:["pred Kr.","po Kr."],abbreviated:["pred Kr.","po Kr."],wide:["pred Kristom","po Kristovi"]},defaultWidth:"wide"}),quarter:id({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. \u0161tvr\u0165rok","2. \u0161tvr\u0165rok","3. \u0161tvr\u0165rok","4. \u0161tvr\u0165rok"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:id({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],wide:["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"]},defaultWidth:"wide",formattingValues:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],wide:["janu\xe1ra","febru\xe1ra","marca","apr\xedla","m\xe1ja","j\xfana","j\xfala","augusta","septembra","okt\xf3bra","novembra","decembra"]},defaultFormattingWidth:"wide"}),day:id({values:{narrow:["n","p","u","s","\u0161","p","s"],short:["ne","po","ut","st","\u0161t","pi","so"],abbreviated:["ne","po","ut","st","\u0161t","pi","so"],wide:["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"]},defaultWidth:"wide"}),dayPeriod:id({values:{narrow:{am:"AM",pm:"PM",midnight:"poln.",noon:"pol.",morning:"r\xe1no",afternoon:"pop.",evening:"ve\u010d.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"poln.",noon:"pol.",morning:"r\xe1no",afternoon:"popol.",evening:"ve\u010der",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"polnoc",noon:"poludnie",morning:"r\xe1no",afternoon:"popoludnie",evening:"ve\u010der",night:"noc"}},defaultWidth:"wide",formattingValues:{narrow:{am:"AM",pm:"PM",midnight:"o poln.",noon:"nap.",morning:"r\xe1no",afternoon:"pop.",evening:"ve\u010d.",night:"v n."},abbreviated:{am:"AM",pm:"PM",midnight:"o poln.",noon:"napol.",morning:"r\xe1no",afternoon:"popol.",evening:"ve\u010der",night:"v noci"},wide:{am:"AM",pm:"PM",midnight:"o polnoci",noon:"napoludnie",morning:"r\xe1no",afternoon:"popoludn\xed",evening:"ve\u010der",night:"v noci"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:LL({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:rd({matchPatterns:{narrow:/^(pred Kr\.|pred n\. l\.|po Kr\.|n\. l\.)/i,abbreviated:/^(pred Kr\.|pred n\. l\.|po Kr\.|n\. l\.)/i,wide:/^(pred Kristom|pred na[\u0161s][\xedi]m letopo[\u010dc]tom|po Kristovi|n[\xe1a][\u0161s]ho letopo[\u010dc]tu)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^pr/i,/^(po|n)/i]},defaultParseWidth:"any"}),quarter:rd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\. [\u0161s]tvr[\u0165t]rok/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:rd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|m[\xe1a]j|j[\xfau]n|j[\xfau]l|aug|sep|okt|nov|dec)/i,wide:/^(janu[\xe1a]ra?|febru[\xe1a]ra?|(marec|marca)|apr[\xedi]la?|m[\xe1a]ja?|j[\xfau]na?|j[\xfau]la?|augusta?|(september|septembra)|(okt[\xf3o]ber|okt[\xf3o]bra)|(november|novembra)|(december|decembra))/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^m[\xe1a]j/i,/^j[\xfau]n/i,/^j[\xfau]l/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:rd({matchPatterns:{narrow:/^[npus\u0161p]/i,short:/^(ne|po|ut|st|\u0161t|pi|so)/i,abbreviated:/^(ne|po|ut|st|\u0161t|pi|so)/i,wide:/^(nede[\u013el]a|pondelok|utorok|streda|[\u0161s]tvrtok|piatok|sobota])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^n/i,/^p/i,/^u/i,/^s/i,/^\u0161/i,/^p/i,/^s/i],any:[/^n/i,/^po/i,/^u/i,/^st/i,/^(\u0161t|stv)/i,/^pi/i,/^so/i]},defaultParseWidth:"any"}),dayPeriod:rd({matchPatterns:{narrow:/^(am|pm|(o )?poln\.?|(nap\.?|pol\.?)|r[\xe1a]no|pop\.?|ve[\u010dc]\.?|(v n\.?|noc))/i,abbreviated:/^(am|pm|(o )?poln\.?|(napol\.?|pol\.?)|r[\xe1a]no|pop\.?|ve[\u010dc]er|(v )?noci?)/i,any:/^(am|pm|(o )?polnoci?|(na)?poludnie|r[\xe1a]no|popoludn(ie|\xed|i)|ve[\u010dc]er|(v )?noci?)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^am/i,pm:/^pm/i,midnight:/poln/i,noon:/^(nap|(na)?pol(\.|u))/i,morning:/^r[\xe1a]no/i,afternoon:/^pop/i,evening:/^ve[\u010dc]/i,night:/^(noc|v n\.)/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},zq={parse:{dateInput:"dd.MM.yyyy"},display:{dateInput:"dd.MM.yyyy",monthYearLabel:"MMMM yyyy",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM yyyy"}};let $q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:$1,useValue:Hq},{provide:zp,useValue:zq}],imports:[MB,_B,$C,KB,RB,HB,QB,XB,MB,_B,$C,KB,RB,HB,QB,XB]}),n})(),Gq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mr,gu,$q,RL,PL]}),n})();var qh=(()=>((qh=qh||{})[qh.TEXT=0]="TEXT",qh[qh.NUMBER=1]="NUMBER",qh))(),ad=(()=>((ad=ad||{})[ad.INPUT=0]="INPUT",ad[ad.TEXTAREA=1]="TEXTAREA",ad))(),Is=(()=>((Is=Is||{})[Is.BASIC=0]="BASIC",Is[Is.SMALL=1]="SMALL",Is[Is.AUTH=2]="AUTH",Is[Is.ICON=3]="ICON",Is))(),Pl=(()=>((Pl=Pl||{})[Pl.FILL=0]="FILL",Pl[Pl.OUTLINE=1]="OUTLINE",Pl))(),Nl=(()=>((Nl=Nl||{})[Nl.PINK=0]="PINK",Nl[Nl.BLACK=1]="BLACK",Nl))();const g_="assets/icons/",Wq={add:{circleDark:g_+"add-circle-fill.svg",circleLight:g_+"add-circle-line.svg",circleNone:g_+"add-fill.svg"},bin:{dark:g_+"delete-bin-fill.svg",pink:g_+"delete-bin-pink.svg"},check:{blank:g_+"checkbox-blank-circle-line.svg",filled:g_+"checkbox-circle-fill.svg"}};let qq=(()=>{class n{constructor(){this.size="1rem"}set path(e){this._path=e,this.alt=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-icon"]],inputs:{path:"path",size:"size"},decls:1,vars:8,consts:[[3,"src","alt"]],template:function(e,i){1&e&&c._UZ(0,"img",0),2&e&&(c.Udp("min-width",i.size)("width",i.size)("height",i.size),c.Q6J("src",i._path,c.LSH)("alt",i.alt))},encapsulation:2}),n})();const tV=function(n){return{"invert-[.85]":n}};function Yq(n,t){if(1&n&&c._UZ(0,"ui-icon",9),2&n){const e=c.oxw(3);c.Q6J("ngClass",c.VKq(3,tV,e.disabled))("path",e.icon)("size",e.iconSize)}}const Kq=function(n,t){return{"bg-secondary-darkGrey":n,"bg-gradient-to-r from-secondary-pink2 to-secondary-pink":t}};function Zq(n,t){if(1&n&&(c.TgZ(0,"div",6),c.YNc(1,Yq,1,5,"ui-icon",7),c.TgZ(2,"p",8),c._uU(3),c.qZA()()),2&n){const e=c.oxw(2);c.Q6J("ngClass",c.WLB(3,Kq,e.buttonColor===e.UiButtonColor.BLACK,e.buttonColor===e.UiButtonColor.PINK)),c.xp6(1),c.Q6J("ngIf",e.icon),c.xp6(2),c.Oqu(e.buttonText)}}function Qq(n,t){if(1&n&&c._UZ(0,"ui-icon",9),2&n){const e=c.oxw(3);c.Q6J("ngClass",c.VKq(3,tV,e.disabled))("path",e.icon)("size",e.iconSize)}}const Xq=function(n,t){return{"border-secondary-pink2":n,"border-secondary-darkGrey":t}},Jq=function(n,t){return{"text-secondary-pink":n,"text-secondary-darkGrey":t}};function eY(n,t){if(1&n&&(c.TgZ(0,"div",10),c.YNc(1,Qq,1,5,"ui-icon",7),c.TgZ(2,"p",11),c._uU(3),c.qZA()()),2&n){const e=c.oxw(2);c.Q6J("ngClass",c.WLB(4,Xq,e.buttonColor===e.UiButtonColor.PINK,e.buttonColor===e.UiButtonColor.BLACK)),c.xp6(1),c.Q6J("ngIf",e.icon),c.xp6(1),c.Q6J("ngClass",c.WLB(7,Jq,e.buttonColor===e.UiButtonColor.PINK,e.buttonColor===e.UiButtonColor.BLACK)),c.xp6(1),c.hij(" ",e.buttonText," ")}}function tY(n,t){if(1&n&&(c.TgZ(0,"div"),c.ynx(1,1),c.YNc(2,Zq,4,6,"div",4),c.YNc(3,eY,4,10,"div",5),c.BQk(),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngSwitch",e.basicButtonType),c.xp6(1),c.Q6J("ngSwitchCase",e.UiBasicButtonType.FILL),c.xp6(1),c.Q6J("ngSwitchCase",e.UiBasicButtonType.OUTLINE)}}function nY(n,t){if(1&n&&(c.TgZ(0,"div",12),c._UZ(1,"img",13),c.TgZ(2,"p"),c._uU(3),c.qZA()()),2&n){const e=c.oxw();c.xp6(3),c.Oqu(e.buttonText)}}function iY(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"p",14),c._uU(2),c.qZA(),c.BQk()),2&n){const e=c.oxw();c.xp6(2),c.Oqu(e.buttonText)}}function rY(n,t){if(1&n&&c._UZ(0,"ui-icon",16),2&n){const e=c.oxw(2);c.Q6J("path",e.icon)("size",e.iconSize)}}function oY(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,rY,1,2,"ui-icon",15),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.icon)}}let Nb=(()=>{class n{constructor(){this.iconSize="1.25rem",this.disabled=!1,this.buttonType=Is.BASIC,this.basicButtonType=Pl.FILL,this.buttonColor=Nl.PINK,this.buttonClick=new c.vpe,this.UiButtonType=Is,this.UiBasicButtonType=Pl,this.UiButtonColor=Nl}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-button"]],inputs:{buttonText:"buttonText",icon:"icon",iconSize:"iconSize",disabled:"disabled",buttonType:"buttonType",basicButtonType:"basicButtonType",buttonColor:"buttonColor"},outputs:{buttonClick:"buttonClick"},decls:6,vars:6,consts:[[1,"flex",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","flex items-center gap-2 rounded-lg shadow-md border-b border-b-primary-blue px-4 py-2",4,"ngSwitchCase"],["class","flex items-center gap-2 rounded-lg px-4 py-2",3,"ngClass",4,"ngSwitchCase"],["class","flex border bg-primary-white items-center gap-2 rounded-lg px-4 py-2",3,"ngClass",4,"ngSwitchCase"],[1,"flex","items-center","gap-2","rounded-lg","px-4","py-2",3,"ngClass"],[3,"ngClass","path","size",4,"ngIf"],[1,"text-primary-white"],[3,"ngClass","path","size"],[1,"flex","border","bg-primary-white","items-center","gap-2","rounded-lg","px-4","py-2",3,"ngClass"],[3,"ngClass"],[1,"flex","items-center","gap-2","rounded-lg","shadow-md","border-b","border-b-primary-blue","px-4","py-2"],["src","assets/google.svg",1,"w-8","h-8"],[1,"text-primary-blue","font-semibold"],[3,"path","size",4,"ngIf"],[3,"path","size"]],template:function(e,i){1&e&&(c.TgZ(0,"button",0),c.NdJ("click",function(){return i.buttonClick.emit()}),c.ynx(1,1),c.YNc(2,tY,4,3,"div",2),c.YNc(3,nY,4,1,"div",3),c.YNc(4,iY,3,1,"ng-container",2),c.YNc(5,oY,2,1,"div",2),c.BQk(),c.qZA()),2&e&&(c.Q6J("disabled",i.disabled),c.xp6(1),c.Q6J("ngSwitch",i.buttonType),c.xp6(1),c.Q6J("ngSwitchCase",i.UiButtonType.BASIC),c.xp6(1),c.Q6J("ngSwitchCase",i.UiButtonType.AUTH),c.xp6(1),c.Q6J("ngSwitchCase",i.UiButtonType.SMALL),c.xp6(1),c.Q6J("ngSwitchCase",i.UiButtonType.ICON))},dependencies:[Ko,br,so,Js,qq],encapsulation:2}),n})();function sY(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",4)(1,"div",5),c._UZ(2,"img",6),c.TgZ(3,"p"),c._uU(4),c.qZA()(),c.TgZ(5,"ui-button",7),c.NdJ("buttonClick",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.signOut())}),c.qZA()()}if(2&n){const e=c.oxw();c.xp6(2),c.Q6J("src",e.signedInUser.photoURL,c.LSH),c.xp6(2),c.Oqu(e.signedInUser.displayName),c.xp6(1),c.Q6J("buttonType",e.UiButtonType.SMALL)}}let aY=(()=>{class n extends wb{constructor(){super(),this.UiButtonType=Is,this.Routes=IA,this.subscriptions.add(this.facade.getSignedInUser$.subscribe(e=>this.signedInUser=e?.user))}signOut(){this.facade.signOutWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["todoee-header"]],features:[c.qOj],decls:7,vars:1,consts:[[1,"flex","justify-between","border-b","border-secondary-lightGrey","shadow-lg","rounded-lg","p-8"],[1,"flex","flex-col","cursor-pointer",3,"click"],[1,"font-title","text-h2"],["class","flex flex-col items-end",4,"ngIf"],[1,"flex","flex-col","items-end"],[1,"flex","items-center","gap-2"],["referrerpolicy","no-referrer",1,"rounded-full","w-10","h-10","border-2","border-secondary-lightGrey","shadow-md",3,"src"],["buttonText","Odhl\xe1si\u0165 sa",3,"buttonType","buttonClick"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1),c.NdJ("click",function(){return i.navigateTo(i.Routes.home.base)}),c.TgZ(2,"p",2),c._uU(3,"TODOee"),c.qZA(),c.TgZ(4,"p"),c._uU(5,"V\u0161etko, \u010do treba urobi\u0165 na jednom mieste"),c.qZA()(),c.YNc(6,sY,6,3,"div",3),c.qZA()),2&e&&(c.xp6(6),c.Q6J("ngIf",i.signedInUser))},dependencies:[br,Nb],encapsulation:2}),n})(),lY=(()=>{class n extends wb{constructor(e){super(),this.angularFireAuth=e}ngOnInit(){this.angularFireAuth.onAuthStateChanged(e=>{e&&this.facade.updateGoogleSignedInUser(Object.freeze(e))})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($I))},n.\u0275cmp=c.Xpm({type:n,selectors:[["todoee-root"]],features:[c.qOj],decls:3,vars:0,consts:[[1,"p-8"]],template:function(e,i){1&e&&(c._UZ(0,"todoee-header"),c.TgZ(1,"div",0),c._UZ(2,"router-outlet"),c.qZA())},dependencies:[zO,aY],encapsulation:2}),n})();var XA,cY=new Uint8Array(16);function uY(){if(!XA&&!(XA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return XA(cY)}const dY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var hs=[],wR=0;wR<256;++wR)hs.push((wR+256).toString(16).substr(1));const mY=function pY(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(hs[n[t+0]]+hs[n[t+1]]+hs[n[t+2]]+hs[n[t+3]]+"-"+hs[n[t+4]]+hs[n[t+5]]+"-"+hs[n[t+6]]+hs[n[t+7]]+"-"+hs[n[t+8]]+hs[n[t+9]]+"-"+hs[n[t+10]]+hs[n[t+11]]+hs[n[t+12]]+hs[n[t+13]]+hs[n[t+14]]+hs[n[t+15]]).toLowerCase();if(!function hY(n){return"string"==typeof n&&dY.test(n)}(e))throw TypeError("Stringified UUID is invalid");return e},nV=function gY(n,t,e){var i=(n=n||{}).random||(n.rng||uY)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return mY(i)},_Y=function(n){return{"bg-primary-white bg-opacity-60":n}};let DR=(()=>{class n{constructor(){this.whitenedBackground=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-loading"]],inputs:{whitenedBackground:"whitenedBackground"},decls:2,vars:3,consts:[[1,"flex","w-full","h-full","absolute","top-0","left-0","items-center","justify-center",3,"ngClass"],["src","assets/loading.gif",1,"w-8","h-8"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"img",1),c.qZA()),2&e&&c.Q6J("ngClass",c.VKq(1,_Y,i.whitenedBackground))},dependencies:[Ko],encapsulation:2}),n})();const iV={required:"Toto pole je povinn\xe9.",invalidValue:"Nespr\xe1vna hodnota.",max:"Pr\xedli\u0161 vysok\xe9 \u010d\xedslo.",dateFromThePast:"D\xe1tumy z minulosti s\xfa neplatn\xe9.",maxlength:"Presiahnut\xfd maxim\xe1lny po\u010det znakov."},vY={},yY=["element"];let CR=(()=>{class n{constructor(e,i,r){this.ngControl=e,this.formGroupDirective=i,this.cdr=r,this.subscription=new Ts.w0,this.ngControl.valueAccessor=this}get control(){return this.ngControl.control}ngAfterViewInit(){if(!this.control)return;const e=this.formGroupDirective.ngSubmit.asObservable(),i=[this.control.statusChanges,e];this.element&&i.push(PC(this.element.nativeElement,"blur")),this.subscription.add((0,fo.T)(...i).subscribe(()=>{this.errorMessage="INVALID"===this.control.status?this.getErrorMessage():"",this.cdr.markForCheck()})),this.subscription.add(e.subscribe(()=>this.control.markAsTouched()))}ngOnDestroy(){this.subscription.unsubscribe()}getErrorMessage(){const e=Object.keys(this.control.errors||{}).shift(),i=vY[this.ngControl.name||""];return i&&i[e]?i[e]:iV[e]?iV[e]:""}registerOnChange(e){this.onChange=e}registerOnTouched(e){}writeValue(e){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nd,2),c.Y36(Vp),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(yY,7),2&e){let r;c.iGM(r=c.CRH())&&(i.element=r.first)}}}),n})();function bY(n,t){if(1&n&&(c.ynx(0),c._UZ(1,"input",3,4),c.BQk()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("formControl",e.control)("placeholder",e.placeholder)("value",e.inputText)}}function wY(n,t){if(1&n&&(c.ynx(0),c._UZ(1,"input",5,4),c.BQk()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("formControl",e.control)("placeholder",e.placeholder)("value",e.inputText)}}function DY(n,t){if(1&n&&(c.ynx(0)(1,1),c.YNc(2,bY,3,3,"ng-container",2),c.YNc(3,wY,3,3,"ng-container",2),c.BQk()()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngSwitch",e.formatType),c.xp6(1),c.Q6J("ngSwitchCase",e.UiInputFormatType.TEXT),c.xp6(1),c.Q6J("ngSwitchCase",e.UiInputFormatType.NUMBER)}}function CY(n,t){if(1&n&&(c.ynx(0),c._UZ(1,"textarea",6,7),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("formControl",e.control)}}let ER=(()=>{class n extends CR{constructor(){super(...arguments),this.placeholder="",this.label="",this.formatType=qh.TEXT,this.inputType=ad.INPUT,this.UiInputFormatType=qh,this.UiInputInputType=ad}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-input"]],inputs:{placeholder:"placeholder",label:"label",formatType:"formatType",inputType:"inputType"},features:[c.qOj],decls:8,vars:5,consts:[[1,"w-full"],[3,"ngSwitch"],[4,"ngSwitchCase"],["matInput","",3,"formControl","placeholder","value"],["element",""],["matInput","","type","number",3,"formControl","placeholder","value"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10",3,"formControl"],["element","","autosize","cdkTextareaAutosize"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-form-field",0)(1,"mat-label"),c._uU(2),c.qZA(),c.ynx(3,1),c.YNc(4,DY,4,3,"ng-container",2),c.YNc(5,CY,4,1,"ng-container",2),c.BQk(),c.TgZ(6,"mat-error"),c._uU(7),c.qZA()()),2&e&&(c.xp6(2),c.Oqu(i.label),c.xp6(1),c.Q6J("ngSwitch",i.inputType),c.xp6(1),c.Q6J("ngSwitchCase",i.UiInputInputType.INPUT),c.xp6(1),c.Q6J("ngSwitchCase",i.UiInputInputType.TEXTAREA),c.xp6(2),c.Oqu(i.errorMessage))},dependencies:[so,Js,Q1,Z1,zC,Y1,F5,vb,d1,s_,AC],styles:["ui-input .mat-mdc-floating-label{font-weight:500}ui-input .mat-mdc-form-field-infix{font-weight:600}ui-input .mat-mdc-form-field-error{font-weight:700}ui-input .mdc-text-field--filled{background-color:transparent!important}\n"],encapsulation:2}),n})();function EY(n,t){if(1&n&&(c.TgZ(0,"h1",2),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Oqu(e.title)}}const xY=["*"];let TY=(()=>{class n{constructor(){this.title=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-modal"]],inputs:{title:"title"},ngContentSelectors:xY,decls:3,vars:1,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content",""],["mat-dialog-title",""]],template:function(e,i){1&e&&(c.F$t(),c.YNc(0,EY,2,1,"h1",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()),2&e&&c.Q6J("ngIf",i.title)},dependencies:[br,r8,o8],encapsulation:2}),n})();function IY(n,t){1&n&&c._UZ(0,"ui-loading",7),2&n&&c.Q6J("whitenedBackground",!0)}let AY=(()=>{class n extends wb{constructor(e){super(),this.dialogRef=e,this.UiButtonColor=Nl,this.UiBasicButtonType=Pl,this.isLoading=!1,this.initForm(),this.subscriptions.add(this.facade.getSignedInUser$.subscribe(i=>this.user=i?.user))}initForm(){this.form=this.fb.group({name:["",yb.required]})}createTodoList(){if(!this.form.valid)return;this.isLoading=!0;const e={id:nV(),author:this.user?.uid,name:this.form.value.name,todos:[]};this.facade.modifyTodoList(e,()=>this.dialogRef.close())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(hR))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:7,vars:5,consts:[["title","Vytvori\u0165 TODO list"],[3,"formGroup"],["formControlName","name","label","N\xe1zov zoznamu"],[1,"flex","justify-center","items-center","gap-2","mb-2"],["buttonText","Vytvori\u0165",3,"buttonColor","buttonClick"],["buttonText","Zru\u0161i\u0165",3,"buttonColor","basicButtonType","buttonClick"],[3,"whitenedBackground",4,"ngIf"],[3,"whitenedBackground"]],template:function(e,i){1&e&&(c.TgZ(0,"ui-modal",0)(1,"form",1),c._UZ(2,"ui-input",2),c.TgZ(3,"div",3)(4,"ui-button",4),c.NdJ("buttonClick",function(){return i.createTodoList()}),c.qZA(),c.TgZ(5,"ui-button",5),c.NdJ("buttonClick",function(){return i.dialogRef.close()}),c.qZA()()(),c.YNc(6,IY,1,1,"ui-loading",6),c.qZA()),2&e&&(c.xp6(1),c.Q6J("formGroup",i.form),c.xp6(3),c.Q6J("buttonColor",i.UiButtonColor.BLACK),c.xp6(1),c.Q6J("buttonColor",i.UiButtonColor.BLACK)("basicButtonType",i.UiBasicButtonType.OUTLINE),c.xp6(1),c.Q6J("ngIf",i.isLoading))},dependencies:[br,Nb,DR,ER,TY,wA,s_,dA,Vp,SC],encapsulation:2}),n})();const rV=function kY(n,t){return n===t||n!=n&&t!=t},JA=function OY(n,t){for(var e=n.length;e--;)if(rV(n[e][0],t))return e;return-1};var PY=Array.prototype.splice;function Fb(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Fb.prototype.clear=function SY(){this.__data__=[],this.size=0},Fb.prototype.delete=function NY(n){var t=this.__data__,e=JA(t,n);return!(e<0||(e==t.length-1?t.pop():PY.call(t,e,1),--this.size,0))},Fb.prototype.get=function LY(n){var t=this.__data__,e=JA(t,n);return e<0?void 0:t[e][1]},Fb.prototype.has=function VY(n){return JA(this.__data__,n)>-1},Fb.prototype.set=function jY(n,t){var e=this.__data__,i=JA(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const eS=Fb,oV="object"==typeof global&&global&&global.Object===Object&&global;var XY="object"==typeof self&&self&&self.Object===Object&&self;const ld=oV||XY||Function("return this")(),Lb=ld.Symbol;var sV=Object.prototype,t9=sV.hasOwnProperty,n9=sV.toString,YC=Lb?Lb.toStringTag:void 0;var s9=Object.prototype.toString;var aV=Lb?Lb.toStringTag:void 0;const KC=function d9(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":aV&&aV in Object(n)?function i9(n){var t=t9.call(n,YC),e=n[YC];try{n[YC]=void 0;var i=!0}catch{}var r=n9.call(n);return i&&(t?n[YC]=e:delete n[YC]),r}(n):function a9(n){return s9.call(n)}(n)},ZC=function h9(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},lV=function _9(n){if(!ZC(n))return!1;var t=KC(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},xR=ld["__core-js_shared__"];var cV=function(){var n=/[^.]+$/.exec(xR&&xR.keys&&xR.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var D9=Function.prototype.toString;const __=function C9(n){if(null!=n){try{return D9.call(n)}catch{}try{return n+""}catch{}}return""};var x9=/^\[object .+?Constructor\]$/,M9=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const O9=function k9(n){return!(!ZC(n)||function y9(n){return!!cV&&cV in n}(n))&&(lV(n)?M9:x9).test(__(n))},v_=function N9(n,t){var e=function R9(n,t){return n?.[t]}(n,t);return O9(e)?e:void 0},QC=v_(ld,"Map"),XC=v_(Object,"create");var $9=Object.prototype.hasOwnProperty;var Y9=Object.prototype.hasOwnProperty;function Bb(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Bb.prototype.clear=function B9(){this.__data__=XC?XC(null):{},this.size=0},Bb.prototype.delete=function U9(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Bb.prototype.get=function G9(n){var t=this.__data__;if(XC){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return $9.call(t,n)?t[n]:void 0},Bb.prototype.has=function K9(n){var t=this.__data__;return XC?void 0!==t[n]:Y9.call(t,n)},Bb.prototype.set=function X9(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=XC&&void 0===t?"__lodash_hash_undefined__":t,this};const uV=Bb,tS=function o7(n,t){var e=n.__data__;return function n7(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function Vb(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Vb.prototype.clear=function e7(){this.size=0,this.__data__={hash:new uV,map:new(QC||eS),string:new uV}},Vb.prototype.delete=function s7(n){var t=tS(this,n).delete(n);return this.size-=t?1:0,t},Vb.prototype.get=function l7(n){return tS(this,n).get(n)},Vb.prototype.has=function u7(n){return tS(this,n).has(n)},Vb.prototype.set=function h7(n,t){var e=tS(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const p7=Vb;function Ub(n){var t=this.__data__=new eS(n);this.size=t.size}Ub.prototype.clear=function zY(){this.__data__=new eS,this.size=0},Ub.prototype.delete=function GY(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},Ub.prototype.get=function qY(n){return this.__data__.get(n)},Ub.prototype.has=function KY(n){return this.__data__.has(n)},Ub.prototype.set=function g7(n,t){var e=this.__data__;if(e instanceof eS){var i=e.__data__;if(!QC||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new p7(i)}return e.set(n,t),this.size=e.size,this};const v7=Ub;var w7=function(){try{var n=v_(Object,"defineProperty");return n({},"",{}),n}catch{}}();const dV=w7,hV=function D7(n,t,e){"__proto__"==t&&dV?dV(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e};var E7=Object.prototype.hasOwnProperty;const fV=function x7(n,t,e){var i=n[t];(!E7.call(n,t)||!rV(i,e)||void 0===e&&!(t in n))&&hV(n,t,e)},nS=function T7(n,t,e,i){var r=!e;e||(e={});for(var o=-1,l=t.length;++o<l;){var f=t[o],g=i?i(e[f],n[f],f,e,n):void 0;void 0===g&&(g=n[f]),r?hV(e,f,g):fV(e,f,g)}return e},JC=function S7(n){return null!=n&&"object"==typeof n},pV=function k7(n){return JC(n)&&"[object Arguments]"==KC(n)};var mV=Object.prototype,O7=mV.hasOwnProperty,R7=mV.propertyIsEnumerable,P7=pV(function(){return arguments}())?pV:function(n){return JC(n)&&O7.call(n,"callee")&&!R7.call(n,"callee")};const N7=P7,TR=Array.isArray;var gV="object"==typeof exports&&exports&&!exports.nodeType&&exports,_V=gV&&"object"==typeof module&&module&&!module.nodeType&&module,vV=_V&&_V.exports===gV?ld.Buffer:void 0;const yV=(vV?vV.isBuffer:void 0)||function L7(){return!1};var z7=/^(?:0|[1-9]\d*)$/;const G7=function $7(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&z7.test(n))&&n>-1&&n%1==0&&n<t},bV=function q7(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var sr={};sr["[object Float32Array]"]=sr["[object Float64Array]"]=sr["[object Int8Array]"]=sr["[object Int16Array]"]=sr["[object Int32Array]"]=sr["[object Uint8Array]"]=sr["[object Uint8ClampedArray]"]=sr["[object Uint16Array]"]=sr["[object Uint32Array]"]=!0,sr["[object Arguments]"]=sr["[object Array]"]=sr["[object ArrayBuffer]"]=sr["[object Boolean]"]=sr["[object DataView]"]=sr["[object Date]"]=sr["[object Error]"]=sr["[object Function]"]=sr["[object Map]"]=sr["[object Number]"]=sr["[object Object]"]=sr["[object RegExp]"]=sr["[object Set]"]=sr["[object String]"]=sr["[object WeakMap]"]=!1;const IR=function bK(n){return function(t){return n(t)}};var wV="object"==typeof exports&&exports&&!exports.nodeType&&exports,eE=wV&&"object"==typeof module&&module&&!module.nodeType&&module,AR=eE&&eE.exports===wV&&oV.process;const jb=function(){try{return eE&&eE.require&&eE.require("util").types||AR&&AR.binding&&AR.binding("util")}catch{}}();var DV=jb&&jb.isTypedArray;const EK=DV?IR(DV):function vK(n){return JC(n)&&bV(n.length)&&!!sr[KC(n)]};var TK=Object.prototype.hasOwnProperty;const CV=function IK(n,t){var e=TR(n),i=!e&&N7(n),r=!e&&!i&&yV(n),o=!e&&!i&&!r&&EK(n),l=e||i||r||o,f=l?function I7(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],g=f.length;for(var y in n)(t||TK.call(n,y))&&(!l||!("length"==y||r&&("offset"==y||"parent"==y)||o&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||G7(y,g)))&&f.push(y);return f};var AK=Object.prototype;const SR=function SK(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||AK)},EV=function MK(n,t){return function(e){return n(t(e))}},OK=EV(Object.keys,Object);var PK=Object.prototype.hasOwnProperty;const xV=function LK(n){return null!=n&&bV(n.length)&&!lV(n)},MR=function BK(n){return xV(n)?CV(n):function NK(n){if(!SR(n))return OK(n);var t=[];for(var e in Object(n))PK.call(n,e)&&"constructor"!=e&&t.push(e);return t}(n)};var $K=Object.prototype.hasOwnProperty;const WK=function GK(n){if(!ZC(n))return function jK(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=SR(n),e=[];for(var i in n)"constructor"==i&&(t||!$K.call(n,i))||e.push(i);return e},kR=function qK(n){return xV(n)?CV(n,!0):WK(n)};var TV="object"==typeof exports&&exports&&!exports.nodeType&&exports,IV=TV&&"object"==typeof module&&module&&!module.nodeType&&module,AV=IV&&IV.exports===TV?ld.Buffer:void 0,SV=AV?AV.allocUnsafe:void 0;const MV=function iZ(){return[]};var oZ=Object.prototype.propertyIsEnumerable,kV=Object.getOwnPropertySymbols,sZ=kV?function(n){return null==n?[]:(n=Object(n),function tZ(n,t){for(var e=-1,i=null==n?0:n.length,r=0,o=[];++e<i;){var l=n[e];t(l,e,n)&&(o[r++]=l)}return o}(kV(n),function(t){return oZ.call(n,t)}))}:MV;const OR=sZ,OV=function cZ(n,t){for(var e=-1,i=t.length,r=n.length;++e<i;)n[r+e]=t[e];return n},RV=EV(Object.getPrototypeOf,Object);var hZ=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)OV(t,OR(n)),n=RV(n);return t}:MV;const PV=hZ,NV=function mZ(n,t,e){var i=t(n);return TR(n)?i:OV(i,e(n))},_Z=function gZ(n){return NV(n,MR,OR)},yZ=function vZ(n){return NV(n,kR,PV)},RR=v_(ld,"DataView"),PR=v_(ld,"Promise"),NR=v_(ld,"Set"),FR=v_(ld,"WeakMap");var FV="[object Map]",LV="[object Promise]",BV="[object Set]",VV="[object WeakMap]",UV="[object DataView]",xZ=__(RR),TZ=__(QC),IZ=__(PR),AZ=__(NR),SZ=__(FR),y_=KC;(RR&&y_(new RR(new ArrayBuffer(1)))!=UV||QC&&y_(new QC)!=FV||PR&&y_(PR.resolve())!=LV||NR&&y_(new NR)!=BV||FR&&y_(new FR)!=VV)&&(y_=function(n){var t=KC(n),e="[object Object]"==t?n.constructor:void 0,i=e?__(e):"";if(i)switch(i){case xZ:return UV;case TZ:return FV;case IZ:return LV;case AZ:return BV;case SZ:return VV}return t});const LR=y_;var kZ=Object.prototype.hasOwnProperty;const jV=ld.Uint8Array,BR=function NZ(n){var t=new n.constructor(n.byteLength);return new jV(t).set(new jV(n)),t};var BZ=/\w*$/;var HV=Lb?Lb.prototype:void 0,zV=HV?HV.valueOf:void 0;const dQ=function uQ(n,t,e){var i=n.constructor;switch(t){case"[object ArrayBuffer]":return BR(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function FZ(n,t){var e=t?BR(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function zZ(n,t){var e=t?BR(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}(n,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function VZ(n){var t=new n.constructor(n.source,BZ.exec(n));return t.lastIndex=n.lastIndex,t}(n);case"[object Symbol]":return function jZ(n){return zV?Object(zV.call(n)):{}}(n)}};var $V=Object.create,hQ=function(){function n(){}return function(t){if(!ZC(t))return{};if($V)return $V(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const fQ=hQ;var GV=jb&&jb.isMap;const bQ=GV?IR(GV):function _Q(n){return JC(n)&&"[object Map]"==LR(n)};var WV=jb&&jb.isSet;const xQ=WV?IR(WV):function DQ(n){return JC(n)&&"[object Set]"==LR(n)};var qV="[object Arguments]",YV="[object Function]",KV="[object Object]",Xi={};Xi[qV]=Xi["[object Array]"]=Xi["[object ArrayBuffer]"]=Xi["[object DataView]"]=Xi["[object Boolean]"]=Xi["[object Date]"]=Xi["[object Float32Array]"]=Xi["[object Float64Array]"]=Xi["[object Int8Array]"]=Xi["[object Int16Array]"]=Xi["[object Int32Array]"]=Xi["[object Map]"]=Xi["[object Number]"]=Xi[KV]=Xi["[object RegExp]"]=Xi["[object Set]"]=Xi["[object String]"]=Xi["[object Symbol]"]=Xi["[object Uint8Array]"]=Xi["[object Uint8ClampedArray]"]=Xi["[object Uint16Array]"]=Xi["[object Uint32Array]"]=!0,Xi["[object Error]"]=Xi[YV]=Xi["[object WeakMap]"]=!1;const XQ=function iS(n,t,e,i,r,o){var l,f=1&t,g=2&t,y=4&t;if(e&&(l=r?e(n,i,r,o):e(n)),void 0!==l)return l;if(!ZC(n))return n;var E=TR(n);if(E){if(l=function OZ(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&kZ.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!f)return function JK(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(n,l)}else{var I=LR(n),U=I==YV||"[object GeneratorFunction]"==I;if(yV(n))return function QK(n,t){if(t)return n.slice();var e=n.length,i=SV?SV(e):new n.constructor(e);return n.copy(i),i}(n,f);if(I==KV||I==qV||U&&!r){if(l=g||U?{}:function pQ(n){return"function"!=typeof n.constructor||SR(n)?{}:fQ(RV(n))}(n),!f)return g?function fZ(n,t){return nS(n,PV(n),t)}(n,function YK(n,t){return n&&nS(t,kR(t),n)}(l,n)):function aZ(n,t){return nS(n,OR(n),t)}(n,function VK(n,t){return n&&nS(t,MR(t),n)}(l,n))}else{if(!Xi[I])return r?n:{};l=dQ(n,I,f)}}o||(o=new v7);var W=o.get(n);if(W)return W;o.set(n,l),xQ(n)?n.forEach(function(le){l.add(iS(le,t,e,le,n,o))}):bQ(n)&&n.forEach(function(le,_e){l.set(_e,iS(le,t,e,_e,n,o))});var ae=E?void 0:(y?g?yZ:_Z:g?kR:MR)(n);return function y7(n,t){for(var e=-1,i=null==n?0:n.length;++e<i&&!1!==t(n[e],e,n););}(ae||n,function(le,_e){ae&&(le=n[_e=le]),fV(l,_e,iS(le,t,e,_e,n,o))}),l},VR=function tX(n){return XQ(n,5)};function nX(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div")(1,"div",11)(2,"span"),c._uU(3),c.qZA(),c.TgZ(4,"span"),c._uU(5),c.qZA(),c.TgZ(6,"span"),c._uU(7),c.ALo(8,"formatDate"),c.qZA(),c.TgZ(9,"ui-button",12),c.NdJ("buttonClick",function(){const o=c.CHM(e).index,l=c.oxw(2);return c.KtG(l.toggleCompleted(o))}),c.qZA(),c.TgZ(10,"ui-button",12),c.NdJ("buttonClick",function(){const o=c.CHM(e).index,l=c.oxw(2);return c.KtG(l.deleteTodoItem(o))}),c.qZA()()()}if(2&n){const e=t.$implicit,i=c.oxw(2);c.xp6(3),c.Oqu(e.name),c.xp6(2),c.Oqu(e.description),c.xp6(2),c.Oqu(c.lcZ(8,7,e.due)),c.xp6(2),c.Q6J("icon",e.isCompleted?i.Icons.check.filled:i.Icons.check.blank)("buttonType",i.UiButtonType.ICON),c.xp6(1),c.Q6J("icon",i.Icons.bin.pink)("buttonType",i.UiButtonType.ICON)}}function iX(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",8)(2,"p",9),c._uU(3,"N\xe1zov"),c.qZA(),c.TgZ(4,"p",9),c._uU(5,"Popis"),c.qZA(),c.TgZ(6,"p",9),c._uU(7,"Deadline"),c.qZA()(),c.YNc(8,nX,11,9,"div",10),c.BQk()),2&n){const e=c.oxw();c.xp6(8),c.Q6J("ngForOf",e._list.todos)}}const rX=function(n){return{"bg-secondary-lightGrey":n}};let oX=(()=>{class n extends wb{set list(e){this._list=e,this.unfilteredListCopy=e}set filter(e){switch(e){case Er.ALL:this._list=this.unfilteredListCopy;break;case Er.ACTIVE:const i=this.unfilteredListCopy?.todos?.filter(o=>!o.isCompleted);this._list={...this.unfilteredListCopy,todos:i};break;case Er.COMPLETED:const r=this.unfilteredListCopy?.todos?.filter(o=>o.isCompleted);this._list={...this.unfilteredListCopy,todos:r}}}constructor(){super(),this.UiButtonType=Is,this.Routes=IA,this.Icons=Wq,this.initForm()}ngOnInit(){this.subscriptions.add(this.form.valueChanges.subscribe(e=>this._list={...this.unfilteredListCopy,todos:this.unfilteredListCopy.todos.filter(i=>i.name.includes(e.search))}))}initForm(){this.form=this.fb.group({search:[""]})}createTodoItem(e){this.navigateTo(IA.home.createTodoItem,{listId:e})}deleteTodoItem(e){const i=VR(this._list);i.todos.splice(e,1),this.facade.modifyTodoList(i)}toggleCompleted(e){const i=VR(this._list);i.todos[e].isCompleted=!i.todos[e].isCompleted,this.facade.modifyTodoList(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["todoee-home-todo-list"]],inputs:{list:"list",filter:"filter"},features:[c.qOj],decls:11,vars:10,consts:[[3,"formGroup"],["formControlName","search",3,"label"],[1,"border","border-secondary-lightGrey","rounded-md","shadow-md","p-4","px-8"],[1,"flex","items-center","justify-between","-m-4","-mx-8","p-4","px-8",3,"ngClass"],[1,"font-medium","font-title","text-h3"],[1,"flex","gap-2","items-center"],[3,"icon","buttonType","click"],[4,"ngIf"],[1,"grid","grid-cols-[4fr_3fr_1.5fr_0.5fr_0.5fr]","items-center","mb-2","mt-8"],[1,"text-h4","font-medium"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-[4fr_3fr_1.5fr_0.5fr_0.5fr]","items-center","mb-4"],[1,"justify-self-end",3,"icon","buttonType","buttonClick"]],template:function(e,i){1&e&&(c.TgZ(0,"form",0),c._UZ(1,"ui-input",1),c.qZA(),c.TgZ(2,"div",2)(3,"div",3)(4,"p",4),c._uU(5),c.qZA(),c.TgZ(6,"div",5)(7,"span"),c._uU(8),c.qZA(),c.TgZ(9,"ui-button",6),c.NdJ("click",function(){return i.createTodoItem(i._list.id)}),c.qZA()()(),c.YNc(10,iX,9,1,"ng-container",7),c.qZA()),2&e&&(c.Q6J("formGroup",i.form),c.xp6(1),c.Q6J("label","H\u013eada\u0165 v "+i._list.name),c.xp6(2),c.Q6J("ngClass",c.VKq(8,rX,i._list.todos.length>0)),c.xp6(2),c.Oqu(i._list.name),c.xp6(3),c.hij("",i._list.todos.length," TODO polo\u017eiek"),c.xp6(1),c.Q6J("icon",i.Icons.add.circleDark)("buttonType",i.UiButtonType.ICON),c.xp6(1),c.Q6J("ngIf",i._list.todos.length>0))},dependencies:[Ko,As,br,Nb,ER,wA,s_,dA,Vp,SC,mu],encapsulation:2}),n})(),sX=(()=>{class n{constructor(){this.UiBasicButtonType=Pl,this.UiButtonColor=Nl,this.FilterType=Er,this.selectedFilter=Er.ALL,this.filterSelectionChange=new c.vpe}onSelectedFilter(e){e!==this.selectedFilter&&(this.selectedFilter=e,this.filterSelectionChange.emit(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["todoee-home-todo-item-filter"]],outputs:{filterSelectionChange:"filterSelectionChange"},decls:4,vars:6,consts:[[1,"flex","gap-2"],["buttonText","V\u0161etky",3,"basicButtonType","buttonColor","buttonClick"],["buttonText","Akt\xedvne",3,"basicButtonType","buttonColor","buttonClick"],["buttonText","Dokon\u010den\xe9",3,"basicButtonType","buttonColor","buttonClick"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"ui-button",1),c.NdJ("buttonClick",function(){return i.onSelectedFilter(i.FilterType.ALL)}),c.qZA(),c.TgZ(2,"ui-button",2),c.NdJ("buttonClick",function(){return i.onSelectedFilter(i.FilterType.ACTIVE)}),c.qZA(),c.TgZ(3,"ui-button",3),c.NdJ("buttonClick",function(){return i.onSelectedFilter(i.FilterType.COMPLETED)}),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("basicButtonType",i.selectedFilter===i.FilterType.ALL?i.UiBasicButtonType.FILL:i.UiBasicButtonType.OUTLINE)("buttonColor",i.UiButtonColor.BLACK),c.xp6(1),c.Q6J("basicButtonType",i.selectedFilter===i.FilterType.ACTIVE?i.UiBasicButtonType.FILL:i.UiBasicButtonType.OUTLINE)("buttonColor",i.UiButtonColor.BLACK),c.xp6(1),c.Q6J("basicButtonType",i.selectedFilter===i.FilterType.COMPLETED?i.UiBasicButtonType.FILL:i.UiBasicButtonType.OUTLINE)("buttonColor",i.UiButtonColor.BLACK))},dependencies:[Nb],encapsulation:2}),n})();function aX(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",6)(1,"p",7),c._uU(2,"Tvoje TODO listy"),c.qZA(),c.TgZ(3,"todoee-home-todo-item-filter",8),c.NdJ("filterSelectionChange",function(r){c.CHM(e);const o=c.oxw(2);return c.KtG(o.applyFilter(r))}),c.qZA(),c.TgZ(4,"ui-button",9),c.NdJ("buttonClick",function(){c.CHM(e);const r=c.oxw(2);return c.KtG(r.createTodoList())}),c.qZA()()}}function lX(n,t){if(1&n&&c._UZ(0,"todoee-home-todo-list",10),2&n){const e=t.$implicit,i=c.oxw(2);c.Q6J("list",e)("filter",i.selectedFilter)}}function cX(n,t){if(1&n&&(c.TgZ(0,"div",3),c.YNc(1,aX,5,0,"div",4),c.YNc(2,lX,1,2,"todoee-home-todo-list",5),c.qZA()),2&n){const e=c.oxw(),i=c.MAs(4);c.xp6(1),c.Q6J("ngIf",e.todoLists)("ngIfElse",i),c.xp6(1),c.Q6J("ngForOf",e.todoLists)}}function uX(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",11)(1,"p",12),c._uU(2,"Moment\xe1lne nie si prihl\xe1sen\xfd/\xe1."),c.qZA(),c.TgZ(3,"ui-button",13),c.NdJ("buttonClick",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.signInWithGoogle())}),c.qZA()()}if(2&n){const e=c.oxw();c.xp6(3),c.Q6J("buttonType",e.UiButtonType.AUTH)}}function dX(n,t){1&n&&c._UZ(0,"ui-loading")}let hX=(()=>{class n extends wb{constructor(){super(),this.UiButtonType=Is,this.md=(0,c.f3M)(fR),this.selectedFilter=Er.ALL,this.subscriptions.add(this.facade.getTodoLists$.subscribe(e=>this.todoLists=e))}ngOnInit(){this.subscriptions.add(this.facade.getSignedInUser$.subscribe(e=>{this.signedInUser=e?.user,this.todoLists||this.facade.fetchTodoLists(this.signedInUser)}))}signInWithGoogle(){this.facade.signInWithGoogle()}createTodoList(){this.md.open(AY)}applyFilter(e){this.selectedFilter=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["todoee-home-component"]],features:[c.qOj],decls:5,vars:2,consts:[["class","flex flex-col gap-4",4,"ngIf","ngIfElse"],["signInTemplate",""],["loadingTemplate",""],[1,"flex","flex-col","gap-4"],["class","flex items-center justify-between w-full",4,"ngIf","ngIfElse"],["class","w-full max-w-4xl",3,"list","filter",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-h4"],[3,"filterSelectionChange"],["buttonText","Vytvori\u0165 TODO list",3,"buttonClick"],[1,"w-full","max-w-4xl",3,"list","filter"],[1,"h-full","w-full","justify-center","flex","flex-col","gap-4","items-center","text-center","absolute","top-0","left-0"],[1,"lg:text-h3","md:text-h4"],["buttonText","Prihl\xe1s sa cez Google",3,"buttonType","buttonClick"]],template:function(e,i){if(1&e&&(c.YNc(0,cX,3,3,"div",0),c.YNc(1,uX,4,1,"ng-template",null,1,c.W1O),c.YNc(3,dX,1,0,"ng-template",null,2,c.W1O)),2&e){const r=c.MAs(2);c.Q6J("ngIf",i.signedInUser)("ngIfElse",r)}},dependencies:[As,br,Nb,DR,oX,sX],encapsulation:2}),n})(),fX=(()=>{class n extends CR{constructor(){super(...arguments),this.label="",this.minDate=new Date}onDateInput(e){const i=e.target.value;this.onChange(""===i?null:TA(i,"dd.MM.yyyy",new Date))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-datepicker"]],inputs:{label:"label",minDate:"minDate",maxDate:"maxDate"},features:[c.qOj],decls:12,vars:8,consts:[[1,"w-full"],["matInput","",3,"value","matDatepicker","min","max","formControl","click","input"],["element",""],["matSuffix","",3,"for"],["picker",""]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"mat-form-field",0)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"input",1,2),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(4);return c.KtG(l.select())})("input",function(l){return i.onDateInput(l)}),c.qZA(),c.TgZ(5,"mat-hint"),c._uU(6,"Pou\u017ei form\xe1t DD.MM.YYYY"),c.qZA(),c.TgZ(7,"mat-error"),c._uU(8),c.qZA(),c._UZ(9,"mat-datepicker-toggle",3)(10,"mat-datepicker",null,4),c.qZA()}if(2&e){const r=c.MAs(11);c.xp6(2),c.Oqu(i.label),c.xp6(1),c.Q6J("value",i.date)("matDatepicker",r)("min",i.minDate)("max",i.maxDate)("formControl",i.control),c.xp6(5),c.Oqu(i.errorMessage),c.xp6(1),c.Q6J("for",r)}},dependencies:[vW,aR,EW,Q1,Z1,zC,$A,Y1,S5,vb,s_,AC],styles:["ui-datepicker .mat-mdc-floating-label{font-weight:500}ui-datepicker .mat-mdc-form-field-infix{font-weight:600}ui-datepicker .mat-mdc-form-field-error{font-weight:700}ui-datepicker .mdc-text-field--filled{background-color:transparent!important}\n"],encapsulation:2}),n})(),pX=(()=>{class n extends CR{constructor(){super(...arguments),this.label=""}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["ui-timepicker"]],inputs:{label:"label"},features:[c.qOj],decls:9,vars:4,consts:[[1,"w-full"],["matInput","","maxlength","5",3,"formControl","value","click"],["element",""]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"mat-form-field",0)(1,"mat-label"),c._uU(2),c.qZA(),c.TgZ(3,"input",1,2),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(4);return c.KtG(l.select())}),c.qZA(),c.TgZ(5,"mat-hint"),c._uU(6,"Pou\u017ei form\xe1t HH:mm"),c.qZA(),c.TgZ(7,"mat-error"),c._uU(8),c.qZA()()}2&e&&(c.xp6(2),c.Oqu(i.label),c.xp6(1),c.Q6J("formControl",i.control)("value",i.time),c.xp6(5),c.Oqu(i.errorMessage))},dependencies:[Q1,Z1,zC,$A,Y1,vb,s_,y1,AC],styles:["ui-timepicker .mat-mdc-floating-label{font-weight:500}ui-timepicker .mat-mdc-form-field-infix{font-weight:600}ui-timepicker .mat-mdc-form-field-error{font-weight:700}ui-timepicker .mdc-text-field--filled{background-color:transparent!important}\n"],encapsulation:2}),n})();function mX(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"form",3),c._UZ(1,"ui-input",4)(2,"ui-input",5),c.TgZ(3,"p"),c._uU(4,"Deadline:"),c.qZA(),c._UZ(5,"ui-datepicker",6)(6,"ui-timepicker",7),c.TgZ(7,"ui-button",8),c.NdJ("buttonClick",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.createTodoItem())}),c.qZA()()}if(2&n){const e=c.oxw();c.Q6J("formGroup",e.form),c.xp6(2),c.Q6J("inputType",e.UiInputInputType.TEXTAREA)}}function gX(n,t){1&n&&c._UZ(0,"ui-loading",9),2&n&&c.Q6J("whitenedBackground",!0)}const _X=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:hX},{path:"home/create-todo-item",component:(()=>{class n extends wb{constructor(){super(),this.UiButtonColor=Nl,this.UiBasicButtonType=Pl,this.UiInputInputType=ad,this.isLoading=!1,this.initForm(),this.subscriptions.add(this.activatedRoute.queryParams.subscribe(e=>{e.listId&&this.subscriptions.add(this.facade.getTodoLists$.subscribe(i=>this.parentList=i?.find(r=>r.id===e.listId)))}))}initForm(){this.form=this.fb.group({name:["",yb.required],description:[],dueDate:new l_(null,[A1_dateFromThePastValidator(),A1_invalidDateFormatValidator(ho.DATE),yb.required]),dueTime:new l_(null,[A1_invalidDateFormatValidator(ho.TIME),yb.required])})}createTodoItem(){if(!this.form.valid)return;this.isLoading=!0;const e=TA(this.form.value.dueTime,"HH:mm",new Date);this.form.value.dueDate.setHours(e.getHours(),e.getMinutes());const i={id:nV(),listId:this.parentList.id,name:this.form.value.name,description:this.form.value.description,isCompleted:!1,due:Ai.fromDate(this.form.value.dueDate)},r=VR(this.parentList);r.todos.push(i),this.facade.modifyTodoList(r,()=>this.navigateTo(IA.home.base))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:4,vars:2,consts:[[1,"text-h4","mb-4"],["class","flex flex-col gap-2",3,"formGroup",4,"ngIf"],[3,"whitenedBackground",4,"ngIf"],[1,"flex","flex-col","gap-2",3,"formGroup"],["formControlName","name","label","N\xe1zov"],["formControlName","description","label","Popis",3,"inputType"],["formControlName","dueDate","label","D\xe1tum"],["formControlName","dueTime","label","\u010cas"],["buttonText","Vytvori\u0165",1,"mt-4",3,"buttonClick"],[3,"whitenedBackground"]],template:function(e,i){1&e&&(c.TgZ(0,"p",0),c._uU(1,"Vytvori\u0165 TODO polo\u017eku"),c.qZA(),c.YNc(2,mX,8,2,"form",1),c.YNc(3,gX,1,1,"ui-loading",2)),2&e&&(c.xp6(2),c.Q6J("ngIf",i.parentList),c.xp6(1),c.Q6J("ngIf",i.isLoading))},dependencies:[br,Nb,DR,ER,fX,pX,wA,s_,dA,Vp,SC],encapsulation:2}),n})()},{path:"**",redirectTo:"home"}];let vX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[kF.forRoot(_X),kF]}),n})();const yX_firebase={apiKey:"AIzaSyD5pA4i2Ujtx_6dvr723b_nUuZcxoKO-Xg",authDomain:"todoee-5101b.firebaseapp.com",projectId:"todoee-5101b",storageBucket:"todoee-5101b.appspot.com",messagingSenderId:"978237676912",appId:"1:978237676912:web:d9fd0d7d4801de9d1743b5",measurementId:"G-0KG8REL59R"};function ZV(n){return new c.vHH(3e3,!1)}function qp(n){switch(n.length){case 0:return new HC;case 1:return n[0];default:return new rB(n)}}function QV(n,t,e=new Map,i=new Map){const r=[],o=[];let l=-1,f=null;if(t.forEach(g=>{const y=g.get("offset"),E=y==l,I=E&&f||new Map;g.forEach((U,W)=>{let X=W,ae=U;if("offset"!==W)switch(X=n.normalizePropertyName(X,r),ae){case q1:ae=e.get(W);break;case Gh:ae=i.get(W);break;default:ae=n.normalizeStyleValue(W,X,ae,r)}I.set(X,ae)}),E||o.push(I),f=I,l=y}),r.length)throw function HX(n){return new c.vHH(3502,!1)}();return o}function UR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jR(e,"destroy",n)))}}function jR(n,t,e){const o=HR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function HR(n,t,e,i,r="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function Za(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const eJ=(()=>typeof document>"u"?null:document.documentElement)();function zR(n){const t=n.parentNode||n.host||null;return t===eJ?null:t}let b_=null,JV=!1;function eU(n,t){for(;t;){if(t===n)return!0;t=zR(t)}return!1}function tU(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let nU=(()=>{class n{validateStyleProperty(e){return function nJ(n){b_||(b_=function iJ(){return typeof document<"u"?document.body:null}()||{},JV=!!b_.style&&"WebkitAppearance"in b_.style);let t=!0;return b_.style&&!function tJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in b_.style,!t&&JV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in b_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return eU(e,i)}getParentElement(e){return zR(e)}query(e,i,r){return tU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,f=[],g){return new HC(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$R=(()=>{class n{}return n.NOOP=new nU,n})();const rJ=1e3,GR="ng-enter",rS="ng-leave",oS="ng-trigger",sS=".ng-trigger",rU="ng-animating",WR=".ng-animating";function Yh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qR(parseFloat(t[1]),t[2])}function qR(n,t){return"s"===t?n*rJ:n}function aS(n,t,e){return n.hasOwnProperty("duration")?n:function sJ(n,t,e){let r,o=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(ZV()),{duration:0,delay:0,easing:""};r=qR(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(o=qR(parseFloat(g),f[4]));const y=f[5];y&&(l=y)}else r=n;if(!e){let f=!1,g=t.length;r<0&&(t.push(function bX(){return new c.vHH(3100,!1)}()),f=!0),o<0&&(t.push(function wX(){return new c.vHH(3101,!1)}()),f=!0),f&&t.splice(g,0,ZV())}return{duration:r,delay:o,easing:l}}(n,t,e)}function tE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function oU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Yp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function cd(n,t,e){t.forEach((i,r)=>{const o=KR(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function w_(n,t){t.forEach((e,i)=>{const r=KR(i);n.style[r]=""})}function nE(n){return Array.isArray(n)?1==n.length?n[0]:tB(n):n}const YR=new RegExp("{{\\s*(.+?)\\s*}}","g");function aU(n){let t=[];if("string"==typeof n){let e;for(;e=YR.exec(n);)t.push(e[1]);YR.lastIndex=0}return t}function iE(n,t,e){const i=n.toString(),r=i.replace(YR,(o,l)=>{let f=t[l];return null==f&&(e.push(function CX(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function lS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const cJ=/-+([a-z0-9])/g;function KR(n){return n.replace(cJ,(...t)=>t[1].toUpperCase())}function Qa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function EX(n){return new c.vHH(3004,!1)}()}}function lU(n,t){return window.getComputedStyle(n)[t]}const cS="*";function hJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fJ(n,t,e){if(":"==n[0]){const g=function pJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function BX(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function LX(n){return new c.vHH(3015,!1)}()),t;const r=i[1],o=i[2],l=i[3];t.push(cU(r,l));"<"==o[0]&&!(r==cS&&l==cS)&&t.push(cU(l,r))}(i,e,t)):e.push(n),e}const uS=new Set(["true","1"]),dS=new Set(["false","0"]);function cU(n,t){const e=uS.has(n)||dS.has(n),i=uS.has(t)||dS.has(t);return(r,o)=>{let l=n==cS||n==r,f=t==cS||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?uS.has(n):dS.has(n)),!f&&i&&"boolean"==typeof o&&(f=o?uS.has(t):dS.has(t)),l&&f}}const mJ=new RegExp("s*:selfs*,?","g");function ZR(n,t,e,i){return new gJ(n).build(t,e,i)}class gJ{constructor(t){this._driver=t}build(t,e,i){const r=new yJ(e);return this._resetContextStyleTimingState(r),Qa(this,nE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function TX(){return new c.vHH(3006,!1)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const g=f,y=g.name;y.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,o.push(this.visitState(g,e))}),g.name=y}else if(1==f.type){const g=this.visitTransition(f,e);i+=g.queryCount,r+=g.depCount,l.push(g)}else e.errors.push(function IX(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{aU(g).forEach(y=>{l.hasOwnProperty(y)||o.add(y)})})}),o.size&&(lS(o.values()),e.errors.push(function AX(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Qa(this,nE(t.animation),e);return{type:1,matchers:hJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:D_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Qa(this,i,e)),options:D_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=i;const f=Qa(this,l,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:o,options:D_(t.options)}}visitAnimate(t,e){const i=function wJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QR(aS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=QR(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=aS(e,t);return QR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:yr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,f=!1;if(!l){f=!0;const y={};i.easing&&(y.easing=i.easing),l=yr(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,e);g.isEmptyStep=f,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of r)"string"==typeof f?f===Gh?i.push(f):e.errors.push(new c.vHH(3002,!1)):i.push(oU(f));let o=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!o))for(let g of f.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),E=y.get(g);let I=!0;E&&(o!=r&&o>=E.startTime&&r<=E.endTime&&(e.errors.push(function MX(n,t,e,i,r){return new c.vHH(3010,!1)}()),I=!1),o=E.startTime),I&&y.set(g,{startTime:o,endTime:r}),e.options&&function lJ(n,t,e){const i=t.params||{},r=aU(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function DX(n){return new c.vHH(3001,!1)}())})}(f,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function kX(){return new c.vHH(3011,!1)}()),i;let o=0;const l=[];let f=!1,g=!1,y=0;const E=t.steps.map(_e=>{const xe=this._makeStyleAst(_e,e);let Ee=null!=xe.offset?xe.offset:function bJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(xe.styles),He=0;return null!=Ee&&(o++,He=xe.offset=Ee),g=g||He<0||He>1,f=f||He<y,y=He,l.push(He),xe});g&&e.errors.push(function OX(){return new c.vHH(3012,!1)}()),f&&e.errors.push(function RX(){return new c.vHH(3200,!1)}());const I=t.steps.length;let U=0;o>0&&o<I?e.errors.push(function PX(){return new c.vHH(3202,!1)}()):0==o&&(U=1/(I-1));const W=I-1,X=e.currentTime,ae=e.currentAnimateTimings,le=ae.duration;return E.forEach((_e,xe)=>{const Ee=U>0?xe==W?1:U*xe:l[xe],He=Ee*le;e.currentTime=X+ae.delay+He,ae.duration=He,this._validateStyleAst(_e,e),_e.offset=Ee,i.styles.push(_e)}),i}visitReference(t,e){return{type:8,animation:Qa(this,nE(t.animation),e),options:D_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:D_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:D_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function _J(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(mJ,"")),n=n.replace(/@\*/g,sS).replace(/@\w+/g,e=>sS+"-"+e.slice(1)).replace(/:animating/g,WR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Za(e.collectedStyles,e.currentQuerySelector,new Map);const f=Qa(this,nE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:t.selector,options:D_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function NX(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:aS(t.timings,e.errors,!0);return{type:12,animation:Qa(this,nE(t.animation),e),timings:i,options:null}}}class yJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function D_(n){return n?(n=tE(n)).params&&(n.params=function vJ(n){return n?tE(n):null}(n.params)):n={},n}function QR(n,t,e){return{duration:n,delay:t,easing:e}}function XR(n,t,e,i,r,o,l=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:f}}class hS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const EJ=new RegExp(":enter","g"),TJ=new RegExp(":leave","g");function JR(n,t,e,i,r,o=new Map,l=new Map,f,g,y=[]){return(new IJ).buildKeyframes(n,t,e,i,r,o,l,f,g,y)}class IJ{buildKeyframes(t,e,i,r,o,l,f,g,y,E=[]){y=y||new hS;const I=new eP(t,e,y,r,o,E,[]);I.options=g;const U=g.delay?Yh(g.delay):0;I.currentTimeline.delayNextStep(U),I.currentTimeline.setStyles([l],null,I.errors,g),Qa(this,i,I);const W=I.timelines.filter(X=>X.containsAnimation());if(W.length&&f.size){let X;for(let ae=W.length-1;ae>=0;ae--){const le=W[ae];if(le.element===e){X=le;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([f],null,I.errors,g)}return W.length?W.map(X=>X.buildKeyframes()):[XR(e,[],[],[],0,U,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const l="number"==typeof o?o:Yh(iE(o,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?Yh(i.duration):null,f=null!=i.delay?Yh(i.delay):null;return 0!==l&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,l,f);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Qa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fS);const l=Yh(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Qa(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yh(t.options.delay):0;t.steps.forEach(l=>{const f=e.createSubContext(t.options);o&&f.delayNextStep(o),Qa(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return aS(e.params?iE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(g=>{f.forwardTime((g.offset||0)*o),f.setStyles(g.styles,g.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fS);let l=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let g=null;f.forEach((y,E)=>{e.currentQueryIndex=E;const I=e.createSubContext(t.options,y);o&&I.delayNextStep(o),y===e.element&&(g=I.currentTimeline),Qa(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),f=l*(e.currentQueryTotal-1);let g=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const E=e.currentTimeline;g&&E.delayNextStep(g);const I=E.currentTime;Qa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const fS={};class eP{constructor(t,e,i,r,o,l,f,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new pS(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yh(i.duration)),null!=i.delay&&(r.delay=Yh(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(f=>{(!e||!l.hasOwnProperty(f))&&(l[f]=iE(o[f],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new eP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=fS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new AJ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,l){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(EJ,"."+this._enterClassName)).replace(TJ,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),f.push(...y)}return!o&&0==f.length&&l.push(function FX(n){return new c.vHH(3014,!1)}()),f}}class pS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new pS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Gh),this._currentKeyframe.set(e,Gh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function SJ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Gh)}else Yp(r,e)}),e}(t,this._globalTimelineStyles);for(let[f,g]of l){const y=iE(g,o,i);this._pendingStyles.set(f,y),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Gh),this._updateStyle(f,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const y=Yp(f,new Map,this._backFill);y.forEach((E,I)=>{E===q1?t.add(I):E===Gh&&e.add(I)}),i||y.set("offset",g/this.duration),r.push(y)});const o=t.size?lS(t.values()):[],l=e.size?lS(e.values()):[];if(i){const f=r[0],g=new Map(f);f.set("offset",0),g.set("offset",1),r=[f,g]}return XR(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class AJ extends pS{constructor(t,e,i,r,o,l,f=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,f=e/l,g=Yp(t[0]);g.set("offset",0),o.push(g);const y=Yp(t[0]);y.set("offset",hU(f)),o.push(y);const E=t.length-1;for(let I=1;I<=E;I++){let U=Yp(t[I]);const W=U.get("offset");U.set("offset",hU((e+W*i)/l)),o.push(U)}i=l,e=0,r="",t=o}return XR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function hU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class tP{}const MJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kJ extends tP{normalizePropertyName(t,e){return KR(t)}normalizeStyleValue(t,e,i,r){let o="";const l=i.toString().trim();if(MJ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function xX(n,t){return new c.vHH(3005,!1)}())}return l+o}}function fU(n,t,e,i,r,o,l,f,g,y,E,I,U){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:f,queriedElements:g,preStyleProps:y,postStyleProps:E,totalTime:I,errors:U}}const nP={};class pU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OJ(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,l,f,g,y,E){const I=[],U=this.ast.options&&this.ast.options.params||nP,X=this.buildStyles(i,f&&f.params||nP,I),ae=g&&g.params||nP,le=this.buildStyles(r,ae,I),_e=new Set,xe=new Map,Ee=new Map,He="void"===r,st={params:RJ(ae,U),delay:this.ast.options?.delay},dt=E?[]:JR(t,e,this.ast.animation,o,l,X,le,st,y,I);let Lt=0;if(dt.forEach(Di=>{Lt=Math.max(Di.duration+Di.delay,Lt)}),I.length)return fU(e,this._triggerName,i,r,He,X,le,[],[],xe,Ee,Lt,I);dt.forEach(Di=>{const eo=Di.element,Kp=Za(xe,eo,new Set);Di.preStyleProps.forEach(Xa=>Kp.add(Xa));const Uc=Za(Ee,eo,new Set);Di.postStyleProps.forEach(Xa=>Uc.add(Xa)),eo!==e&&_e.add(eo)});const Tn=lS(_e.values());return fU(e,this._triggerName,i,r,He,X,le,dt,Tn,xe,Ee,Lt)}}function RJ(n,t){const e=tE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class PJ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=tE(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,f)=>{l&&(l=iE(l,r,e));const g=this.normalizer.normalizePropertyName(f,e);l=this.normalizer.normalizeStyleValue(f,g,l,e),i.set(f,l)})}),i}}class FJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new PJ(r.style,r.options&&r.options.params||{},i))}),mU(this.states,"true","1"),mU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new pU(t,r,this.states))}),this.fallbackTransition=function LJ(n,t,e){return new pU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function mU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const BJ=new hS;class VJ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=ZR(this._driver,e,i,[]);if(i.length)throw function zX(n){return new c.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=QV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let l;const f=new Map;if(o?(l=JR(this._driver,e,o,GR,rS,new Map,new Map,i,BJ,r),l.forEach(E=>{const I=Za(f,E.element,new Map);E.postStyleProps.forEach(U=>I.set(U,null))})):(r.push(function $X(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function GX(n){return new c.vHH(3504,!1)}();f.forEach((E,I)=>{E.forEach((U,W)=>{E.set(W,this._driver.computeStyle(I,W,Gh))})});const y=qp(l.map(E=>{const I=f.get(E.element);return this._buildPlayer(E,new Map,I)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function WX(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=HR(e,"","","");return UR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const gU="ng-animate-queued",iP="ng-animate-disabled",$J=[],_U={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fl="__ng_removed";class rP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function KJ(n){return n??null}(i?t.value:t),i){const o=tE(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const rE="void",oP=new rP(rE);class WJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ll(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function qX(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function YX(n){return new c.vHH(3303,!1)}();if(!function ZJ(n){return"start"==n||"done"==n}(i))throw function KX(n,t){return new c.vHH(3400,!1)}();const o=Za(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};o.push(l);const f=Za(this._engine.statesByElement,t,new Map);return f.has(e)||(Ll(t,oS),Ll(t,oS+"-"+e),f.set(e,oP)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(l);g>=0&&o.splice(g,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function ZX(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),l=new sP(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Ll(t,oS),Ll(t,oS+"-"+e),this._engine.statesByElement.set(t,f=new Map));let g=f.get(e);const y=new rP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),f.set(e,y),g||(g=oP),y.value!==rE&&g.value===y.value){if(!function JJ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,y.params)){const ae=[],le=o.matchStyles(g.value,g.params,ae),_e=o.matchStyles(y.value,y.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{w_(t,le),cd(t,_e)})}return}const U=Za(this._engine.playersByElement,t,[]);U.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==e&&ae.queued&&ae.destroy()});let W=o.matchTransition(g.value,y.value,t,y.params),X=!1;if(!W){if(!r)return;W=o.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:g,toState:y,player:l,isFallbackTransition:X}),X||(Ll(t,gU),l.onStart(()=>{Hb(t,gU)})),l.onDone(()=>{let ae=this.players.indexOf(l);ae>=0&&this.players.splice(ae,1);const le=this._engine.playersByElement.get(t);if(le){let _e=le.indexOf(l);_e>=0&&le.splice(_e,1)}}),this.players.push(l),U.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,sS,!0);i.forEach(r=>{if(r[Fl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const f=[];if(o.forEach((g,y)=>{if(l.set(y,g.value),this._triggers.has(y)){const E=this.trigger(t,y,rE,r);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&qp(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const g=this._triggers.get(l).fallbackTransition,y=i.get(l)||oP,E=new rP(rE),I=new sP(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:g,fromState:y,toState:E,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Fl];(!o||o===_U)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ll(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(f=>{if(f.name==i.triggerName){const g=HR(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,UR(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class qJ{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new WJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(e);for(;f;){const g=r.get(f);if(g){const y=i.indexOf(g);i.splice(y+1,0,t),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(mS(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!mS(e))return;const o=e[Fl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ll(t,iP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Hb(t,iP))}removeNode(t,e,i,r){if(mS(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Fl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return mS(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,sS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Fl];if(e&&e.setForRemoval){if(t[Fl]=_U,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(iP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ll(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function QX(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new hS,r=[],o=new Map,l=[],f=new Map,g=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(Tt=>{E.add(Tt);const Ht=this.driver.query(Tt,".ng-animate-queued",!0);for(let rn=0;rn<Ht.length;rn++)E.add(Ht[rn])});const I=this.bodyNode,U=Array.from(this.statesByElement.keys()),W=bU(U,this.collectedEnterElements),X=new Map;let ae=0;W.forEach((Tt,Ht)=>{const rn=GR+ae++;X.set(Ht,rn),Tt.forEach(Nn=>Ll(Nn,rn))});const le=[],_e=new Set,xe=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Ht=this.collectedLeaveElements[Tt],rn=Ht[Fl];rn&&rn.setForRemoval&&(le.push(Ht),_e.add(Ht),rn.hasAnimation?this.driver.query(Ht,".ng-star-inserted",!0).forEach(Nn=>_e.add(Nn)):xe.add(Ht))}const Ee=new Map,He=bU(U,Array.from(_e));He.forEach((Tt,Ht)=>{const rn=rS+ae++;Ee.set(Ht,rn),Tt.forEach(Nn=>Ll(Nn,rn))}),t.push(()=>{W.forEach((Tt,Ht)=>{const rn=X.get(Ht);Tt.forEach(Nn=>Hb(Nn,rn))}),He.forEach((Tt,Ht)=>{const rn=Ee.get(Ht);Tt.forEach(Nn=>Hb(Nn,rn))}),le.forEach(Tt=>{this.processLeaveNode(Tt)})});const st=[],dt=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(e).forEach(rn=>{const Nn=rn.player,no=rn.element;if(st.push(Nn),this.collectedEnterElements.length){const zr=no[Fl];if(zr&&zr.setForMove){if(zr.previousTriggersValues&&zr.previousTriggersValues.has(rn.triggerName)){const Ji=zr.previousTriggersValues.get(rn.triggerName),In=this.statesByElement.get(rn.element);if(In&&In.has(rn.triggerName)){const fs=In.get(rn.triggerName);fs.value=Ji,In.set(rn.triggerName,fs)}}return void Nn.destroy()}}const Da=!I||!this.driver.containsElement(I,no),xo=Ee.get(no),jc=X.get(no),Mi=this._buildInstruction(rn,i,jc,xo,Da);if(Mi.errors&&Mi.errors.length)return void dt.push(Mi);if(Da)return Nn.onStart(()=>w_(no,Mi.fromStyles)),Nn.onDestroy(()=>cd(no,Mi.toStyles)),void r.push(Nn);if(rn.isFallbackTransition)return Nn.onStart(()=>w_(no,Mi.fromStyles)),Nn.onDestroy(()=>cd(no,Mi.toStyles)),void r.push(Nn);const oE=[];Mi.timelines.forEach(zr=>{zr.stretchStartingKeyframe=!0,this.disabledNodes.has(zr.element)||oE.push(zr)}),Mi.timelines=oE,i.append(no,Mi.timelines),l.push({instruction:Mi,player:Nn,element:no}),Mi.queriedElements.forEach(zr=>Za(f,zr,[]).push(Nn)),Mi.preStyleProps.forEach((zr,Ji)=>{if(zr.size){let In=g.get(Ji);In||g.set(Ji,In=new Set),zr.forEach((fs,Zp)=>In.add(Zp))}}),Mi.postStyleProps.forEach((zr,Ji)=>{let In=y.get(Ji);In||y.set(Ji,In=new Set),zr.forEach((fs,Zp)=>In.add(Zp))})});if(dt.length){const Tt=[];dt.forEach(Ht=>{Tt.push(function XX(n,t){return new c.vHH(3505,!1)}())}),st.forEach(Ht=>Ht.destroy()),this.reportError(Tt)}const Lt=new Map,Tn=new Map;l.forEach(Tt=>{const Ht=Tt.element;i.has(Ht)&&(Tn.set(Ht,Ht),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Lt))}),r.forEach(Tt=>{const Ht=Tt.element;this._getPreviousPlayers(Ht,!1,Tt.namespaceId,Tt.triggerName,null).forEach(Nn=>{Za(Lt,Ht,[]).push(Nn),Nn.destroy()})});const Di=le.filter(Tt=>DU(Tt,g,y)),eo=new Map;yU(eo,this.driver,xe,y,Gh).forEach(Tt=>{DU(Tt,g,y)&&Di.push(Tt)});const Uc=new Map;W.forEach((Tt,Ht)=>{yU(Uc,this.driver,new Set(Tt),g,q1)}),Di.forEach(Tt=>{const Ht=eo.get(Tt),rn=Uc.get(Tt);eo.set(Tt,new Map([...Ht?.entries()??[],...rn?.entries()??[]]))});const Xa=[],zb=[],to={};l.forEach(Tt=>{const{element:Ht,player:rn,instruction:Nn}=Tt;if(i.has(Ht)){if(E.has(Ht))return rn.onDestroy(()=>cd(Ht,Nn.toStyles)),rn.disabled=!0,rn.overrideTotalTime(Nn.totalTime),void r.push(rn);let no=to;if(Tn.size>1){let xo=Ht;const jc=[];for(;xo=xo.parentNode;){const Mi=Tn.get(xo);if(Mi){no=Mi;break}jc.push(xo)}jc.forEach(Mi=>Tn.set(Mi,no))}const Da=this._buildAnimation(rn.namespaceId,Nn,Lt,o,Uc,eo);if(rn.setRealPlayer(Da),no===to)Xa.push(rn);else{const xo=this.playersByElement.get(no);xo&&xo.length&&(rn.parentPlayer=qp(xo)),r.push(rn)}}else w_(Ht,Nn.fromStyles),rn.onDestroy(()=>cd(Ht,Nn.toStyles)),zb.push(rn),E.has(Ht)&&r.push(rn)}),zb.forEach(Tt=>{const Ht=o.get(Tt.element);if(Ht&&Ht.length){const rn=qp(Ht);Tt.setRealPlayer(rn)}}),r.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<le.length;Tt++){const Ht=le[Tt],rn=Ht[Fl];if(Hb(Ht,rS),rn&&rn.hasAnimation)continue;let Nn=[];if(f.size){let Da=f.get(Ht);Da&&Da.length&&Nn.push(...Da);let xo=this.driver.query(Ht,WR,!0);for(let jc=0;jc<xo.length;jc++){let Mi=f.get(xo[jc]);Mi&&Mi.length&&Nn.push(...Mi)}}const no=Nn.filter(Da=>!Da.destroyed);no.length?QJ(this,Ht,no):this.processLeaveNode(Ht)}return le.length=0,Xa.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Ht=this.players.indexOf(Tt);this.players.splice(Ht,1)}),Tt.play()}),Xa}elementContainsData(t,e){let i=!1;const r=e[Fl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let l=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(l=f)}else{const f=this.playersByElement.get(t);if(f){const g=!o||o==rE;f.forEach(y=>{y.queued||!g&&y.triggerName!=r||l.push(y)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(t,e,i){const o=e.element,l=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,E=y!==o,I=Za(i,y,[]);this._getPreviousPlayers(y,E,l,f,e.toState).forEach(W=>{const X=W.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),W.destroy(),I.push(W)})}w_(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,l){const f=e.triggerName,g=e.element,y=[],E=new Set,I=new Set,U=e.timelines.map(X=>{const ae=X.element;E.add(ae);const le=ae[Fl];if(le&&le.removedBeforeQueried)return new HC(X.duration,X.delay);const _e=ae!==g,xe=function XJ(n){const t=[];return wU(n,t),t}((i.get(ae)||$J).map(Lt=>Lt.getRealPlayer())).filter(Lt=>!!Lt.element&&Lt.element===ae),Ee=o.get(ae),He=l.get(ae),st=QV(this._normalizer,X.keyframes,Ee,He),dt=this._buildPlayer(X,st,xe);if(X.subTimeline&&r&&I.add(ae),_e){const Lt=new sP(t,f,ae);Lt.setRealPlayer(dt),y.push(Lt)}return dt});y.forEach(X=>{Za(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function YJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,X.element,X))}),E.forEach(X=>Ll(X,rU));const W=qp(U);return W.onDestroy(()=>{E.forEach(X=>Hb(X,rU)),cd(g,e.toStyles)}),I.forEach(X=>{Za(r,X,[]).push(W)}),W}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new HC(t.duration,t.delay)}}class sP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new HC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>UR(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Za(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mS(n){return n&&1===n.nodeType}function vU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function yU(n,t,e,i,r){const o=[];e.forEach(g=>o.push(vU(g)));const l=[];i.forEach((g,y)=>{const E=new Map;g.forEach(I=>{const U=t.computeStyle(y,I,r);E.set(I,U),(!U||0==U.length)&&(y[Fl]=GJ,l.push(y))}),n.set(y,E)});let f=0;return e.forEach(g=>vU(g,o[f++])),l}function bU(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function l(f){if(!f)return i;let g=o.get(f);if(g)return g;const y=f.parentNode;return g=e.has(y)?y:r.has(y)?i:l(y),o.set(f,g),g}return t.forEach(f=>{const g=l(f);g!==i&&e.get(g).push(f)}),e}function Ll(n,t){n.classList?.add(t)}function Hb(n,t){n.classList?.remove(t)}function QJ(n,t,e){qp(e).onDone(()=>n.processLeaveNode(t))}function wU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof rB?wU(i.players,t):t.push(i)}}function DU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class gS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new qJ(t,e,i),this._timelineEngine=new VJ(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const l=t+"-"+r;let f=this._triggerCache[l];if(!f){const g=[],E=ZR(this._driver,o,g,[]);if(g.length)throw function jX(n,t){return new c.vHH(3404,!1)}();f=function NJ(n,t,e){return new FJ(n,t,e)}(r,E,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,l]=XV(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[l,f]=XV(i);return this._timelineEngine.listen(l,e,f,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&cd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cd(this._element,this._initialStyles),this._endStyles&&(cd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(w_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(w_(this._element,this._endStyles),this._endStyles=null),cd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function aP(n){let t=null;return n.forEach((e,i)=>{(function nee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class CU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:lU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class iee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return eU(t,e)}getParentElement(t){return zR(t)}query(t,e,i){return tU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,l=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const y=new Map,E=l.filter(W=>W instanceof CU);(function uJ(n,t){return 0===n||0===t})(i,r)&&E.forEach(W=>{W.currentSnapshot.forEach((X,ae)=>y.set(ae,X))});let I=function aJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>oU(t)):[]}(e).map(W=>Yp(W));I=function dJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(f=>l.set(f,lU(n,f)))}}return t}(t,I,y);const U=function eee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=aP(t[0]),t.length>1&&(i=aP(t[t.length-1]))):t instanceof Map&&(e=aP(t)),e||i?new tee(n,e,i):null}(t,I);return new CU(t,I,g,U)}}let ree=(()=>{class n extends J2{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?tB(e):e;return EU(this._renderer,null,i,"register",[r]),new oee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class oee extends e5{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new see(this._id,t,e||{},this._renderer)}}class see{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return EU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const xU="@.disabled";let aee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const f=l?.parentNode(o);f&&l.removeChild(f,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new TU("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,E)),E}const l=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(l,f,e,E.name,E)};return i.data.animation.forEach(g),new lee(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,f]=o;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(gS),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class TU{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==xU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class lee extends TU{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==xU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function cee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function uee(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let dee=(()=>{class n extends gS{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Q),c.LFG($R),c.LFG(tP),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const IU=[{provide:J2,useClass:ree},{provide:tP,useFactory:function hee(){return new kJ}},{provide:gS,useClass:dee},{provide:c.FYo,useFactory:function fee(n,t,e){return new aee(n,t,e)},deps:[fn,gS,c.R0b]}],lP=[{provide:$R,useFactory:()=>new iee},{provide:c.QbO,useValue:"BrowserAnimations"},...IU],AU=[{provide:$R,useClass:nU},{provide:c.QbO,useValue:"NoopAnimations"},...IU];let pee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?AU:lP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:lP,imports:[rc]}),n})(),mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[lY]}),n.\u0275inj=c.cJS({imports:[rc,vX,gu,Fj,Gq,RL,PL,pee,F.hO.initializeApp(yX_firebase)]}),n})();Od().bootstrapModule(mee).catch(n=>console.error(n))},1135:(ce,K,S)=>{S.d(K,{X:()=>B});var c=S(7579);class B extends c.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Y=super._subscribe(ne);return!Y.closed&&ne.next(this._value),Y}getValue(){const{hasError:ne,thrownError:Y,_value:Q}=this;if(ne)throw Y;return this._throwIfClosed(),Q}next(ne){super.next(this._value=ne)}}},9751:(ce,K,S)=>{S.d(K,{y:()=>se});var c=S(930),B=S(727),R=S(8822),ne=S(9635),Y=S(2416),Q=S(576),oe=S(2806);let se=(()=>{class q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ke=new q;return Ke.source=this,Ke.operator=Ae,Ke}subscribe(Ae,Ke,lt){const we=function z(q){return q&&q instanceof c.Lv||function G(q){return q&&(0,Q.m)(q.next)&&(0,Q.m)(q.error)&&(0,Q.m)(q.complete)}(q)&&(0,B.Nn)(q)}(Ae)?Ae:new c.Hp(Ae,Ke,lt);return(0,oe.x)(()=>{const{operator:ke,source:Le}=this;we.add(ke?ke.call(we,Le):Le?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ke){Ae.error(Ke)}}forEach(Ae,Ke){return new(Ke=ee(Ke))((lt,we)=>{const ke=new c.Hp({next:Le=>{try{Ae(Le)}catch(Be){we(Be),ke.unsubscribe()}},error:we,complete:lt});this.subscribe(ke)})}_subscribe(Ae){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ae)}[R.L](){return this}pipe(...Ae){return(0,ne.U)(Ae)(this)}toPromise(Ae){return new(Ae=ee(Ae))((Ke,lt)=>{let we;this.subscribe(ke=>we=ke,ke=>lt(ke),()=>Ke(we))})}}return q.create=be=>new q(be),q})();function ee(q){var be;return null!==(be=q??Y.config.Promise)&&void 0!==be?be:Promise}},4707:(ce,K,S)=>{S.d(K,{t:()=>R});var c=S(7579),B=S(6063);class R extends c.x{constructor(Y=1/0,Q=1/0,oe=B.l){super(),this._bufferSize=Y,this._windowTime=Q,this._timestampProvider=oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Q===1/0,this._bufferSize=Math.max(1,Y),this._windowTime=Math.max(1,Q)}next(Y){const{isStopped:Q,_buffer:oe,_infiniteTimeWindow:se,_timestampProvider:ee,_windowTime:G}=this;Q||(oe.push(Y),!se&&oe.push(ee.now()+G)),this._trimBuffer(),super.next(Y)}_subscribe(Y){this._throwIfClosed(),this._trimBuffer();const Q=this._innerSubscribe(Y),{_infiniteTimeWindow:oe,_buffer:se}=this,ee=se.slice();for(let G=0;G<ee.length&&!Y.closed;G+=oe?1:2)Y.next(ee[G]);return this._checkFinalizedStatuses(Y),Q}_trimBuffer(){const{_bufferSize:Y,_timestampProvider:Q,_buffer:oe,_infiniteTimeWindow:se}=this,ee=(se?1:2)*Y;if(Y<1/0&&ee<oe.length&&oe.splice(0,oe.length-ee),!se){const G=Q.now();let z=0;for(let q=1;q<oe.length&&oe[q]<=G;q+=2)z=q;z&&oe.splice(0,z+1)}}}},7579:(ce,K,S)=>{S.d(K,{x:()=>oe});var c=S(9751),B=S(727);const ne=(0,S(3888).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=S(8737),Q=S(2806);let oe=(()=>{class ee extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const q=new se(this,this);return q.operator=z,q}_throwIfClosed(){if(this.closed)throw new ne}next(z){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(z)}})}error(z){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:q}=this;for(;q.length;)q.shift().error(z)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:q,isStopped:be,observers:Ae}=this;return q||be?B.Lc:(this.currentObservers=null,Ae.push(z),new B.w0(()=>{this.currentObservers=null,(0,Y.P)(Ae,z)}))}_checkFinalizedStatuses(z){const{hasError:q,thrownError:be,isStopped:Ae}=this;q?z.error(be):Ae&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return ee.create=(G,z)=>new se(G,z),ee})();class se extends oe{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===q||q.call(z,G)}error(G){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===q||q.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,q;return null!==(q=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==q?q:B.Lc}}},930:(ce,K,S)=>{S.d(K,{Hp:()=>lt,Lv:()=>q});var c=S(576),B=S(727),R=S(2416),ne=S(7849),Y=S(5032);const Q=ee("C",void 0,void 0);function ee(Re,Me,je){return{kind:Re,value:Me,error:je}}var G=S(3410),z=S(2806);class q extends B.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,B.Nn)(Me)&&Me.add(this)):this.destination=Be}static create(Me,je,Ge){return new lt(Me,je,Ge)}next(Me){this.isStopped?Le(function se(Re){return ee("N",Re,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Le(function oe(Re){return ee("E",void 0,Re)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Le(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Ae(Re,Me){return be.call(Re,Me)}class Ke{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:je}=this;if(je.next)try{je.next(Me)}catch(Ge){we(Ge)}}error(Me){const{partialObserver:je}=this;if(je.error)try{je.error(Me)}catch(Ge){we(Ge)}else we(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(je){we(je)}}}class lt extends q{constructor(Me,je,Ge){let Ue;if(super(),(0,c.m)(Me)||!Me)Ue={next:Me??void 0,error:je??void 0,complete:Ge??void 0};else{let de;this&&R.config.useDeprecatedNextContext?(de=Object.create(Me),de.unsubscribe=()=>this.unsubscribe(),Ue={next:Me.next&&Ae(Me.next,de),error:Me.error&&Ae(Me.error,de),complete:Me.complete&&Ae(Me.complete,de)}):Ue=Me}this.destination=new Ke(Ue)}}function we(Re){R.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,ne.h)(Re)}function Le(Re,Me){const{onStoppedNotification:je}=R.config;je&&G.z.setTimeout(()=>je(Re,Me))}const Be={closed:!0,next:Y.Z,error:function ke(Re){throw Re},complete:Y.Z}},727:(ce,K,S)=>{S.d(K,{Lc:()=>Q,w0:()=>Y,Nn:()=>oe});var c=S(576);const R=(0,S(3888).d)(ee=>function(z){ee(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((q,be)=>`${be+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ne=S(8737);class Y{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ae of z)Ae.remove(this);else z.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(Ae){G=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const Ae of be)try{se(Ae)}catch(Ke){G=G??[],Ke instanceof R?G=[...G,...Ke.errors]:G.push(Ke)}}if(G)throw new R(G)}}add(G){var z;if(G&&G!==this)if(this.closed)se(G);else{if(G instanceof Y){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ne.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ne.P)(z,G),G instanceof Y&&G._removeParent(this)}}Y.EMPTY=(()=>{const ee=new Y;return ee.closed=!0,ee})();const Q=Y.EMPTY;function oe(ee){return ee instanceof Y||ee&&"closed"in ee&&(0,c.m)(ee.remove)&&(0,c.m)(ee.add)&&(0,c.m)(ee.unsubscribe)}function se(ee){(0,c.m)(ee)?ee():ee.unsubscribe()}},2416:(ce,K,S)=>{S.d(K,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ce,K,S)=>{S.d(K,{E:()=>B});const B=new(S(9751).y)(Y=>Y.complete())},8996:(ce,K,S)=>{S.d(K,{D:()=>Me});var c=S(8421),B=S(5363),R=S(9468),Q=S(9751),se=S(2202),ee=S(576),G=S(9672);function q(je,Ge){if(!je)throw new Error("Iterable cannot be null");return new Q.y(Ue=>{(0,G.f)(Ue,Ge,()=>{const de=je[Symbol.asyncIterator]();(0,G.f)(Ue,Ge,()=>{de.next().then(pt=>{pt.done?Ue.complete():Ue.next(pt.value)})},0,!0)})})}var be=S(3670),Ae=S(8239),Ke=S(1144),lt=S(6495),we=S(2206),ke=S(4532),Le=S(3260);function Me(je,Ge){return Ge?function Re(je,Ge){if(null!=je){if((0,be.c)(je))return function ne(je,Ge){return(0,c.Xf)(je).pipe((0,R.R)(Ge),(0,B.Q)(Ge))}(je,Ge);if((0,Ke.z)(je))return function oe(je,Ge){return new Q.y(Ue=>{let de=0;return Ge.schedule(function(){de===je.length?Ue.complete():(Ue.next(je[de++]),Ue.closed||this.schedule())})})}(je,Ge);if((0,Ae.t)(je))return function Y(je,Ge){return(0,c.Xf)(je).pipe((0,R.R)(Ge),(0,B.Q)(Ge))}(je,Ge);if((0,we.D)(je))return q(je,Ge);if((0,lt.T)(je))return function z(je,Ge){return new Q.y(Ue=>{let de;return(0,G.f)(Ue,Ge,()=>{de=je[se.h](),(0,G.f)(Ue,Ge,()=>{let pt,ut;try{({value:pt,done:ut}=de.next())}catch(bn){return void Ue.error(bn)}ut?Ue.complete():Ue.next(pt)},0,!0)}),()=>(0,ee.m)(de?.return)&&de.return()})}(je,Ge);if((0,Le.L)(je))return function Be(je,Ge){return q((0,Le.Q)(je),Ge)}(je,Ge)}throw(0,ke.z)(je)}(je,Ge):(0,c.Xf)(je)}},8421:(ce,K,S)=>{S.d(K,{Xf:()=>be});var c=S(655),B=S(1144),R=S(8239),ne=S(9751),Y=S(3670),Q=S(2206),oe=S(4532),se=S(6495),ee=S(3260),G=S(576),z=S(7849),q=S(8822);function be(Re){if(Re instanceof ne.y)return Re;if(null!=Re){if((0,Y.c)(Re))return function Ae(Re){return new ne.y(Me=>{const je=Re[q.L]();if((0,G.m)(je.subscribe))return je.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,B.z)(Re))return function Ke(Re){return new ne.y(Me=>{for(let je=0;je<Re.length&&!Me.closed;je++)Me.next(Re[je]);Me.complete()})}(Re);if((0,R.t)(Re))return function lt(Re){return new ne.y(Me=>{Re.then(je=>{Me.closed||(Me.next(je),Me.complete())},je=>Me.error(je)).then(null,z.h)})}(Re);if((0,Q.D)(Re))return ke(Re);if((0,se.T)(Re))return function we(Re){return new ne.y(Me=>{for(const je of Re)if(Me.next(je),Me.closed)return;Me.complete()})}(Re);if((0,ee.L)(Re))return function Le(Re){return ke((0,ee.Q)(Re))}(Re)}throw(0,oe.z)(Re)}function ke(Re){return new ne.y(Me=>{(function Be(Re,Me){var je,Ge,Ue,de;return(0,c.mG)(this,void 0,void 0,function*(){try{for(je=(0,c.KL)(Re);!(Ge=yield je.next()).done;)if(Me.next(Ge.value),Me.closed)return}catch(pt){Ue={error:pt}}finally{try{Ge&&!Ge.done&&(de=je.return)&&(yield de.call(je))}finally{if(Ue)throw Ue.error}}Me.complete()})})(Re,Me).catch(je=>Me.error(je))})}},6451:(ce,K,S)=>{S.d(K,{T:()=>Q});var c=S(8189),B=S(8421),R=S(515),ne=S(3269),Y=S(8996);function Q(...oe){const se=(0,ne.yG)(oe),ee=(0,ne._6)(oe,1/0),G=oe;return G.length?1===G.length?(0,B.Xf)(G[0]):(0,c.J)(ee)((0,Y.D)(G,se)):R.E}},9646:(ce,K,S)=>{S.d(K,{of:()=>R});var c=S(3269),B=S(8996);function R(...ne){const Y=(0,c.yG)(ne);return(0,B.D)(ne,Y)}},5403:(ce,K,S)=>{S.d(K,{Q:()=>R,x:()=>B});var c=S(930);function B(ne,Y,Q,oe,se){return new R(ne,Y,Q,oe,se)}class R extends c.Lv{constructor(Y,Q,oe,se,ee,G){super(Y),this.onFinalize=ee,this.shouldUnsubscribe=G,this._next=Q?function(z){try{Q(z)}catch(q){Y.error(q)}}:super._next,this._error=se?function(z){try{se(z)}catch(q){Y.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(z){Y.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},262:(ce,K,S)=>{S.d(K,{K:()=>ne});var c=S(8421),B=S(5403),R=S(4482);function ne(Y){return(0,R.e)((Q,oe)=>{let G,se=null,ee=!1;se=Q.subscribe((0,B.x)(oe,void 0,void 0,z=>{G=(0,c.Xf)(Y(z,ne(Y)(Q))),se?(se.unsubscribe(),se=null,G.subscribe(oe)):ee=!0})),ee&&(se.unsubscribe(),se=null,G.subscribe(oe))})}},4351:(ce,K,S)=>{S.d(K,{b:()=>R});var c=S(5577),B=S(576);function R(ne,Y){return(0,B.m)(Y)?(0,c.z)(ne,Y,1):(0,c.z)(ne,1)}},8372:(ce,K,S)=>{S.d(K,{b:()=>ne});var c=S(4986),B=S(4482),R=S(5403);function ne(Y,Q=c.z){return(0,B.e)((oe,se)=>{let ee=null,G=null,z=null;const q=()=>{if(ee){ee.unsubscribe(),ee=null;const Ae=G;G=null,se.next(Ae)}};function be(){const Ae=z+Y,Ke=Q.now();if(Ke<Ae)return ee=this.schedule(void 0,Ae-Ke),void se.add(ee);q()}oe.subscribe((0,R.x)(se,Ae=>{G=Ae,z=Q.now(),ee||(ee=Q.schedule(be,Y),se.add(ee))},()=>{q(),se.complete()},void 0,()=>{G=ee=null}))})}},1884:(ce,K,S)=>{S.d(K,{x:()=>ne});var c=S(4671),B=S(4482),R=S(5403);function ne(Q,oe=c.y){return Q=Q??Y,(0,B.e)((se,ee)=>{let G,z=!0;se.subscribe((0,R.x)(ee,q=>{const be=oe(q);(z||!Q(G,be))&&(z=!1,G=be,ee.next(q))}))})}function Y(Q,oe){return Q===oe}},9300:(ce,K,S)=>{S.d(K,{h:()=>R});var c=S(4482),B=S(5403);function R(ne,Y){return(0,c.e)((Q,oe)=>{let se=0;Q.subscribe((0,B.x)(oe,ee=>ne.call(Y,ee,se++)&&oe.next(ee)))})}},4004:(ce,K,S)=>{S.d(K,{U:()=>R});var c=S(4482),B=S(5403);function R(ne,Y){return(0,c.e)((Q,oe)=>{let se=0;Q.subscribe((0,B.x)(oe,ee=>{oe.next(ne.call(Y,ee,se++))}))})}},8189:(ce,K,S)=>{S.d(K,{J:()=>R});var c=S(5577),B=S(4671);function R(ne=1/0){return(0,c.z)(B.y,ne)}},5577:(ce,K,S)=>{S.d(K,{z:()=>se});var c=S(4004),B=S(8421),R=S(4482),ne=S(9672),Y=S(5403),oe=S(576);function se(ee,G,z=1/0){return(0,oe.m)(G)?se((q,be)=>(0,c.U)((Ae,Ke)=>G(q,Ae,be,Ke))((0,B.Xf)(ee(q,be))),z):("number"==typeof G&&(z=G),(0,R.e)((q,be)=>function Q(ee,G,z,q,be,Ae,Ke,lt){const we=[];let ke=0,Le=0,Be=!1;const Re=()=>{Be&&!we.length&&!ke&&G.complete()},Me=Ge=>ke<q?je(Ge):we.push(Ge),je=Ge=>{Ae&&G.next(Ge),ke++;let Ue=!1;(0,B.Xf)(z(Ge,Le++)).subscribe((0,Y.x)(G,de=>{be?.(de),Ae?Me(de):G.next(de)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(ke--;we.length&&ke<q;){const de=we.shift();Ke?(0,ne.f)(G,Ke,()=>je(de)):je(de)}Re()}catch(de){G.error(de)}}))};return ee.subscribe((0,Y.x)(G,Me,()=>{Be=!0,Re()})),()=>{lt?.()}}(q,be,ee,z)))}},5363:(ce,K,S)=>{S.d(K,{Q:()=>ne});var c=S(9672),B=S(4482),R=S(5403);function ne(Y,Q=0){return(0,B.e)((oe,se)=>{oe.subscribe((0,R.x)(se,ee=>(0,c.f)(se,Y,()=>se.next(ee),Q),()=>(0,c.f)(se,Y,()=>se.complete(),Q),ee=>(0,c.f)(se,Y,()=>se.error(ee),Q)))})}},5026:(ce,K,S)=>{S.d(K,{R:()=>ne});var c=S(4482),B=S(5403);function ne(Y,Q){return(0,c.e)(function R(Y,Q,oe,se,ee){return(G,z)=>{let q=oe,be=Q,Ae=0;G.subscribe((0,B.x)(z,Ke=>{const lt=Ae++;be=q?Y(be,Ke,lt):(q=!0,Ke),se&&z.next(be)},ee&&(()=>{q&&z.next(be),z.complete()})))}}(Y,Q,arguments.length>=2,!0))}},3099:(ce,K,S)=>{S.d(K,{B:()=>Y});var c=S(8421),B=S(7579),R=S(930),ne=S(4482);function Y(oe={}){const{connector:se=(()=>new B.x),resetOnError:ee=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=oe;return q=>{let be,Ae,Ke,lt=0,we=!1,ke=!1;const Le=()=>{Ae?.unsubscribe(),Ae=void 0},Be=()=>{Le(),be=Ke=void 0,we=ke=!1},Re=()=>{const Me=be;Be(),Me?.unsubscribe()};return(0,ne.e)((Me,je)=>{lt++,!ke&&!we&&Le();const Ge=Ke=Ke??se();je.add(()=>{lt--,0===lt&&!ke&&!we&&(Ae=Q(Re,z))}),Ge.subscribe(je),!be&&lt>0&&(be=new R.Hp({next:Ue=>Ge.next(Ue),error:Ue=>{ke=!0,Le(),Ae=Q(Be,ee,Ue),Ge.error(Ue)},complete:()=>{we=!0,Le(),Ae=Q(Be,G),Ge.complete()}}),(0,c.Xf)(Me).subscribe(be))})(q)}}function Q(oe,se,...ee){if(!0===se)return void oe();if(!1===se)return;const G=new R.Hp({next:()=>{G.unsubscribe(),oe()}});return(0,c.Xf)(se(...ee)).subscribe(G)}},5684:(ce,K,S)=>{S.d(K,{T:()=>B});var c=S(9300);function B(R){return(0,c.h)((ne,Y)=>R<=Y)}},9468:(ce,K,S)=>{S.d(K,{R:()=>B});var c=S(4482);function B(R,ne=0){return(0,c.e)((Y,Q)=>{Q.add(R.schedule(()=>Y.subscribe(Q),ne))})}},3900:(ce,K,S)=>{S.d(K,{w:()=>ne});var c=S(8421),B=S(4482),R=S(5403);function ne(Y,Q){return(0,B.e)((oe,se)=>{let ee=null,G=0,z=!1;const q=()=>z&&!ee&&se.complete();oe.subscribe((0,R.x)(se,be=>{ee?.unsubscribe();let Ae=0;const Ke=G++;(0,c.Xf)(Y(be,Ke)).subscribe(ee=(0,R.x)(se,lt=>se.next(Q?Q(be,lt,Ke,Ae++):lt),()=>{ee=null,q()}))},()=>{z=!0,q()}))})}},5698:(ce,K,S)=>{S.d(K,{q:()=>ne});var c=S(515),B=S(4482),R=S(5403);function ne(Y){return Y<=0?()=>c.E:(0,B.e)((Q,oe)=>{let se=0;Q.subscribe((0,R.x)(oe,ee=>{++se<=Y&&(oe.next(ee),Y<=se&&oe.complete())}))})}},2722:(ce,K,S)=>{S.d(K,{R:()=>Y});var c=S(4482),B=S(5403),R=S(8421),ne=S(5032);function Y(Q){return(0,c.e)((oe,se)=>{(0,R.Xf)(Q).subscribe((0,B.x)(se,()=>se.complete(),ne.Z)),!se.closed&&oe.subscribe(se)})}},8505:(ce,K,S)=>{S.d(K,{b:()=>Y});var c=S(576),B=S(4482),R=S(5403),ne=S(4671);function Y(Q,oe,se){const ee=(0,c.m)(Q)||oe||se?{next:Q,error:oe,complete:se}:Q;return ee?(0,B.e)((G,z)=>{var q;null===(q=ee.subscribe)||void 0===q||q.call(ee);let be=!0;G.subscribe((0,R.x)(z,Ae=>{var Ke;null===(Ke=ee.next)||void 0===Ke||Ke.call(ee,Ae),z.next(Ae)},()=>{var Ae;be=!1,null===(Ae=ee.complete)||void 0===Ae||Ae.call(ee),z.complete()},Ae=>{var Ke;be=!1,null===(Ke=ee.error)||void 0===Ke||Ke.call(ee,Ae),z.error(Ae)},()=>{var Ae,Ke;be&&(null===(Ae=ee.unsubscribe)||void 0===Ae||Ae.call(ee)),null===(Ke=ee.finalize)||void 0===Ke||Ke.call(ee)}))}):ne.y}},7414:(ce,K,S)=>{S.d(K,{V:()=>ee});var c=S(4986),B=S(1165),R=S(4482),ne=S(8421),Y=S(3888),Q=S(5403),oe=S(9672);const se=(0,Y.d)(z=>function(be=null){z(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=be});function ee(z,q){const{first:be,each:Ae,with:Ke=G,scheduler:lt=q??c.z,meta:we=null}=(0,B.q)(z)?{first:z}:"number"==typeof z?{each:z}:z;if(null==be&&null==Ae)throw new TypeError("No timeout provided.");return(0,R.e)((ke,Le)=>{let Be,Re,Me=null,je=0;const Ge=Ue=>{Re=(0,oe.f)(Le,lt,()=>{try{Be.unsubscribe(),(0,ne.Xf)(Ke({meta:we,lastValue:Me,seen:je})).subscribe(Le)}catch(de){Le.error(de)}},Ue)};Be=ke.subscribe((0,Q.x)(Le,Ue=>{Re?.unsubscribe(),je++,Le.next(Me=Ue),Ae>0&&Ge(Ae)},void 0,void 0,()=>{Re?.closed||Re?.unsubscribe(),Me=null})),!je&&Ge(null!=be?"number"==typeof be?be:+be-lt.now():Ae)})}function G(z){throw new se(z)}},1365:(ce,K,S)=>{S.d(K,{M:()=>oe});var c=S(4482),B=S(5403),R=S(8421),ne=S(4671),Y=S(5032),Q=S(3269);function oe(...se){const ee=(0,Q.jO)(se);return(0,c.e)((G,z)=>{const q=se.length,be=new Array(q);let Ae=se.map(()=>!1),Ke=!1;for(let lt=0;lt<q;lt++)(0,R.Xf)(se[lt]).subscribe((0,B.x)(z,we=>{be[lt]=we,!Ke&&!Ae[lt]&&(Ae[lt]=!0,(Ke=Ae.every(ne.y))&&(Ae=null))},Y.Z));G.subscribe((0,B.x)(z,lt=>{if(Ke){const we=[lt,...be];z.next(ee?ee(...we):we)}}))})}},4408:(ce,K,S)=>{S.d(K,{o:()=>Y});var c=S(727);class B extends c.w0{constructor(oe,se){super()}schedule(oe,se=0){return this}}const R={setInterval(Q,oe,...se){const{delegate:ee}=R;return ee?.setInterval?ee.setInterval(Q,oe,...se):setInterval(Q,oe,...se)},clearInterval(Q){const{delegate:oe}=R;return(oe?.clearInterval||clearInterval)(Q)},delegate:void 0};var ne=S(8737);class Y extends B{constructor(oe,se){super(oe,se),this.scheduler=oe,this.work=se,this.pending=!1}schedule(oe,se=0){var ee;if(this.closed)return this;this.state=oe;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,se)),this.pending=!0,this.delay=se,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(z,this.id,se),this}requestAsyncId(oe,se,ee=0){return R.setInterval(oe.flush.bind(oe,this),ee)}recycleAsyncId(oe,se,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return se;null!=se&&R.clearInterval(se)}execute(oe,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(oe,se);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,se){let G,ee=!1;try{this.work(oe)}catch(z){ee=!0,G=z||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:oe,scheduler:se}=this,{actions:ee}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ee,this),null!=oe&&(this.id=this.recycleAsyncId(se,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ce,K,S)=>{S.d(K,{v:()=>R});var c=S(6063);class B{constructor(Y,Q=B.now){this.schedulerActionCtor=Y,this.now=Q}schedule(Y,Q=0,oe){return new this.schedulerActionCtor(this,Y).schedule(oe,Q)}}B.now=c.l.now;class R extends B{constructor(Y,Q=B.now){super(Y,Q),this.actions=[],this._active=!1}flush(Y){const{actions:Q}=this;if(this._active)return void Q.push(Y);let oe;this._active=!0;do{if(oe=Y.execute(Y.state,Y.delay))break}while(Y=Q.shift());if(this._active=!1,oe){for(;Y=Q.shift();)Y.unsubscribe();throw oe}}}},4986:(ce,K,S)=>{S.d(K,{P:()=>ne,z:()=>R});var c=S(4408);const R=new(S(7565).v)(c.o),ne=R},6063:(ce,K,S)=>{S.d(K,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(ce,K,S)=>{S.d(K,{N:()=>Y});var c=S(4408),R=S(7565);const Y=new class ne extends R.v{}(class B extends c.o{constructor(se,ee){super(se,ee),this.scheduler=se,this.work=ee}schedule(se,ee=0){return ee>0?super.schedule(se,ee):(this.delay=ee,this.state=se,this.scheduler.flush(this),this)}execute(se,ee){return ee>0||this.closed?super.execute(se,ee):this._execute(se,ee)}requestAsyncId(se,ee,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(se,ee,G):(se.flush(this),0)}})},3410:(ce,K,S)=>{S.d(K,{z:()=>c});const c={setTimeout(B,R,...ne){const{delegate:Y}=c;return Y?.setTimeout?Y.setTimeout(B,R,...ne):setTimeout(B,R,...ne)},clearTimeout(B){const{delegate:R}=c;return(R?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(ce,K,S)=>{S.d(K,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ce,K,S)=>{S.d(K,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ce,K,S)=>{S.d(K,{_6:()=>Q,jO:()=>ne,yG:()=>Y});var c=S(576),B=S(3532);function R(oe){return oe[oe.length-1]}function ne(oe){return(0,c.m)(R(oe))?oe.pop():void 0}function Y(oe){return(0,B.K)(R(oe))?oe.pop():void 0}function Q(oe,se){return"number"==typeof R(oe)?oe.pop():se}},8737:(ce,K,S)=>{function c(B,R){if(B){const ne=B.indexOf(R);0<=ne&&B.splice(ne,1)}}S.d(K,{P:()=>c})},3888:(ce,K,S)=>{function c(B){const ne=B(Y=>{Error.call(Y),Y.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}S.d(K,{d:()=>c})},2806:(ce,K,S)=>{S.d(K,{O:()=>ne,x:()=>R});var c=S(2416);let B=null;function R(Y){if(c.config.useDeprecatedSynchronousErrorHandling){const Q=!B;if(Q&&(B={errorThrown:!1,error:null}),Y(),Q){const{errorThrown:oe,error:se}=B;if(B=null,oe)throw se}}else Y()}function ne(Y){c.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Y)}},9672:(ce,K,S)=>{function c(B,R,ne,Y=0,Q=!1){const oe=R.schedule(function(){ne(),Q?B.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(B.add(oe),!Q)return oe}S.d(K,{f:()=>c})},4671:(ce,K,S)=>{function c(B){return B}S.d(K,{y:()=>c})},1144:(ce,K,S)=>{S.d(K,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ce,K,S)=>{S.d(K,{D:()=>B});var c=S(576);function B(R){return Symbol.asyncIterator&&(0,c.m)(R?.[Symbol.asyncIterator])}},1165:(ce,K,S)=>{function c(B){return B instanceof Date&&!isNaN(B)}S.d(K,{q:()=>c})},576:(ce,K,S)=>{function c(B){return"function"==typeof B}S.d(K,{m:()=>c})},3670:(ce,K,S)=>{S.d(K,{c:()=>R});var c=S(8822),B=S(576);function R(ne){return(0,B.m)(ne[c.L])}},6495:(ce,K,S)=>{S.d(K,{T:()=>R});var c=S(2202),B=S(576);function R(ne){return(0,B.m)(ne?.[c.h])}},8239:(ce,K,S)=>{S.d(K,{t:()=>B});var c=S(576);function B(R){return(0,c.m)(R?.then)}},3260:(ce,K,S)=>{S.d(K,{L:()=>ne,Q:()=>R});var c=S(655),B=S(576);function R(Y){return(0,c.FC)(this,arguments,function*(){const oe=Y.getReader();try{for(;;){const{value:se,done:ee}=yield(0,c.qq)(oe.read());if(ee)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(se)}}finally{oe.releaseLock()}})}function ne(Y){return(0,B.m)(Y?.getReader)}},3532:(ce,K,S)=>{S.d(K,{K:()=>B});var c=S(576);function B(R){return R&&(0,c.m)(R.schedule)}},4482:(ce,K,S)=>{S.d(K,{A:()=>B,e:()=>R});var c=S(576);function B(ne){return(0,c.m)(ne?.lift)}function R(ne){return Y=>{if(B(Y))return Y.lift(function(Q){try{return ne(Q,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ce,K,S)=>{function c(){}S.d(K,{Z:()=>c})},9635:(ce,K,S)=>{S.d(K,{U:()=>R,z:()=>B});var c=S(4671);function B(...ne){return R(ne)}function R(ne){return 0===ne.length?c.y:1===ne.length?ne[0]:function(Q){return ne.reduce((oe,se)=>se(oe),Q)}}},7849:(ce,K,S)=>{S.d(K,{h:()=>R});var c=S(2416),B=S(3410);function R(ne){B.z.setTimeout(()=>{const{onUnhandledError:Y}=c.config;if(!Y)throw ne;Y(ne)})}},4532:(ce,K,S)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(K,{z:()=>c})},655:(ce,K,S)=>{function ne(Te,Ve){var $e={};for(var Ze in Te)Object.prototype.hasOwnProperty.call(Te,Ze)&&Ve.indexOf(Ze)<0&&($e[Ze]=Te[Ze]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(Ze=Object.getOwnPropertySymbols(Te);ct<Ze.length;ct++)Ve.indexOf(Ze[ct])<0&&Object.prototype.propertyIsEnumerable.call(Te,Ze[ct])&&($e[Ze[ct]]=Te[Ze[ct]])}return $e}function q(Te,Ve,$e,Ze){return new($e||($e=Promise))(function(et,We){function yt(nt){try{Ne(Ze.next(nt))}catch(Ot){We(Ot)}}function Et(nt){try{Ne(Ze.throw(nt))}catch(Ot){We(Ot)}}function Ne(nt){nt.done?et(nt.value):function ct(et){return et instanceof $e?et:new $e(function(We){We(et)})}(nt.value).then(yt,Et)}Ne((Ze=Ze.apply(Te,Ve||[])).next())})}function Re(Te){return this instanceof Re?(this.v=Te,this):new Re(Te)}function Me(Te,Ve,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Ze=$e.apply(Te,Ve||[]),et=[];return ct={},We("next"),We("throw"),We("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function We(zt){Ze[zt]&&(ct[zt]=function(mn){return new Promise(function(Cn,qn){et.push([zt,mn,Cn,qn])>1||yt(zt,mn)})})}function yt(zt,mn){try{!function Et(zt){zt.value instanceof Re?Promise.resolve(zt.value.v).then(Ne,nt):Ot(et[0][2],zt)}(Ze[zt](mn))}catch(Cn){Ot(et[0][3],Cn)}}function Ne(zt){yt("next",zt)}function nt(zt){yt("throw",zt)}function Ot(zt,mn){zt(mn),et.shift(),et.length&&yt(et[0][0],et[0][1])}}function Ge(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ve=Te[Symbol.asyncIterator];return Ve?Ve.call(Te):(Te=function lt(Te){var Ve="function"==typeof Symbol&&Symbol.iterator,$e=Ve&&Te[Ve],Ze=0;if($e)return $e.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Ze>=Te.length&&(Te=void 0),{value:Te&&Te[Ze++],done:!Te}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),$e={},Ze("next"),Ze("throw"),Ze("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function Ze(et){$e[et]=Te[et]&&function(We){return new Promise(function(yt,Et){!function ct(et,We,yt,Et){Promise.resolve(Et).then(function(Ne){et({value:Ne,done:yt})},We)}(yt,Et,(We=Te[et](We)).done,We.value)})}}}S.d(K,{FC:()=>Me,KL:()=>Ge,_T:()=>ne,mG:()=>q,qq:()=>Re})},9671:(ce,K,S)=>{function c(R,ne,Y,Q,oe,se,ee){try{var G=R[se](ee),z=G.value}catch(q){return void Y(q)}G.done?ne(z):Promise.resolve(z).then(Q,oe)}function B(R){return function(){var ne=this,Y=arguments;return new Promise(function(Q,oe){var se=R.apply(ne,Y);function ee(z){c(se,Q,oe,ee,G,"next",z)}function G(z){c(se,Q,oe,ee,G,"throw",z)}ee(void 0)})}}S.d(K,{Z:()=>B})},2223:(ce,K,S)=>{S.d(K,{$8M:()=>Vd,$WT:()=>Ea,$Z:()=>gv,AFp:()=>M0,ALo:()=>fD,AaK:()=>se,BQk:()=>or,CHM:()=>tc,CRH:()=>Ny,D6c:()=>cb,EJc:()=>oI,EpF:()=>fg,F$t:()=>mw,F4k:()=>Sx,FYo:()=>HE,FiY:()=>gl,Flj:()=>Qc,Gf:()=>Ug,GfV:()=>Lr,Gpc:()=>z,HDt:()=>NI,Hsn:()=>gw,Ikx:()=>ny,JOm:()=>oi,KtG:()=>af,LFG:()=>pn,LSH:()=>ev,Lbi:()=>sv,Lck:()=>rD,MAs:()=>ph,MMx:()=>Dy,MR2:()=>T0,NdJ:()=>Uv,O4$:()=>uf,Ojb:()=>FE,OlP:()=>Vn,Oqu:()=>Aw,P3R:()=>TE,PXZ:()=>Sk,Q6J:()=>$a,QGY:()=>Vv,QbO:()=>NE,Qsj:()=>WS,R0b:()=>Xr,RDi:()=>ss,Rgc:()=>Cp,SBq:()=>Qm,Sil:()=>Yy,Suo:()=>Py,TTD:()=>il,TgZ:()=>dg,Udp:()=>Ga,VKq:()=>uD,W1O:()=>Ly,WFA:()=>jv,WLB:()=>dD,X6Q:()=>Lk,XFs:()=>kt,Xpm:()=>br,Xts:()=>Ff,Y36:()=>Hs,YKP:()=>OT,YNc:()=>cg,Yjl:()=>Ca,Yz7:()=>nt,Z0I:()=>Cn,ZZ4:()=>AI,_Bn:()=>kT,_UZ:()=>hg,_Vd:()=>Zm,_c5:()=>tC,_uU:()=>mp,aQg:()=>JD,c2e:()=>$g,cJS:()=>zt,cg1:()=>iy,d8E:()=>Nw,dDg:()=>qg,dqk:()=>mt,eFA:()=>KD,eJc:()=>FD,ekj:()=>Gv,eoX:()=>uI,f3M:()=>on,g9A:()=>PE,gHi:()=>Jm,h0i:()=>qu,hGG:()=>Zk,hij:()=>yg,iGM:()=>KT,ifc:()=>N,ip1:()=>Dk,jDz:()=>kc,kL8:()=>vp,kcU:()=>df,ktI:()=>Ua,lG2:()=>ea,lcZ:()=>jT,lqb:()=>Cl,lri:()=>Ap,n5z:()=>Bd,oAB:()=>so,oxw:()=>pg,q4F:()=>eh,qFp:()=>Ju,qLn:()=>vo,qOj:()=>xv,qZA:()=>Sc,rWj:()=>Fc,sBO:()=>Bk,s_b:()=>Sy,soG:()=>qy,tBr:()=>ml,tb:()=>Mp,tdS:()=>nm,tp0:()=>Nr,uIk:()=>ip,vHH:()=>we,vpe:()=>ba,wAp:()=>Qt,xp6:()=>ZE,ynx:()=>Bv,z2F:()=>kp,zSh:()=>I0,zs3:()=>bc});var c=S(7579),B=S(727),R=S(9751),ne=S(6451),Y=S(3099);function Q(s){for(let a in s)if(s[a]===Q)return a;throw Error("Could not find renamed property on target object.")}function oe(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function se(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(se).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function ee(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const G=Q({__forward_ref__:Q});function z(s){return s.__forward_ref__=z,s.toString=function(){return se(this())},s}function q(s){return be(s)?s():s}function be(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}function Ae(s){return s&&!!s.\u0275providers}const lt="https://g.co/ng/security#xss";class we extends Error{constructor(a,u){super(function ke(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,u)),this.code=a}}function Le(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,a){throw new we(-201,!1)}function et(s,a){null==s&&function We(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function nt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function mn(s){return qn(s,Fn)||qn(s,Yo)}function Cn(s){return null!==mn(s)}function qn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Oi(s){return s&&(s.hasOwnProperty(Ir)||s.hasOwnProperty(ro))?s[Ir]:null}const Fn=Q({\u0275prov:Q}),Ir=Q({\u0275inj:Q}),Yo=Q({ngInjectableDef:Q}),ro=Q({ngInjectorDef:Q});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Hn;function er(){return Hn}function Qn(s){const a=Hn;return Hn=s,a}function hn(s,a,u){const d=mn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&kt.Optional?null:void 0!==a?a:void Ge(se(s))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xn={},Jn="__NG_DI_FLAG__",Bi="ngTempTokenPath",Ar=/\n/gm,mi="__source";let tr;function ei(s){const a=tr;return tr=s,a}function vi(s,a=kt.Default){if(void 0===tr)throw new we(-203,!1);return null===tr?hn(s,void 0,a):tr.get(s,a&kt.Optional?null:void 0,a)}function pn(s,a=kt.Default){return(er()||vi)(q(s),a)}function on(s,a=kt.Default){return pn(s,ti(a))}function ti(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Sr(s){const a=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,p=kt.Default;for(let v=0;v<d.length;v++){const w=d[v],x=Mr(w);"number"==typeof x?-1===x?h=w.token:p|=x:h=w}a.push(pn(h,p))}else a.push(pn(d))}return a}function Vi(s,a){return s[Jn]=a,s.prototype[Jn]=a,s}function Mr(s){return s[Jn]}function L(s){return{toString:s}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),N=(()=>{return(s=N||(N={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",N;var s})();const fe={},De=[],gt=Q({\u0275cmp:Q}),Gt=Q({\u0275dir:Q}),$t=Q({\u0275pipe:Q}),wn=Q({\u0275mod:Q}),Vt=Q({\u0275fac:Q}),Sn=Q({__NG_ELEMENT_ID__:Q}),sn=Q({__NG_ENV_ID__:Q});function Ui(s,a,u){let d=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}function oo(s,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],v=u[d++],w=u[d++];s.setAttribute(a,v,w,p)}else{const p=h,v=u[++d];ve(p)?s.setProperty(a,p,v):s.setAttribute(a,p,v),d++}}return d}function Fe(s){return 3===s||4===s||6===s}function ve(s){return 64===s.charCodeAt(0)}function tt(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||Mt(s,u,h,null,-1===u||2===u?a[++d]:null)}}return s}function Mt(s,a,u,d,h){let p=0,v=s.length;if(-1===a)v=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,a),p=v+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const Wt="ng-template";function an(s,a,u){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const v=s[d++];if(u&&"class"===p&&-1!==Ui(v.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function En(s){return 4===s.type&&s.value!==Wt}function Ri(s,a,u){return a===(4!==s.type||u?s.value:Wt)}function yi(s,a,u){let d=4;const h=s.attrs||[],p=function Ko(s){for(let a=0;a<s.length;a++)if(Fe(s[a]))return a;return s.length}(h);let v=!1;for(let w=0;w<a.length;w++){const x=a[w];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!Ri(s,x,u)||""===x&&1===a.length){if(Ei(d))return!1;v=!0}}else{const M=8&d?x:a[++w];if(8&d&&null!==s.attrs){if(!an(s.attrs,M,u)){if(Ei(d))return!1;v=!0}continue}const H=Qs(8&d?"class":x,h,En(s),u);if(-1===H){if(Ei(d))return!1;v=!0;continue}if(""!==M){let ue;ue=H>p?"":h[H+1].toLowerCase();const ge=8&d?ue:null;if(ge&&-1!==Ui(ge,M,0)||2&d&&M!==ue){if(Ei(d))return!1;v=!0}}}}else{if(!v&&!Ei(d)&&!Ei(x))return!1;if(v&&Ei(x))continue;v=!1,d=x|1&d}}return Ei(d)||v}function Ei(s){return 0==(1&s)}function Qs(s,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let p=!1;for(;h<a.length;){const v=a[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function ps(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function Xs(s,a,u=!1){for(let d=0;d<a.length;d++)if(yi(s,a[d],u))return!0;return!1}function ms(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function zc(s,a){return s?":not("+a.trim()+")":a}function As(s){let a=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const w=s[++u];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ei(v)&&(a+=zc(p,h),h=""),d=v,p=p||!Ei(d);u++}return""!==h&&(a+=zc(p,h)),a}function br(s){return L(()=>{const a=$(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||N.Emulated,styles:s.styles||De,_:null,schemas:s.schemas||null,tView:null,id:""};ye(u);const d=s.dependencies;return u.directiveDefs=pe(d,!1),u.pipeDefs=pe(d,!0),u.id=function ht(s){let a=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of u)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(u),u})}function Bl(s){return gn(s)||xi(s)}function Ja(s){return null!==s}function so(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||De,declarations:s.declarations||De,imports:s.imports||De,exports:s.exports||De,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function $c(s,a){if(null==s)return fe;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,a&&(a[h]=p)}return u}function ea(s){return L(()=>{const a=$(s);return ye(a),a})}function Ca(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function gn(s){return s[gt]||null}function xi(s){return s[Gt]||null}function ji(s){return s[$t]||null}function Ea(s){const a=gn(s)||xi(s)||ji(s);return null!==a&&a.standalone}function zn(s,a){const u=s[wn]||null;if(!u&&!0===a)throw new Error(`Type ${se(s)} does not have '\u0275mod' property.`);return u}function $(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||De,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$c(s.inputs,a),outputs:$c(s.outputs)}}function ye(s){s.features?.forEach(a=>a(s))}function pe(s,a){if(!s)return null;const u=a?ji:Bl;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(Ja)}const rt=0,qe=1,xt=2,en=3,ni=4,Dn=5,Rn=6,gs=7,Ln=8,ta=9,na=10,Jt=11,Io=12,xa=13,el=14,Bn=15,Vl=16,ia=17,Ao=18,Ss=19,Xp=20,Ms=21,mr=22,Ul=23,tl=24,nn=25,ud=1,ks=2,ra=7,jl=8,ao=9,Hi=11;function lo(s){return Array.isArray(s)&&"object"==typeof s[ud]}function kr(s){return Array.isArray(s)&&!0===s[ud]}function hd(s){return 0!=(4&s.flags)}function So(s){return s.componentOffset>-1}function Ta(s){return 1==(1&s.flags)}function co(s){return!!s.template}function fd(s){return 0!=(512&s[xt])}function Os(s,a){return s.hasOwnProperty(Vt)?s[Vt]:null}const vd=Symbol("SIGNAL");function ui(s,a,u={}){return a[vd]=s,Object.assign(a,u)}function tm(s,a){return(null===s||"object"!=typeof s)&&Object.is(s,a)}let $b=mt.WeakRef??class tf{constructor(a){this.ref=a}deref(){return this.ref}},nf=0,$r=null,oa=!1;function ar(s){const a=$r;return $r=s,a}class $l{constructor(){this.id=nf++,this.ref=function Rs(s){return new $b(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,u]of this.producers){const d=u.producerNode.deref();if(void 0!==d&&u.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(a),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=oa;oa=!0;try{for(const[u,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),h?.producers.delete(this.id))}}finally{oa=a}}producerAccessed(){if(oa)throw new Error("");if(null===$r)return;let a=$r.producers.get(this.id);void 0===a?(a={consumerNode:$r.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$r.trackingVersion},$r.producers.set(this.id,a),this.consumers.set($r.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=$r.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==$r?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}function Qc(s,a){const u=new Mo(s,a?.equal??tm);return ui(u,u.signal.bind(u))}const Gl=Symbol("UNSET"),yd=Symbol("COMPUTING"),sa=Symbol("ERRORED");class Mo extends $l{constructor(a,u){super(),this.computation=a,this.equal=u,this.value=Gl,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Gl&&this.value!==yd&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===yd)throw new Error("Detected cycle in computations.");const a=this.value;this.value=yd,this.trackingVersion++;const u=ar(this);let d;try{d=this.computation()}catch(h){d=sa,this.error=h}finally{ar(u)}this.stale=!1,a!==Gl&&a!==sa&&d!==sa&&this.equal(a,d)?this.value=a:(this.value=d,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===sa)throw this.error;return this.value}}let bd=function Xc(){throw new Error};function Ia(){bd()}class rf extends $l{constructor(a,u){super(),this.value=a,this.equal=u,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(a){this.producerUpdatesAllowed||Ia(),this.equal(this.value,a)||(this.value=a,this.valueVersion++,this.producerMayHaveChanged())}update(a){this.producerUpdatesAllowed||Ia(),this.set(a(this.value))}mutate(a){this.producerUpdatesAllowed||Ia(),a(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=ui(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function nm(s,a){const u=new rf(s,a?.equal??tm);return ui(u,u.signal.bind(u),{set:u.set.bind(u),update:u.update.bind(u),mutate:u.mutate.bind(u),asReadonly:u.asReadonly.bind(u)})}const rm=()=>{};class lr extends $l{constructor(a,u,d){super(),this.watch=a,this.schedule=u,this.dirty=!1,this.cleanupFn=rm,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=ar(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=rm,this.watch(this.registerOnCleanup)}finally{ar(a)}}cleanup(){this.cleanupFn()}}class E_{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function il(){return om}function om(s){return s.type.prototype.ngOnChanges&&(s.setInput=sm),eu}function eu(){const s=wd(this),a=s?.current;if(a){const u=s.previous;if(u===fe)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function sm(s,a,u,d){const h=this.declaredInputs[u],p=wd(s)||function Yl(s,a){return s[ql]=a}(s,{previous:fe,current:null}),v=p.current||(p.current={}),w=p.previous,x=w[h];v[h]=new E_(x&&x.currentValue,a,w===fe),s[d]=a}il.ngInherit=!0;const ql="__ngSimpleChanges__";function wd(s){return s[ql]||null}const ys=function(s,a,u){},Dd="svg";function di(s){for(;Array.isArray(s);)s=s[rt];return s}function Kl(s,a){return di(a[s])}function Or(s,a){return di(a[s.index])}function iu(s,a){return s.data[a]}function Zl(s,a){return s[a]}function Rr(s,a){const u=a[s];return lo(u)?u:u[rt]}function Ql(s){return 128==(128&s[xt])}function Qo(s,a){return null==a?null:s[a]}function am(s){s[ia]=0}function ou(s){1024&s[xt]||(s[xt]|=1024,lm(s,1))}function Td(s){1024&s[xt]&&(s[xt]&=-1025,lm(s,-1))}function lm(s,a){let u=s[en];if(null===u)return;u[Dn]+=a;let d=u;for(u=u[en];null!==u&&(1===a&&1===d[Dn]||-1===a&&0===d[Dn]);)u[Dn]+=a,d=u,u=u[en]}function Id(s,a){if(256==(256&s[xt]))throw new we(911,!1);null===s[Ms]&&(s[Ms]=[]),s[Ms].push(a)}const Kt={lFrame:sl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lu(){return Kt.bindingsEnabled}function aa(){return null!==Kt.skipHydrationRootTNode}function Ye(){return Kt.lFrame.lView}function fn(){return Kt.lFrame.tView}function tc(s){return Kt.lFrame.contextLView=s,s[Ln]}function af(s){return Kt.lFrame.contextLView=null,s}function Dr(){let s=cu();for(;null!==s&&64===s.type;)s=s.parent;return s}function cu(){return Kt.lFrame.currentTNode}function uo(s,a){const u=Kt.lFrame;u.currentTNode=s,u.isParent=a}function nc(){return Kt.lFrame.isParent}function ic(){Kt.lFrame.isParent=!1}function Gr(){const s=Kt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ps(){return Kt.lFrame.bindingIndex++}function kd(s,a){const u=Kt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Od(a)}function Od(s){Kt.lFrame.currentDirectiveIndex=s}function $i(s){const a=Kt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function du(){return Kt.lFrame.currentQueryIndex}function Ns(s){Kt.lFrame.currentQueryIndex=s}function rc(s){const a=s[qe];return 2===a.type?a.declTNode:1===a.type?s[Rn]:null}function dm(s,a,u){if(u&kt.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||u&kt.Host||(h=rc(p),null===h||(p=p[el],10&h.type))););if(null===h)return!1;a=h,s=p}const d=Kt.lFrame=cf();return d.currentTNode=a,d.lView=s,!0}function oc(s){const a=cf(),u=s[qe];Kt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function cf(){const s=Kt.lFrame,a=null===s?null:s.child;return null===a?sl(s):a}function sl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Rd(){const s=Kt.lFrame;return Kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Sa=Rd;function Xo(){const s=Rd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Cr(){return Kt.lFrame.selectedIndex}function Fs(s){Kt.lFrame.selectedIndex=s}function Ti(){const s=Kt.lFrame;return iu(s.tView,s.selectedIndex)}function uf(){Kt.lFrame.currentNamespace=Dd}function df(){!function hf(){Kt.lFrame.currentNamespace=null}()}let Pd=!0;function fu(){return Pd}function Ls(s){Pd=s}function Nd(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:M,ngOnDestroy:P}=p;v&&(s.contentHooks??=[]).push(-u,v),w&&((s.contentHooks??=[]).push(u,w),(s.contentCheckHooks??=[]).push(u,w)),x&&(s.viewHooks??=[]).push(-u,x),M&&((s.viewHooks??=[]).push(u,M),(s.viewCheckHooks??=[]).push(u,M)),null!=P&&(s.destroyHooks??=[]).push(u,P)}}function Fd(s,a,u){Ld(s,a,3,u)}function al(s,a,u,d){(3&s[xt])===u&&Ld(s,a,u,d)}function pu(s,a){let u=s[xt];(3&u)===a&&(u&=4095,u+=1,s[xt]=u)}function Ld(s,a,u,d){const p=d??-1,v=a.length-1;let w=0;for(let x=void 0!==d?65535&s[ia]:0;x<v;x++)if("number"==typeof a[x+1]){if(w=a[x],null!=d&&w>=d)break}else a[x]<0&&(s[ia]+=65536),(w<p||-1==p)&&(mf(s,u,a,x),s[ia]=(4294901760&s[ia])+x+2),x++}function pf(s,a){ys(4,s,a);const u=ar(null);try{a.call(s)}finally{ar(u),ys(5,s,a)}}function mf(s,a,u,d){const h=u[d]<0,p=u[d+1],w=s[h?-u[d]:u[d]];h?s[xt]>>12<s[ia]>>16&&(3&s[xt])===a&&(s[xt]+=4096,pf(w,p)):pf(w,p)}const sc=-1;class ll{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Gi(s){return s!==sc}function cn(s){return 32767&s}function Wi(s,a){let u=function cr(s){return s>>16}(s),d=a;for(;u>0;)d=d[el],u--;return d}let Jo=!0;function cl(s){const a=Jo;return Jo=s,a}const Ft=255,Wr=5;let es=0;const ts={};function qr(s,a){const u=Zt(s,a);if(-1!==u)return u;const d=a[qe];d.firstCreatePass&&(s.injectorIndex=a.length,Ma(d.data,s),Ma(a,null),Ma(d.blueprint,null));const h=ns(s,a),p=s.injectorIndex;if(Gi(h)){const v=cn(h),w=Wi(h,a),x=w[qe].data;for(let M=0;M<8;M++)a[p+M]=w[v+M]|x[v+M]}return a[p+8]=h,p}function Ma(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Zt(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ns(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=vf(h),null===d)return sc;if(u++,h=h[el],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return sc}function bi(s,a,u){!function ws(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Sn)&&(d=u[Sn]),null==d&&(d=u[Sn]=es++);const h=d&Ft;a.data[s+(h>>Wr)]|=1<<h}(s,a,u)}function ac(s,a,u){if(u&kt.Optional||void 0!==s)return s;Ge()}function qi(s,a,u,d){if(u&kt.Optional&&void 0===d&&(d=null),!(u&(kt.Self|kt.Host))){const h=s[ta],p=Qn(void 0);try{return h?h.get(a,d,u&kt.Optional):hn(a,d,u&kt.Optional)}finally{Qn(p)}}return ac(d,0,u)}function Bs(s,a,u,d=kt.Default,h){if(null!==s){if(2048&a[xt]&&!(d&kt.Self)){const v=function cc(s,a,u,d,h){let p=s,v=a;for(;null!==p&&null!==v&&2048&v[xt]&&!(512&v[xt]);){const w=mm(p,v,u,d|kt.Self,ts);if(w!==ts)return w;let x=p.parent;if(!x){const M=v[Xp];if(M){const P=M.get(u,ts,d);if(P!==ts)return P}x=vf(v),v=v[el]}p=x}return h}(s,a,u,d,ts);if(v!==ts)return v}const p=mm(s,a,u,d,ts);if(p!==ts)return p}return qi(a,u,d,h)}function mm(s,a,u,d,h){const p=function lc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Sn)?s[Sn]:void 0;return"number"==typeof a?a>=0?a&Ft:_f:a}(u);if("function"==typeof p){if(!dm(a,s,d))return d&kt.Host?ac(h,0,d):qi(a,u,d,h);try{const v=p(d);if(null!=v||d&kt.Optional)return v;Ge()}finally{Sa()}}else if("number"==typeof p){let v=null,w=Zt(s,a),x=sc,M=d&kt.Host?a[Bn][Rn]:null;for((-1===w||d&kt.SkipSelf)&&(x=-1===w?ns(s,a):a[w+8],x!==sc&&_m(d,!1)?(v=a[qe],w=cn(x),a=Wi(x,a)):w=-1);-1!==w;){const P=a[qe];if(gm(p,w,P.data)){const H=Pr(w,a,u,v,d,M);if(H!==ts)return H}x=a[w+8],x!==sc&&_m(d,a[qe].data[w+8]===M)&&gm(p,w,a)?(v=P,w=cn(x),a=Wi(x,a)):w=-1}}return h}function Pr(s,a,u,d,h,p){const v=a[qe],w=v.data[s+8],P=da(w,v,u,null==d?So(w)&&Jo:d!=v&&0!=(3&w.type),h&kt.Host&&p===w);return null!==P?is(a,v,P,w):ts}function da(s,a,u,d,h){const p=s.providerIndexes,v=a.data,w=1048575&p,x=s.directiveStart,P=p>>20,ue=h?w+P:s.directiveEnd;for(let ge=d?w:w+P;ge<ue;ge++){const ze=v[ge];if(ge<x&&u===ze||ge>=x&&ze.type===u)return ge}if(h){const ge=v[x];if(ge&&co(ge)&&ge.type===u)return x}return null}function is(s,a,u,d){let h=s[u];const p=a.data;if(function gf(s){return s instanceof ll}(h)){const v=h;v.resolving&&function Re(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Le(s)}(p[u]));const w=cl(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Qn(v.injectImpl):null;dm(s,d,kt.Default);try{h=s[u]=v.factory(void 0,p,s,d),a.firstCreatePass&&u>=d.directiveStart&&function ff(s,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const v=om(a);(u.preOrderHooks??=[]).push(s,v),(u.preOrderCheckHooks??=[]).push(s,v)}h&&(u.preOrderHooks??=[]).push(0-s,h),p&&((u.preOrderHooks??=[]).push(s,p),(u.preOrderCheckHooks??=[]).push(s,p))}(u,p[u],a)}finally{null!==x&&Qn(x),cl(w),v.resolving=!1,Sa()}}return h}function gm(s,a,u){return!!(u[a+(s>>Wr)]&1<<s)}function _m(s,a){return!(s&kt.Self||s&kt.Host&&a)}class ha{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return Bs(this._tNode,this._lView,a,ti(d),u)}}function _f(){return new ha(Dr(),Ye())}function Bd(s){return L(()=>{const a=s.prototype.constructor,u=a[Vt]||ul(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[Vt]||ul(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ul(s){return be(s)?()=>{const a=ul(q(s));return a&&a()}:Os(s)}function vf(s){const a=s[qe],u=a.type;return 2===u?a.declTNode:1===u?s[Rn]:null}function Vd(s){return function ua(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(Fe(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===a)return u[h+1];h+=2}}}return null}(Dr(),s)}const ka="__parameters__";function po(s,a,u){return L(()=>{const d=function hl(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const v=new h(...p);return w.annotation=v,w;function w(x,M,P){const H=x.hasOwnProperty(ka)?x[ka]:Object.defineProperty(x,ka,{value:[]})[ka];for(;H.length<=P;)H.push(null);return(H[P]=H[P]||[]).push(v),x}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function rs(s,a){s.forEach(u=>Array.isArray(u)?rs(u,a):a(u))}function vu(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function fc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Us(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function T(s,a,u){let d=j(s,a);return d>=0?s[1|d]=u:(d=~d,function Dm(s,a,u,d){let h=s.length;if(h==a)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function O(s,a){const u=j(s,a);if(u>=0)return s[1|u]}function j(s,a){return function me(s,a,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),v=s[p<<u];if(a===v)return p<<u;v>a?h=p:d=p+1}return~(h<<u)}(s,a,1)}const ml=Vi(po("Inject",s=>({token:s})),-1),gl=Vi(po("Optional"),8),Nr=Vi(po("SkipSelf"),4);function ur(s){return 128==(128&s.flags)}var oi=(()=>((oi=oi||{})[oi.Important=1]="Important",oi[oi.DashCase=2]="DashCase",oi))();const bl=/^>|^->|<!--|-->|--!>|<!-$/g,Im=/(<|>)/,O_="\u200b$1\u200b";const P_=new Map;let Oo=0;const N_="__ngContext__";function Yr(s,a){lo(a)?(s[N_]=a[Ss],function Am(s){P_.set(s[Ss],s)}(a)):s[N_]=a}let e0;function Hd(s,a){return e0(s,a)}function km(s){const a=s[en];return kr(a)?a[en]:a}function n0(s){return r0(s[Io])}function V_(s){return r0(s[ni])}function r0(s){for(;null!==s&&!kr(s);)s=s[ni];return s}function zd(s,a,u,d,h){if(null!=d){let p,v=!1;kr(d)?p=d:lo(d)&&(v=!0,d=d[rt]);const w=di(d);0===s&&null!==u?null==h?z_(a,u,w):Dl(a,u,w,h||null,!0):1===s&&null!==u?Dl(a,u,w,h||null,!0):2===s?function Sf(s,a,u){const d=Pm(s,a);d&&function CS(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}(a,w,v):3===s&&a.destroyNode(w),null!=p&&function gE(s,a,u,d,h){const p=u[ra];p!==di(u)&&zd(a,s,d,p,h);for(let w=Hi;w<u.length;w++){const x=u[w];gc(x[qe],x,s,a,d,p)}}(a,s,p,u,h)}}function Om(s,a){return s.createComment(function R_(s){return s.replace(bl,a=>a.replace(Im,O_))}(a))}function If(s,a,u){return s.createElement(a,u)}function j_(s,a){const u=s[ao],d=u.indexOf(a);Td(a),u.splice(d,1)}function H_(s,a){if(s.length<=Hi)return;const u=Hi+a,d=s[u];if(d){const h=d[Vl];null!==h&&h!==s&&j_(h,d),a>0&&(s[u-1][ni]=d[ni]);const p=fc(s,Hi+a);!function o0(s,a){gc(s,a,a[Jt],2,null,null),a[rt]=null,a[Rn]=null}(d[qe],d);const v=p[Ao];null!==v&&v.detachView(p[qe]),d[en]=null,d[ni]=null,d[xt]&=-129}return d}function dE(s,a){if(!(256&a[xt])){const u=a[Jt];a[Ul]?.destroy(),a[tl]?.destroy(),u.destroyNode&&gc(s,a,u,3,null,null),function DS(s){let a=s[Io];if(!a)return Rm(s[qe],s);for(;a;){let u=null;if(lo(a))u=a[Io];else{const d=a[Hi];d&&(u=d)}if(!u){for(;a&&!a[ni]&&a!==s;)lo(a)&&Rm(a[qe],a),a=a[en];null===a&&(a=s),lo(a)&&Rm(a[qe],a),u=a&&a[ni]}a=u}}(a)}}function Rm(s,a){if(!(256&a[xt])){a[xt]&=-129,a[xt]|=256,function a0(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof ll)){const p=u[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=h[p[v]],x=p[v+1];ys(4,w,x);try{x.call(w)}finally{ys(5,w,x)}}else{ys(4,h,p);try{p.call(h)}finally{ys(5,h,p)}}}}}(s,a),function s0(s,a){const u=s.cleanup,d=a[gs];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const v=u[p+3];v>=0?d[v]():d[-v].unsubscribe(),p+=2}else u[p].call(d[u[p+1]]);null!==d&&(a[gs]=null);const h=a[Ms];if(null!==h){a[Ms]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[qe].type&&a[Jt].destroy();const u=a[Vl];if(null!==u&&kr(a[en])){u!==a[en]&&j_(u,a);const d=a[Ao];null!==d&&d.detachView(s)}!function wl(s){P_.delete(s[Ss])}(a)}}function xr(s,a,u){return function Kr(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[rt];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===N.None||p===N.Emulated)return null}return Or(d,u)}}(s,a.parent,u)}function Dl(s,a,u,d,h){s.insertBefore(a,u,d,h)}function z_(s,a,u){s.appendChild(a,u)}function hE(s,a,u,d,h){null!==d?Dl(s,a,u,d,h):z_(s,a,u)}function Pm(s,a){return s.parentNode(a)}function fE(s,a,u){return Af(s,a,u)}let Gd,Y_,xu,Af=function pE(s,a,u){return 40&s.type?Or(s,u):null};function Nm(s,a,u,d){const h=xr(s,d,a),p=a[Jt],w=fE(d.parent||a[Rn],d,a);if(null!=h)if(Array.isArray(u))for(let x=0;x<u.length;x++)hE(p,h,u[x],w,!1);else hE(p,h,u,w,!1);void 0!==Gd&&Gd(p,d,a,u,h)}function Fm(s,a){if(null!==a){const u=a.type;if(3&u)return Or(a,s);if(4&u)return Bm(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return Fm(s,d);{const h=s[a.index];return kr(h)?Bm(-1,h):di(h)}}if(32&u)return Hd(a,s)()||di(s[a.index]);{const d=Lm(s,a);return null!==d?Array.isArray(d)?d[0]:Fm(km(s[Bn]),d):Fm(s,a.next)}}return null}function Lm(s,a){return null!==a?s[Bn][Rn].projection[a.projection]:null}function Bm(s,a){const u=Hi+s+1;if(u<a.length){const d=a[u],h=d[qe].firstChild;if(null!==h)return Fm(d,h)}return a[ra]}function c0(s,a,u,d,h,p,v){for(;null!=u;){const w=d[u.index],x=u.type;if(v&&0===a&&(w&&Yr(di(w),d),u.flags|=2),32!=(32&u.flags))if(8&x)c0(s,a,u.child,d,h,p,!1),zd(a,s,h,w,p);else if(32&x){const M=Hd(u,d);let P;for(;P=M();)zd(a,s,h,P,p);zd(a,s,h,w,p)}else 16&x?u0(s,a,d,u,h,p):zd(a,s,h,w,p);u=v?u.projectionNext:u.next}}function gc(s,a,u,d,h,p){c0(u,d,s.firstChild,a,h,p,!1)}function u0(s,a,u,d,h,p){const v=u[Bn],x=v[Rn].projection[d.projection];if(Array.isArray(x))for(let M=0;M<x.length;M++)zd(a,s,h,x[M],p);else{let M=x;const P=v[en];ur(d)&&(M.flags|=128),c0(s,a,M,P,h,p,!0)}}function _E(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Wd(s,a,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&oo(s,a,d),null!==h&&_E(s,a,h),null!==p&&function xS(s,a,u){s.setAttribute(a,"style",u)}(s,a,p)}function ss(s){Y_=s}function f0(s){return function kf(){if(void 0===xu&&(xu=null,mt.trustedTypes))try{xu=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xu}()?.createScriptURL(s)||s}class p0{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function ga(s){return s instanceof p0?s.changingThisBreaksApplicationSecurity:s}function Of(s,a){const u=function IS(s){return s instanceof p0&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${lt})`)}return u===a}const Q_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ki=(()=>((Ki=Ki||{})[Ki.NONE=0]="NONE",Ki[Ki.HTML=1]="HTML",Ki[Ki.STYLE=2]="STYLE",Ki[Ki.SCRIPT=3]="SCRIPT",Ki[Ki.URL=4]="URL",Ki[Ki.RESOURCE_URL=5]="RESOURCE_URL",Ki))();function ev(s){const a=Kd();return a?a.sanitize(Ki.URL,s)||"":Of(s,"URL")?ga(s):function qd(s){return(s=String(s)).match(Q_)?s:"unsafe:"+s}(Le(s))}function E0(s){const a=Kd();if(a)return f0(a.sanitize(Ki.RESOURCE_URL,s)||"");if(Of(s,"ResourceURL"))return f0(ga(s));throw new we(904,!1)}function TE(s,a,u){return function xE(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?E0:ev}(a,u)(s)}function Kd(){const s=Ye();return s&&s[na].sanitizer}class Vn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ff=new Vn("ENVIRONMENT_INITIALIZER"),x0=new Vn("INJECTOR",-1),IE=new Vn("INJECTOR_DEF_TYPES");class AE{get(a,u=Xn){if(u===Xn){const d=new Error(`NullInjectorError: No provider for ${se(a)}!`);throw d.name="NullInjectorError",d}return u}}function T0(s){return{\u0275providers:s}}function US(...s){return{\u0275providers:$m(0,s),\u0275fromNgModule:!0}}function $m(s,...a){const u=[],d=new Set;let h;return rs(a,p=>{const v=p;Bf(v,u,[],d)&&(h||=[],h.push(v))}),void 0!==h&&Lf(h,u),u}function Lf(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];tv(h,p=>{a.push(p)})}}function Bf(s,a,u,d){if(!(s=q(s)))return!1;let h=null,p=Oi(s);const v=!p&&gn(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const x=s.ngModule;if(p=Oi(x),!p)return!1;h=x}const w=d.has(h);if(v){if(w)return!1;if(d.add(h),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of x)Bf(M,a,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let M;d.add(h);try{rs(p.imports,P=>{Bf(P,a,u,d)&&(M||=[],M.push(P))})}finally{}void 0!==M&&Lf(M,a)}if(!w){const M=Os(h)||(()=>new h);a.push({provide:h,useFactory:M,deps:De},{provide:IE,useValue:h,multi:!0},{provide:Ff,useValue:()=>pn(h),multi:!0})}const x=p.providers;null==x||w||tv(x,P=>{a.push(P)})}}return h!==s&&void 0!==s.providers}function tv(s,a){for(let u of s)Ae(u)&&(u=u.\u0275providers),Array.isArray(u)?tv(u,a):a(u)}const Gm=Q({provide:String,useValue:Q});function Zd(s){return null!==s&&"object"==typeof s&&Gm in s}function Iu(s){return"function"==typeof s}const I0=new Vn("Set Injector scope."),nv={},kE={};let iv;function Wm(){return void 0===iv&&(iv=new AE),iv}class Cl{}class rv extends Cl{get destroyed(){return this._destroyed}constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vf(a,v=>this.processProvider(v)),this.records.set(x0,Au(void 0,this)),h.has("environment")&&this.records.set(Cl,Au(void 0,this));const p=this.records.get(I0);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(IE.multi,De,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const u=ei(this),d=Qn(void 0);try{return a()}finally{ei(u),Qn(d)}}get(a,u=Xn,d=kt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(sn))return a[sn](this);d=ti(d);const h=ei(this),p=Qn(void 0);try{if(!(d&kt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const x=function S0(s){return"function"==typeof s||"object"==typeof s&&s instanceof Vn}(a)&&mn(a);w=x&&this.injectableDefInScope(x)?Au(_a(a),nv):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&kt.Self?Wm():this.parent).get(a,u=d&kt.Optional&&u===Xn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Bi]=v[Bi]||[]).unshift(se(a)),h)throw v;return function te(s,a,u,d){const h=s[Bi];throw a[mi]&&h.unshift(a[mi]),s.message=function J(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=se(a);if(Array.isArray(a))h=a.map(se).join(" -> ");else if("object"==typeof a){let p=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):se(w)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Ar,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[Bi]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{Qn(p),ei(h)}}resolveInjectorInitializers(){const a=ei(this),u=Qn(void 0);try{const d=this.get(Ff.multi,De,kt.Self);for(const h of d)h()}finally{ei(a),Qn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(se(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let u=Iu(a=q(a))?a:q(a&&a.provide);const d=function HS(s){return Zd(s)?Au(void 0,s.useValue):Au(A0(s),nv)}(a);if(Iu(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Au(void 0,nv,!0),h.factory=()=>Sr(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===nv&&(u.value=kE,u.value=u.factory()),"object"==typeof u.value&&u.value&&function RE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=q(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(a){const u=this._onDestroyHooks.indexOf(a);-1!==u&&this._onDestroyHooks.splice(u,1)}}function _a(s){const a=mn(s),u=null!==a?a.factory:Os(s);if(null!==u)return u;if(s instanceof Vn)throw new we(204,!1);if(s instanceof Function)return function OE(s){const a=s.length;if(a>0)throw Us(a,"?"),new we(204,!1);const u=function Li(s){return s&&(s[Fn]||s[Yo])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new we(204,!1)}function A0(s,a,u){let d;if(Iu(s)){const h=q(s);return Os(h)||_a(h)}if(Zd(s))d=()=>q(s.useValue);else if(function nr(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Sr(s.deps||[]));else if(function ME(s){return!(!s||!s.useExisting)}(s))d=()=>pn(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function qm(s){return!!s.deps}(s))return Os(h)||_a(h);d=()=>new h(...Sr(s.deps))}return d}function Au(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Vf(s,a){for(const u of s)Array.isArray(u)?Vf(u,a):u&&Ae(u)?Vf(u.\u0275providers,a):a(u)}const M0=new Vn("AppId",{providedIn:"root",factory:()=>ov}),ov="ng",PE=new Vn("Platform Initializer"),sv=new Vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NE=new Vn("AnimationModuleType"),FE=new Vn("CSP nonce",{providedIn:"root",factory:()=>function Mf(){if(void 0!==Y_)return Y_;if(typeof document<"u")return document;throw new we(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let si=(s,a)=>null;function Fa(s,a){return si(s,a)}class hv{}class F0{}class L0{resolveComponentFactory(a){throw function $f(s){const a=Error(`No component factory found for ${se(s)}.`);return a.ngComponent=s,a}(a)}}let Zm=(()=>{class s{}return s.NULL=new L0,s})();function GS(){return Jd(Dr(),Ye())}function Jd(s,a){return new Qm(Or(s,a))}let Qm=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=GS,s})();function fv(s){return s instanceof Qm?s.nativeElement:s}class HE{}let WS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Gf(){const s=Ye(),u=Rr(Dr().index,s);return(lo(u)?u:s)[Jt]}(),s})(),zE=(()=>{class s{}return s.\u0275prov=nt({token:s,providedIn:"root",factory:()=>null}),s})();class Lr{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const eh=new Lr("16.0.3"),El={};function th(s){for(;s;){s[xt]|=64;const a=km(s);if(fd(s)&&!a)return s;s=a}return null}function ir(s){return s.ngOriginalError}class vo{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&ir(a);for(;u&&ir(u);)u=ir(u);return u||null}}const Bt=new Vn("",{providedIn:"root",factory:()=>!1});function yc(s){return s instanceof Function?s():s}class nh extends $l{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){th(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,u,d){const h=ar(this);this.trackingVersion++;try{a(u,d)}finally{ar(h)}}destroy(){this.trackingVersion++}}let Xm=null;function Ai(){return Xm??=new nh,Xm}function Ut(s,a){return s[a]??Ai()}function Yf(s,a){const u=Ai();u.hasReadASignal&&(s[a]=Xm,u.lView=s,Xm=new nh)}const Dt={};function ZE(s){rr(fn(),Ye(),Cr()+s,!1)}function rr(s,a,u,d){if(!d)if(3==(3&a[xt])){const p=s.preOrderCheckHooks;null!==p&&Fd(a,p,u)}else{const p=s.preOrderHooks;null!==p&&al(a,p,0,u)}Fs(u)}function Jm(s){if(!er()&&!function To(){return tr}())throw new we(-203,!1)}function mv(s,a=null,u=null,d){const h=V0(s,a,u,d);return h.resolveInjectorInitializers(),h}function V0(s,a=null,u=null,d,h=new Set){const p=[u||De,US(s)];return d=d||("object"==typeof s?void 0:se(s)),new rv(p,a||Wm(),d||null,h)}let bc=(()=>{class s{static create(u,d){if(Array.isArray(u))return mv({name:""},d,u,"");{const h=u.name??"";return mv({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Xn,s.NULL=new AE,s.\u0275prov=nt({token:s,providedIn:"any",factory:()=>pn(x0)}),s.__NG_ELEMENT_ID__=-1,s})();function Hs(s,a=kt.Default){const u=Ye();return null===u?pn(s,a):Bs(Dr(),u,q(s),a)}function gv(){throw new Error("invalid")}function rh(s,a,u,d,h,p,v,w,x,M,P){const H=a.blueprint.slice();return H[rt]=h,H[xt]=140|d,(null!==M||s&&2048&s[xt])&&(H[xt]|=2048),am(H),H[en]=H[el]=s,H[Ln]=u,H[na]=v||s&&s[na],H[Jt]=w||s&&s[Jt],H[ta]=x||s&&s[ta]||null,H[Rn]=p,H[Ss]=function yS(){return Oo++}(),H[mr]=P,H[Xp]=M,H[Bn]=2==a.type?s[Bn]:H,H}function Ro(s,a,u,d,h){let p=s.data[a];if(null===p)p=function U0(s,a,u,d,h){const p=cu(),v=nc(),x=s.data[a]=function ex(s,a,u,d,h,p){let v=a?a.injectorIndex:-1,w=0;return aa()&&(w|=128),{type:u,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,u,a,d,h);return null===s.firstChild&&(s.firstChild=x),null!==p&&(v?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x,x.prev=p)),x}(s,a,u,d,h),function Md(){return Kt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const v=function ol(){const s=Kt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return uo(p,!0),p}function wc(s,a,u,d){if(0===u)return-1;const h=a.length;for(let p=0;p<u;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Dc(s,a,u,d,h){const p=Ut(a,Ul),v=Cr(),w=2&d;try{if(Fs(-1),w&&a.length>nn&&rr(s,a,nn,!1),ys(w?2:0,h),w)p.runInContext(u,d,h);else{const M=ar(null);try{u(d,h)}finally{ar(M)}}}finally{w&&null===a[Ul]&&Yf(a,Ul),Fs(v),ys(w?3:1,h)}}function j0(s,a,u){if(hd(a)){const d=ar(null);try{const p=a.directiveEnd;for(let v=a.directiveStart;v<p;v++){const w=s.data[v];w.contentQueries&&w.contentQueries(1,u[v],v)}}finally{ar(d)}}}function Cc(s,a,u){lu()&&(function nM(s,a,u,d){const h=u.directiveStart,p=u.directiveEnd;So(u)&&function ox(s,a,u){const d=Or(a,s),v=hi(s,rh(s,vv(u),null,u.onPush?64:16,d,a,null,s[na].rendererFactory.createRenderer(d,u),null,null,null));s[a.index]=v}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||qr(u,a),Yr(d,a);const v=u.initialInputs;for(let w=h;w<p;w++){const x=s.data[w],M=is(a,s,w,u);Yr(M,a),null!==v&&q0(0,w-h,M,x,0,v),co(x)&&(Rr(u.index,a)[Ln]=is(a,s,w,u))}}(s,a,u,Or(u,a)),64==(64&u.flags)&&ix(s,a,u))}function _v(s,a,u=Or){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],w=-1===v?u(a,s):s[v];s[h++]=w}}}function vv(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=H0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function H0(s,a,u,d,h,p,v,w,x,M,P){const H=nn+d,ue=H+h,ge=function ZS(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:Dt);return u}(H,ue),ze="function"==typeof M?M():M;return ge[qe]={type:s,blueprint:ge,template:u,queries:null,viewQuery:w,declTNode:a,data:ge.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:ze,incompleteFirstPass:!1,ssrId:P}}let Zf=s=>null;function Ba(s,a,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?z0(u,a,h,p):d.hasOwnProperty(h)&&z0(u,a,d[h],p)}return u}function z0(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function $s(s,a,u,d,h,p,v,w){const x=Or(a,u);let P,M=a.inputs;!w&&null!=M&&(P=M[d])?(bv(s,u,P,d,h),So(a)&&function XS(s,a){const u=Rr(a,s);16&u[xt]||(u[xt]|=64)}(u,a.index)):3&a.type&&(d=function tx(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,a.value||"",d):h,p.setProperty(x,d,h))}function $0(s,a,u,d){if(lu()){const h=null===d?null:{"":-1},p=function rM(s,a){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const v=u[p];if(Xs(a,v.selectors,!1))if(d||(d=[]),co(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),d.unshift(...w,v),G0(s,a,w.length)}else d.unshift(v),G0(s,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,u);let v,w;null===p?v=w=null:[v,w]=p,null!==v&&nx(s,a,u,v,h,w),h&&function oM(s,a,u){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=u[a[h+1]];if(null==p)throw new we(-301,!1);d.push(a[h],p)}}}(u,d,h)}u.mergedAttrs=tt(u.mergedAttrs,u.attrs)}function nx(s,a,u,d,h,p){for(let M=0;M<d.length;M++)bi(qr(u,a),s,d[M].type);!function rx(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let M=0;M<d.length;M++){const P=d[M];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,x=wc(s,a,d.length,null);for(let M=0;M<d.length;M++){const P=d[M];u.mergedAttrs=tt(u.mergedAttrs,P.hostAttrs),aM(s,u,a,x,P),sM(x,P,h),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const H=P.type.prototype;!v&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),v=!0),!w&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),w=!0),x++}!function yv(s,a,u){const h=a.directiveEnd,p=s.data,v=a.attrs,w=[];let x=null,M=null;for(let P=a.directiveStart;P<h;P++){const H=p[P],ue=u?u.get(H):null,ze=ue?ue.outputs:null;x=Ba(H.inputs,P,x,ue?ue.inputs:null),M=Ba(H.outputs,P,M,ze);const ot=null===x||null===v||En(a)?null:sx(x,P,v);w.push(ot)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=8),x.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=x,a.outputs=M}(s,u,p)}function ix(s,a,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,v=function zi(){return Kt.lFrame.currentDirectiveIndex}();try{Fs(p);for(let w=d;w<h;w++){const x=s.data[w],M=a[w];Od(w),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&iM(x,M)}}finally{Fs(-1),Od(v)}}function iM(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function G0(s,a,u){a.componentOffset=u,(s.components??=[]).push(a.index)}function sM(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;co(a)&&(u[""]=s)}}function aM(s,a,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=Os(h.type)),v=new ll(p,co(h),Hs);s.blueprint[d]=v,u[d]=v,function eM(s,a,u,d,h){const p=h.hostBindings;if(p){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const w=~a.index;(function tM(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=w&&v.push(w),v.push(u,d,p)}}(s,a,d,wc(s,u,h.hostVars,Dt),h)}function Va(s,a,u,d,h,p){const v=Or(s,a);!function W0(s,a,u,d,h,p,v){if(null==p)s.removeAttribute(a,h,u);else{const w=null==v?Le(p):v(p,d||"",h);s.setAttribute(a,h,w,u)}}(a[Jt],v,p,s.value,u,d,h)}function q0(s,a,u,d,h,p){const v=p[a];if(null!==v)for(let w=0;w<v.length;)Vr(d,u,v[w++],v[w++],v[w++])}function Vr(s,a,u,d,h){const p=ar(null);try{null!==s.setInput?s.setInput(a,h,u,d):a[d]=h}finally{ar(p)}}function sx(s,a,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const v=s[p];for(let w=0;w<v.length;w+=2)if(v[w]===a){d.push(p,v[w+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Ec(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null,null]}function Y0(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const v=s.data[p];Ns(u[d]),v.contentQueries(2,a[p],p)}}}function hi(s,a){return s[Io]?s[xa][ni]=a:s[Io]=a,s[xa]=a,a}function Qf(s,a,u){Ns(0);const d=ar(null);try{a(s,u)}finally{ar(d)}}function Si(s){return s[gs]||(s[gs]=[])}function K0(s){return s.cleanup||(s.cleanup=[])}function oh(s,a,u){return(null===s||co(s))&&(u=function Ed(s){for(;Array.isArray(s);){if("object"==typeof s[ud])return s;s=s[rt]}return null}(u[a.index])),u[Jt]}function ls(s,a){const u=s[ta],d=u?u.get(vo,null):null;d&&d.handleError(a)}function bv(s,a,u,d,h){for(let p=0;p<u.length;){const v=u[p++],w=u[p++];Vr(s.data[v],a[v],d,w,h)}}function Ur(s,a){const u=Rr(a,s),d=u[qe];!function lM(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])}(d,u);const h=u[rt];null!==h&&null===u[mr]&&(u[mr]=Fa(h,u[ta])),xl(d,u,u[Ln])}function xl(s,a,u){oc(a);try{const d=s.viewQuery;null!==d&&Qf(1,d,u);const h=s.template;null!==h&&Dc(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Y0(s,a),s.staticViewQueries&&Qf(2,s.viewQuery,u);const p=s.components;null!==p&&function dr(s,a){for(let u=0;u<a.length;u++)Ur(s,a[u])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[xt]&=-5,Xo()}}let Ua=(()=>{class s{}return s.__NG_ELEMENT_ID__=Dv,s.__NG_ENV_ID__=a=>a,s})();class wv extends Ua{constructor(a){super(),this._lView=a}onDestroy(a){return Id(this._lView,a),()=>function sf(s,a){if(null===s[Ms])return;const u=s[Ms].indexOf(a);-1!==u&&s[Ms].splice(u,1)}(this._lView,a)}}function Dv(){return new wv(Ye())}let Xf=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(u,d,h){const p=typeof Zone>"u"?null:Zone.current,v=new lr(u,M=>{this.all.has(M)&&this.queue.set(M,p)},h);let w;this.all.add(v),v.notify();const x=()=>{v.cleanup(),w?.(),this.all.delete(v),this.queue.delete(v)};return w=d?.onDestroy(x),{destroy:x}}flush(){if(0!==this.queue.size)for(const[u,d]of this.queue)this.queue.delete(u),d?d.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:()=>new s}),s})();function ja(s,a,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?p=w:1==p?h=ee(h,w):2==p&&(d=ee(d,w+": "+a[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function ya(s,a,u,d,h=!1){for(;null!==u;){const p=a[u.index];if(null!==p&&d.push(di(p)),kr(p)){for(let w=Hi;w<p.length;w++){const x=p[w],M=x[qe].firstChild;null!==M&&ya(x[qe],x,M,d)}p[ra]!==p[rt]&&d.push(p[ra])}const v=u.type;if(8&v)ya(s,a,u.child,d);else if(32&v){const w=Hd(u,a);let x;for(;x=w();)d.push(x)}else if(16&v){const w=Lm(a,u);if(Array.isArray(w))d.push(...w);else{const x=km(a[Bn]);ya(x[qe],x,w,d,!0)}}u=h?u.projectionNext:u.next}return d}function sh(s,a,u,d=!0){const h=a[na].rendererFactory;h.begin&&h.begin();try{Mu(s,a,s.template,u)}catch(v){throw d&&ls(a,v),v}finally{h.end&&h.end(),a[na].effectManager?.flush()}}function Mu(s,a,u,d){const h=a[xt];if(256!=(256&h)){a[na].effectManager?.flush(),oc(a);try{am(a),function uu(s){return Kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Dc(s,a,u,2,d);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Fd(a,M,null)}else{const M=s.preOrderHooks;null!==M&&al(a,M,0,null),pu(a,0)}if(function ax(s){for(let a=n0(s);null!==a;a=V_(a)){if(!a[ks])continue;const u=a[ao];for(let d=0;d<u.length;d++){ou(u[d])}}}(a),function ku(s){for(let a=n0(s);null!==a;a=V_(a))for(let u=Hi;u<a.length;u++){const d=a[u],h=d[qe];Ql(d)&&Mu(h,d,h.template,d[Ln])}}(a),null!==s.contentQueries&&Y0(s,a),v){const M=s.contentCheckHooks;null!==M&&Fd(a,M)}else{const M=s.contentHooks;null!==M&&al(a,M,1),pu(a,1)}!function Ce(s,a){const u=s.hostBindingOpCodes;if(null===u)return;const d=Ut(a,tl);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Fs(~p);else{const v=p,w=u[++h],x=u[++h];kd(w,v),d.runInContext(x,2,a[v])}}}finally{null===a[tl]&&Yf(a,tl),Fs(-1)}}(s,a);const w=s.components;null!==w&&function Cv(s,a){for(let u=0;u<a.length;u++)Jf(s,a[u])}(a,w);const x=s.viewQuery;if(null!==x&&Qf(2,x,d),v){const M=s.viewCheckHooks;null!==M&&Fd(a,M)}else{const M=s.viewHooks;null!==M&&al(a,M,2),pu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[xt]&=-73,Td(a)}finally{Xo()}}}function Jf(s,a){const u=Rr(a,s);if(Ql(u)){const d=u[qe];80&u[xt]?Mu(d,u,d.template,u[Ln]):u[Dn]>0&&ng(u)}}function ng(s){for(let d=n0(s);null!==d;d=V_(d))for(let h=Hi;h<d.length;h++){const p=d[h];if(Ql(p))if(1024&p[xt]){const v=p[qe];Mu(v,p,v.template,p[Ln])}else p[Dn]>0&&ng(p)}const u=s[qe].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Rr(u[d],s);Ql(h)&&h[Dn]>0&&ng(h)}}class Ha{get rootNodes(){const a=this._lView,u=a[qe];return ya(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(a){this._lView[Ln]=a}get destroyed(){return 256==(256&this._lView[xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[en];if(kr(a)){const u=a[jl],d=u?u.indexOf(this):-1;d>-1&&(H_(a,d),fc(u,d))}this._attachedToViewContainer=!1}dE(this._lView[qe],this._lView)}onDestroy(a){Id(this._lView,a)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[xt]&=-129}reattach(){this._lView[xt]|=128}detectChanges(){sh(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lE(s,a){gc(s,a,a[Jt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class Z0 extends Ha{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;sh(a[qe],a,a[Ln],!1)}checkNoChanges(){}get context(){return null}}class ep extends Zm{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=gn(a);return new Tc(u,this.ngModule)}}function Q0(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class Ev{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=ti(d);const h=this.injector.get(a,El,d);return h!==El||u===El?h:this.parentInjector.get(a,u,d)}}class Tc extends F0{get inputs(){return Q0(this.componentDef.inputs)}get outputs(){return Q0(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function gi(s){return s.map(As).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,h){let p=(h=h||this.ngModule)instanceof Cl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Ev(a,p):a,w=v.get(HE,null);if(null===w)throw new we(407,!1);const P={rendererFactory:w,sanitizer:v.get(zE,null),effectManager:v.get(Xf,null)},H=w.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",ge=d?function zs(s,a,u,d){const p=d.get(Bt,!1)||u===N.ShadowDom,v=s.selectRootElement(a,p);return function tg(s){Zf(s)}(v),v}(H,d,this.componentDef.encapsulation,v):If(H,ue,function lx(s){const a=s.toLowerCase();return"svg"===a?Dd:"math"===a?"math":null}(ue)),ze=this.componentDef.onPush?576:528,ot=H0(0,null,null,1,0,null,null,null,null,null,null),vt=rh(null,ot,null,ze,null,null,P,H,v,null,null);let jt,Je;oc(vt);try{const Yt=this.componentDef;let vn,ai=null;Yt.findHostDirectiveDefs?(vn=[],ai=new Map,Yt.findHostDirectiveDefs(Yt,vn,ai),vn.push(Yt)):vn=[Yt];const Gn=function uM(s,a){const u=s[qe],d=nn;return s[d]=a,Ro(u,d,2,"#host",null)}(vt,ge),FI=function ux(s,a,u,d,h,p,v){const w=h[qe];!function dx(s,a,u,d){for(const h of s)a.mergedAttrs=tt(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(ja(a,a.mergedAttrs,!0),null!==u&&Wd(d,u,a))}(d,s,a,v);let x=null;null!==a&&(x=Fa(a,h[ta]));const M=p.rendererFactory.createRenderer(a,u),P=rh(h,vv(u),null,u.onPush?64:16,h[s.index],s,p,M,null,null,x);return w.firstCreatePass&&G0(w,s,d.length-1),hi(h,P),h[s.index]=P}(Gn,ge,Yt,vn,vt,P,H);Je=iu(ot,nn),ge&&function hx(s,a,u,d){if(d)oo(s,u,["ng-version",eh.full]);else{const{attrs:h,classes:p}=function Kh(s){const a=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&u.push(p);else{if(!Ei(h))break;h=p}d++}return{attrs:a,classes:u}}(a.selectors[0]);h&&oo(s,u,h),p&&p.length>0&&_E(s,u,p.join(" "))}}(H,Yt,ge,d),void 0!==u&&function Pi(s,a,u){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(Je,this.ngContentSelectors,u),jt=function yo(s,a,u,d,h,p){const v=Dr(),w=h[qe],x=Or(v,h);nx(w,h,v,u,null,d);for(let P=0;P<u.length;P++)Yr(is(h,w,v.directiveStart+P,v),h);ix(w,h,v),x&&Yr(x,h);const M=is(h,w,v.directiveStart+v.componentOffset,v);if(s[Ln]=h[Ln]=M,null!==p)for(const P of p)P(M,a);return j0(w,v,s),M}(FI,Yt,vn,ai,vt,[Ou]),xl(ot,vt,null)}finally{Xo()}return new cx(this.componentType,jt,Jd(Je,vt),vt,Je)}}class cx extends hv{constructor(a,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new Z0(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),u))return;const p=this._rootLView;bv(p[qe],p,h,a,u),this.previousInputValues.set(a,u),th(Rr(this._tNode.index,p))}}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Ou(){const s=Dr();Nd(Ye()[qe],s)}function xv(s){let a=function X0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let h;if(co(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=J0(s.inputs),v.declaredInputs=J0(s.declaredInputs),v.outputs=J0(s.outputs);const w=h.hostBindings;w&&fi(s,w);const x=h.viewQuery,M=h.contentQueries;if(x&&fx(s,x),M&&Mn(s,M),oe(s.inputs,h.inputs),oe(s.declaredInputs,h.declaredInputs),oe(s.outputs,h.outputs),co(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(s),w===xv&&(u=!1)}}a=Object.getPrototypeOf(a)}!function tp(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=tt(h.hostAttrs,u=tt(u,h.hostAttrs))}}(d)}function J0(s){return s===fe?{}:s===De?[]:s}function fx(s,a){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function Mn(s,a){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{a(d,h,p),u(d,h,p)}:a}function fi(s,a){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}function Iv(s){return!!Av(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Av(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Il(s,a,u){return s[a]=u}function Zr(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function ip(s,a,u,d){const h=Ye();return Zr(h,Ps(),a)&&(fn(),Va(Ti(),h,s,a,u,d)),ip}function cg(s,a,u,d,h,p,v,w){const x=Ye(),M=fn(),P=s+nn,H=M.firstCreatePass?function Nv(s,a,u,d,h,p,v,w,x){const M=a.consts,P=Ro(a,s,4,v||null,Qo(M,w));$0(a,u,P,Qo(M,x)),Nd(a,P);const H=P.tView=H0(2,P,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M,null);return null!==a.queries&&(a.queries.template(a,P),H.queries=a.queries.embeddedTView(P)),P}(P,M,x,a,u,d,h,p,v):M.data[P];uo(H,!1);const ue=cw(M,x,H,s);fu()&&Nm(M,x,ue,H),Yr(ue,x),hi(x,x[P]=Ec(ue,x,ue,H)),Ta(H)&&Cc(M,x,H),null!=v&&_v(x,H,w)}let cw=function xx(s,a,u,d){return Ls(!0),a[Jt].createComment("")};function ph(s){return Zl(function um(){return Kt.lFrame.contextLView}(),nn+s)}function $a(s,a,u){const d=Ye();return Zr(d,Ps(),a)&&$s(fn(),Ti(),d,s,a,d[Jt],u,!1),$a}function Fv(s,a,u,d,h){const v=h?"class":"style";bv(s,u,a.inputs[v],v,d)}function dg(s,a,u,d){const h=Ye(),p=fn(),v=nn+s,w=h[Jt],x=p.firstCreatePass?function Ix(s,a,u,d,h,p){const v=a.consts,x=Ro(a,s,2,d,Qo(v,h));return $0(a,u,x,Qo(v,p)),null!==x.attrs&&ja(x,x.attrs,!1),null!==x.mergedAttrs&&ja(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,p,h,a,u,d):p.data[v],M=Lv(p,h,x,w,a,s);h[v]=M;const P=Ta(x);return uo(x,!0),Wd(w,M,x),32!=(32&x.flags)&&fu()&&Nm(p,h,M,x),0===function bs(){return Kt.lFrame.elementDepthCount}()&&Yr(M,h),function Xl(){Kt.lFrame.elementDepthCount++}(),P&&(Cc(p,h,x),j0(p,x,h)),null!==d&&_v(h,x),dg}function Sc(){let s=Dr();nc()?ic():(s=s.parent,uo(s,!1));const a=s;(function x_(s){return Kt.skipHydrationRootTNode===s})(a)&&function ec(){Kt.skipHydrationRootTNode=null}(),function Jl(){Kt.lFrame.elementDepthCount--}();const u=fn();return u.firstCreatePass&&(Nd(u,s),hd(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function mu(s){return 0!=(8&s.flags)}(a)&&Fv(u,a,Ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function gu(s){return 0!=(16&s.flags)}(a)&&Fv(u,a,Ye(),a.stylesWithoutHost,!1),Sc}function hg(s,a,u,d){return dg(s,a,u,d),Sc(),hg}let Lv=(s,a,u,d,h,p)=>(Ls(!0),If(d,h,function hu(){return Kt.lFrame.currentNamespace}()));function Bv(s,a,u){const d=Ye(),h=fn(),p=s+nn,v=h.firstCreatePass?function yM(s,a,u,d,h){const p=a.consts,v=Qo(p,d),w=Ro(a,s,8,"ng-container",v);return null!==v&&ja(w,v,!0),$0(a,u,w,Qo(p,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,h,d,a,u):h.data[p];uo(v,!0);const w=hw(h,d,v,s);return d[p]=w,fu()&&Nm(h,d,w,v),Yr(w,d),Ta(v)&&(Cc(h,d,v),j0(h,v,d)),null!=u&&_v(d,v),Bv}function or(){let s=Dr();const a=fn();return nc()?ic():(s=s.parent,uo(s,!1)),a.firstCreatePass&&(Nd(a,s),hd(s)&&a.queries.elementEnd(s)),or}let hw=(s,a,u,d)=>(Ls(!0),Om(a[Jt],""));function fg(){return Ye()}function Vv(s){return!!s&&"function"==typeof s.then}function Sx(s){return!!s&&"function"==typeof s.subscribe}function Uv(s,a,u,d){const h=Ye(),p=fn(),v=Dr();return cp(p,h,h[Jt],v,s,a,d),Uv}function jv(s,a){const u=Dr(),d=Ye(),h=fn();return cp(h,d,oh($i(h.data),u,d),u,s,a),jv}function cp(s,a,u,d,h,p,v){const w=Ta(d),M=s.firstCreatePass&&K0(s),P=a[Ln],H=Si(a);let ue=!0;if(3&d.type||v){const ot=Or(d,a),vt=v?v(ot):ot,jt=H.length,Je=v?vn=>v(di(vn[d.index])):d.index;let Yt=null;if(!v&&w&&(Yt=function pw(s,a,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===u&&h[p+1]===d){const w=a[gs],x=h[p+2];return w.length>x?w[x]:null}"string"==typeof v&&(p+=2)}return null}(s,a,h,d.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=p,Yt.__ngLastListenerFn__=p,ue=!1;else{p=dp(d,a,P,p,!1);const vn=u.listen(vt,h,p);H.push(p,vn),M&&M.push(h,Je,jt,jt+1)}}else p=dp(d,a,P,p,!1);const ge=d.outputs;let ze;if(ue&&null!==ge&&(ze=ge[h])){const ot=ze.length;if(ot)for(let vt=0;vt<ot;vt+=2){const ai=a[ze[vt]][ze[vt+1]].subscribe(p),Gn=H.length;H.push(p,ai),M&&M.push(h,d.index,Gn,-(Gn+1))}}}function up(s,a,u,d){try{return ys(6,a,u),!1!==u(d)}catch(h){return ls(s,h),!1}finally{ys(7,a,u)}}function dp(s,a,u,d,h){return function p(v){if(v===Function)return d;th(s.componentOffset>-1?Rr(s.index,a):a);let x=up(a,u,d,v),M=p.__ngNextListenerFn__;for(;M;)x=up(a,u,M,v)&&x,M=M.__ngNextListenerFn__;return h&&!1===x&&v.preventDefault(),x}}function pg(s=1){return function hm(s){return(Kt.lFrame.contextLView=function fm(s,a){for(;s>0;)a=a[el],s--;return a}(s,Kt.lFrame.contextLView))[Ln]}(s)}function Mx(s,a){let u=null;const d=function Hc(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?Xs(s,p,!0):ms(d,p))return h}else u=h}return u}function mw(s){const a=Ye()[Bn][Rn];if(!a.projection){const d=a.projection=Us(s?s.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const v=s?Mx(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:d[v]=p,h[v]=p),p=p.next}}}function gw(s,a=0,u){const d=Ye(),h=fn(),p=Ro(h,nn+s,16,null,u||null);null===p.projection&&(p.projection=a),ic(),(!d[mr]||aa())&&32!=(32&p.flags)&&function mE(s,a,u){u0(a[Jt],0,a,u,xr(s,u,a),fE(u.parent||a[Rn],u,a))}(h,d,p)}function $v(s,a){return s<<17|a<<2}function _i(s){return s>>17&32767}function gh(s){return 2|s}function Lo(s){return(131068&s)>>2}function mg(s,a){return-131069&s|a<<2}function _h(s){return 1|s}function Vx(s,a,u,d,h){const p=s[u+1],v=null===a;let w=d?_i(p):Lo(p),x=!1;for(;0!==w&&(!1===x||v);){const P=s[w+1];gg(s[w],a)&&(x=!0,s[w+1]=d?_h(P):gh(P)),w=d?_i(P):Lo(P)}x&&(s[u+1]=d?gh(p):_h(p))}function gg(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&j(s,a)>=0}function Ga(s,a,u){return bo(s,a,u,!1),Ga}function Gv(s,a){return bo(s,a,null,!0),Gv}function bo(s,a,u,d){const h=Ye(),p=fn(),v=function ca(s){const a=Kt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}(2);p.firstUpdatePass&&function Cw(s,a,u,d){const h=s.data;if(null===h[u+1]){const p=h[Cr()],v=function fp(s,a){return a>=s.expandoStartIndex}(s,u);(function Zx(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!v&&(a=!1),a=function Ew(s,a,u,d){const h=$i(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=pp(u=Tw(null,s,a,u,d),a.attrs,d),p=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==h)if(u=Tw(h,s,a,u,d),null===p){let x=function xw(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==Lo(d))return s[_i(d)]}(s,a,d);void 0!==x&&Array.isArray(x)&&(x=Tw(null,s,a,x[1],d),x=pp(x,a.attrs,d),function Wx(s,a,u,d){s[_i(u?a.classBindings:a.styleBindings)]=d}(s,a,d,x))}else p=function qx(s,a,u){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=pp(d,s[p].hostAttrs,u);return pp(d,a.attrs,u)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),u}(h,p,a,d),function Bx(s,a,u,d,h,p){let v=p?a.classBindings:a.styleBindings,w=_i(v),x=Lo(v);s[d]=u;let P,M=!1;if(Array.isArray(u)?(P=u[1],(null===P||j(u,P)>0)&&(M=!0)):P=u,h)if(0!==x){const ue=_i(s[w+1]);s[d+1]=$v(ue,w),0!==ue&&(s[ue+1]=mg(s[ue+1],d)),s[w+1]=function Fx(s,a){return 131071&s|a<<17}(s[w+1],d)}else s[d+1]=$v(w,0),0!==w&&(s[w+1]=mg(s[w+1],d)),w=d;else s[d+1]=$v(x,0),0===w?w=d:s[x+1]=mg(s[x+1],d),x=d;M&&(s[d+1]=gh(s[d+1])),Vx(s,P,d,!0),Vx(s,P,d,!1),function DM(s,a,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&j(p,a)>=0&&(u[d+1]=_h(u[d+1]))}(a,P,s,d,p),v=$v(w,x),p?a.classBindings=v:a.styleBindings=v}(h,p,a,u,v,d)}}(p,s,v,d),a!==Dt&&Zr(h,v,a)&&function Kx(s,a,u,d,h,p,v,w){if(!(3&a.type))return;const x=s.data,M=x[w+1],P=function Lx(s){return 1==(1&s)}(M)?Iw(x,a,u,h,Lo(M),v):void 0;qv(P)||(qv(p)||function yw(s){return 2==(2&s)}(M)&&(p=Iw(x,null,u,h,w,v)),function G_(s,a,u,d,h){if(a)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:oi.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=oi.Important),s.setStyle(u,d,h,p))}}(d,v,Kl(Cr(),u),h,p))}(p,p.data[Cr()],h,h[Jt],s,h[v+1]=function TM(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=se(ga(s)))),s}(a,u),d,v)}function Tw(s,a,u,d,h){let p=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(p=a[w],d=pp(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function pp(s,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const v=a[p];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),T(s,v,!!u||a[++p]))}return void 0===s?null:s}function Iw(s,a,u,d,h,p){const v=null===a;let w;for(;h>0;){const x=s[h],M=Array.isArray(x),P=M?x[1]:x,H=null===P;let ue=u[h+1];ue===Dt&&(ue=H?De:void 0);let ge=H?O(ue,d):P===d?ue:void 0;if(M&&!qv(ge)&&(ge=O(x,d)),qv(ge)&&(w=ge,v))return w;const ze=s[h+1];h=v?_i(ze):Lo(ze)}if(null!==a){let x=p?a.residualClasses:a.residualStyles;null!=x&&(w=O(x,d))}return w}function qv(s){return void 0!==s}function mp(s,a=""){const u=Ye(),d=fn(),h=s+nn,p=d.firstCreatePass?Ro(d,h,1,a,null):d.data[h],v=Vu(d,u,p,a,s);u[h]=v,fu()&&Nm(d,u,v,p),uo(p,!1)}let Vu=(s,a,u,d,h)=>(Ls(!0),function $d(s,a){return s.createText(a)}(a[Jt],d));function Aw(s){return yg("",s,""),Aw}function yg(s,a,u){const d=Ye(),h=function ch(s,a,u,d){return Zr(s,Ps(),u)?a+Le(u)+d:Dt}(d,s,a,u);return h!==Dt&&function xc(s,a,u){const d=Kl(a,s);!function U_(s,a,u){s.setValue(a,u)}(s[Jt],d,u)}(d,Cr(),h),yg}function ny(s,a,u){const d=Ye();return Zr(d,Ps(),a)&&$s(fn(),Ti(),d,s,a,d[Jt],u,!0),ny}function Nw(s,a,u){const d=Ye();if(Zr(d,Ps(),a)){const p=fn(),v=Ti();$s(p,v,d,s,a,oh($i(p.data),v,d),u,!0)}return Nw}const Ml=void 0;var SM=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lT(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let wh={};function iy(s){const a=function cT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Fw(a);if(u)return u;const d=a.split("-")[0];if(u=Fw(d),u)return u;if("en"===d)return SM;throw new we(701,!1)}function vp(s){return iy(s)[Qt.PluralCase]}function Fw(s){return s in wh||(wh[s]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[s]),wh[s]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const zu="en-US";let sy=zu;function Wu(s,a,u,d,h){if(s=q(s),Array.isArray(s))for(let p=0;p<s.length;p++)Wu(s[p],a,u,d,h);else{const p=fn(),v=Ye();let w=Iu(s)?s:q(s.provide),x=A0(s);const M=Dr(),P=1048575&M.providerIndexes,H=M.directiveStart,ue=M.providerIndexes>>20;if(Iu(s)||!s.multi){const ge=new ll(x,h,Hs),ze=tD(w,a,h?P:P+ue,H);-1===ze?(bi(qr(M,v),p,w),Ng(p,s,a.length),a.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(ge),v.push(ge)):(u[ze]=ge,v[ze]=ge)}else{const ge=tD(w,a,P+ue,H),ze=tD(w,a,P,P+ue),vt=ze>=0&&u[ze];if(h&&!vt||!h&&!(ge>=0&&u[ge])){bi(qr(M,v),p,w);const jt=function iD(s,a,u,d,h){const p=new ll(s,u,Hs);return p.multi=[],p.index=a,p.componentProviders=0,AT(p,h,d&&!u),p}(h?MT:ST,u.length,h,d,x);!h&&vt&&(u[ze].providerFactory=jt),Ng(p,s,a.length,0),a.push(w),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(jt),v.push(jt)}else Ng(p,s,ge>-1?ge:ze,AT(u[h?ze:ge],x,!h&&d));!h&&d&&vt&&u[ze].componentProviders++}}}function Ng(s,a,u,d){const h=Iu(a),p=function jS(s){return!!s.useClass}(a);if(h||p){const x=(p?q(a.useClass):a).prototype.ngOnDestroy;if(x){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const P=M.indexOf(u);-1===P?M.push(u,[d,x]):M[P+1].push(d,x)}else M.push(u,x)}}}function AT(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function tD(s,a,u,d){for(let h=u;h<d;h++)if(a[h]===s)return h;return-1}function ST(s,a,u,d){return nD(this.multi,[])}function MT(s,a,u,d){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=is(u,u[qe],this.providerFactory.index,d);p=w.slice(0,v),nD(h,p);for(let x=v;x<w.length;x++)p.push(w[x])}else p=[],nD(h,p);return p}function nD(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function kT(s,a=[]){return u=>{u.providersResolver=(d,h)=>function IT(s,a,u){const d=fn();if(d.firstCreatePass){const h=co(s);Wu(u,d.data,d.blueprint,h,!0),Wu(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class qu{}class OT{}function rD(s,a){return new Fg(s,a??null,[])}class Fg extends qu{constructor(a,u,d){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ep(this);const h=zn(a);this._bootstrapComponents=yc(h.bootstrap),this._r3Injector=V0(a,u,[{provide:qu,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver},...d],se(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class by extends OT{constructor(a){super(),this.moduleType=a}create(a){return new Fg(this.moduleType,a,[])}}class wy extends qu{constructor(a){super(),this.componentFactoryResolver=new ep(this),this.instance=null;const u=new rv([...a.providers,{provide:qu,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver}],a.parent||Wm(),a.debugName,new Set(["environment"]));this.injector=u,a.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Dy(s,a,u=null){return new wy({providers:s,parent:a,debugName:u,runEnvironmentInitializers:!0}).injector}let Dp=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=$m(0,u.type),h=d.length>0?Dy([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=nt({token:s,providedIn:"environment",factory:()=>new s(pn(Cl))}),s})();function kc(s){s.getStandaloneInjector=a=>a.get(Dp).getOrCreateStandaloneInjector(s)}function uD(s,a,u,d){return Ey(Ye(),Gr(),s,a,u,d)}function dD(s,a,u,d,h){return function VT(s,a,u,d,h,p,v){const w=a+u;return function Gs(s,a,u,d){const h=Zr(s,a,u);return Zr(s,a+1,d)||h}(s,w,h,p)?Il(s,w+2,v?d.call(v,h,p):d(h,p)):Ah(s,w+2)}(Ye(),Gr(),s,a,u,d,h)}function Ah(s,a){const u=s[a];return u===Dt?void 0:u}function Ey(s,a,u,d,h,p){const v=a+u;return Zr(s,v,h)?Il(s,v+1,p?d.call(p,h):d(h)):Ah(s,v+1)}function fD(s,a){const u=fn();let d;const h=s+nn;u.firstCreatePass?(d=function pD(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??=[]).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=Os(d.type)),v=Qn(Hs);try{const w=cl(!1),x=p();return cl(w),function Tx(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,Ye(),h,x),x}finally{Qn(v)}}function jT(s,a,u){const d=s+nn,h=Ye(),p=Zl(h,d);return function Sh(s,a){return s[qe].data[a].pure}(h,d)?Ey(h,Gr(),a,p.transform,u,p):p.transform(u)}function Bg(s){return a=>{setTimeout(s,void 0,a)}}const ba=class ik extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,p=u||(()=>null),v=d;if(a&&"object"==typeof a){const x=a;h=x.next?.bind(x),p=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(p=Bg(p),h&&(h=Bg(h)),v&&(v=Bg(v)));const w=super.subscribe({next:h,error:p,complete:v});return a instanceof B.w0&&a.add(w),w}};function _D(){return this._results[Symbol.iterator]()}class Yu{get changes(){return this._changes||(this._changes=new ba)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Yu.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=_D)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=function ko(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Vs(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cp=(()=>{class s{}return s.__NG_ELEMENT_ID__=yD,s})();const vD=Cp,rk=class extends vD{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,u){return this.createEmbeddedViewImpl(a,u,null)}createEmbeddedViewImpl(a,u,d){const h=this._declarationTContainer.tView,p=rh(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,u||null,d||null);p[Vl]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Ao];return null!==w&&(p[Ao]=w.createEmbeddedView(h)),xl(h,p,a),new Ha(p)}};function yD(){return wa(Dr(),Ye())}function wa(s,a){return 4&s.type?new rk(a,s,Jd(s,a)):null}let Sy=(()=>{class s{}return s.__NG_ELEMENT_ID__=ED,s})();function ED(){return $T(Dr(),Ye())}const zT=Sy,My=class extends zT{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const a=ns(this._hostTNode,this._hostLView);if(Gi(a)){const u=Wi(a,this._hostLView),d=cn(a);return new ha(u[qe].data[d+8],u)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=xD(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(a,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const w=a.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(w,h,false),w}createComponent(a,u,d,h,p){const v=a&&!function hc(s){return"function"==typeof s}(a);let w;if(v)w=u;else{const ot=u||{};w=ot.index,d=ot.injector,h=ot.projectableNodes,p=ot.environmentInjector||ot.ngModuleRef}const x=v?a:new Tc(gn(a)),M=d||this.parentInjector;if(!p&&null==x.ngModule){const vt=(v?M:this.parentInjector).get(Cl,null);vt&&(p=vt)}gn(x.componentType??{});const ge=x.create(M,h,null,p);return this.insertImpl(ge.hostView,w,false),ge}insert(a,u){return this.insertImpl(a,u,!1)}insertImpl(a,u,d){const h=a._lView,p=h[qe];if(function xd(s){return kr(s[en])}(h)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const M=h[en],P=new My(M,M[Rn],M[en]);P.detach(P.indexOf(a))}}const v=this._adjustIndex(u),w=this._lContainer;if(function cE(s,a,u,d){const h=Hi+d,p=u.length;d>0&&(u[h-1][ni]=a),d<p-Hi?(a[ni]=u[h],vu(u,Hi+d,a)):(u.push(a),a[ni]=null),a[en]=u;const v=a[Vl];null!==v&&u!==v&&function uE(s,a){const u=s[ao];a[Bn]!==a[en][en][Bn]&&(s[ks]=!0),null===u?s[ao]=[a]:u.push(a)}(v,a);const w=a[Ao];null!==w&&w.insertView(s),a[xt]|=128}(p,h,w,v),!d){const x=Bm(v,w),M=h[Jt],P=Pm(M,w[ra]);null!==P&&function aE(s,a,u,d,h,p){d[rt]=h,d[Rn]=a,gc(s,d,u,1,h,p)}(p,w[Rn],M,h,P,x)}return a.attachToViewContainerRef(),vu(TD(w),v,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=xD(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=H_(this._lContainer,u);d&&(fc(TD(this._lContainer),u),dE(d[qe],d))}detach(a){const u=this._adjustIndex(a,-1),d=H_(this._lContainer,u);return d&&null!=fc(TD(this._lContainer),u)?new Ha(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function xD(s){return s[jl]}function TD(s){return s[jl]||(s[jl]=[])}function $T(s,a){let u;const d=a[s.index];return kr(d)?u=d:(u=Ec(d,a,null,s),a[s.index]=u,hi(a,u)),GT(u,a,s,d),new My(u,s,a)}let GT=function ky(s,a,u,d){if(s[ra])return;let h;h=8&u.type?di(d):function ID(s,a){const u=s[Jt],d=u.createComment(""),h=Or(a,s);return Dl(u,Pm(u,h),d,function ES(s,a){return s.nextSibling(a)}(u,h),!1),d}(a,u),s[ra]=h};class MD{constructor(a){this.queryList=a,this.matches=null}clone(){return new MD(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const v=u.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Mh(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==jg(a,u).matches&&this.queries[u].setDirty()}}class WT{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Vg{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new Vg(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Oy{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Oy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,u,Ep(u,p)),this.matchTNodeWithReadOption(a,u,da(u,a,p,!1,!1))}else d===Cp?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,da(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Qm||h===Sy||h===Cp&&4&u.type)this.addMatch(u.index,-2);else{const p=da(u,a,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Ep(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function Ry(s,a,u,d){return-1===u?function qT(s,a){return 11&s.type?Jd(s,a):4&s.type?wa(s,a):null}(a,s):-2===u?function lk(s,a,u){return u===Qm?Jd(a,s):u===Cp?wa(a,s):u===Sy?$T(a,s):void 0}(s,a,d):is(s,s[qe],u,a)}function YT(s,a,u,d){const h=a[Ao].queries[d];if(null===h.matches){const p=s.data,v=u.matches,w=[];for(let x=0;x<v.length;x+=2){const M=v[x];w.push(M<0?null:Ry(a,p[M],v[x+1],u.metadata.read))}h.matches=w}return h.matches}function kD(s,a,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const v=YT(s,a,h,u);for(let w=0;w<p.length;w+=2){const x=p[w];if(x>0)d.push(v[w/2]);else{const M=p[w+1],P=a[-x];for(let H=Hi;H<P.length;H++){const ue=P[H];ue[Vl]===ue[en]&&kD(ue[qe],ue,M,d)}if(null!==P[ao]){const H=P[ao];for(let ue=0;ue<H.length;ue++){const ge=H[ue];kD(ge[qe],ge,M,d)}}}}}return d}function KT(s){const a=Ye(),u=fn(),d=du();Ns(d+1);const h=jg(u,d);if(s.dirty&&function ru(s){return 4==(4&s[xt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?kD(u,a,d,[]):YT(u,a,h,d);s.reset(p,fv),s.notifyOnChanges()}return!0}return!1}function Ug(s,a,u){const d=fn();d.firstCreatePass&&(Fy(d,new WT(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),RD(d,Ye(),a)}function Py(s,a,u,d){const h=fn();if(h.firstCreatePass){const p=Dr();Fy(h,new WT(a,u,d),p.index),function PD(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}RD(h,Ye(),u)}function Ny(){return function OD(s,a){return s[Ao].queries[a].queryList}(Ye(),du())}function RD(s,a,u){const d=new Yu(4==(4&u));(function QS(s,a,u,d){const h=Si(a);h.push(u),s.firstCreatePass&&K0(s).push(d,h.length-1)})(s,a,d,d.destroy),null===a[Ao]&&(a[Ao]=new Mh),a[Ao].queries.push(new MD(d))}function Fy(s,a,u){null===s.queries&&(s.queries=new Vg),s.queries.track(new Oy(a,u))}function jg(s,a){return s.queries.getByIndex(a)}function Ly(s,a){return wa(s,a)}function FD(s){return!!zn(s)}const Dk=new Vn("Application Initializer");let Nc=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d}),this.appInits=on(Dk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const h of this.appInits){const p=h();if(Vv(p))u.push(p);else if(Sx(p)){const v=new Promise((w,x)=>{p.subscribe({complete:w,error:x})});u.push(v)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$g=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qy=new Vn("LocaleId",{providedIn:"root",factory:()=>on(qy,kt.Optional|kt.SkipSelf)||function Ck(){return typeof $localize<"u"&&$localize.locale||zu}()}),oI=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Oh{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let Yy=(()=>{class s{compileModuleSync(u){return new by(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=yc(zn(u).declarations).reduce((v,w)=>{const x=gn(w);return x&&v.push(new Tc(x)),v},[]);return new Oh(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const GD=(()=>Promise.resolve(0))();function Ky(s){typeof Zone>"u"?GD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}function Zu(...s){}class Xr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function lI(){let s=mt.requestAnimationFrame,a=mt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Qy(s){const a=()=>{!function Zy(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Xy(s),s.isCheckStableRunning=!0,WD(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Xy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,v,w)=>{try{return Ip(s),u.invokeTask(h,p,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),cI(s)}},onInvoke:(u,d,h,p,v,w,x)=>{try{return Ip(s),u.invoke(h,p,v,w,x)}finally{s.shouldCoalesceRunChangeDetection&&a(),cI(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Xy(s),WD(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new we(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,a,Wg,Zu,Zu);try{return p.runTask(v,u,d)}finally{p.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const Wg={};function WD(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Xy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ip(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function cI(s){s._nesting--,WD(s)}class Jy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const qD=new Vn("",{providedIn:"root",factory:eb});function eb(){const s=on(Xr);let a=!0;const u=new R.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new R.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),Ky(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const v=s.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,ne.T)(u,d.pipe((0,Y.B)()))}const Ap=new Vn(""),Fc=new Vn("");let dI,qg=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dI||(function Sp(s){dI=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),Ky(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ky(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(pn(Xr),pn(uI),pn(Fc))},s.\u0275prov=nt({token:s,factory:s.\u0275fac}),s})(),uI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return dI?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Rh=null;const tb=new Vn("AllowMultipleToken"),YD=new Vn("PlatformDestroyListeners"),Mp=new Vn("appBootstrapListener");class Sk{constructor(a,u){this.name=a,this.token=u}}function KD(s,a,u=[]){const d=`Platform: ${a}`,h=new Vn(d);return(p=[])=>{let v=ib();if(!v||v.injector.get(tb,!1)){const w=[...u,...p,{provide:h,useValue:!0}];s?s(w):function nb(s){if(Rh&&!Rh.get(tb,!1))throw new we(400,!1);(function Yg(){!function Jc(s){bd=s}(()=>{throw new we(600,!1)})})(),Rh=s;const a=s.get(rb);(function hI(s){s.get(PE,null)?.forEach(u=>u())})(s)}(function ZD(s=[],a){return bc.create({name:a,providers:[{provide:I0,useValue:"platform"},{provide:YD,useValue:new Set([()=>Rh=null])},...s]})}(w,d))}return function fI(s){const a=ib();if(!a)throw new we(401,!1);return a}()}}function ib(){return Rh?.get(rb)??null}let rb=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function Rk(s="zone.js",a){return"noop"===s?new Jy:"zone.js"===s?new Xr(a):s}(d?.ngZone,function Kg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function oD(s,a,u){return new Fg(s,a,u)}(u.moduleType,this.injector,function pI(s){return[{provide:Xr,useFactory:s},{provide:Ff,multi:!0,useFactory:()=>{const a=on(Zg,{optional:!0});return()=>a.initialize()}},{provide:Qu,useFactory:Lc},{provide:qD,useFactory:eb}]}(()=>h)),v=p.injector.get(vo,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:x=>{v.handleError(x)}});p.onDestroy(()=>{QD(this._modules,p),w.unsubscribe()})}),function Pk(s,a,u){try{const d=u();return Vv(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(v,h,()=>{const w=p.injector.get(Nc);return w.runInitializers(),w.donePromise.then(()=>(function uT(s){et(s,"Expected localeId to be defined"),"string"==typeof s&&(sy=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(qy,zu)||zu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(u,d=[]){const h=Nk({},d);return function Ik(s,a,u){const d=new by(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(kp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new we(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(YD,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(pn(bc))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Nk(s,a){return Array.isArray(a)?a.reduce(Nk,s):{...s,...a}}let kp=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(Qu),this.componentTypes=[],this.components=[],this.isStable=on(qD),this._injector=on(Cl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const h=u instanceof F0;if(!this._injector.get(Nc).done)throw!h&&Ea(u),new we(405,!1);let v;v=h?u:this._injector.get(Zm).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const w=function Ak(s){return s.isBoundToModule}(v)?void 0:this._injector.get(qu),M=v.create(bc.NULL,[],d||v.selector,w),P=M.location.nativeElement,H=M.injector.get(Ap,null);return H?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),QD(this.components,M),H?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;QD(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Mp,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>QD(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new we(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function QD(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}const Qu=new Vn("",{providedIn:"root",factory:()=>on(vo).handleError.bind(void 0)});function Lc(){const s=on(Xr),a=on(vo);return u=>s.runOutsideAngular(()=>a.handleError(u))}let Zg=(()=>{class s{constructor(){this.zone=on(Xr),this.applicationRef=on(kp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Lk(){return!1}let Bk=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vk,s})();function Vk(s){return function _I(s,a,u){if(So(s)&&!u){const d=Rr(s.index,a);return new Ha(d,d)}return 47&s.type?new Ha(a[Bn],a):null}(Dr(),Ye(),16==(16&s))}class CI{constructor(){}supports(a){return Iv(a)}create(a){return new Xu(a)}}const EI=(s,a)=>a;class Xu{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||EI}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const v=!d||u&&u.currentIndex<TI(d,h,p)?u:d,w=TI(v,h,p),x=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{p||(p=[]);const M=w-h,P=x-h;if(M!=P){for(let ue=0;ue<M;ue++){const ge=ue<p.length?p[ue]:p[ue]=0,ze=ge+ue;P<=ze&&ze<M&&(p[ue]=ge+1)}p[v.previousIndex]=P-M}}w!==x&&a(v,w,x)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Iv(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],v=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,p,v,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,v,w),d=!0),u=u._next}else h=0,function hM(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,w,v,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,p,h)):a=this._addAfter(new zk(u,d),p,h),a}_verifyReinsertion(a,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class zk{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $k{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class xI{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new $k,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TI(s,a,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class II{constructor(){}supports(a){return a instanceof Map||Av(a)}create(){return new Gk}}class Gk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Av(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const d=new Wk(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class Wk{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qk(){return new AI([new CI])}let AI=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||qk()),deps:[[s,new Nr,new gl]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:qk}),s})();function SI(){return new JD([new II])}let JD=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||SI()),deps:[[s,new Nr,new gl]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:SI}),s})();const tC=KD(null,"core",[]);let Zk=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(pn(kp))},s.\u0275mod=so({type:s}),s.\u0275inj=zt({}),s})(),NI=(()=>{class s{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=on(Xr),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(u=>{this.resolve=u})})}add(){if(this.completed)return-1;const u=this.taskId++;return this.collection.add(u),u}remove(u){this.completed||(this.collection.delete(u),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function cb(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Ju(s){const a=gn(s);if(!a)return null;const u=new Tc(a);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return a.standalone}}}},5855:(ce,K,S)=>{S.d(K,{O4:()=>yt});var c=S(2223);class Q extends Error{constructor(Ne,nt){super(function oe(Et,Ne){return`NG0${Math.abs(Et)}${Ne?": "+Ne:""}`}(Ne,nt)),this.code=Ne}}function yt(Et,Ne){const nt=!Ne?.manualCleanup;nt&&!Ne?.injector&&(0,c.gHi)(yt);const Ot=nt?Ne?.injector?.get(c.ktI)??(0,c.f3M)(c.ktI):null;let zt;zt=(0,c.tdS)(Ne?.requireSync?{kind:0}:{kind:1,value:Ne?.initialValue});const mn=Et.subscribe({next:Cn=>zt.set({kind:1,value:Cn}),error:Cn=>zt.set({kind:2,error:Cn})});return Ot?.onDestroy(mn.unsubscribe.bind(mn)),(0,c.Flj)(()=>{const Cn=zt();switch(Cn.kind){case 1:return Cn.value;case 2:throw Cn.error;case 0:throw new Q(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},3942:(ce,K,S)=>{S.d(K,{Z:()=>Ke});var c=S(2090),B=S(4859),R=S(6881),ne=S(1877);class Y{constructor(we,ke){this._delegate=we,this.firebase=ke,(0,R._addComponent)(we,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(we,ke=R._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(we);return!Be.isInitialized()&&"EXPLICIT"===(null===(Le=Be.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ke})}_removeServiceInstance(we,ke=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ke)}_addComponent(we){(0,R._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,R._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ee(){const lt=function se(lt){const we={},ke={__esModule:!0,initializeApp:function Re(Ue,de={}){const pt=R.initializeApp(Ue,de);if((0,c.r3)(we,pt.name))return we[pt.name];const ut=new lt(pt,ke);return we[pt.name]=ut,ut},app:Be,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function je(Ue){const de=Ue.name,pt=de.replace("-compat","");if(R._registerComponent(Ue)&&"PUBLIC"===Ue.type){const ut=(bn=Be())=>{if("function"!=typeof bn[pt])throw oe.create("invalid-app-argument",{appName:de});return bn[pt]()};void 0!==Ue.serviceProps&&(0,c.ZB)(ut,Ue.serviceProps),ke[pt]=ut,lt.prototype[pt]=function(...bn){return this._getService.bind(this,de).apply(this,Ue.multipleInstances?bn:[])}}return"PUBLIC"===Ue.type?ke[pt]:null},removeApp:function Le(Ue){delete we[Ue]},useAsService:function Ge(Ue,de){return"serverAuth"===de?null:de},modularAPIs:R}};function Be(Ue){if(!(0,c.r3)(we,Ue=Ue||R._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ue});return we[Ue]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function Me(){return Object.keys(we).map(Ue=>we[Ue])}}),Be.App=lt,ke}(Y);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function we(ke){(0,c.ZB)(lt,ke)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),lt}(),z=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=G;!function Ae(lt){(0,R.registerVersion)("@firebase/app-compat","0.2.11",lt)}()},6881:(ce,K,S)=>{S.r(K),S.d(K,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>Ci,_addOrOverwriteComponent:()=>pr,_apps:()=>mt,_clearComponents:()=>An,_components:()=>li,_getProvider:()=>Jn,_registerComponent:()=>Xn,_removeServiceInstance:()=>Bi,deleteApp:()=>pn,getApp:()=>ei,getApps:()=>vi,initializeApp:()=>To,onLog:()=>ti,registerVersion:()=>on,setLogLevel:()=>Sr});var c=S(9671),B=S(4859),R=S(1877),ne=S(2090);const Y=(Fe,ve)=>ve.some(tt=>Fe instanceof tt);let Q,oe;const G=new WeakMap,z=new WeakMap,q=new WeakMap,be=new WeakMap,Ae=new WeakMap;let we={get(Fe,ve,tt){if(Fe instanceof IDBTransaction){if("done"===ve)return z.get(Fe);if("objectStoreNames"===ve)return Fe.objectStoreNames||q.get(Fe);if("store"===ve)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return Re(Fe[ve])},set:(Fe,ve,tt)=>(Fe[ve]=tt,!0),has:(Fe,ve)=>Fe instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in Fe};function Be(Fe){return"function"==typeof Fe?function Le(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...ve){return Fe.apply(Me(this),ve),Re(G.get(this))}:function(...ve){return Re(Fe.apply(Me(this),ve))}:function(ve,...tt){const Mt=Fe.call(Me(this),ve,...tt);return q.set(Mt,ve.sort?ve.sort():[ve]),Re(Mt)}}(Fe):(Fe instanceof IDBTransaction&&function lt(Fe){if(z.has(Fe))return;const ve=new Promise((tt,Mt)=>{const Wt=()=>{Fe.removeEventListener("complete",an),Fe.removeEventListener("error",En),Fe.removeEventListener("abort",En)},an=()=>{tt(),Wt()},En=()=>{Mt(Fe.error||new DOMException("AbortError","AbortError")),Wt()};Fe.addEventListener("complete",an),Fe.addEventListener("error",En),Fe.addEventListener("abort",En)});z.set(Fe,ve)}(Fe),Y(Fe,function se(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,we):Fe)}function Re(Fe){if(Fe instanceof IDBRequest)return function Ke(Fe){const ve=new Promise((tt,Mt)=>{const Wt=()=>{Fe.removeEventListener("success",an),Fe.removeEventListener("error",En)},an=()=>{tt(Re(Fe.result)),Wt()},En=()=>{Mt(Fe.error),Wt()};Fe.addEventListener("success",an),Fe.addEventListener("error",En)});return ve.then(tt=>{tt instanceof IDBCursor&&G.set(tt,Fe)}).catch(()=>{}),Ae.set(ve,Fe),ve}(Fe);if(be.has(Fe))return be.get(Fe);const ve=Be(Fe);return ve!==Fe&&(be.set(Fe,ve),Ae.set(ve,Fe)),ve}const Me=Fe=>Ae.get(Fe),Ue=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],pt=new Map;function ut(Fe,ve){if(!(Fe instanceof IDBDatabase)||ve in Fe||"string"!=typeof ve)return;if(pt.get(ve))return pt.get(ve);const tt=ve.replace(/FromIndex$/,""),Mt=ve!==tt,Wt=de.includes(tt);if(!(tt in(Mt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!Ue.includes(tt))return;const an=function(){var En=(0,c.Z)(function*(Ri,...yi){const Ei=this.transaction(Ri,Wt?"readwrite":"readonly");let Qs=Ei.store;return Mt&&(Qs=Qs.index(yi.shift())),(yield Promise.all([Qs[tt](...yi),Wt&&Ei.done]))[0]});return function(yi){return En.apply(this,arguments)}}();return pt.set(ve,an),an}!function ke(Fe){we=Fe(we)}(Fe=>({...Fe,get:(ve,tt,Mt)=>ut(ve,tt)||Fe.get(ve,tt,Mt),has:(ve,tt)=>!!ut(ve,tt)||Fe.has(ve,tt)}));class bn{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function Wn(Fe){const ve=Fe.getComponent();return"VERSION"===ve?.type}(tt)){const Mt=tt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(tt=>tt).join(" ")}}const ki="@firebase/app",Te=new R.Yd("@firebase/app"),hn="[DEFAULT]",Pt={[ki]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,li=new Map;function Ci(Fe,ve){try{Fe.container.addComponent(ve)}catch(tt){Te.debug(`Component ${ve.name} failed to register with FirebaseApp ${Fe.name}`,tt)}}function pr(Fe,ve){Fe.container.addOrOverwriteComponent(ve)}function Xn(Fe){const ve=Fe.name;if(li.has(ve))return Te.debug(`There were multiple attempts to register component ${ve}.`),!1;li.set(ve,Fe);for(const tt of mt.values())Ci(tt,Fe);return!0}function Jn(Fe,ve){const tt=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Fe.container.getProvider(ve)}function Bi(Fe,ve,tt=hn){Jn(Fe,ve).clearInstance(tt)}function An(){li.clear()}const Xt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mi{constructor(ve,tt,Mt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const tr="9.22.1";function To(Fe,ve={}){let tt=Fe;"object"!=typeof ve&&(ve={name:ve});const Mt=Object.assign({name:hn,automaticDataCollectionEnabled:!1},ve),Wt=Mt.name;if("string"!=typeof Wt||!Wt)throw Xt.create("bad-app-name",{appName:String(Wt)});if(tt||(tt=(0,ne.aH)()),!tt)throw Xt.create("no-options");const an=mt.get(Wt);if(an){if((0,ne.vZ)(tt,an.options)&&(0,ne.vZ)(Mt,an.config))return an;throw Xt.create("duplicate-app",{appName:Wt})}const En=new B.H0(Wt);for(const yi of li.values())En.addComponent(yi);const Ri=new mi(tt,Mt,En);return mt.set(Wt,Ri),Ri}function ei(Fe=hn){const ve=mt.get(Fe);if(!ve&&Fe===hn&&(0,ne.aH)())return To();if(!ve)throw Xt.create("no-app",{appName:Fe});return ve}function vi(){return Array.from(mt.values())}function pn(Fe){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(Fe){const ve=Fe.name;mt.has(ve)&&(mt.delete(ve),yield Promise.all(Fe.container.getProviders().map(tt=>tt.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function on(Fe,ve,tt){var Mt;let Wt=null!==(Mt=Pt[Fe])&&void 0!==Mt?Mt:Fe;tt&&(Wt+=`-${tt}`);const an=Wt.match(/\s|\//),En=ve.match(/\s|\//);if(an||En){const Ri=[`Unable to register library "${Wt}" with version "${ve}":`];return an&&Ri.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),an&&En&&Ri.push("and"),En&&Ri.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void Te.warn(Ri.join(" "))}Xn(new B.wA(`${Wt}-version`,()=>({library:Wt,version:ve}),"VERSION"))}function ti(Fe,ve){if(null!==Fe&&"function"!=typeof Fe)throw Xt.create("invalid-log-argument");(0,R.Am)(Fe,ve)}function Sr(Fe){(0,R.Ub)(Fe)}const Vi="firebase-heartbeat-database",Mr=1,te="firebase-heartbeat-store";let J=null;function L(){return J||(J=function je(Fe,ve,{blocked:tt,upgrade:Mt,blocking:Wt,terminated:an}={}){const En=indexedDB.open(Fe,ve),Ri=Re(En);return Mt&&En.addEventListener("upgradeneeded",yi=>{Mt(Re(En.result),yi.oldVersion,yi.newVersion,Re(En.transaction),yi)}),tt&&En.addEventListener("blocked",yi=>tt(yi.oldVersion,yi.newVersion,yi)),Ri.then(yi=>{an&&yi.addEventListener("close",()=>an()),Wt&&yi.addEventListener("versionchange",Ei=>Wt(Ei.oldVersion,Ei.newVersion,Ei))}).catch(()=>{}),Ri}(Vi,Mr,{upgrade:(Fe,ve)=>{0===ve&&Fe.createObjectStore(te)}}).catch(Fe=>{throw Xt.create("idb-open",{originalErrorMessage:Fe.message})})),J}function N(){return(N=(0,c.Z)(function*(Fe){try{return yield(yield L()).transaction(te).objectStore(te).get(gt(Fe))}catch(ve){if(ve instanceof ne.ZR)Te.warn(ve.message);else{const tt=Xt.create("idb-get",{originalErrorMessage:ve?.message});Te.warn(tt.message)}}})).apply(this,arguments)}function fe(Fe,ve){return De.apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(Fe,ve){try{const Mt=(yield L()).transaction(te,"readwrite");yield Mt.objectStore(te).put(ve,gt(Fe)),yield Mt.done}catch(tt){if(tt instanceof ne.ZR)Te.warn(tt.message);else{const Mt=Xt.create("idb-set",{originalErrorMessage:tt?.message});Te.warn(Mt.message)}}})).apply(this,arguments)}function gt(Fe){return`${Fe.name}!${Fe.options.appId}`}class wn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new sn(tt),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var ve=this;return(0,c.Z)(function*(){const Mt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Vt();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!ve._heartbeatsCache.heartbeats.some(an=>an.date===Wt))return ve._heartbeatsCache.heartbeats.push({date:Wt,agent:Mt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(an=>{const En=new Date(an.date).valueOf();return Date.now()-En<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,c.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const tt=Vt(),{heartbeatsToSend:Mt,unsentEntries:Wt}=function Sn(Fe,ve=1024){const tt=[];let Mt=Fe.slice();for(const Wt of Fe){const an=tt.find(En=>En.agent===Wt.agent);if(an){if(an.dates.push(Wt.date),Ui(tt)>ve){an.dates.pop();break}}else if(tt.push({agent:Wt.agent,dates:[Wt.date]}),Ui(tt)>ve){tt.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:Mt}}(ve._heartbeatsCache.heartbeats),an=(0,ne.L)(JSON.stringify({version:2,heartbeats:Mt}));return ve._heartbeatsCache.lastSentHeartbeatDate=tt,Wt.length>0?(ve._heartbeatsCache.heartbeats=Wt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),an})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class sn{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,c.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function V(Fe){return N.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var tt=this;return(0,c.Z)(function*(){var Mt;if(yield tt._canUseIndexedDBPromise){const an=yield tt.read();return fe(tt.app,{lastSentHeartbeatDate:null!==(Mt=ve.lastSentHeartbeatDate)&&void 0!==Mt?Mt:an.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var tt=this;return(0,c.Z)(function*(){var Mt;if(yield tt._canUseIndexedDBPromise){const an=yield tt.read();return fe(tt.app,{lastSentHeartbeatDate:null!==(Mt=ve.lastSentHeartbeatDate)&&void 0!==Mt?Mt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...ve.heartbeats]})}})()}}function Ui(Fe){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function oo(Fe){Xn(new B.wA("platform-logger",ve=>new bn(ve),"PRIVATE")),Xn(new B.wA("heartbeat",ve=>new wn(ve),"PRIVATE")),on(ki,"0.9.11",Fe),on(ki,"0.9.11","esm2017"),on("fire-js","")}("")},4859:(ce,K,S)=>{S.d(K,{H0:()=>se,wA:()=>R});var c=S(9671),B=S(2090);class R{constructor(G,z,q){this.name=G,this.instanceFactory=z,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ne="[DEFAULT]";class Y{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const q=new B.BH;if(this.instancesDeferred.set(z,q),this.isInitialized(z)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:z});be&&q.resolve(be)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const q=this.normalizeInstanceIdentifier(G?.identifier),be=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ae){if(be)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function oe(ee){return"EAGER"===ee.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[z,q]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(z);try{const Ae=this.getOrInitializeService({instanceIdentifier:be});q.resolve(Ae)}catch{}}}}clearInstance(G=ne){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...z.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ne){return this.instances.has(G)}getOptions(G=ne){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:q,options:z});for(const[Ae,Ke]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ae)&&Ke.resolve(be);return be}onInit(G,z){var q;const be=this.normalizeInstanceIdentifier(z),Ae=null!==(q=this.onInitCallbacks.get(be))&&void 0!==q?q:new Set;Ae.add(G),this.onInitCallbacks.set(be,Ae);const Ke=this.instances.get(be);return Ke&&G(Ke,be),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,z){const q=this.onInitCallbacks.get(z);if(q)for(const be of q)try{be(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let q=this.instances.get(G);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=G,ee===ne?void 0:ee),options:z}),this.instances.set(G,q),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,q)}catch{}var ee;return q||null}normalizeInstanceIdentifier(G=ne){return this.component?this.component.multipleInstances?G:ne:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new Y(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ce,K,S)=>{S.d(K,{Am:()=>ee,Ub:()=>se,Yd:()=>oe,in:()=>B});const c=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,Y={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},Q=(G,z,...q)=>{if(z<G.logLevel)return;const be=(new Date).toISOString(),Ae=Y[z];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ae](`[${be}]  ${G.name}:`,...q)};class oe{constructor(z){this.name=z,this._logLevel=ne,this._logHandler=Q,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?R[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function se(G){c.forEach(z=>{z.setLogLevel(G)})}function ee(G,z){for(const q of c){let be=null;z&&z.level&&(be=R[z.level]),q.userLogHandler=null===G?null:(Ae,Ke,...lt)=>{const we=lt.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");Ke>=(be??Ae.logLevel)&&G({level:B[Ke].toLowerCase(),message:we,args:lt,type:Ae.name})}}}},5366:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2223),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8784),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(5855);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(K,S){if(this.action=K,this.timestamp=S,this.type=PERFORM_ACTION,typeof K.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(K){this.timestamp=K,this.type=RESET}}class Rollback{constructor(K){this.timestamp=K,this.type=ROLLBACK}}class Commit{constructor(K){this.timestamp=K,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(K){this.id=K,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(K,S,c=!0){this.start=K,this.end=S,this.active=c,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(K){this.index=K,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(K){this.actionId=K,this.type=JUMP_TO_ACTION}}class ImportState{constructor(K){this.nextLiftedState=K,this.type=IMPORT_STATE}}class LockChanges{constructor(K){this.status=K,this.type=LOCK_CHANGES}}class PauseRecording{constructor(K){this.status=K,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ce){const K={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof ce?ce():ce,B=S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||K.features;!0===B.import&&(B.import="custom");const R=Object.assign({},K,{features:B},S);if(R.maxAge&&R.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${R.maxAge}`);return R}function difference(ce,K){return ce.filter(S=>K.indexOf(S)<0)}function unliftState(ce){const{computedStates:K,currentStateIndex:S}=ce;if(S>=K.length){const{state:B}=K[K.length-1];return B}const{state:c}=K[S];return c}function unliftAction(ce){return ce.actionsById[ce.nextActionId-1]}function liftAction(ce){return new PerformAction(ce,+Date.now())}function sanitizeActions(ce,K){return Object.keys(K).reduce((S,c)=>{const B=Number(c);return S[B]=sanitizeAction(ce,K[B],B),S},{})}function sanitizeAction(ce,K,S){return{...K,action:ce(K.action,S)}}function sanitizeStates(ce,K){return K.map((S,c)=>({state:sanitizeState(ce,S.state,c),error:S.error}))}function sanitizeState(ce,K,S){return ce(K,S)}function shouldFilterActions(ce){return ce.predicate||ce.actionsSafelist||ce.actionsBlocklist}function filterLiftedState(ce,K,S,c){const B=[],R={},ne=[];return ce.stagedActionIds.forEach((Y,Q)=>{const oe=ce.actionsById[Y];oe&&(Q&&isActionFiltered(ce.computedStates[Q],oe,K,S,c)||(R[Y]=oe,B.push(Y),ne.push(ce.computedStates[Q])))}),{...ce,stagedActionIds:B,actionsById:R,computedStates:ne}}function isActionFiltered(ce,K,S,c,B){const R=S&&!S(ce,K.action),ne=c&&!K.action.type.match(c.map(Q=>escapeRegExp(Q)).join("|")),Y=B&&K.action.type.match(B.map(Q=>escapeRegExp(Q)).join("|"));return R||ne||Y}function escapeRegExp(ce){return ce.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class ce extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ce.\u0275fac=function(){let K;return function(c){return(K||(K=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ce)))(c||ce)}}(),ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ce,K,S){this.config=K,this.dispatcher=S,this.devtoolsExtension=ce,this.createActionStreams()}notify(ce,K){if(this.devtoolsExtension)if(ce.type===PERFORM_ACTION){if(K.isLocked||K.isPaused)return;const S=unliftState(K);if(shouldFilterActions(this.config)&&isActionFiltered(S,ce,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const c=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,K.currentStateIndex):S,B=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ce,K.nextActionId):ce;this.sendToReduxDevtools(()=>this.extensionConnection.send(B,c))}else{const S={...K,stagedActionIds:K.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,K.actionsById):K.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,K.computedStates):K.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ce=>{const K=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=K,K.init(),K.subscribe(S=>ce.next(S)),K.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ce=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),K=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.START)),S=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.STOP)),c=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Y=>Y.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Q=>Q.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Y),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Y))),R=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Y=>Y.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Y=>this.unwrapAction(Y.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),ne=c.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=K.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>R)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ne))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ce){const K={name:ce.name,features:ce.features,serialize:ce.serialize,autoPause:ce.autoPause??!1,trace:ce.trace??!1,traceLimit:ce.traceLimit??75};return!1!==ce.maxAge&&(K.maxAge=ce.maxAge),K}sendToReduxDevtools(ce){try{ce()}catch(K){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",K)}}}return DevtoolsExtension.\u0275fac=function ce(K){return new(K||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ce,K,S,c,B){if(c)return{state:S,error:"Interrupted by an error up the chain"};let ne,R=S;try{R=ce(S,K)}catch(Y){ne=Y.toString(),B.handleError(Y)}return{state:R,error:ne}}function recomputeStates(ce,K,S,c,B,R,ne,Y,Q){if(K>=ce.length&&ce.length===R.length)return ce;const oe=ce.slice(0,K),se=R.length-(Q?1:0);for(let ee=K;ee<se;ee++){const G=R[ee],z=B[G].action,q=oe[ee-1],be=q?q.state:c,Ae=q?q.error:void 0,lt=ne.indexOf(G)>-1?q:computeNextEntry(S,z,be,Ae,Y);oe.push(lt)}return Q&&oe.push(ce[ce.length-1]),oe}function liftInitialState(ce,K){return{monitorState:K(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ce,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ce,K,S,c,B={}){return R=>(ne,Y)=>{let{monitorState:Q,actionsById:oe,nextActionId:se,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ke}=ne||K;function lt(Le){let Be=Le,Re=ee.slice(1,Be+1);for(let Me=0;Me<Re.length;Me++){if(be[Me+1].error){Be=Me,Re=ee.slice(1,Be+1);break}delete oe[Re[Me]]}G=G.filter(Me=>-1===Re.indexOf(Me)),ee=[0,...ee.slice(Be+1)],z=be[Be].state,be=be.slice(Be),q=q>Be?q-Be:0}function we(){oe={0:liftAction(INIT_ACTION)},se=1,ee=[0],G=[],z=be[q].state,q=0,be=[]}ne||(oe=Object.create(oe));let ke=0;switch(Y.type){case LOCK_CHANGES:Ae=Y.status,ke=1/0;break;case PAUSE_RECORDING:Ke=Y.status,Ke?(ee=[...ee,se],oe[se]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),se++,ke=ee.length-1,be=be.concat(be[be.length-1]),q===ee.length-2&&q++,ke=1/0):we();break;case RESET:oe={0:liftAction(INIT_ACTION)},se=1,ee=[0],G=[],z=ce,q=0,be=[];break;case COMMIT:we();break;case ROLLBACK:oe={0:liftAction(INIT_ACTION)},se=1,ee=[0],G=[],q=0,be=[];break;case TOGGLE_ACTION:{const{id:Le}=Y;G=-1===G.indexOf(Le)?[Le,...G]:G.filter(Re=>Re!==Le),ke=ee.indexOf(Le);break}case SET_ACTIONS_ACTIVE:{const{start:Le,end:Be,active:Re}=Y,Me=[];for(let je=Le;je<Be;je++)Me.push(je);G=Re?difference(G,Me):[...G,...Me],ke=ee.indexOf(Le);break}case JUMP_TO_STATE:q=Y.index,ke=1/0;break;case JUMP_TO_ACTION:{const Le=ee.indexOf(Y.actionId);-1!==Le&&(q=Le),ke=1/0;break}case SWEEP:ee=difference(ee,G),G=[],q=Math.min(q,ee.length-1);break;case PERFORM_ACTION:{if(Ae)return ne||K;if(Ke||ne&&isActionFiltered(ne.computedStates[q],Y,B.predicate,B.actionsSafelist,B.actionsBlocklist)){const Be=be[be.length-1];be=[...be.slice(0,-1),computeNextEntry(R,Y.action,Be.state,Be.error,S)],ke=1/0;break}B.maxAge&&ee.length===B.maxAge&&lt(1),q===ee.length-1&&q++;const Le=se++;oe[Le]=Y,ee=[...ee,Le],ke=ee.length-1;break}case IMPORT_STATE:({monitorState:Q,actionsById:oe,nextActionId:se,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ke}=Y.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:ke=0,B.maxAge&&ee.length>B.maxAge&&(be=recomputeStates(be,ke,R,z,oe,ee,G,S,Ke),lt(ee.length-B.maxAge),ke=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(be.filter(Be=>Be.error).length>0)ke=0,B.maxAge&&ee.length>B.maxAge&&(be=recomputeStates(be,ke,R,z,oe,ee,G,S,Ke),lt(ee.length-B.maxAge),ke=1/0);else{if(!Ke&&!Ae){q===ee.length-1&&q++;const Be=se++;oe[Be]=new PerformAction(Y,+Date.now()),ee=[...ee,Be],ke=ee.length-1,be=recomputeStates(be,ke,R,z,oe,ee,G,S,Ke)}be=be.map(Be=>({...Be,state:R(Be.state,RECOMPUTE_ACTION)})),q=ee.length-1,B.maxAge&&ee.length>B.maxAge&&lt(ee.length-B.maxAge),ke=1/0}break;default:ke=1/0}return be=recomputeStates(be,ke,R,z,oe,ee,G,S,Ke),Q=c(Q,Y),{monitorState:Q,actionsById:oe,nextActionId:se,stagedActionIds:ee,skippedActionIds:G,committedState:z,currentStateIndex:q,computedStates:be,isLocked:Ae,isPaused:Ke}}}let StoreDevtools=(()=>{class ce{constructor(S,c,B,R,ne,Y,Q,oe){const se=liftInitialState(Q,oe.monitor),ee=liftReducerWith(Q,se,Y,oe.monitor,oe),G=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(c.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),R.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,R.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),z=B.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee)),q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),be=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:we},[ke,Le])=>{let Be=Le(we,ke);return ke.type!==PERFORM_ACTION&&shouldFilterActions(oe)&&(Be=filterLiftedState(Be,oe.predicate,oe.actionsSafelist,oe.actionsBlocklist)),R.notify(ke,Be),{state:Be,action:ke}},{state:se,action:null})).subscribe(({state:we,action:ke})=>{q.next(we),ke.type===PERFORM_ACTION&&ne.next(ke.action)}),Ae=R.start$.subscribe(()=>{this.refresh()}),Ke=q.asObservable(),lt=Ke.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(lt,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(lt,{manualCleanup:!0,requireSync:!0})}),this.extensionStartSubscription=Ae,this.stateSubscription=be,this.dispatcher=S,this.liftedState=Ke,this.state=lt}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return ce.\u0275fac=function(S){return new(S||ce)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ce.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ce,K){return!!ce||K.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ce="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[ce]<"u"?window[ce]:null}function provideStoreDevtools(ce={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:ce},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(ce){return ce.state}let StoreDevtoolsModule=(()=>{class ce{static instrument(S={}){return{ngModule:ce,providers:[provideStoreDevtools(S)]}}}return ce.\u0275fac=function(S){return new(S||ce)},ce.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ce}),ce.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ce})()},8784:(ce,K,S)=>{S.d(K,{UO:()=>de,qg:()=>Ue,Y6:()=>Wn,mK:()=>er,n$:()=>Hn,Y$:()=>mt,FR:()=>Ci,yh:()=>Bi,CK:()=>xi,Aw:()=>ji,cr:()=>gn,wb:()=>Qn,PH:()=>Ke,ZF:()=>wn,Lq:()=>zn,P1:()=>gt,on:()=>Ea,Ky:()=>lt,Ys:()=>Ar});var c=S(2223),B=S(1135),R=S(9751),ne=S(7579),Y=S(233),Q=S(5363),oe=S(1365),se=S(5026),ee=S(4004),z=S(1884),q=S(5855);const be={};function Ke($,ye){if(be[$]=(be[$]||0)+1,"function"==typeof ye)return ke($,(...Oe)=>({...ye(...Oe),type:$}));switch(ye?ye._as:"empty"){case"empty":return ke($,()=>({type:$}));case"props":return ke($,Oe=>({...Oe,type:$}));default:throw new Error("Unexpected config.")}}function lt(){return{_as:"props",_p:void 0}}function ke($,ye){return Object.defineProperty(ye,"type",{value:$,writable:!1})}const Ue="@ngrx/store/init";let de=(()=>{class $ extends B.X{constructor(){super({type:Ue})}next(pe){if("function"==typeof pe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof pe>"u")throw new TypeError("Actions must be objects");if(typeof pe.type>"u")throw new TypeError("Actions must have a type property");super.next(pe)}complete(){}ngOnDestroy(){super.complete()}}return $.\u0275fac=function(pe){return new(pe||$)},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})();const pt=[de],ut=new c.OlP("@ngrx/store Internal Root Guard"),bn=new c.OlP("@ngrx/store Internal Initial State"),Wn=new c.OlP("@ngrx/store Initial State"),ki=new c.OlP("@ngrx/store Reducer Factory"),io=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),Te=new c.OlP("@ngrx/store Initial Reducers"),Ve=new c.OlP("@ngrx/store Internal Initial Reducers"),$e=new c.OlP("@ngrx/store Store Features"),Ze=new c.OlP("@ngrx/store Internal Store Reducers"),ct=new c.OlP("@ngrx/store Internal Feature Reducers"),et=new c.OlP("@ngrx/store Internal Feature Configs"),We=new c.OlP("@ngrx/store Internal Store Features"),yt=new c.OlP("@ngrx/store Internal Feature Reducers Token"),Et=new c.OlP("@ngrx/store Feature Reducers"),Ne=new c.OlP("@ngrx/store User Provided Meta Reducers"),nt=new c.OlP("@ngrx/store Meta Reducers"),Ot=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),zt=new c.OlP("@ngrx/store User Runtime Checks Config"),mn=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),Cn=new c.OlP("@ngrx/store Internal Runtime Checks"),qn=new c.OlP("@ngrx/store Check if Action types are unique");function Fn($,ye={}){const pe=Object.keys($),Oe={};for(let rt=0;rt<pe.length;rt++){const qe=pe[rt];"function"==typeof $[qe]&&(Oe[qe]=$[qe])}const ht=Object.keys(Oe);return function(qe,xt){qe=void 0===qe?ye:qe;let en=!1;const ni={};for(let Dn=0;Dn<ht.length;Dn++){const Rn=ht[Dn],Ln=qe[Rn],ta=(0,Oe[Rn])(Ln,xt);ni[Rn]=ta,en=en||ta!==Ln}return en?ni:qe}}function Yo(...$){return function(ye){if(0===$.length)return ye;const pe=$[$.length-1];return $.slice(0,-1).reduceRight((ht,rt)=>rt(ht),pe(ye))}}function ro($,ye){return Array.isArray(ye)&&ye.length>0&&($=Yo.apply(null,[...ye,$])),(pe,Oe)=>{const ht=$(pe);return(rt,qe)=>ht(rt=void 0===rt?Oe:rt,qe)}}new c.OlP("@ngrx/store Root Store Provider"),new c.OlP("@ngrx/store Feature State Provider");class Hn extends R.y{}class er extends de{}const Qn="@ngrx/store/update-reducers";let hn=(()=>{class $ extends B.X{get currentReducers(){return this.reducers}constructor(pe,Oe,ht,rt){super(rt(ht,Oe)),this.dispatcher=pe,this.initialState=Oe,this.reducers=ht,this.reducerFactory=rt}addFeature(pe){this.addFeatures([pe])}addFeatures(pe){const Oe=pe.reduce((ht,{reducers:rt,reducerFactory:qe,metaReducers:xt,initialState:en,key:ni})=>{const Dn="function"==typeof rt?function kt($){const ye=Array.isArray($)&&$.length>0?Yo(...$):pe=>pe;return(pe,Oe)=>(pe=ye(pe),(ht,rt)=>pe(ht=void 0===ht?Oe:ht,rt))}(xt)(rt,en):ro(qe,xt)(rt,en);return ht[ni]=Dn,ht},{});this.addReducers(Oe)}removeFeature(pe){this.removeFeatures([pe])}removeFeatures(pe){this.removeReducers(pe.map(Oe=>Oe.key))}addReducer(pe,Oe){this.addReducers({[pe]:Oe})}addReducers(pe){this.reducers={...this.reducers,...pe},this.updateReducers(Object.keys(pe))}removeReducer(pe){this.removeReducers([pe])}removeReducers(pe){pe.forEach(Oe=>{this.reducers=function Ir($,ye){return Object.keys($).filter(pe=>pe!==ye).reduce((pe,Oe)=>Object.assign(pe,{[Oe]:$[Oe]}),{})}(this.reducers,Oe)}),this.updateReducers(pe)}updateReducers(pe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Qn,features:pe})}ngOnDestroy(){this.complete()}}return $.\u0275fac=function(pe){return new(pe||$)(c.LFG(er),c.LFG(Wn),c.LFG(Te),c.LFG(ki))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})();const Pt=[hn,{provide:Hn,useExisting:hn},{provide:er,useExisting:de}];let mt=(()=>{class $ extends ne.x{ngOnDestroy(){this.complete()}}return $.\u0275fac=function(){let ye;return function(Oe){return(ye||(ye=c.n5z($)))(Oe||$)}}(),$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})();const li=[mt];class Ci extends R.y{}let pr=(()=>{class $ extends B.X{constructor(pe,Oe,ht,rt){super(rt);const ni=pe.pipe((0,Q.Q)(Y.N)).pipe((0,oe.M)(Oe)).pipe((0,se.R)(Xn,{state:rt}));this.stateSubscription=ni.subscribe(({state:Dn,action:Rn})=>{this.next(Dn),ht.next(Rn)}),this.state=(0,q.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return $.INIT=Ue,$.\u0275fac=function(pe){return new(pe||$)(c.LFG(de),c.LFG(Hn),c.LFG(mt),c.LFG(Wn))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})();function Xn($={state:void 0},[ye,pe]){const{state:Oe}=$;return{state:pe(Oe,ye),action:ye}}const Jn=[pr,{provide:Ci,useExisting:pr}];let Bi=(()=>{class $ extends R.y{constructor(pe,Oe,ht){super(),this.actionsObserver=Oe,this.reducerManager=ht,this.source=pe,this.state=pe.state}select(pe,...Oe){return Ar.call(null,pe,...Oe)(this)}selectSignal(pe,Oe){return(0,c.Flj)(()=>pe(this.state()),{equal:Oe?.equal||((ht,rt)=>ht===rt)})}lift(pe){const Oe=new $(this,this.actionsObserver,this.reducerManager);return Oe.operator=pe,Oe}dispatch(pe){this.actionsObserver.next(pe)}next(pe){this.actionsObserver.next(pe)}error(pe){this.actionsObserver.error(pe)}complete(){this.actionsObserver.complete()}addReducer(pe,Oe){this.reducerManager.addReducer(pe,Oe)}removeReducer(pe){this.reducerManager.removeReducer(pe)}}return $.\u0275fac=function(pe){return new(pe||$)(c.LFG(Ci),c.LFG(de),c.LFG(hn))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac}),$})();const An=[Bi];function Ar($,ye,...pe){return function(ht){let rt;if("string"==typeof $){const qe=[ye,...pe].filter(Boolean);rt=ht.pipe(function G(...$){const ye=$.length;if(0===ye)throw new Error("list of properties cannot be empty.");return(0,ee.U)(pe=>{let Oe=pe;for(let ht=0;ht<ye;ht++){const rt=Oe?.[$[ht]];if(!(typeof rt<"u"))return;Oe=rt}return Oe})}($,...qe))}else{if("function"!=typeof $)throw new TypeError(`Unexpected type '${typeof $}' in select operator, expected 'string' or 'function'`);rt=ht.pipe((0,ee.U)(qe=>$(qe,ye)))}return rt.pipe((0,z.x)())}}const Xt="https://ngrx.io/guide/store/configuration/runtime-checks";function mi($){return void 0===$}function tr($){return null===$}function To($){return Array.isArray($)}function ci($){return"object"==typeof $&&null!==$}function Sr($){return"function"==typeof $}let te=!1;function V($,ye){return $===ye}function De($,ye=V,pe=V){let rt,Oe=null,ht=null;return{memoized:function ni(){if(void 0!==rt)return rt.result;if(!Oe)return ht=$.apply(null,arguments),Oe=arguments,ht;if(!function N($,ye,pe){for(let Oe=0;Oe<$.length;Oe++)if(!pe($[Oe],ye[Oe]))return!0;return!1}(arguments,Oe,ye))return ht;const Dn=$.apply(null,arguments);return Oe=arguments,pe(ht,Dn)?ht:(ht=Dn,Dn)},reset:function qe(){Oe=null,ht=null},setResult:function xt(Dn=void 0){rt={result:Dn}},clearResult:function en(){rt=void 0}}}function gt(...$){return function $t($,ye={stateFn:Gt}){return function(...pe){let Oe=pe;if(Array.isArray(Oe[0])){const[Dn,...Rn]=Oe;Oe=[...Dn,...Rn]}else 1===Oe.length&&function Vt($){return!!$&&"object"==typeof $&&Object.values($).every(ye=>"function"==typeof ye)}(Oe[0])&&(Oe=function Sn($){const ye=Object.values($),pe=Object.keys($);return[...ye,(...ht)=>pe.reduce((rt,qe,xt)=>({...rt,[qe]:ht[xt]}),{})]}(Oe[0]));const ht=Oe.slice(0,Oe.length-1),rt=Oe[Oe.length-1],qe=ht.filter(Dn=>Dn.release&&"function"==typeof Dn.release),xt=$(function(...Dn){return rt.apply(null,Dn)}),en=De(function(Dn,Rn){return ye.stateFn.apply(null,[Dn,ht,Rn,xt])});return Object.assign(en.memoized,{release:function ni(){en.reset(),xt.reset(),qe.forEach(Dn=>Dn.release())},projector:xt.memoized,setResult:en.setResult,clearResult:en.clearResult})}}(De)(...$)}function Gt($,ye,pe,Oe){if(void 0===pe){const rt=ye.map(qe=>qe($));return Oe.memoized.apply(null,rt)}const ht=ye.map(rt=>rt($,pe));return Oe.memoized.apply(null,[...ht,pe])}function wn($){return gt(ye=>{const pe=ye[$];return!function L(){return te}()&&(0,c.X6Q)()&&!($ in ye)&&console.warn(`@ngrx/store: The feature name "${$}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${$}', ...) or StoreModule.forFeature('${$}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),pe},ye=>ye)}function Fe($){return $ instanceof c.OlP?(0,c.f3M)($):$}function ve($,ye){return ye.map((pe,Oe)=>{if($[Oe]instanceof c.OlP){const ht=(0,c.f3M)($[Oe]);return{key:pe.key,reducerFactory:ht.reducerFactory?ht.reducerFactory:Fn,metaReducers:ht.metaReducers?ht.metaReducers:[],initialState:ht.initialState}}return pe})}function tt($){return $.map(ye=>ye instanceof c.OlP?(0,c.f3M)(ye):ye)}function Mt($){return"function"==typeof $?$():$}function Wt($,ye){return $.concat(ye)}function an(){if((0,c.f3M)(Bi,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ri($){Object.freeze($);const ye=Sr($);return Object.getOwnPropertyNames($).forEach(pe=>{if(!pe.startsWith("\u0275")&&function Mr($,ye){return Object.prototype.hasOwnProperty.call($,ye)}($,pe)&&(!ye||"caller"!==pe&&"callee"!==pe&&"arguments"!==pe)){const Oe=$[pe];(ci(Oe)||Sr(Oe))&&!Object.isFrozen(Oe)&&Ri(Oe)}}),$}function Ei($,ye=[]){return(mi($)||tr($))&&0===ye.length?{path:["root"],value:$}:Object.keys($).reduce((Oe,ht)=>{if(Oe)return Oe;const rt=$[ht];return function Vi($){return Sr($)&&$.hasOwnProperty("\u0275cmp")}(rt)?Oe:!(mi(rt)||tr(rt)||function pn($){return"number"==typeof $}(rt)||function vi($){return"boolean"==typeof $}(rt)||function ei($){return"string"==typeof $}(rt)||To(rt))&&(function ti($){if(!function on($){return ci($)&&!To($)}($))return!1;const ye=Object.getPrototypeOf($);return ye===Object.prototype||null===ye}(rt)?Ei(rt,[...ye,ht]):{path:[...ye,ht],value:rt})},!1)}function Qs($,ye){if(!1===$)return;const pe=$.path.join("."),Oe=new Error(`Detected unserializable ${ye} at "${pe}". ${Xt}#strict${ye}serializability`);throw Oe.value=$.value,Oe.unserializablePath=pe,Oe}function Hc($){return(0,c.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...$}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ko({strictActionSerializability:$,strictStateSerializability:ye}){return pe=>$||ye?function yi($,ye){return function(pe,Oe){ye.action(Oe)&&Qs(Ei(Oe),"action");const ht=$(pe,Oe);return ye.state()&&Qs(Ei(ht),"state"),ht}}(pe,{action:Oe=>$&&!ms(Oe),state:()=>ye}):pe}function ps({strictActionImmutability:$,strictStateImmutability:ye}){return pe=>$||ye?function En($,ye){return function(pe,Oe){const ht=ye.action(Oe)?Ri(Oe):Oe,rt=$(pe,ht);return ye.state()?Ri(rt):rt}}(pe,{action:Oe=>$&&!ms(Oe),state:()=>ye}):pe}function ms($){return $.type.startsWith("@ngrx")}function zc({strictActionWithinNgZone:$}){return ye=>$?function Xs($,ye){return function(pe,Oe){if(ye.action(Oe)&&!c.R0b.isInAngularZone())throw new Error(`Action '${Oe.type}' running outside NgZone. ${Xt}#strictactionwithinngzone`);return $(pe,Oe)}}(ye,{action:pe=>$&&!ms(pe)}):ye}function As($){return[{provide:mn,useValue:$},{provide:zt,useFactory:Kh,deps:[mn]},{provide:Cn,deps:[zt],useFactory:Hc},{provide:nt,multi:!0,deps:[Cn],useFactory:ps},{provide:nt,multi:!0,deps:[Cn],useFactory:Ko},{provide:nt,multi:!0,deps:[Cn],useFactory:zc}]}function gi(){return[{provide:qn,multi:!0,deps:[Cn],useFactory:br}]}function Kh($){return $}function br($){if(!$.strictActionTypeUniqueness)return;const ye=Object.entries(be).filter(([,pe])=>pe>1).map(([pe])=>pe);if(ye.length)throw new Error(`Action types are registered more than once, ${ye.map(pe=>`"${pe}"`).join(", ")}. ${Xt}#strictactiontypeuniqueness`)}function Bl($={},ye={}){return[{provide:ut,useFactory:an},{provide:bn,useValue:ye.initialState},{provide:Wn,useFactory:Mt,deps:[bn]},{provide:Ve,useValue:$},{provide:Ze,useExisting:$ instanceof c.OlP?$:Ve},{provide:Te,deps:[Ve,[new c.tBr(Ze)]],useFactory:Fe},{provide:Ne,useValue:ye.metaReducers?ye.metaReducers:[]},{provide:Ot,deps:[nt,Ne],useFactory:Wt},{provide:io,useValue:ye.reducerFactory?ye.reducerFactory:Fn},{provide:ki,deps:[io,Ot],useFactory:ro},pt,Pt,li,Jn,An,As(ye.runtimeChecks),gi()]}function Ca($,ye,pe={}){return[{provide:et,multi:!0,useValue:$ instanceof Object?{}:pe},{provide:$e,multi:!0,useValue:{key:$ instanceof Object?$.name:$,reducerFactory:pe instanceof c.OlP||!pe.reducerFactory?Fn:pe.reducerFactory,metaReducers:pe instanceof c.OlP||!pe.metaReducers?[]:pe.metaReducers,initialState:pe instanceof c.OlP||!pe.initialState?void 0:pe.initialState}},{provide:We,deps:[et,$e],useFactory:ve},{provide:ct,multi:!0,useValue:$ instanceof Object?$.reducer:ye},{provide:yt,multi:!0,useExisting:ye instanceof c.OlP?ye:ct},{provide:Et,multi:!0,deps:[ct,[new c.tBr(yt)]],useFactory:tt},gi()]}let gn=(()=>{class ${constructor(pe,Oe,ht,rt,qe,xt){}}return $.\u0275fac=function(pe){return new(pe||$)(c.LFG(de),c.LFG(Hn),c.LFG(mt),c.LFG(Bi),c.LFG(ut,8),c.LFG(qn,8))},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({}),$})(),xi=(()=>{class ${constructor(pe,Oe,ht,rt,qe){this.features=pe,this.featureReducers=Oe,this.reducerManager=ht;const xt=pe.map((en,ni)=>{const Rn=Oe.shift()[ni];return{...en,reducers:Rn,initialState:Mt(en.initialState)}});ht.addFeatures(xt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return $.\u0275fac=function(pe){return new(pe||$)(c.LFG(We),c.LFG(Et),c.LFG(hn),c.LFG(gn),c.LFG(qn,8))},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({}),$})(),ji=(()=>{class ${static forRoot(pe,Oe){return{ngModule:gn,providers:[...Bl(pe,Oe)]}}static forFeature(pe,Oe,ht={}){return{ngModule:xi,providers:[...Ca(pe,Oe,ht)]}}}return $.\u0275fac=function(pe){return new(pe||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({}),$})();function Ea(...$){return{reducer:$.pop(),types:$.map(Oe=>Oe.type)}}function zn($,...ye){const pe=new Map;for(const Oe of ye)for(const ht of Oe.types){const rt=pe.get(ht);pe.set(ht,rt?(xt,en)=>Oe.reducer(rt(xt,en),en):Oe.reducer)}return function(Oe=$,ht){const rt=pe.get(ht.type);return rt?rt(Oe,ht):Oe}}},259:(ce,K,S)=>{S.d(K,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=S(6881);(0,c.registerVersion)("firebase","9.22.1","app")},9260:(ce,K,S)=>{S.d(K,{Z:()=>c.Z});var c=S(3942);c.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(ce,K,S)=>{S.r(K);var c=S(9671),B=S(3942),R=S(1389),ne=S(2090),oe=(S(6881),S(1877),S(4859));function se(){return window}function z(){return z=(0,c.Z)(function*(L,V,N){var fe;const{BuildInfo:De}=se();(0,R.as)(V.sessionId,"AuthEvent did not contain a session ID");const gt=yield function ke(L){return Le.apply(this,arguments)}(V.sessionId),Gt={};return(0,R.at)()?Gt.ibi=De.packageName:(0,R.au)()?Gt.apn=De.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),De.displayName&&(Gt.appDisplayName=De.displayName),Gt.sessionId=gt,(0,R.aw)(L,N,V.type,void 0,null!==(fe=V.eventId)&&void 0!==fe?fe:void 0,Gt)}),z.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(L){const{BuildInfo:V}=se(),N={};(0,R.at)()?N.iosBundleId=V.packageName:(0,R.au)()?N.androidPackageName=V.packageName:(0,R.av)(L,"operation-not-supported-in-this-environment"),yield(0,R.ax)(L,N)})).apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(L,V,N){const{cordova:fe}=se();let De=()=>{};try{yield new Promise((gt,Gt)=>{let $t=null;function wn(){var sn;gt();const Ui=null===(sn=fe.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof Ui&&Ui(),"function"==typeof N?.close&&N.close()}function Vt(){$t||($t=window.setTimeout(()=>{Gt((0,R.az)(L,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===document?.visibilityState&&Vt()}V.addPassiveListener(wn),document.addEventListener("resume",Vt,!1),(0,R.au)()&&document.addEventListener("visibilitychange",Sn,!1),De=()=>{V.removePassiveListener(wn),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",Sn,!1),$t&&window.clearTimeout($t)}})}finally{De()}})).apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(L){const V=function Be(L){if((0,R.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const V=new ArrayBuffer(L.length),N=new Uint8Array(V);for(let fe=0;fe<L.length;fe++)N[fe]=L.charCodeAt(fe);return N}(L),N=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(N)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function Ue(L){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(L){const V=yield bn()._get(Wn(L));return V&&(yield bn()._remove(Wn(L))),V})).apply(this,arguments)}function ut(){const L=[];for(let N=0;N<20;N++){const fe=Math.floor(62*Math.random());L.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(fe))}return L.join("")}function bn(){return(0,R.aC)(R.b)}function Wn(L){return(0,R.aD)("authEvent",L.config.apiKey,L.name)}function Te(L){if(!L?.includes("?"))return{};const[V,...N]=L.split("?");return(0,ne.zd)(N.join("?"))}const Ze=class $e{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(V){var N=this;return(0,c.Z)(function*(){const fe=V._key();let De=N.eventManagers.get(fe);return De||(De=new Me(V),N.eventManagers.set(fe,De),N.attachCallbackListeners(V,De)),De})()}_openPopup(V){(0,R.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,N,fe,De){var gt=this;return(0,c.Z)(function*(){!function we(L){var V,N,fe,De,gt,Gt,$t,wn,Vt,Sn;const sn=se();(0,R.aA)("function"==typeof(null===(V=sn?.universalLinks)||void 0===V?void 0:V.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(N=sn?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(gt=null===(De=null===(fe=sn?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===De?void 0:De.browsertab)||void 0===gt?void 0:gt.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(wn=null===($t=null===(Gt=sn?.cordova)||void 0===Gt?void 0:Gt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===wn?void 0:wn.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(Sn=null===(Vt=sn?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===Sn?void 0:Sn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Gt=yield gt._initialize(V);yield Gt.initialized(),Gt.resetRedirect(),(0,R.aG)(),yield gt._originValidation(V);const $t=function je(L,V,N=null){return{type:V,eventId:N,urlResponse:null,sessionId:ut(),postBody:null,tenantId:L.tenantId,error:(0,R.az)(L,"no-auth-event")}}(V,fe,De);yield function Ge(L,V){return bn()._set(Wn(L),V)}(V,$t);const wn=yield function G(L,V,N){return z.apply(this,arguments)}(V,$t,N),Vt=yield function Ae(L){const{cordova:V}=se();return new Promise(N=>{V.plugins.browsertab.isAvailable(fe=>{let De=null;fe?V.plugins.browsertab.openUrl(L):De=V.InAppBrowser.open(L,(0,R.ay)()?"_blank":"_system","location=yes"),N(De)})})}(wn);return function Ke(L,V,N){return lt.apply(this,arguments)}(V,Gt,Vt)})()}_isIframeWebStorageSupported(V,N){throw new Error("Method not implemented.")}_originValidation(V){const N=V._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function q(L){return be.apply(this,arguments)}(V)),this.originValidationPromises[N]}attachCallbackListeners(V,N){const{universalLinks:fe,handleOpenURL:De,BuildInfo:gt}=se(),Gt=setTimeout((0,c.Z)(function*(){yield Ue(V),N.onEvent(ct())}),500),$t=function(){var Sn=(0,c.Z)(function*(sn){clearTimeout(Gt);const Ui=yield Ue(V);let oo=null;Ui&&sn?.url&&(oo=function pt(L,V){var N,fe;const De=function io(L){const V=Te(L),N=V.link?decodeURIComponent(V.link):void 0,fe=Te(N).link,De=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Te(De).link||De||fe||N||L}(V);if(De.includes("/__/auth/callback")){const gt=Te(De),Gt=gt.firebaseError?function ki(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(gt.firebaseError)):null,$t=null===(fe=null===(N=Gt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===fe?void 0:fe[1],wn=$t?(0,R.az)($t):null;return wn?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:De,postBody:null}}return null}(Ui,sn.url)),N.onEvent(oo||ct())});return function(Ui){return Sn.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,$t);const wn=De,Vt=`${gt.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var Sn=(0,c.Z)(function*(sn){if(sn.toLowerCase().startsWith(Vt)&&$t({url:sn}),"function"==typeof wn)try{wn(sn)}catch(Ui){console.error(Ui)}});return function(sn){return Sn.apply(this,arguments)}}()}};function ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function Ne(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function Ot(L=(0,ne.z$)()){return!("file:"!==Ne()&&"ionic:"!==Ne()&&"capacitor:"!==Ne()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Li(){try{const L=self.localStorage,V=R.aL();if(L)return L.setItem(V,"1"),L.removeItem(V),!function qn(L=(0,ne.z$)()){return function mn(){return(0,ne.w1)()&&11===document?.documentMode}()||function Cn(L=(0,ne.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ne.hl)()}catch{return Oi()&&(0,ne.hl)()}return!1}function Oi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function nt(){return"http:"===Ne()||"https:"===Ne()}()||(0,ne.ru)()||Ot())&&!function zt(){return(0,ne.b$)()||(0,ne.UG)()}()&&Li()&&!Oi()}function Ir(){return Ot()&&typeof document<"u"}function ro(){return(ro=(0,c.Z)(function*(){return!!Ir()&&new Promise(L=>{const V=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),L(!0)})})})).apply(this,arguments)}const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},er=R.aA,Qn="persistence";function Pt(L){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(L){yield L._initializationPromise;const V=Ci(),N=R.aD(Qn,L.config.apiKey,L.name);V&&V.setItem(N,L._getPersistence())})).apply(this,arguments)}function Ci(){var L;try{return(null===(L=function kt(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const pr=R.aA;class Xn{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(Ze),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(V){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,N,fe,De){var gt=this;return(0,c.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(V,N,fe,De)})()}_openRedirect(V,N,fe,De){var gt=this;return(0,c.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(V,N,fe,De)})()}_isIframeWebStorageSupported(V,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,N)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Ir()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const N=yield function Yo(){return ro.apply(this,arguments)}();V.underlyingResolver=N?V.cordovaResolver:V.browserResolver})()}}function Jn(L){return L.unwrap()}function An(L){return Xt(L)}function Xt(L){const{_tokenResponse:V}=L instanceof ne.ZR?L.customData:L;if(!V)return null;if(!(L instanceof ne.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return R.P.credentialFromResult(L);const N=V.providerId;if(!N||N===R.p.PASSWORD)return null;let fe;switch(N){case R.p.GOOGLE:fe=R.V;break;case R.p.FACEBOOK:fe=R.U;break;case R.p.GITHUB:fe=R.W;break;case R.p.TWITTER:fe=R.Z;break;default:const{oauthIdToken:De,oauthAccessToken:gt,oauthTokenSecret:Gt,pendingToken:$t,nonce:wn}=V;return gt||Gt||De||$t?$t?N.startsWith("saml.")?R.aO._create(N,$t):R.L._fromParams({providerId:N,signInMethod:N,pendingToken:$t,idToken:De,accessToken:gt}):new R.X(N).credential({idToken:De,accessToken:gt,rawNonce:wn}):null}return L instanceof ne.ZR?fe.credentialFromError(L):fe.credentialFromResult(L)}function mi(L,V){return V.catch(N=>{throw N instanceof ne.ZR&&function Ar(L,V){var N;const fe=null===(N=V.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new ei(L,R.aq(L,V));else if(fe){const De=Xt(V),gt=V;De&&(gt.credential=De,gt.tenantId=fe.tenantId||void 0,gt.email=fe.email||void 0,gt.phoneNumber=fe.phoneNumber||void 0)}}(L,N),N}).then(N=>{const De=N.user;return{operationType:N.operationType,credential:An(N),additionalUserInfo:R.ao(N),user:vi.getOrCreate(De)}})}function tr(L,V){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(L,V){const N=yield V;return{verificationId:N.verificationId,confirm:fe=>mi(L,N.confirm(fe))}})).apply(this,arguments)}class ei{constructor(V,N){this.resolver=N,this.auth=function Bi(L){return L.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return mi(Jn(this.auth),this.resolver.resolveSignIn(V))}}class vi{constructor(V){this._delegate=V,this.multiFactor=R.ar(V)}static getOrCreate(V){return vi.USER_MAP.has(V)||vi.USER_MAP.set(V,new vi(V)),vi.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var N=this;return(0,c.Z)(function*(){return mi(N.auth,R.a0(N._delegate,V))})()}linkWithPhoneNumber(V,N){var fe=this;return(0,c.Z)(function*(){return tr(fe.auth,R.l(fe._delegate,V,N))})()}linkWithPopup(V){var N=this;return(0,c.Z)(function*(){return mi(N.auth,R.d(N._delegate,V,Xn))})()}linkWithRedirect(V){var N=this;return(0,c.Z)(function*(){return yield Pt(R.aH(N.auth)),R.g(N._delegate,V,Xn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var N=this;return(0,c.Z)(function*(){return mi(N.auth,R.a1(N._delegate,V))})()}reauthenticateWithPhoneNumber(V,N){return tr(this.auth,R.r(this._delegate,V,N))}reauthenticateWithPopup(V){return mi(this.auth,R.e(this._delegate,V,Xn))}reauthenticateWithRedirect(V){var N=this;return(0,c.Z)(function*(){return yield Pt(R.aH(N.auth)),R.h(N._delegate,V,Xn)})()}sendEmailVerification(V){return R.ae(this._delegate,V)}unlink(V){var N=this;return(0,c.Z)(function*(){return yield R.an(N._delegate,V),N})()}updateEmail(V){return R.aj(this._delegate,V)}updatePassword(V){return R.ak(this._delegate,V)}updatePhoneNumber(V){return R.u(this._delegate,V)}updateProfile(V){return R.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,N){return R.af(this._delegate,V,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vi.USER_MAP=new WeakMap;const pn=R.aA;let ci=(()=>{class L{constructor(N,fe){if(this.app=N,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=N.options;pn(De,"invalid-api-key",{appName:N.name}),pn(De,"invalid-api-key",{appName:N.name});const gt=typeof window<"u"?Xn:void 0;this._delegate=fe.initialize({options:{persistence:ti(De,N.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,fe){R.I(this._delegate,N,fe)}applyActionCode(N){return R.a5(this._delegate,N)}checkActionCode(N){return R.a6(this._delegate,N)}confirmPasswordReset(N,fe){return R.a4(this._delegate,N,fe)}createUserWithEmailAndPassword(N,fe){var De=this;return(0,c.Z)(function*(){return mi(De._delegate,R.a8(De._delegate,N,fe))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.ad(this._delegate,N)}isSignInWithEmailLink(N){return R.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,c.Z)(function*(){pn(Fn(),N._delegate,"operation-not-supported-in-this-environment");const fe=yield R.j(N._delegate,Xn);return fe?mi(N._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function et(L,V){(0,R.aH)(L)._logFramework(V)}(this._delegate,N)}onAuthStateChanged(N,fe,De){const{next:gt,error:Gt,complete:$t}=on(N,fe,De);return this._delegate.onAuthStateChanged(gt,Gt,$t)}onIdTokenChanged(N,fe,De){const{next:gt,error:Gt,complete:$t}=on(N,fe,De);return this._delegate.onIdTokenChanged(gt,Gt,$t)}sendSignInLinkToEmail(N,fe){return R.aa(this._delegate,N,fe)}sendPasswordResetEmail(N,fe){return R.a3(this._delegate,N,fe||void 0)}setPersistence(N){var fe=this;return(0,c.Z)(function*(){let De;switch(function hn(L,V){er(Object.values(Hn).includes(V),L,"invalid-persistence-type"),(0,ne.b$)()?er(V!==Hn.SESSION,L,"unsupported-persistence-type"):(0,ne.UG)()?er(V===Hn.NONE,L,"unsupported-persistence-type"):Oi()?er(V===Hn.NONE||V===Hn.LOCAL&&(0,ne.hl)(),L,"unsupported-persistence-type"):er(V===Hn.NONE||Li(),L,"unsupported-persistence-type")}(fe._delegate,N),N){case Hn.SESSION:De=R.a;break;case Hn.LOCAL:De=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Hn.NONE:De=R.N;break;default:return R.av("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return mi(this._delegate,R._(this._delegate))}signInWithCredential(N){return mi(this._delegate,R.$(this._delegate,N))}signInWithCustomToken(N){return mi(this._delegate,R.a2(this._delegate,N))}signInWithEmailAndPassword(N,fe){return mi(this._delegate,R.a9(this._delegate,N,fe))}signInWithEmailLink(N,fe){return mi(this._delegate,R.ac(this._delegate,N,fe))}signInWithPhoneNumber(N,fe){return tr(this._delegate,R.s(this._delegate,N,fe))}signInWithPopup(N){var fe=this;return(0,c.Z)(function*(){return pn(Fn(),fe._delegate,"operation-not-supported-in-this-environment"),mi(fe._delegate,R.c(fe._delegate,N,Xn))})()}signInWithRedirect(N){var fe=this;return(0,c.Z)(function*(){return pn(Fn(),fe._delegate,"operation-not-supported-in-this-environment"),yield Pt(fe._delegate),R.f(fe._delegate,N,Xn)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=Hn,L})();function on(L,V,N){let fe=L;"function"!=typeof L&&({next:fe,error:V,complete:N}=L);const De=fe;return{next:Gt=>De(Gt&&vi.getOrCreate(Gt)),error:V,complete:N}}function ti(L,V){const N=function li(L,V){const N=Ci();if(!N)return[];const fe=R.aD(Qn,L,V);switch(N.getItem(fe)){case Hn.NONE:return[R.N];case Hn.LOCAL:return[R.i,R.a];case Hn.SESSION:return[R.a];default:return[]}}(L,V);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const fe of[R.b,R.a])N.includes(fe)||N.push(fe);return N.includes(R.N)||N.push(R.N),N}class Sr{constructor(){this.providerId="phone",this._delegate=new R.P(Jn(B.Z.auth()))}static credential(V,N){return R.P.credential(V,N)}verifyPhoneNumber(V,N){return this._delegate.verifyPhoneNumber(V,N)}unwrap(){return this._delegate}}Sr.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Sr.PROVIDER_ID=R.P.PROVIDER_ID;const Vi=R.aA;class Mr{constructor(V,N,fe=B.Z.app()){var De;Vi(null===(De=fe.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new R.R(V,N,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(L){L.INTERNAL.registerComponent(new oe.wA("auth-compat",V=>{const N=V.getProvider("app-compat").getImmediate(),fe=V.getProvider("auth");return new ci(N,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:Sr,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:Mr,TwitterAuthProvider:R.Z,Auth:ci,AuthCredential:R.J,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)}},ce=>{ce(ce.s=4)}]);